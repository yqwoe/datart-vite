import{aZ as Fy,a_ as Hy,bl as qy,an as Vy,aO as Gy,aT as Uy,h as c,aE as ni,aD as dt,az as ep,aG as tp,b5 as np,aH as Ky,ag as X,ap as z,aj as ea,ak as ta,al as na,aW as me,a$ as ve,am as ra,M as $e,b1 as Yy,aY as Xy,bZ as Lc,K as Ge,dn as aa,dZ as re,fr as rp,t as ce,d$ as $c,e0 as zc,ah as J,fi as Pn,aP as mr,u as ne,j as f,dY as Gt,fv as ap,eK as ri,fT as Jy,ff as Zy,w as $,el as Da,e as Ce,m as xr,fU as Qy,fV as e0,fW as t0,eW as he,eB as F,fX as n0,ai as op,fY as r0,e_ as Er,f0 as ke,eZ as Ln,fZ as ai,f_ as ip,f$ as a0,g0 as sp,g1 as lp,g2 as o0,g3 as i0,f1 as Ac,g4 as cp,ce as s0,dA as pu,dJ as Ra,eh as Ba,X as Jr,g5 as zt,bq as gu,cj as l0,g6 as c0,L as d0,f9 as u0,fI as f0,g7 as h0,g8 as Wo,q as Or,fh as dp,ca as Nt,fe as Wa,o as p0,dv as Ee,a as g0,C as m0,c as v0,fH as y0,fl as b0,dR as oa,f6 as C0,g9 as x0,f7 as mu,ci as vt,dP as Rn,cc as es,cb as Kn,e$ as er,ga as Nc,eX as up,gb as fp,gc as hp,gd as S0,ge as w0,gf as T0,gg as _0,f3 as k0,gh as E0,gi as O0,eq as Yl,gj as D0,V as Fo,b as R0,F as I0,fb as pp,y as oi,eO as gp,eP as mp,eU as j0,U as Ia,ep as vp,fx as yp,d_ as M0,dE as P0,dp as L0,fm as $0,dB as bp,dC as Cp,x as xp,gk as Bc,gl as z0,gm as A0,gn as N0}from"./entryPointFactory.769a35d1.js";import{j as B0,f as W0,a9 as F0,f6 as H0,h as Sp,f7 as q0,a0 as V0,t as vu,c as G0,f8 as U0,f9 as K0,bt as Y0,fa as X0,by as J0,c4 as wp,dQ as Z0,dR as Q0,c1 as Sr,fb as Tp,dC as eb,fc as tb,fd as nb,fe as rb,cg as ab,ff as ob,dp as Fa,fg as Ho,fh as qo,dg as pr,bz as ha,dl as Fr,dt as Dr,du as ia,ep as ib,cw as In,bp as sb,fi as yu,ek as xn,ds as lb,fj as cb,b1 as gn,dm as xa,b7 as Rr,aX as ut,B as He,I as _p,cQ as hn,cd as bn,dB as Hr,aU as St,ar as Vo,fk as db,cf as ub,dj as fb,dc as ii,cb as Go,fl as kp,cl as wt,fm as pn,ci as hb,ax as Ha,bj as Yn,cv as Ep,fn as nt,al as si,dr as pb,fo as Zn,fp as Wc,fq as gb,e0 as Op,bI as bu,fr as mb,bP as Tt,fs as vb,bv as Be,ft as yb,fu as bb,fv as Dp,fw as Cu,fx as Cb,fy as xb,bS as Sb,bw as En,fz as wb,fA as Rp,fB as Tb,fC as _b,fD as mn,fE as Ip,au as li,bA as Fc,de as kb,fF as Eb,fG as Ob,fH as Db,cj as Rb,fI as Ib,fJ as jb,co as fo,fK as ts,fL as Mb,fM as pa,dD as Xl,cp as _n,fN as ns,fO as xu,fP as Pb,dy as Lr,fQ as $r,fR as Lb,fS as $b,fT as zb,fU as Ab,a_ as Nb,fV as Bb,dH as jp,fW as Wb,fX as Fb,fY as Hb,fZ as qb,f_ as Vb,dJ as Mp,aq as wr,f$ as Gb,g0 as Ub,b4 as ci,g1 as Pp,F as _t,av as ho,S as jn,R as jt,dW as Hc,cP as Ie,g2 as Kb,cK as qr,g3 as Yb,eD as Su,g4 as Xb,b9 as Lp,dT as Jb,g5 as wu,g6 as Zb,g7 as Qb,b8 as $p,bb as di,ba as zp,dF as Vr,eV as Qn,g8 as eC,g9 as tC,ga as nC,gb as rC,gc as aC,gd as oC,dI as iC,ge as Ap,gf as sC,gg as lC,gh as Np,c0 as Jl,gi as cC,gj as dC,gk as uC,gl as fC,gm as hC,dK as pC,gn as gC,cq as mC,cB as Uo,cF as vC,cG as qc,cO as yC,cE as ui,cM as bC,cL as CC,cJ as xC,ag as _o,aj as Bp,bi as SC,cR as Tu,e6 as wC,dx as Wp,dE as TC,c2 as _C,go as kC,gp as EC,gq as po,gr as OC,gs as DC,gt as RC,gu as ga,gv as IC,es as _u,gw as jC,gx as MC,gy as PC,gz as LC}from"./index.1ca238f3.js";import{z as $C,aS as rs,aT as zC,aU as AC,R as NC,aV as BC,aW as WC,aX as FC,aY as HC,ap as qC,aZ as Fp,af as mt,a_ as VC,a$ as ja,b0 as ku,b1 as GC,b2 as UC,b3 as KC,b4 as YC,b5 as XC,b6 as JC,b7 as ZC,b8 as QC,b9 as ex,a4 as Zl,ba as tx,bb as nx,bc as rx,bd as ax,f as Hp,be as ox,aI as Vc,aP as ix,Q as ze,bf as sx,bg as lx,bh as cx,bi as dx,bj as ux,bk as fx,t as qp,h as hx,ah as Ma,an as Zr,am as Gc,B as Uc,F as go,P as Ut,a6 as Vp,j as Eu,aB as px,x as Kc,as as gx,N as Gp,K as Up,aq as mx,u as Kp,k as Yp,l as Xp,bl as Ql,bm as vx,bn as yx,bo as bx,a0 as Cx,ab as xx,bp as Sx,U as wx}from"./index.e6917ec6.js";import{u as qe,t as Tx,gy as _x}from"./index.3e5f4c4f.js";import{a as kx}from"./selectors.caa0f834.js";const Ex=Object.freeze(Object.defineProperty({__proto__:null,get:Fy,set:Hy,supportNodeRef:qy,supportRef:Vy,useComposeRef:Gy,useEvent:B0,useMergedState:W0,warning:Uy},Symbol.toStringTag,{value:"Module"})),Ox=Object.freeze(Object.defineProperty({__proto__:null,Panel:H0,default:F0},Symbol.toStringTag,{value:"Module"})),Jp=e=>{let{children:t}=e;const{getPrefixCls:n}=c.useContext(ni),r=n("breadcrumb");return c.createElement("li",{className:`${r}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};Jp.__ANT_BREADCRUMB_SEPARATOR=!0;const Yc=Jp;var Dx=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Rx(e,t){if(e.title===void 0||e.title===null)return null;const n=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${n})`,"g"),(r,a)=>t[a]||r)}function Zp(e,t,n,r){if(n==null)return null;const{className:a,onClick:o}=t,i=Dx(t,["className","onClick"]),s=Object.assign(Object.assign({},Sp(i,{data:!0,aria:!0})),{onClick:o});return r!==void 0?c.createElement("a",Object.assign({},s,{className:dt(`${e}-link`,a),href:r}),n):c.createElement("span",Object.assign({},s,{className:dt(`${e}-link`,a)}),n)}function Ix(e,t){return(r,a,o,i,s)=>{if(t)return t(r,a,o,i);const l=Rx(r,a);return Zp(e,r,l,s)}}var ec=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Qp=e=>{const{prefixCls:t,separator:n="/",children:r,menu:a,overlay:o,dropdownProps:i,href:s}=e,u=(d=>{if(a||o){const p=Object.assign({},i);if(a){const g=a||{},{items:C}=g,x=ec(g,["items"]);p.menu=Object.assign(Object.assign({},x),{items:C==null?void 0:C.map((S,w)=>{var{key:T,title:m,label:h,path:b}=S,y=ec(S,["key","title","label","path"]);let v=h??m;return b&&(v=c.createElement("a",{href:`${s}${b}`},v)),Object.assign(Object.assign({},y),{key:T??w,label:v})})})}else o&&(p.overlay=o);return c.createElement(q0,Object.assign({placement:"bottom"},p),c.createElement("span",{className:`${t}-overlay-link`},d,c.createElement(V0,null)))}return d})(r);return u!=null?c.createElement(c.Fragment,null,c.createElement("li",null,u),n&&c.createElement(Yc,null,n)):null},eg=e=>{const{prefixCls:t,children:n,href:r}=e,a=ec(e,["prefixCls","children","href"]),{getPrefixCls:o}=c.useContext(ni),i=o("breadcrumb",t);return c.createElement(Qp,Object.assign({},a,{prefixCls:i}),Zp(i,a,n,r))};eg.__ANT_BREADCRUMB_ITEM=!0;const jx=eg,Mx=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},np(e)),{color:e.itemColor,fontSize:e.fontSize,[n]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${e.paddingXXS}px`,borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",marginInline:-e.marginXXS,"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},Ky(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${n} + span,
          > ${n} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",padding:`0 ${e.paddingXXS}px`,marginInline:-e.marginXXS,[`> ${n}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},Px=ep("Breadcrumb",e=>{const t=tp(e,{});return[Mx(t)]},e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}));var Ou=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Lx(e){const{breadcrumbName:t,children:n}=e,r=Ou(e,["breadcrumbName","children"]),a=Object.assign({title:t},r);return n&&(a.menu={items:n.map(o=>{var{breadcrumbName:i}=o,s=Ou(o,["breadcrumbName"]);return Object.assign(Object.assign({},s),{title:i})})}),a}function $x(e,t){return c.useMemo(()=>e||(t?t.map(Lx):null),[e,t])}var zx=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ax=(e,t)=>{if(t===void 0)return t;let n=(t||"").replace(/^\//,"");return Object.keys(e).forEach(r=>{n=n.replace(`:${r}`,e[r])}),n},Xc=e=>{const{prefixCls:t,separator:n="/",style:r,className:a,rootClassName:o,routes:i,items:s,children:l,itemRender:u,params:d={}}=e,p=zx(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:g,direction:C,breadcrumb:x}=c.useContext(ni);let S;const w=g("breadcrumb",t),[T,m]=Px(w),h=$x(s,i),b=Ix(w,u);if(h&&h.length>0){const _=[],k=s||i;S=h.map((E,D)=>{const{path:j,key:I,type:O,menu:P,overlay:A,onClick:M,className:R,separator:Z,dropdownProps:K}=E,Y=Ax(d,j);Y!==void 0&&_.push(Y);const xe=I??D;if(O==="separator")return c.createElement(Yc,{key:xe},Z);const ee={},pe=D===h.length-1;P?ee.menu=P:A&&(ee.overlay=A);let{href:oe}=E;return _.length&&Y!==void 0&&(oe=`#/${_.join("/")}`),c.createElement(Qp,Object.assign({key:xe},ee,Sp(E,{data:!0,aria:!0}),{className:R,dropdownProps:K,href:oe,separator:pe?"":n,onClick:M,prefixCls:w}),b(E,d,k,_,oe))})}else if(l){const _=vu(l).length;S=vu(l).map((k,E)=>{if(!k)return k;const D=E===_-1;return G0(k,{separator:D?"":n,key:E})})}const y=dt(w,x==null?void 0:x.className,{[`${w}-rtl`]:C==="rtl"},a,o,m),v=Object.assign(Object.assign({},x==null?void 0:x.style),r);return T(c.createElement("nav",Object.assign({className:y,style:v},p),c.createElement("ol",null,S)))};Xc.Item=jx;Xc.Separator=Yc;const tg=Xc;var Nx={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function tc(e,t,n){return Math.max(t,Math.min(e,n))}var Gr=function(t){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(t._reactName)||t.preventDefault()},Ko=function(t){for(var n=[],r=ng(t),a=rg(t),o=r;o<a;o++)t.lazyLoadedList.indexOf(o)<0&&n.push(o);return n},ng=function(t){return t.currentSlide-Bx(t)},rg=function(t){return t.currentSlide+Wx(t)},Bx=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},Wx=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},nc=function(t){return t&&t.offsetWidth||0},Jc=function(t){return t&&t.offsetHeight||0},ag=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,a,o,i;return r=t.startX-t.curX,a=t.startY-t.curY,o=Math.atan2(a,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},fi=function(t){var n=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(n=!1),n},as=function(t,n){var r={};return n.forEach(function(a){return r[a]=t[a]}),r},Fx=function(t){var n=X.Children.count(t.children),r=t.listRef,a=Math.ceil(nc(r)),o=t.trackRef&&t.trackRef.node,i=Math.ceil(nc(o)),s;if(t.vertical)s=a;else{var l=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(l*=a/100),s=Math.ceil((a-l)/t.slidesToShow)}var u=r&&Jc(r.querySelector('[data-index="0"]')),d=u*t.slidesToShow,p=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(p=n-1-t.initialSlide);var g=t.lazyLoadedList||[],C=Ko(z(z({},t),{},{currentSlide:p,lazyLoadedList:g}));g=g.concat(C);var x={slideCount:n,slideWidth:s,listWidth:a,trackWidth:i,currentSlide:p,slideHeight:u,listHeight:d,lazyLoadedList:g};return t.autoplaying===null&&t.autoplay&&(x.autoplaying="playing"),x},Hx=function(t){var n=t.waitForAnimate,r=t.animating,a=t.fade,o=t.infinite,i=t.index,s=t.slideCount,l=t.lazyLoad,u=t.currentSlide,d=t.centerMode,p=t.slidesToScroll,g=t.slidesToShow,C=t.useCSS,x=t.lazyLoadedList;if(n&&r)return{};var S=i,w,T,m,h={},b={},y=o?i:tc(i,0,s-1);if(a){if(!o&&(i<0||i>=s))return{};i<0?S=i+s:i>=s&&(S=i-s),l&&x.indexOf(S)<0&&(x=x.concat(S)),h={animating:!0,currentSlide:S,lazyLoadedList:x,targetSlide:S},b={animating:!1,targetSlide:S}}else w=S,S<0?(w=S+s,o?s%p!==0&&(w=s-s%p):w=0):!fi(t)&&S>u?S=w=u:d&&S>=s?(S=o?s:s-1,w=o?0:s-1):S>=s&&(w=S-s,o?s%p!==0&&(w=0):w=s-g),!o&&S+g>=s&&(w=s-g),T=La(z(z({},t),{},{slideIndex:S})),m=La(z(z({},t),{},{slideIndex:w})),o||(T===m&&(S=w),T=m),l&&(x=x.concat(Ko(z(z({},t),{},{currentSlide:S})))),C?(h={animating:!0,currentSlide:w,trackStyle:og(z(z({},t),{},{left:T})),lazyLoadedList:x,targetSlide:y},b={animating:!1,currentSlide:w,trackStyle:Pa(z(z({},t),{},{left:m})),swipeLeft:null,targetSlide:y}):h={currentSlide:w,trackStyle:Pa(z(z({},t),{},{left:m})),lazyLoadedList:x,targetSlide:y};return{state:h,nextState:b}},qx=function(t,n){var r,a,o,i,s,l=t.slidesToScroll,u=t.slidesToShow,d=t.slideCount,p=t.currentSlide,g=t.targetSlide,C=t.lazyLoad,x=t.infinite;if(i=d%l!==0,r=i?0:(d-p)%l,n.message==="previous")o=r===0?l:u-r,s=p-o,C&&!x&&(a=p-o,s=a===-1?d-1:a),x||(s=g-l);else if(n.message==="next")o=r===0?l:r,s=p+o,C&&!x&&(s=(p+l)%d+r),x||(s=g+l);else if(n.message==="dots")s=n.index*n.slidesToScroll;else if(n.message==="children"){if(s=n.index,x){var S=Jx(z(z({},t),{},{targetSlide:s}));s>n.currentSlide&&S==="left"?s=s-d:s<n.currentSlide&&S==="right"&&(s=s+d)}}else n.message==="index"&&(s=Number(n.index));return s},Vx=function(t,n,r){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":t.keyCode===37?r?"next":"previous":t.keyCode===39?r?"previous":"next":""},Gx=function(t,n,r){return t.target.tagName==="IMG"&&Gr(t),!n||!r&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},Ux=function(t,n){var r=n.scrolling,a=n.animating,o=n.vertical,i=n.swipeToSlide,s=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,p=n.edgeDragged,g=n.onEdge,C=n.swiped,x=n.swiping,S=n.slideCount,w=n.slidesToScroll,T=n.infinite,m=n.touchObject,h=n.swipeEvent,b=n.listHeight,y=n.listWidth;if(!r){if(a)return Gr(t);o&&i&&s&&Gr(t);var v,_={},k=La(n);m.curX=t.touches?t.touches[0].pageX:t.clientX,m.curY=t.touches?t.touches[0].pageY:t.clientY,m.swipeLength=Math.round(Math.sqrt(Math.pow(m.curX-m.startX,2)));var E=Math.round(Math.sqrt(Math.pow(m.curY-m.startY,2)));if(!s&&!x&&E>10)return{scrolling:!0};s&&(m.swipeLength=E);var D=(l?-1:1)*(m.curX>m.startX?1:-1);s&&(D=m.curY>m.startY?1:-1);var j=Math.ceil(S/w),I=ag(n.touchObject,s),O=m.swipeLength;return T||(u===0&&(I==="right"||I==="down")||u+1>=j&&(I==="left"||I==="up")||!fi(n)&&(I==="left"||I==="up"))&&(O=m.swipeLength*d,p===!1&&g&&(g(I),_.edgeDragged=!0)),!C&&h&&(h(I),_.swiped=!0),o?v=k+O*(b/y)*D:l?v=k-O*D:v=k+O*D,s&&(v=k+O*D),_=z(z({},_),{},{touchObject:m,swipeLeft:v,trackStyle:Pa(z(z({},n),{},{left:v}))}),Math.abs(m.curX-m.startX)<Math.abs(m.curY-m.startY)*.8||m.swipeLength>10&&(_.swiping=!0,Gr(t)),_}},Kx=function(t,n){var r=n.dragging,a=n.swipe,o=n.touchObject,i=n.listWidth,s=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,p=n.scrolling,g=n.onSwipe,C=n.targetSlide,x=n.currentSlide,S=n.infinite;if(!r)return a&&Gr(t),{};var w=l?u/s:i/s,T=ag(o,l),m={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p||!o.swipeLength)return m;if(o.swipeLength>w){Gr(t),g&&g(T);var h,b,y=S?x:C;switch(T){case"left":case"up":b=y+Ru(n),h=d?Du(n,b):b,m.currentDirection=0;break;case"right":case"down":b=y-Ru(n),h=d?Du(n,b):b,m.currentDirection=1;break;default:h=y}m.triggerSlideHandler=h}else{var v=La(n);m.trackStyle=og(z(z({},n),{},{left:v}))}return m},Yx=function(t){for(var n=t.infinite?t.slideCount*2:t.slideCount,r=t.infinite?t.slidesToShow*-1:0,a=t.infinite?t.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=a+t.slidesToScroll,a+=Math.min(t.slidesToScroll,t.slidesToShow);return o},Du=function(t,n){var r=Yx(t),a=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=a;break}a=r[o]}return n},Ru=function(t){var n=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var r,a=t.listRef,o=a.querySelectorAll&&a.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(t.vertical){if(l.offsetTop+Jc(l)/2>t.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+nc(l)/2>t.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,s=Math.abs(r.dataset.index-i)||1;return s}else return t.slidesToScroll},Zc=function(t,n){return n.reduce(function(r,a){return r&&t.hasOwnProperty(a)},!0)?null:void 0},Pa=function(t){Zc(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,a=t.slideCount+2*t.slidesToShow;t.vertical?r=a*t.slideHeight:n=Xx(t)*t.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var i=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",l=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";o=z(z({},o),{},{WebkitTransform:i,transform:s,msTransform:l})}else t.vertical?o.top=t.left:o.left=t.left;return t.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?o.marginTop=t.left+"px":o.marginLeft=t.left+"px"),o},og=function(t){Zc(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Pa(t);return t.useTransform?(n.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,n.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?n.transition="top "+t.speed+"ms "+t.cssEase:n.transition="left "+t.speed+"ms "+t.cssEase,n},La=function(t){if(t.unslick)return 0;Zc(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=t.slideIndex,r=t.trackRef,a=t.infinite,o=t.centerMode,i=t.slideCount,s=t.slidesToShow,l=t.slidesToScroll,u=t.slideWidth,d=t.listWidth,p=t.variableWidth,g=t.slideHeight,C=t.fade,x=t.vertical,S=0,w,T,m=0;if(C||t.slideCount===1)return 0;var h=0;if(a?(h=-kn(t),i%l!==0&&n+l>i&&(h=-(n>i?s-(n-i):i%l)),o&&(h+=parseInt(s/2))):(i%l!==0&&n+l>i&&(h=s-i%l),o&&(h=parseInt(s/2))),S=h*u,m=h*g,x?w=n*g*-1+m:w=n*u*-1+S,p===!0){var b,y=r&&r.node;if(b=n+kn(t),T=y&&y.childNodes[b],w=T?T.offsetLeft*-1:0,o===!0){b=a?n+kn(t):n,T=y&&y.children[b],w=0;for(var v=0;v<b;v++)w-=y&&y.children[v]&&y.children[v].offsetWidth;w-=parseInt(t.centerPadding),w+=T&&(d-T.offsetWidth)/2}}return w},kn=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},ko=function(t){return t.unslick||!t.infinite?0:t.slideCount},Xx=function(t){return t.slideCount===1?1:kn(t)+t.slideCount+ko(t)},Jx=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+Zx(t)?"left":"right":t.targetSlide<t.currentSlide-Qx(t)?"right":"left"},Zx=function(t){var n=t.slidesToShow,r=t.centerMode,a=t.rtl,o=t.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),a&&n%2===0&&(i+=1),i}return a?0:n-1},Qx=function(t){var n=t.slidesToShow,r=t.centerMode,a=t.rtl,o=t.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!a&&n%2===0&&(i+=1),i}return a?n-1:0},Iu=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},os=function(t){var n,r,a,o,i;t.rtl?i=t.slideCount-1-t.index:i=t.index,a=i<0||i>=t.slideCount,t.centerMode?(o=Math.floor(t.slidesToShow/2),r=(i-t.currentSlide)%t.slideCount===0,i>t.currentSlide-o-1&&i<=t.currentSlide+o&&(n=!0)):n=t.currentSlide<=i&&i<t.currentSlide+t.slidesToShow;var s;t.targetSlide<0?s=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?s=t.targetSlide-t.slideCount:s=t.targetSlide;var l=i===s;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":a,"slick-current":l}},eS=function(t){var n={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(n.width=t.slideWidth),t.fade&&(n.position="relative",t.vertical&&t.slideHeight?n.top=-t.index*parseInt(t.slideHeight):n.left=-t.index*parseInt(t.slideWidth),n.opacity=t.currentSlide===t.index?1:0,t.useCSS&&(n.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),n},is=function(t,n){return t.key+"-"+n},tS=function(t){var n,r=[],a=[],o=[],i=X.Children.count(t.children),s=ng(t),l=rg(t);return X.Children.forEach(t.children,function(u,d){var p,g={message:"children",index:d,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(d)>=0?p=u:p=X.createElement("div",null);var C=eS(z(z({},t),{},{index:d})),x=p.props.className||"",S=os(z(z({},t),{},{index:d}));if(r.push(X.cloneElement(p,{key:"original"+is(p,d),"data-index":d,className:dt(S,x),tabIndex:"-1","aria-hidden":!S["slick-active"],style:z(z({outline:"none"},p.props.style||{}),C),onClick:function(m){p.props&&p.props.onClick&&p.props.onClick(m),t.focusOnSelect&&t.focusOnSelect(g)}})),t.infinite&&t.fade===!1){var w=i-d;w<=kn(t)&&i!==t.slidesToShow&&(n=-w,n>=s&&(p=u),S=os(z(z({},t),{},{index:n})),a.push(X.cloneElement(p,{key:"precloned"+is(p,n),"data-index":n,tabIndex:"-1",className:dt(S,x),"aria-hidden":!S["slick-active"],style:z(z({},p.props.style||{}),C),onClick:function(m){p.props&&p.props.onClick&&p.props.onClick(m),t.focusOnSelect&&t.focusOnSelect(g)}}))),i!==t.slidesToShow&&(n=i+d,n<l&&(p=u),S=os(z(z({},t),{},{index:n})),o.push(X.cloneElement(p,{key:"postcloned"+is(p,n),"data-index":n,tabIndex:"-1",className:dt(S,x),"aria-hidden":!S["slick-active"],style:z(z({},p.props.style||{}),C),onClick:function(m){p.props&&p.props.onClick&&p.props.onClick(m),t.focusOnSelect&&t.focusOnSelect(g)}})))}}),t.rtl?a.concat(r,o).reverse():a.concat(r,o)},nS=function(e){ea(n,e);var t=ta(n);function n(){var r;na(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,[this].concat(o)),me(ve(r),"node",null),me(ve(r),"handleRef",function(s){r.node=s}),r}return ra(n,[{key:"render",value:function(){var a=tS(this.props),o=this.props,i=o.onMouseEnter,s=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:i,onMouseOver:s,onMouseLeave:l};return X.createElement("div",$e({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),a)}}]),n}(X.PureComponent),rS=function(t){var n;return t.infinite?n=Math.ceil(t.slideCount/t.slidesToScroll):n=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,n},aS=function(e){ea(n,e);var t=ta(n);function n(){return na(this,n),t.apply(this,arguments)}return ra(n,[{key:"clickHandler",value:function(a,o){o.preventDefault(),this.props.clickHandler(a)}},{key:"render",value:function(){for(var a=this.props,o=a.onMouseEnter,i=a.onMouseOver,s=a.onMouseLeave,l=a.infinite,u=a.slidesToScroll,d=a.slidesToShow,p=a.slideCount,g=a.currentSlide,C=rS({slideCount:p,slidesToScroll:u,slidesToShow:d,infinite:l}),x={onMouseEnter:o,onMouseOver:i,onMouseLeave:s},S=[],w=0;w<C;w++){var T=(w+1)*u-1,m=l?T:tc(T,0,p-1),h=m-(u-1),b=l?h:tc(h,0,p-1),y=dt({"slick-active":l?g>=b&&g<=m:g===b}),v={message:"dots",index:w,slidesToScroll:u,currentSlide:g},_=this.clickHandler.bind(this,v);S=S.concat(X.createElement("li",{key:w,className:y},X.cloneElement(this.props.customPaging(w),{onClick:_})))}return X.cloneElement(this.props.appendDots(S),z({className:this.props.dotsClass},x))}}]),n}(X.PureComponent),oS=function(e){ea(n,e);var t=ta(n);function n(){return na(this,n),t.apply(this,arguments)}return ra(n,[{key:"clickHandler",value:function(a,o){o&&o.preventDefault(),this.props.clickHandler(a,o)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(a["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:dt(a),style:{display:"block"},onClick:o},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=X.cloneElement(this.props.prevArrow,z(z({},i),s)):l=X.createElement("button",$e({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(X.PureComponent),iS=function(e){ea(n,e);var t=ta(n);function n(){return na(this,n),t.apply(this,arguments)}return ra(n,[{key:"clickHandler",value:function(a,o){o&&o.preventDefault(),this.props.clickHandler(a,o)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});fi(this.props)||(a["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:dt(a),style:{display:"block"},onClick:o},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=X.cloneElement(this.props.nextArrow,z(z({},i),s)):l=X.createElement("button",$e({key:"1",type:"button"},i)," ","Next"),l}}]),n}(X.PureComponent),sS=["animating"],lS=function(e){ea(n,e);var t=ta(n);function n(r){var a;na(this,n),a=t.call(this,r),me(ve(a),"listRefHandler",function(i){return a.list=i}),me(ve(a),"trackRefHandler",function(i){return a.track=i}),me(ve(a),"adaptHeight",function(){if(a.props.adaptiveHeight&&a.list){var i=a.list.querySelector('[data-index="'.concat(a.state.currentSlide,'"]'));a.list.style.height=Jc(i)+"px"}}),me(ve(a),"componentDidMount",function(){if(a.props.onInit&&a.props.onInit(),a.props.lazyLoad){var i=Ko(z(z({},a.props),a.state));i.length>0&&(a.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),a.props.onLazyLoad&&a.props.onLazyLoad(i))}var s=z({listRef:a.list,trackRef:a.track},a.props);a.updateState(s,!0,function(){a.adaptHeight(),a.props.autoplay&&a.autoPlay("playing")}),a.props.lazyLoad==="progressive"&&(a.lazyLoadTimer=setInterval(a.progressiveLazyLoad,1e3)),a.ro=new U0(function(){a.state.animating?(a.onWindowResized(!1),a.callbackTimers.push(setTimeout(function(){return a.onWindowResized()},a.props.speed))):a.onWindowResized()}),a.ro.observe(a.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=a.props.pauseOnFocus?a.onSlideFocus:null,l.onblur=a.props.pauseOnFocus?a.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",a.onWindowResized):window.attachEvent("onresize",a.onWindowResized)}),me(ve(a),"componentWillUnmount",function(){a.animationEndCallback&&clearTimeout(a.animationEndCallback),a.lazyLoadTimer&&clearInterval(a.lazyLoadTimer),a.callbackTimers.length&&(a.callbackTimers.forEach(function(i){return clearTimeout(i)}),a.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",a.onWindowResized):window.detachEvent("onresize",a.onWindowResized),a.autoplayTimer&&clearInterval(a.autoplayTimer),a.ro.disconnect()}),me(ve(a),"componentDidUpdate",function(i){if(a.checkImagesLoad(),a.props.onReInit&&a.props.onReInit(),a.props.lazyLoad){var s=Ko(z(z({},a.props),a.state));s.length>0&&(a.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(s)}}),a.props.onLazyLoad&&a.props.onLazyLoad(s))}a.adaptHeight();var l=z(z({listRef:a.list,trackRef:a.track},a.props),a.state),u=a.didPropsChange(i);u&&a.updateState(l,u,function(){a.state.currentSlide>=X.Children.count(a.props.children)&&a.changeSlide({message:"index",index:X.Children.count(a.props.children)-a.props.slidesToShow,currentSlide:a.state.currentSlide}),(i.autoplay!==a.props.autoplay||i.autoplaySpeed!==a.props.autoplaySpeed)&&(!i.autoplay&&a.props.autoplay?a.autoPlay("playing"):a.props.autoplay?a.autoPlay("update"):a.pause("paused"))})}),me(ve(a),"onWindowResized",function(i){a.debouncedResize&&a.debouncedResize.cancel(),a.debouncedResize=K0(50,function(){return a.resizeWindow(i)}),a.debouncedResize()}),me(ve(a),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(a.track&&a.track.node);if(s){var l=z(z({listRef:a.list,trackRef:a.track},a.props),a.state);a.updateState(l,i,function(){a.props.autoplay?a.autoPlay("update"):a.pause("paused")}),a.setState({animating:!1}),clearTimeout(a.animationEndCallback),delete a.animationEndCallback}}),me(ve(a),"updateState",function(i,s,l){var u=Fx(i);i=z(z(z({},i),u),{},{slideIndex:u.currentSlide});var d=La(i);i=z(z({},i),{},{left:d});var p=Pa(i);(s||X.Children.count(a.props.children)!==X.Children.count(i.children))&&(u.trackStyle=p),a.setState(u,l)}),me(ve(a),"ssrInit",function(){if(a.props.variableWidth){var i=0,s=0,l=[],u=kn(z(z(z({},a.props),a.state),{},{slideCount:a.props.children.length})),d=ko(z(z(z({},a.props),a.state),{},{slideCount:a.props.children.length}));a.props.children.forEach(function(_){l.push(_.props.style.width),i+=_.props.style.width});for(var p=0;p<u;p++)s+=l[l.length-1-p],i+=l[l.length-1-p];for(var g=0;g<d;g++)i+=l[g];for(var C=0;C<a.state.currentSlide;C++)s+=l[C];var x={width:i+"px",left:-s+"px"};if(a.props.centerMode){var S="".concat(l[a.state.currentSlide],"px");x.left="calc(".concat(x.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:x}}var w=X.Children.count(a.props.children),T=z(z(z({},a.props),a.state),{},{slideCount:w}),m=kn(T)+ko(T)+w,h=100/a.props.slidesToShow*m,b=100/m,y=-b*(kn(T)+a.state.currentSlide)*h/100;a.props.centerMode&&(y+=(100-b*h/100)/2);var v={width:h+"%",left:y+"%"};return{slideWidth:b+"%",trackStyle:v}}),me(ve(a),"checkImagesLoad",function(){var i=a.list&&a.list.querySelectorAll&&a.list.querySelectorAll(".slick-slide img")||[],s=i.length,l=0;Array.prototype.forEach.call(i,function(u){var d=function(){return++l&&l>=s&&a.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var p=u.onclick;u.onclick=function(g){p(g),u.parentNode.focus()}}u.onload||(a.props.lazyLoad?u.onload=function(){a.adaptHeight(),a.callbackTimers.push(setTimeout(a.onWindowResized,a.props.speed))}:(u.onload=d,u.onerror=function(){d(),a.props.onLazyLoadError&&a.props.onLazyLoadError()}))})}),me(ve(a),"progressiveLazyLoad",function(){for(var i=[],s=z(z({},a.props),a.state),l=a.state.currentSlide;l<a.state.slideCount+ko(s);l++)if(a.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var u=a.state.currentSlide-1;u>=-kn(s);u--)if(a.state.lazyLoadedList.indexOf(u)<0){i.push(u);break}i.length>0?(a.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),a.props.onLazyLoad&&a.props.onLazyLoad(i)):a.lazyLoadTimer&&(clearInterval(a.lazyLoadTimer),delete a.lazyLoadTimer)}),me(ve(a),"slideHandler",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a.props,u=l.asNavFor,d=l.beforeChange,p=l.onLazyLoad,g=l.speed,C=l.afterChange,x=a.state.currentSlide,S=Hx(z(z(z({index:i},a.props),a.state),{},{trackRef:a.track,useCSS:a.props.useCSS&&!s})),w=S.state,T=S.nextState;if(w){d&&d(x,w.currentSlide);var m=w.lazyLoadedList.filter(function(h){return a.state.lazyLoadedList.indexOf(h)<0});p&&m.length>0&&p(m),!a.props.waitForAnimate&&a.animationEndCallback&&(clearTimeout(a.animationEndCallback),C&&C(x),delete a.animationEndCallback),a.setState(w,function(){u&&a.asNavForIndex!==i&&(a.asNavForIndex=i,u.innerSlider.slideHandler(i)),T&&(a.animationEndCallback=setTimeout(function(){var h=T.animating,b=Yy(T,sS);a.setState(b,function(){a.callbackTimers.push(setTimeout(function(){return a.setState({animating:h})},10)),C&&C(w.currentSlide),delete a.animationEndCallback})},g))})}}),me(ve(a),"changeSlide",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=z(z({},a.props),a.state),u=qx(l,i);if(!(u!==0&&!u)&&(s===!0?a.slideHandler(u,s):a.slideHandler(u),a.props.autoplay&&a.autoPlay("update"),a.props.focusOnSelect)){var d=a.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),me(ve(a),"clickHandler",function(i){a.clickable===!1&&(i.stopPropagation(),i.preventDefault()),a.clickable=!0}),me(ve(a),"keyHandler",function(i){var s=Vx(i,a.props.accessibility,a.props.rtl);s!==""&&a.changeSlide({message:s})}),me(ve(a),"selectHandler",function(i){a.changeSlide(i)}),me(ve(a),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),me(ve(a),"enableBodyScroll",function(){window.ontouchmove=null}),me(ve(a),"swipeStart",function(i){a.props.verticalSwiping&&a.disableBodyScroll();var s=Gx(i,a.props.swipe,a.props.draggable);s!==""&&a.setState(s)}),me(ve(a),"swipeMove",function(i){var s=Ux(i,z(z(z({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));s&&(s.swiping&&(a.clickable=!1),a.setState(s))}),me(ve(a),"swipeEnd",function(i){var s=Kx(i,z(z(z({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));if(s){var l=s.triggerSlideHandler;delete s.triggerSlideHandler,a.setState(s),l!==void 0&&(a.slideHandler(l),a.props.verticalSwiping&&a.enableBodyScroll())}}),me(ve(a),"touchEnd",function(i){a.swipeEnd(i),a.clickable=!0}),me(ve(a),"slickPrev",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"previous"})},0))}),me(ve(a),"slickNext",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"next"})},0))}),me(ve(a),"slickGoTo",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"index",index:i,currentSlide:a.state.currentSlide},s)},0))}),me(ve(a),"play",function(){var i;if(a.props.rtl)i=a.state.currentSlide-a.props.slidesToScroll;else if(fi(z(z({},a.props),a.state)))i=a.state.currentSlide+a.props.slidesToScroll;else return!1;a.slideHandler(i)}),me(ve(a),"autoPlay",function(i){a.autoplayTimer&&clearInterval(a.autoplayTimer);var s=a.state.autoplaying;if(i==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(i==="leave"){if(s==="paused"||s==="focused")return}else if(i==="blur"&&(s==="paused"||s==="hovered"))return;a.autoplayTimer=setInterval(a.play,a.props.autoplaySpeed+50),a.setState({autoplaying:"playing"})}),me(ve(a),"pause",function(i){a.autoplayTimer&&(clearInterval(a.autoplayTimer),a.autoplayTimer=null);var s=a.state.autoplaying;i==="paused"?a.setState({autoplaying:"paused"}):i==="focused"?(s==="hovered"||s==="playing")&&a.setState({autoplaying:"focused"}):s==="playing"&&a.setState({autoplaying:"hovered"})}),me(ve(a),"onDotsOver",function(){return a.props.autoplay&&a.pause("hovered")}),me(ve(a),"onDotsLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),me(ve(a),"onTrackOver",function(){return a.props.autoplay&&a.pause("hovered")}),me(ve(a),"onTrackLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),me(ve(a),"onSlideFocus",function(){return a.props.autoplay&&a.pause("focused")}),me(ve(a),"onSlideBlur",function(){return a.props.autoplay&&a.state.autoplaying==="focused"&&a.autoPlay("blur")}),me(ve(a),"render",function(){var i=dt("slick-slider",a.props.className,{"slick-vertical":a.props.vertical,"slick-initialized":!0}),s=z(z({},a.props),a.state),l=as(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=a.props.pauseOnHover;l=z(z({},l),{},{onMouseEnter:u?a.onTrackOver:null,onMouseLeave:u?a.onTrackLeave:null,onMouseOver:u?a.onTrackOver:null,focusOnSelect:a.props.focusOnSelect&&a.clickable?a.selectHandler:null});var d;if(a.props.dots===!0&&a.state.slideCount>=a.props.slidesToShow){var p=as(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=a.props.pauseOnDotsHover;p=z(z({},p),{},{clickHandler:a.changeSlide,onMouseEnter:g?a.onDotsLeave:null,onMouseOver:g?a.onDotsOver:null,onMouseLeave:g?a.onDotsLeave:null}),d=X.createElement(aS,p)}var C,x,S=as(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=a.changeSlide,a.props.arrows&&(C=X.createElement(oS,S),x=X.createElement(iS,S));var w=null;a.props.vertical&&(w={height:a.state.listHeight});var T=null;a.props.vertical===!1?a.props.centerMode===!0&&(T={padding:"0px "+a.props.centerPadding}):a.props.centerMode===!0&&(T={padding:a.props.centerPadding+" 0px"});var m=z(z({},w),T),h=a.props.touchMove,b={className:"slick-list",style:m,onClick:a.clickHandler,onMouseDown:h?a.swipeStart:null,onMouseMove:a.state.dragging&&h?a.swipeMove:null,onMouseUp:h?a.swipeEnd:null,onMouseLeave:a.state.dragging&&h?a.swipeEnd:null,onTouchStart:h?a.swipeStart:null,onTouchMove:a.state.dragging&&h?a.swipeMove:null,onTouchEnd:h?a.touchEnd:null,onTouchCancel:a.state.dragging&&h?a.swipeEnd:null,onKeyDown:a.props.accessibility?a.keyHandler:null},y={className:i,dir:"ltr",style:a.props.style};return a.props.unslick&&(b={className:"slick-list"},y={className:i,style:a.props.style}),X.createElement("div",y,a.props.unslick?"":C,X.createElement("div",$e({ref:a.listRefHandler},b),X.createElement(nS,$e({ref:a.trackRefHandler},l),a.props.children)),a.props.unslick?"":x,a.props.unslick?"":d)}),a.list=null,a.track=null,a.state=z(z({},Nx),{},{currentSlide:a.props.initialSlide,slideCount:X.Children.count(a.props.children)}),a.callbackTimers=[],a.clickable=!0,a.debouncedResize=null;var o=a.ssrInit();return a.state=z(z({},a.state),o),a}return ra(n,[{key:"didPropsChange",value:function(a){for(var o=!1,i=0,s=Object.keys(this.props);i<s.length;i++){var l=s[i];if(!a.hasOwnProperty(l)){o=!0;break}if(!(Xy(a[l])==="object"||typeof a[l]=="function")&&a[l]!==this.props[l]){o=!0;break}}return o||X.Children.count(this.props.children)!==X.Children.count(a.children)}}]),n}(X.Component),cS=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},dS=cS,uS=dS,fS=function(e){var t=/[height|width]$/;return t.test(e)},ju=function(e){var t="",n=Object.keys(e);return n.forEach(function(r,a){var o=e[r];r=uS(r),fS(r)&&typeof o=="number"&&(o=o+"px"),o===!0?t+=r:o===!1?t+="not "+r:t+="("+r+": "+o+")",a<n.length-1&&(t+=" and ")}),t},hS=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(n,r){t+=ju(n),r<e.length-1&&(t+=", ")}),t):ju(e)},pS=hS;const ss=Lc(pS);var Mu={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return X.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return X.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},gS=function(e){ea(n,e);var t=ta(n);function n(r){var a;return na(this,n),a=t.call(this,r),me(ve(a),"innerSliderRefHandler",function(o){return a.innerSlider=o}),me(ve(a),"slickPrev",function(){return a.innerSlider.slickPrev()}),me(ve(a),"slickNext",function(){return a.innerSlider.slickNext()}),me(ve(a),"slickGoTo",function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return a.innerSlider.slickGoTo(o,i)}),me(ve(a),"slickPause",function(){return a.innerSlider.pause("paused")}),me(ve(a),"slickPlay",function(){return a.innerSlider.autoPlay("play")}),a.state={breakpoint:null},a._responsiveMediaHandlers=[],a}return ra(n,[{key:"media",value:function(a,o){var i=window.matchMedia(a),s=function(u){var d=u.matches;d&&o()};i.addListener(s),s(i),this._responsiveMediaHandlers.push({mql:i,query:a,listener:s})}},{key:"componentDidMount",value:function(){var a=this;if(this.props.responsive){var o=this.props.responsive.map(function(s){return s.breakpoint});o.sort(function(s,l){return s-l}),o.forEach(function(s,l){var u;l===0?u=ss({minWidth:0,maxWidth:s}):u=ss({minWidth:o[l-1]+1,maxWidth:s}),Iu()&&a.media(u,function(){a.setState({breakpoint:s})})});var i=ss({minWidth:o.slice(-1)[0]});Iu()&&this.media(i,function(){a.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(a){a.mql.removeListener(a.listener)})}},{key:"render",value:function(){var a=this,o,i;this.state.breakpoint?(i=this.props.responsive.filter(function(w){return w.breakpoint===a.state.breakpoint}),o=i[0].settings==="unslick"?"unslick":z(z(z({},Mu),this.props),i[0].settings)):o=z(z({},Mu),this.props),o.centerMode&&(o.slidesToScroll>1,o.slidesToScroll=1),o.fade&&(o.slidesToShow>1,o.slidesToScroll>1,o.slidesToShow=1,o.slidesToScroll=1);var s=X.Children.toArray(this.props.children);s=s.filter(function(w){return typeof w=="string"?!!w.trim():!!w}),o.variableWidth&&(o.rows>1||o.slidesPerRow>1)&&(o.variableWidth=!1);for(var l=[],u=null,d=0;d<s.length;d+=o.rows*o.slidesPerRow){for(var p=[],g=d;g<d+o.rows*o.slidesPerRow;g+=o.slidesPerRow){for(var C=[],x=g;x<g+o.slidesPerRow&&(o.variableWidth&&s[x].props.style&&(u=s[x].props.style.width),!(x>=s.length));x+=1)C.push(X.cloneElement(s[x],{key:100*d+10*g+x,tabIndex:-1,style:{width:"".concat(100/o.slidesPerRow,"%"),display:"inline-block"}}));p.push(X.createElement("div",{key:10*d+g},C))}o.variableWidth?l.push(X.createElement("div",{key:d,style:{width:u}},p)):l.push(X.createElement("div",{key:d},p))}if(o==="unslick"){var S="regular slider "+(this.props.className||"");return X.createElement("div",{className:S},s)}else l.length<=o.slidesToShow&&(o.unslick=!0);return X.createElement(lS,$e({style:this.props.style,ref:this.innerSliderRefHandler},o),l)}}]),n}(X.Component);const mS=e=>{const{componentCls:t,antCls:n,carouselArrowSize:r,carouselDotOffset:a,marginXXS:o}=e,i=-r*1.25,s=o;return{[t]:Object.assign(Object.assign({},np(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${n}-radio-input, input${n}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"},".slick-arrow.slick-hidden":{display:"none"},".slick-prev, .slick-next":{position:"absolute",top:"50%",display:"block",width:r,height:r,marginTop:-r/2,padding:0,color:"transparent",fontSize:0,lineHeight:0,background:"transparent",border:0,outline:"none",cursor:"pointer","&:hover, &:focus":{color:"transparent",background:"transparent",outline:"none","&::before":{opacity:1}},"&.slick-disabled::before":{opacity:.25}},".slick-prev":{insetInlineStart:i,"&::before":{content:'"←"'}},".slick-next":{insetInlineEnd:i,"&::before":{content:'"→"'}},".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:a},"&-top":{top:a,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:e.dotWidth,height:e.dotHeight,marginInline:s,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${e.motionDurationSlow}`,button:{position:"relative",display:"block",width:"100%",height:e.dotHeight,padding:0,color:"transparent",fontSize:0,background:e.colorBgContainer,border:0,borderRadius:1,outline:"none",cursor:"pointer",opacity:.3,transition:`all ${e.motionDurationSlow}`,"&: hover, &:focus":{opacity:.75},"&::after":{position:"absolute",inset:-s,content:'""'}},"&.slick-active":{width:e.dotActiveWidth,"& button":{background:e.colorBgContainer,opacity:1},"&: hover, &:focus":{opacity:1}}}}})}},vS=e=>{const{componentCls:t,carouselDotOffset:n,marginXXS:r}=e,a={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:n},"&-right":{insetInlineEnd:n,insetInlineStart:"auto"},li:Object.assign(Object.assign({},a),{margin:`${r}px 0`,verticalAlign:"baseline",button:a,"&.slick-active":Object.assign(Object.assign({},a),{button:a})})}}}},yS=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},bS=ep("Carousel",e=>{const{controlHeightLG:t,controlHeightSM:n}=e,r=tp(e,{carouselArrowSize:t/2,carouselDotOffset:n/2});return[mS(r),vS(r),yS(r)]},()=>({dotWidth:16,dotHeight:3,dotWidthActive:24,dotActiveWidth:24}),{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]});var CS=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const xS=c.forwardRef((e,t)=>{const{dots:n=!0,arrows:r=!1,draggable:a=!1,waitForAnimate:o=!1,dotPosition:i="bottom",vertical:s=i==="left"||i==="right",rootClassName:l,className:u,style:d,id:p}=e,g=CS(e,["dots","arrows","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id"]),{getPrefixCls:C,direction:x,carousel:S}=c.useContext(ni),w=c.useRef(),T=function(j){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;w.current.slickGoTo(j,I)};c.useImperativeHandle(t,()=>({goTo:T,autoPlay:w.current.innerSlider.autoPlay,innerSlider:w.current.innerSlider,prev:w.current.slickPrev,next:w.current.slickNext}),[w.current]);const m=c.useRef(c.Children.count(e.children));c.useEffect(()=>{m.current!==c.Children.count(e.children)&&(T(e.initialSlide||0,!1),m.current=c.Children.count(e.children))},[e.children]);const h=Object.assign({vertical:s,className:dt(u,S==null?void 0:S.className),style:Object.assign(Object.assign({},S==null?void 0:S.style),d)},g);h.effect==="fade"&&(h.fade=!0);const b=C("carousel",h.prefixCls),y="slick-dots",v=!!n,_=dt(y,`${y}-${i}`,typeof n=="boolean"?!1:n==null?void 0:n.className),[k,E]=bS(b),D=dt(b,{[`${b}-rtl`]:x==="rtl",[`${b}-vertical`]:h.vertical},E,l);return k(c.createElement("div",{className:D,id:p},c.createElement(gS,Object.assign({ref:w},h,{dots:v,dotsClass:_,arrows:r,draggable:a,verticalSwiping:s,waitForAnimate:o}))))}),SS=xS;var wS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-76.1 76.1a199.27 199.27 0 00-112.1-34.3c-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7a8.03 8.03 0 000 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zm-190.2 105a8.03 8.03 0 00-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6a8.03 8.03 0 00-11.3 0L363 475.3l-43-43a7.85 7.85 0 00-5.7-2.3c-2 0-4.1.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1a8.03 8.03 0 000 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1a131.32 131.32 0 01-93.4 38.7c-35.3 0-68.4-13.7-93.4-38.7a131.32 131.32 0 01-38.7-93.4c0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z"}}]},name:"api",theme:"outlined"};const TS=wS;var _S=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:TS}))};const kS=c.forwardRef(_S);var ES={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};const OS=ES;var DS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:OS}))};const RS=c.forwardRef(DS);var IS={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"filled"};const jS=IS;var MS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:jS}))};const PS=c.forwardRef(MS);var LS={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const $S=LS;var zS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:$S}))};const Pu=c.forwardRef(zS);var AS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};const NS=AS;var BS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:NS}))};const Un=c.forwardRef(BS);var WS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM382 896h-.2L232 746.2v-.2h150v150z"}}]},name:"copy",theme:"filled"};const FS=WS;var HS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:FS}))};const ig=c.forwardRef(HS);var qS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};const VS=qS;var GS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:VS}))};const US=c.forwardRef(GS);var KS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};const YS=KS;var XS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:YS}))};const rc=c.forwardRef(XS);var JS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"};const ZS=JS;var QS=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:ZS}))};const e1=c.forwardRef(QS);var t1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"};const n1=t1;var r1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:n1}))};const a1=c.forwardRef(r1);var o1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M926 164H94c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V196c0-17.7-14.3-32-32-32zm-92.3 194.4l-297 297.2a8.03 8.03 0 01-11.3 0L410.9 541.1 238.4 713.7a8.03 8.03 0 01-11.3 0l-36.8-36.8a8.03 8.03 0 010-11.3l214.9-215c3.1-3.1 8.2-3.1 11.3 0L531 565l254.5-254.6c3.1-3.1 8.2-3.1 11.3 0l36.8 36.8c3.2 3 3.2 8.1.1 11.2z"}}]},name:"fund",theme:"filled"};const i1=o1;var s1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:i1}))};const l1=c.forwardRef(s1);var c1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"};const d1=c1;var u1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:d1}))};const f1=c.forwardRef(u1);var h1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M448 224a64 64 0 10128 0 64 64 0 10-128 0zm96 168h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V400c0-4.4-3.6-8-8-8z"}}]},name:"info",theme:"outlined"};const p1=h1;var g1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:p1}))};const m1=c.forwardRef(g1);var v1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};const y1=v1;var b1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:y1}))};const sg=c.forwardRef(b1);var C1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"};const x1=C1;var S1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:x1}))};const w1=c.forwardRef(S1);var T1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const _1=T1;var k1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:_1}))};const lg=c.forwardRef(k1);var E1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};const O1=E1;var D1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:O1}))};const R1=c.forwardRef(D1);var I1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const j1=I1;var M1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:j1}))};const P1=c.forwardRef(M1);var L1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};const $1=L1;var z1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:$1}))};const Qc=c.forwardRef(z1);var A1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};const N1=A1;var B1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:N1}))};const ed=c.forwardRef(B1);var W1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const F1=W1;var H1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:F1}))};const q1=c.forwardRef(H1);var V1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M736 550H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208 130c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zM736 266H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208-194c39.8 0 72-32.2 72-72s-32.2-72-72-72-72 32.2-72 72 32.2 72 72 72zm0-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 64c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0 656c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}}]},name:"ungroup",theme:"outlined"};const G1=V1;var U1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:G1}))};const K1=c.forwardRef(U1);var Y1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"};const X1=Y1;var J1=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:X1}))};const Z1=c.forwardRef(J1);var Q1={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z",fill:t}},{tag:"path",attrs:{d:"M172.2 828.1h679.6L512 239.9 172.2 828.1zM560 720a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm-16-304v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8z",fill:n}},{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z",fill:t}}]}},name:"warning",theme:"twotone"};const ew=Q1;var tw=function(t,n){return c.createElement(Ge,$e({},t,{ref:n,icon:ew}))};const nw=c.forwardRef(tw),cg=aa(Ex),rw=e=>{if(!e)return e;try{return e&&(e.expensiveQuery=!1),e}catch{return e}},aw=e=>{if(!(e!=null&&e.trim().length))return e;const t=JSON.parse(e),n=new Y0(X0,rw),a=new J0(n).process(t);return JSON.stringify(a)},j4=re("workbench/initWorkbenchAction",async(e,t)=>{try{e.orgId&&await t.dispatch(dg({orgId:e.orgId})),e.backendChartId?(await t.dispatch(ic.actions.saveBackendChartId(e.backendChartId)),await t.dispatch(oc({chartId:e.backendChartId})),await t.dispatch(ac({}))):e.backendChart&&(await t.dispatch(oc({backendChart:e.backendChart})),await t.dispatch(ac({})))}catch(n){return rp(n,t.rejectWithValue)}}),Eo=re("workbench/fetchDataSetAction",async(e,t)=>{let n=null;const r=await ce({method:"POST",url:"data-provider/execute",data:e},{},{onRejected:a=>{n=a.response}});return n?t.rejectWithValue(n==null?void 0:n.data):wp(e,r.data)}),dg=re("workbench/fetchDataViewsAction",async e=>(await ce({method:"GET",url:"views",params:e})).data),ow=re("workbench/fetchViewDetailAction",async e=>{var n,r;const t=await ce({method:"GET",url:`views/${e}`});return t!=null&&t.data&&(t.data=Z0(t.data)),(n=t==null?void 0:t.data)!=null&&n.model&&(t.data.model=Q0((r=t.data)==null?void 0:r.model,t.data.type)),t.data}),M4=re("workbench/updateChartConfigAndRefreshDatasetAction",async(e,t)=>{var n;try{await t.dispatch(ic.actions.updateChartConfig(e)),await t.dispatch(ic.actions.updateShadowChartConfig(null));const o=t.getState().workbench.chartConfig,i=(n=e.updateDrillOption)==null?void 0:n.call(e,o);e.needRefresh&&t.dispatch(ac({drillOption:i}))}catch(r){return rp(r,t.rejectWithValue)}}),ac=re("workbench/refreshDatasetAction",async(e,t)=>{var s,l,u;const r=t.getState().workbench;if(!((s=r.currentDataView)!=null&&s.id))return;const a=(e==null?void 0:e.dataOption)||((l=r.chartConfig)==null?void 0:l.datas),i=new Sr(r.currentDataView,a,(u=r.chartConfig)==null?void 0:u.settings,e==null?void 0:e.pageInfo,!0,r.aggregation).addExtraSorters(e!=null&&e.sorter?[e==null?void 0:e.sorter]:[]).addDrillOption(e==null?void 0:e.drillOption).build();return t.dispatch(Eo(i))}),oc=re("workbench/fetchChartAction",async e=>{if(e!=null&&e.chartId){const t=await ce({method:"GET",url:`viz/datacharts/${e.chartId}`});return Tp(t==null?void 0:t.data)}return e.backendChart}),P4=re("workbench/updateChartAction",async(e,t)=>{var s,l;const r=t.getState().workbench,a=eb(r.chartConfig,(l=(s=r.currentDataView)==null?void 0:s.computedFields)==null?void 0:l.filter(u=>!u.isViewComputedFields)),o=tb({chartId:e.chartId,aggregation:e.aggregation,chartConfig:r.chartConfig,graphId:e.graphId,index:e.index,parentId:e.parentId,name:e.name,viewId:e.viewId,computedFields:a});return(await ce({method:"PUT",url:`viz/datacharts/${e.chartId}`,data:o})).data}),ug=re("workbench/fetchAvailableSourceFunctionsForChart",async e=>{try{return await nb(e)}catch(t){throw t}}),Oo={lang:"zh",dateFormat:"LLL",dataviews:[],dataset:{},aggregation:!1,datasetLoading:!1,chartEditorDownloadPolling:!1,selectedItems:[]},Do=$c({name:"workbench",initialState:Oo,reducers:{saveBackendChartId:(e,t)=>{e.backendChartId=t.payload},changeLanguage:(e,t)=>{e.lang=t.payload},changeDateFormat:(e,t)=>{e.dateFormat=t.payload},updateShadowChartConfig:(e,t)=>{e.shadowChartConfig=t.payload||e.chartConfig},updateChartConfig:(e,t)=>{const n=(r,a)=>{switch(a.type){case pr.INIT:return a.payload.init||{};case pr.STYLE:return{...r,styles:ha(r.styles||[],{ancestors:a.payload.ancestors,value:a.payload.value})};case pr.DATA:return{...r,datas:ha(r.datas||[],{ancestors:a.payload.ancestors,value:a.payload.value})};case pr.SETTING:return{...r,settings:ha(r.settings||[],{ancestors:a.payload.ancestors,value:a.payload.value})};case pr.INTERACTION:return{...r,interactions:ha(r.interactions||[],{ancestors:a.payload.ancestors,value:a.payload.value})};case pr.I18N:return{...r,i18ns:ha(r.i18ns||[],{ancestors:a.payload.ancestors,value:a.payload.value})};default:return r}};e.chartConfig=n(e.chartConfig,{type:t.payload.type,payload:t.payload.payload})},updateCurrentDataViewComputedFields:(e,t)=>{e.currentDataView={...e.currentDataView,computedFields:t.payload}},updateChartAggregation:(e,t)=>{e.aggregation=t.payload},resetWorkbenchState:(e,t)=>Oo,setChartEditorDownloadPolling(e,{payload:t}){e.chartEditorDownloadPolling=t},changeSelectedItems(e,{payload:t}){e.selectedItems=t}},extraReducers:e=>{e.addCase(dg.fulfilled,(t,{payload:n})=>{t.dataviews=n}).addCase(ow.fulfilled,(t,{payload:n})=>{var i,s,l,u,d;const r=(i=t.dataviews)==null?void 0:i.findIndex(p=>p.id===n.id),a=rb(n.model);let o=[];if(n.id===((l=(s=t==null?void 0:t.backendChart)==null?void 0:s.view)==null?void 0:l.id)&&(o=((d=(u=t==null?void 0:t.backendChart)==null?void 0:u.config)==null?void 0:d.computedFields)||[]),o=ab(a,o),n.model){const g=JSON.parse(n.model||"{}").computedFields||[];o=ob(o,g)}r!==void 0&&(t.currentDataView={...n,config:aw(n.config),meta:a,computedFields:o}),t.dataset=Oo.dataset}).addCase(Eo.fulfilled,(t,{payload:n})=>{t.selectedItems=[],t.dataset=n,t.datasetLoading=!1}).addCase(oc.fulfilled,(t,{payload:n})=>{if(!n)return;const r=n.config||{};if(r!=null&&r.chartConfig){const a=Fa.instance().getById(r==null?void 0:r.chartGraphId);t.chartConfig=Ho(a==null?void 0:a.config,qo(r))}t.shadowChartConfig||(t.shadowChartConfig=t.chartConfig),t.currentDataView={...n.view,variables:n.queryVariables||[],computedFields:r==null?void 0:r.computedFields},t.backendChart=n,t.aggregation=r.aggregation===void 0?!0:r.aggregation}).addCase(ug.fulfilled,(t,{payload:n})=>{t.availableSourceFunctions=n}),e.addCase(Eo.pending,(t,n)=>{t.datasetLoading=!0}),e.addCase(Eo.rejected,(t,{payload:n})=>{var r;t.datasetLoading=!1,t.dataset&&(t.dataset.script=((r=n==null?void 0:n.data)==null?void 0:r.script)||"")})}}),ic=Do,iw=()=>(zc({key:Do.name,reducer:Do.reducer}),{actions:Do.actions}),Mt=e=>e.workbench||Oo,sw=J(Mt,e=>e.dataviews),L4=()=>J([sw,(e,t)=>t,(e,t)=>t],(e,t,n)=>Pn(e,null,[Fr.View],{getIcon:t,getSelectable:n})),$4=J(Mt,e=>e.currentDataView),z4=J(Mt,e=>{var t,n,r;return!((t=e.currentDataView)!=null&&t.id)&&((n=e.backendChart)!=null&&n.config.sampleData)?(r=e.backendChart)==null?void 0:r.config.sampleData:e.dataset}),A4=J(Mt,e=>e.lang),N4=J(Mt,e=>e.dateFormat),B4=J(Mt,e=>e.chartConfig),W4=J(Mt,e=>e.backendChart),F4=J(Mt,e=>e.shadowChartConfig),H4=J(Mt,e=>e.aggregation),q4=J(Mt,e=>e.datasetLoading),V4=J(Mt,e=>e.chartEditorDownloadPolling),lw=J(Mt,e=>e.availableSourceFunctions),G4=J(Mt,e=>e.selectedItems);function fg({authority:e,denied:t=null,children:n=null}){return e?n:t}function cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const hi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sa(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function td(e){return"nodeType"in e}function Rt(e){var t,n;return e?sa(e)?e:td(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function nd(e){const{Document:t}=Rt(e);return e instanceof t}function qa(e){return sa(e)?!1:e instanceof Rt(e).HTMLElement}function dw(e){return e instanceof Rt(e).SVGElement}function la(e){return e?sa(e)?e.document:td(e)?nd(e)?e:qa(e)?e.ownerDocument:document:document:document}const Xt=hi?c.useLayoutEffect:c.useEffect;function rd(e){const t=c.useRef(e);return Xt(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function uw(){const e=c.useRef(null),t=c.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function $a(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return Xt(()=>{n.current!==e&&(n.current=e)},t),n}function Va(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Yo(e){const t=rd(e),n=c.useRef(null),r=c.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function sc(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let ls={};function Ga(e,t){return c.useMemo(()=>{if(t)return t;const n=ls[e]==null?0:ls[e]+1;return ls[e]=n,e+"-"+n},[e,t])}function hg(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((o,i)=>{const s=Object.entries(i);for(const[l,u]of s){const d=o[l];d!=null&&(o[l]=d+e*u)}return o},{...t})}}const Ur=hg(1),Xo=hg(-1);function fw(e){return"clientX"in e&&"clientY"in e}function ad(e){if(!e)return!1;const{KeyboardEvent:t}=Rt(e.target);return t&&e instanceof t}function hw(e){if(!e)return!1;const{TouchEvent:t}=Rt(e.target);return t&&e instanceof t}function lc(e){if(hw(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return fw(e)?{x:e.clientX,y:e.clientY}:null}const za=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[za.Translate.toString(e),za.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Lu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pw(e){return e.matches(Lu)?e:e.querySelector(Lu)}const gw={display:"none"};function mw(e){let{id:t,value:n}=e;return X.createElement("div",{id:t,style:gw},n)}const vw={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function yw(e){let{id:t,announcement:n}=e;return X.createElement("div",{id:t,style:vw,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function bw(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const pg=c.createContext(null);function Cw(e){const t=c.useContext(pg);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function xw(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:a,event:o}=r;e.forEach(i=>{var s;return(s=i[a])==null?void 0:s.call(i,o)})},[e]),t]}const Sw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ww={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Tw(e){let{announcements:t=ww,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=Sw}=e;const{announce:o,announcement:i}=bw(),s=Ga("DndLiveRegion"),[l,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Cw(c.useMemo(()=>({onDragStart(p){let{active:g}=p;o(t.onDragStart({active:g}))},onDragMove(p){let{active:g,over:C}=p;t.onDragMove&&o(t.onDragMove({active:g,over:C}))},onDragOver(p){let{active:g,over:C}=p;o(t.onDragOver({active:g,over:C}))},onDragEnd(p){let{active:g,over:C}=p;o(t.onDragEnd({active:g,over:C}))},onDragCancel(p){let{active:g,over:C}=p;o(t.onDragCancel({active:g,over:C}))}}),[o,t])),!l)return null;const d=X.createElement(X.Fragment,null,X.createElement(mw,{id:r,value:a.draggable}),X.createElement(yw,{id:s,announcement:i}));return n?mr.createPortal(d,n):d}var it;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(it||(it={}));function Jo(){}function _w(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}const Jt=Object.freeze({x:0,y:0});function kw(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ew(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Ow(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=a-r,s=o-n;if(r<a&&n<o){const l=t.width*t.height,u=e.width*e.height,d=i*s,p=d/(l+u-d);return Number(p.toFixed(4))}return 0}const Dw=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const o of r){const{id:i}=o,s=n.get(i);if(s){const l=Ow(s,t);l>0&&a.push({id:i,data:{droppableContainer:o,value:l}})}}return a.sort(kw)};function Rw(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function gg(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Jt}function Iw(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((i,s)=>({...i,top:i.top+e*s.y,bottom:i.bottom+e*s.y,left:i.left+e*s.x,right:i.right+e*s.x}),{...n})}}const jw=Iw(1);function Mw(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Pw(e,t,n){const r=Mw(t);if(!r)return e;const{scaleX:a,scaleY:o,x:i,y:s}=r,l=e.left-i-(1-a)*parseFloat(n),u=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,p=o?e.height/o:e.height;return{width:d,height:p,top:u,right:l+d,bottom:u+p,left:l}}const Lw={ignoreTransform:!1};function ca(e,t){t===void 0&&(t=Lw);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Rt(e).getComputedStyle(e);u&&(n=Pw(n,u,d))}const{top:r,left:a,width:o,height:i,bottom:s,right:l}=n;return{top:r,left:a,width:o,height:i,bottom:s,right:l}}function $u(e){return ca(e,{ignoreTransform:!0})}function $w(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function zw(e,t){return t===void 0&&(t=Rt(e).getComputedStyle(e)),t.position==="fixed"}function Aw(e,t){t===void 0&&(t=Rt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=t[a];return typeof o=="string"?n.test(o):!1})}function od(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(nd(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!qa(a)||dw(a)||n.includes(a))return n;const o=Rt(e).getComputedStyle(a);return a!==e&&Aw(a,o)&&n.push(a),zw(a,o)?n:r(a.parentNode)}return e?r(e):n}function mg(e){const[t]=od(e,1);return t??null}function cs(e){return!hi||!e?null:sa(e)?e:td(e)?nd(e)||e===la(e).scrollingElement?window:qa(e)?e:null:null}function vg(e){return sa(e)?e.scrollX:e.scrollLeft}function yg(e){return sa(e)?e.scrollY:e.scrollTop}function cc(e){return{x:vg(e),y:yg(e)}}var ct;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ct||(ct={}));function bg(e){return!hi||!e?!1:e===document.scrollingElement}function Cg(e){const t={x:0,y:0},n=bg(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:i,isRight:s,maxScroll:r,minScroll:t}}const Nw={x:.2,y:.2};function Bw(e,t,n,r,a){let{top:o,left:i,right:s,bottom:l}=n;r===void 0&&(r=10),a===void 0&&(a=Nw);const{isTop:u,isBottom:d,isLeft:p,isRight:g}=Cg(e),C={x:0,y:0},x={x:0,y:0},S={height:t.height*a.y,width:t.width*a.x};return!u&&o<=t.top+S.height?(C.y=ct.Backward,x.y=r*Math.abs((t.top+S.height-o)/S.height)):!d&&l>=t.bottom-S.height&&(C.y=ct.Forward,x.y=r*Math.abs((t.bottom-S.height-l)/S.height)),!g&&s>=t.right-S.width?(C.x=ct.Forward,x.x=r*Math.abs((t.right-S.width-s)/S.width)):!p&&i<=t.left+S.width&&(C.x=ct.Backward,x.x=r*Math.abs((t.left+S.width-i)/S.width)),{direction:C,speed:x}}function Ww(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function xg(e){return e.reduce((t,n)=>Ur(t,cc(n)),Jt)}function Fw(e){return e.reduce((t,n)=>t+vg(n),0)}function Hw(e){return e.reduce((t,n)=>t+yg(n),0)}function qw(e,t){if(t===void 0&&(t=ca),!e)return;const{top:n,left:r,bottom:a,right:o}=t(e);mg(e)&&(a<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Vw=[["x",["left","right"],Fw],["y",["top","bottom"],Hw]];class id{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=od(n),a=xg(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,s]of Vw)for(const l of i)Object.defineProperty(this,l,{get:()=>{const u=s(r),d=a[o]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Sa{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Gw(e){const{EventTarget:t}=Rt(e);return e instanceof t?e:la(e)}function ds(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var At;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(At||(At={}));function zu(e){e.preventDefault()}function Uw(e){e.stopPropagation()}var Le;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Le||(Le={}));const Sg={start:[Le.Space,Le.Enter],cancel:[Le.Esc],end:[Le.Space,Le.Enter]},Kw=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Le.Right:return{...n,x:n.x+25};case Le.Left:return{...n,x:n.x-25};case Le.Down:return{...n,y:n.y+25};case Le.Up:return{...n,y:n.y-25}}};class wg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Sa(la(n)),this.windowListeners=new Sa(Rt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(At.Resize,this.handleCancel),this.windowListeners.add(At.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(At.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&qw(r),n(Jt)}handleKeyDown(t){if(ad(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:o=Sg,coordinateGetter:i=Kw,scrollBehavior:s="smooth"}=a,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Jt;this.referenceCoordinates||(this.referenceCoordinates=d);const p=i(t,{active:n,context:r.current,currentCoordinates:d});if(p){const g=Xo(p,d),C={x:0,y:0},{scrollableAncestors:x}=r.current;for(const S of x){const w=t.code,{isTop:T,isRight:m,isLeft:h,isBottom:b,maxScroll:y,minScroll:v}=Cg(S),_=Ww(S),k={x:Math.min(w===Le.Right?_.right-_.width/2:_.right,Math.max(w===Le.Right?_.left:_.left+_.width/2,p.x)),y:Math.min(w===Le.Down?_.bottom-_.height/2:_.bottom,Math.max(w===Le.Down?_.top:_.top+_.height/2,p.y))},E=w===Le.Right&&!m||w===Le.Left&&!h,D=w===Le.Down&&!b||w===Le.Up&&!T;if(E&&k.x!==p.x){const j=S.scrollLeft+g.x,I=w===Le.Right&&j<=y.x||w===Le.Left&&j>=v.x;if(I&&!g.y){S.scrollTo({left:j,behavior:s});return}I?C.x=S.scrollLeft-j:C.x=w===Le.Right?S.scrollLeft-y.x:S.scrollLeft-v.x,C.x&&S.scrollBy({left:-C.x,behavior:s});break}else if(D&&k.y!==p.y){const j=S.scrollTop+g.y,I=w===Le.Down&&j<=y.y||w===Le.Up&&j>=v.y;if(I&&!g.x){S.scrollTo({top:j,behavior:s});return}I?C.y=S.scrollTop-j:C.y=w===Le.Down?S.scrollTop-y.y:S.scrollTop-v.y,C.y&&S.scrollBy({top:-C.y,behavior:s});break}}this.handleMove(t,Ur(Xo(p,this.referenceCoordinates),C))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}wg.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Sg,onActivation:a}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const s=o.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function Au(e){return!!(e&&"distance"in e)}function Nu(e){return!!(e&&"delay"in e)}class sd{constructor(t,n,r){var a;r===void 0&&(r=Gw(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=la(i),this.documentListeners=new Sa(this.document),this.listeners=new Sa(r),this.windowListeners=new Sa(Rt(i)),this.initialCoordinates=(a=lc(o))!=null?a:Jt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(At.Resize,this.handleCancel),this.windowListeners.add(At.DragStart,zu),this.windowListeners.add(At.VisibilityChange,this.handleCancel),this.windowListeners.add(At.ContextMenu,zu),this.documentListeners.add(At.Keydown,this.handleKeydown),n){if(Au(n))return;if(Nu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(At.Click,Uw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(At.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:s}}=o;if(!a)return;const l=(n=lc(t))!=null?n:Jt,u=Xo(a,l);if(!r&&s){if(Nu(s))return ds(u,s.tolerance)?this.handleCancel():void 0;if(Au(s))return s.tolerance!=null&&ds(u,s.tolerance)?this.handleCancel():ds(u,s.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),i(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Le.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Yw={move:{name:"pointermove"},end:{name:"pointerup"}};class ld extends sd{constructor(t){const{event:n}=t,r=la(n.target);super(t,Yw,r)}}ld.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Xw={move:{name:"mousemove"},end:{name:"mouseup"}};var dc;(function(e){e[e.RightClick=2]="RightClick"})(dc||(dc={}));class Jw extends sd{constructor(t){super(t,Xw,la(t.event.target))}}Jw.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===dc.RightClick?!1:(r==null||r({event:n}),!0)}}];const us={move:{name:"touchmove"},end:{name:"touchend"}};class Zw extends sd{constructor(t){super(t,us)}static setup(){return window.addEventListener(us.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(us.move.name,t)};function t(){}}}Zw.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var wa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wa||(wa={}));var Zo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zo||(Zo={}));function Qw(e){let{acceleration:t,activator:n=wa.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:i=5,order:s=Zo.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:p,threshold:g}=e;const C=tT({delta:p,disabled:!o}),[x,S]=uw(),w=c.useRef({x:0,y:0}),T=c.useRef({x:0,y:0}),m=c.useMemo(()=>{switch(n){case wa.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case wa.DraggableRect:return a}},[n,a,l]),h=c.useRef(null),b=c.useCallback(()=>{const v=h.current;if(!v)return;const _=w.current.x*T.current.x,k=w.current.y*T.current.y;v.scrollBy(_,k)},[]),y=c.useMemo(()=>s===Zo.TreeOrder?[...u].reverse():u,[s,u]);c.useEffect(()=>{if(!o||!u.length||!m){S();return}for(const v of y){if((r==null?void 0:r(v))===!1)continue;const _=u.indexOf(v),k=d[_];if(!k)continue;const{direction:E,speed:D}=Bw(v,k,m,t,g);for(const j of["x","y"])C[j][E[j]]||(D[j]=0,E[j]=0);if(D.x>0||D.y>0){S(),h.current=v,x(b,i),w.current=D,T.current=E;return}}w.current={x:0,y:0},T.current={x:0,y:0},S()},[t,b,r,S,o,i,JSON.stringify(m),JSON.stringify(C),x,u,y,d,JSON.stringify(g)])}const eT={x:{[ct.Backward]:!1,[ct.Forward]:!1},y:{[ct.Backward]:!1,[ct.Forward]:!1}};function tT(e){let{delta:t,disabled:n}=e;const r=sc(t);return Va(a=>{if(n||!r||!a)return eT;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ct.Backward]:a.x[ct.Backward]||o.x===-1,[ct.Forward]:a.x[ct.Forward]||o.x===1},y:{[ct.Backward]:a.y[ct.Backward]||o.y===-1,[ct.Forward]:a.y[ct.Forward]||o.y===1}}},[n,t,r])}function nT(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Va(a=>{var o;return t===null?null:(o=r??a)!=null?o:null},[r,t])}function rT(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,o=a.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var Aa;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Aa||(Aa={}));var uc;(function(e){e.Optimized="optimized"})(uc||(uc={}));const Bu=new Map;function aT(e,t){let{dragging:n,dependencies:r,config:a}=t;const[o,i]=c.useState(null),{frequency:s,measure:l,strategy:u}=a,d=c.useRef(e),p=w(),g=$a(p),C=c.useCallback(function(T){T===void 0&&(T=[]),!g.current&&i(m=>m===null?T:m.concat(T.filter(h=>!m.includes(h))))},[g]),x=c.useRef(null),S=Va(T=>{if(p&&!n)return Bu;if(!T||T===Bu||d.current!==e||o!=null){const m=new Map;for(let h of e){if(!h)continue;if(o&&o.length>0&&!o.includes(h.id)&&h.rect.current){m.set(h.id,h.rect.current);continue}const b=h.node.current,y=b?new id(l(b),b):null;h.rect.current=y,y&&m.set(h.id,y)}return m}return T},[e,o,n,p,l]);return c.useEffect(()=>{d.current=e},[e]),c.useEffect(()=>{p||C()},[n,p]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{p||typeof s!="number"||x.current!==null||(x.current=setTimeout(()=>{C(),x.current=null},s))},[s,p,C,...r]),{droppableRects:S,measureDroppableContainers:C,measuringScheduled:o!=null};function w(){switch(u){case Aa.Always:return!1;case Aa.BeforeDragging:return n;default:return!n}}}function Tg(e,t){return Va(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function oT(e,t){return Tg(e,t)}function iT(e){let{callback:t,disabled:n}=e;const r=rd(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function pi(e){let{callback:t,disabled:n}=e;const r=rd(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function sT(e){return new id(ca(e),e)}function Wu(e,t,n){t===void 0&&(t=sT);const[r,a]=c.useReducer(s,null),o=iT({callback(l){if(e)for(const u of l){const{type:d,target:p}=u;if(d==="childList"&&p instanceof HTMLElement&&p.contains(e)){a();break}}}}),i=pi({callback:a});return Xt(()=>{a(),e?(i==null||i.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),o==null||o.disconnect())},[e]),r;function s(l){if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function lT(e){const t=Tg(e);return gg(e,t)}const Fu=[];function cT(e){const t=c.useRef(e),n=Va(r=>e?r&&r!==Fu&&e&&t.current&&e.parentNode===t.current.parentNode?r:od(e):Fu,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function dT(e){const[t,n]=c.useState(null),r=c.useRef(e),a=c.useCallback(o=>{const i=cs(o.target);i&&n(s=>s?(s.set(i,cc(i)),new Map(s)):null)},[]);return c.useEffect(()=>{const o=r.current;if(e!==o){i(o);const s=e.map(l=>{const u=cs(l);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,cc(u)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{i(e),i(o)};function i(s){s.forEach(l=>{const u=cs(l);u==null||u.removeEventListener("scroll",a)})}},[a,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>Ur(o,i),Jt):xg(e):Jt,[e,t])}function Hu(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==Jt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Xo(e,n.current):Jt}function uT(e){c.useEffect(()=>{if(!hi)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function fT(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:o}=r;return n[a]=i=>{o(i,t)},n},{}),[e,t])}function _g(e){return c.useMemo(()=>e?$w(e):null,[e])}const fs=[];function hT(e,t){t===void 0&&(t=ca);const[n]=e,r=_g(n?Rt(n):null),[a,o]=c.useReducer(s,fs),i=pi({callback:o});return e.length>0&&a===fs&&o(),Xt(()=>{e.length?e.forEach(l=>i==null?void 0:i.observe(l)):(i==null||i.disconnect(),o())},[e]),a;function s(){return e.length?e.map(l=>bg(l)?r:new id(t(l),l)):fs}}function pT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qa(t)?t:e}function gT(e){let{measure:t}=e;const[n,r]=c.useState(null),a=c.useCallback(u=>{for(const{target:d}of u)if(qa(d)){r(p=>{const g=t(d);return p?{...p,width:g.width,height:g.height}:g});break}},[t]),o=pi({callback:a}),i=c.useCallback(u=>{const d=pT(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?t(d):null)},[t,o]),[s,l]=Yo(i);return c.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const mT=[{sensor:ld,options:{}},{sensor:wg,options:{}}],vT={current:{}},Ro={draggable:{measure:$u},droppable:{measure:$u,strategy:Aa.WhileDragging,frequency:uc.Optimized},dragOverlay:{measure:ca}};class Ta extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const yT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ta,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Jo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ro,measureDroppableContainers:Jo,windowRect:null,measuringScheduled:!1},bT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Jo,draggableNodes:new Map,over:null,measureDroppableContainers:Jo},gi=c.createContext(bT),kg=c.createContext(yT);function CT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ta}}}function xT(e,t){switch(t.type){case it.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case it.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case it.DragEnd:case it.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case it.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Ta(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case it.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Ta(e.droppable.containers);return i.set(n,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case it.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Ta(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function ST(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=c.useContext(gi),o=sc(r),i=sc(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!ad(o)||document.activeElement===o.target)return;const s=a.get(i);if(!s)return;const{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const p=pw(d);if(p){p.focus();break}}})}},[r,t,a,i,o]),null}function wT(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,o)=>o({transform:a,...r}),n):n}function TT(e){return c.useMemo(()=>({draggable:{...Ro.draggable,...e==null?void 0:e.draggable},droppable:{...Ro.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ro.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function _T(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const o=c.useRef(!1),{x:i,y:s}=typeof a=="boolean"?{x:a,y:a}:a;Xt(()=>{if(!i&&!s||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),p=gg(d,r);if(i||(p.x=0),s||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=mg(u);g&&g.scrollBy({top:p.y,left:p.x})}},[t,i,s,r,n])}const Eg=c.createContext({...Jt,scaleX:1,scaleY:1});var Vn;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Vn||(Vn={}));const kT=c.memo(function(t){var n,r,a,o;let{id:i,accessibility:s,autoScroll:l=!0,children:u,sensors:d=mT,collisionDetection:p=Dw,measuring:g,modifiers:C,...x}=t;const S=c.useReducer(xT,void 0,CT),[w,T]=S,[m,h]=xw(),[b,y]=c.useState(Vn.Uninitialized),v=b===Vn.Initialized,{draggable:{active:_,nodes:k,translate:E},droppable:{containers:D}}=w,j=_?k.get(_):null,I=c.useRef({initial:null,translated:null}),O=c.useMemo(()=>{var ae;return _!=null?{id:_,data:(ae=j==null?void 0:j.data)!=null?ae:vT,rect:I}:null},[_,j]),P=c.useRef(null),[A,M]=c.useState(null),[R,Z]=c.useState(null),K=$a(x,Object.values(x)),Y=Ga("DndDescribedBy",i),xe=c.useMemo(()=>D.getEnabled(),[D]),ee=TT(g),{droppableRects:pe,measureDroppableContainers:oe,measuringScheduled:ge}=aT(xe,{dragging:v,dependencies:[E.x,E.y],config:ee.droppable}),Se=nT(k,_),Me=c.useMemo(()=>R?lc(R):null,[R]),B=ue(),G=oT(Se,ee.draggable.measure);_T({activeNode:_?k.get(_):null,config:B.layoutShiftCompensation,initialRect:G,measure:ee.draggable.measure});const H=Wu(Se,ee.draggable.measure,G),le=Wu(Se?Se.parentElement:null),te=c.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=D.getNodeFor((n=te.current.over)==null?void 0:n.id),de=gT({measure:ee.dragOverlay.measure}),ye=(r=de.nodeRef.current)!=null?r:Se,N=v?(a=de.rect)!=null?a:H:null,Ye=!!(de.nodeRef.current&&de.rect),De=lT(Ye?null:H),Re=_g(ye?Rt(ye):null),_e=cT(v?Q??Se:null),Xe=hT(_e),yt=wT(C,{transform:{x:E.x-De.x,y:E.y-De.y,scaleX:1,scaleY:1},activatorEvent:R,active:O,activeNodeRect:H,containerNodeRect:le,draggingNodeRect:N,over:te.current.over,overlayNodeRect:de.rect,scrollableAncestors:_e,scrollableAncestorRects:Xe,windowRect:Re}),st=Me?Ur(Me,E):null,sr=dT(_e),Mr=Hu(sr),lr=Hu(sr,[H]),Wt=Ur(yt,Mr),Ft=N?jw(N,yt):null,dn=O&&Ft?p({active:O,collisionRect:Ft,droppableRects:pe,droppableContainers:xe,pointerCoordinates:st}):null,An=Ew(dn,"id"),[Et,Nn]=c.useState(null),cr=Ye?yt:Ur(yt,lr),dr=Rw(cr,(o=Et==null?void 0:Et.rect)!=null?o:null,H),Bn=c.useCallback((ae,L)=>{let{sensor:q,options:V}=L;if(P.current==null)return;const U=k.get(P.current);if(!U)return;const se=ae.nativeEvent,Oe=new q({active:P.current,activeNode:U,event:se,options:V,context:te,onStart(Ne){const ht=P.current;if(ht==null)return;const lt=k.get(ht);if(!lt)return;const{onDragStart:bt}=K.current,Ct={active:{id:ht,data:lt.data,rect:I}};mr.unstable_batchedUpdates(()=>{bt==null||bt(Ct),y(Vn.Initializing),T({type:it.DragStart,initialCoordinates:Ne,active:ht}),m({type:"onDragStart",event:Ct})})},onMove(Ne){T({type:it.DragMove,coordinates:Ne})},onEnd:Ae(it.DragEnd),onCancel:Ae(it.DragCancel)});mr.unstable_batchedUpdates(()=>{M(Oe),Z(ae.nativeEvent)});function Ae(Ne){return async function(){const{active:lt,collisions:bt,over:Ct,scrollAdjustedTranslate:Fn}=te.current;let Ht=null;if(lt&&Fn){const{cancelDrop:Hn}=K.current;Ht={activatorEvent:se,active:lt,collisions:bt,delta:Fn,over:Ct},Ne===it.DragEnd&&typeof Hn=="function"&&await Promise.resolve(Hn(Ht))&&(Ne=it.DragCancel)}P.current=null,mr.unstable_batchedUpdates(()=>{T({type:Ne}),y(Vn.Uninitialized),Nn(null),M(null),Z(null);const Hn=Ne===it.DragEnd?"onDragEnd":"onDragCancel";if(Ht){const Pr=K.current[Hn];Pr==null||Pr(Ht),m({type:Hn,event:Ht})}})}}},[k]),ur=c.useCallback((ae,L)=>(q,V)=>{const U=q.nativeEvent,se=k.get(V);if(P.current!==null||!se||U.dndKit||U.defaultPrevented)return;const Oe={active:se};ae(q,L.options,Oe)===!0&&(U.dndKit={capturedBy:L.sensor},P.current=V,Bn(q,L))},[k,Bn]),Wn=rT(d,ur);uT(d),Xt(()=>{H&&b===Vn.Initializing&&y(Vn.Initialized)},[H,b]),c.useEffect(()=>{const{onDragMove:ae}=K.current,{active:L,activatorEvent:q,collisions:V,over:U}=te.current;if(!L||!q)return;const se={active:L,activatorEvent:q,collisions:V,delta:{x:Wt.x,y:Wt.y},over:U};mr.unstable_batchedUpdates(()=>{ae==null||ae(se),m({type:"onDragMove",event:se})})},[Wt.x,Wt.y]),c.useEffect(()=>{const{active:ae,activatorEvent:L,collisions:q,droppableContainers:V,scrollAdjustedTranslate:U}=te.current;if(!ae||P.current==null||!L||!U)return;const{onDragOver:se}=K.current,Oe=V.get(An),Ae=Oe&&Oe.rect.current?{id:Oe.id,rect:Oe.rect.current,data:Oe.data,disabled:Oe.disabled}:null,Ne={active:ae,activatorEvent:L,collisions:q,delta:{x:U.x,y:U.y},over:Ae};mr.unstable_batchedUpdates(()=>{Nn(Ae),se==null||se(Ne),m({type:"onDragOver",event:Ne})})},[An]),Xt(()=>{te.current={activatorEvent:R,active:O,activeNode:Se,collisionRect:Ft,collisions:dn,droppableRects:pe,draggableNodes:k,draggingNode:ye,draggingNodeRect:N,droppableContainers:D,over:Et,scrollableAncestors:_e,scrollAdjustedTranslate:Wt},I.current={initial:N,translated:Ft}},[O,Se,dn,Ft,k,ye,N,pe,D,Et,_e,Wt]),Qw({...B,delta:E,draggingRect:Ft,pointerCoordinates:st,scrollableAncestors:_e,scrollableAncestorRects:Xe});const ie=c.useMemo(()=>({active:O,activeNode:Se,activeNodeRect:H,activatorEvent:R,collisions:dn,containerNodeRect:le,dragOverlay:de,draggableNodes:k,droppableContainers:D,droppableRects:pe,over:Et,measureDroppableContainers:oe,scrollableAncestors:_e,scrollableAncestorRects:Xe,measuringConfiguration:ee,measuringScheduled:ge,windowRect:Re}),[O,Se,H,R,dn,le,de,k,D,pe,Et,oe,_e,Xe,ee,ge,Re]),be=c.useMemo(()=>({activatorEvent:R,activators:Wn,active:O,activeNodeRect:H,ariaDescribedById:{draggable:Y},dispatch:T,draggableNodes:k,over:Et,measureDroppableContainers:oe}),[R,Wn,O,H,T,Y,k,Et,oe]);return X.createElement(pg.Provider,{value:h},X.createElement(gi.Provider,{value:be},X.createElement(kg.Provider,{value:ie},X.createElement(Eg.Provider,{value:dr},u)),X.createElement(ST,{disabled:(s==null?void 0:s.restoreFocus)===!1})),X.createElement(Tw,{...s,hiddenTextDescribedById:Y}));function ue(){const ae=(A==null?void 0:A.autoScrollEnabled)===!1,L=typeof l=="object"?l.enabled===!1:l===!1,q=v&&!ae&&!L;return typeof l=="object"?{...l,enabled:q}:{enabled:q}}}),ET=c.createContext(null),qu="button",OT="Droppable";function DT(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=Ga(OT),{activators:i,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:p,over:g}=c.useContext(gi),{role:C=qu,roleDescription:x="draggable",tabIndex:S=0}=a??{},w=(l==null?void 0:l.id)===t,T=c.useContext(w?Eg:ET),[m,h]=Yo(),[b,y]=Yo(),v=fT(i,t),_=$a(n);Xt(()=>(p.set(t,{id:t,key:o,node:m,activatorNode:b,data:_}),()=>{const E=p.get(t);E&&E.key===o&&p.delete(t)}),[p,t]);const k=c.useMemo(()=>({role:C,tabIndex:S,"aria-disabled":r,"aria-pressed":w&&C===qu?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[r,C,S,w,x,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:k,isDragging:w,listeners:r?void 0:v,node:m,over:g,setNodeRef:h,setActivatorNodeRef:y,transform:T}}function RT(){return c.useContext(kg)}const IT="Droppable",jT={timeout:25};function MT(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const o=Ga(IT),{active:i,dispatch:s,over:l,measureDroppableContainers:u}=c.useContext(gi),d=c.useRef({disabled:n}),p=c.useRef(!1),g=c.useRef(null),C=c.useRef(null),{disabled:x,updateMeasurementsFor:S,timeout:w}={...jT,...a},T=$a(S??r),m=c.useCallback(()=>{if(!p.current){p.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{u(Array.isArray(T.current)?T.current:[T.current]),C.current=null},w)},[w]),h=pi({callback:m,disabled:x||!i}),b=c.useCallback((k,E)=>{h&&(E&&(h.unobserve(E),p.current=!1),k&&h.observe(k))},[h]),[y,v]=Yo(b),_=$a(t);return c.useEffect(()=>{!h||!y.current||(h.disconnect(),p.current=!1,h.observe(y.current))},[y,h]),Xt(()=>(s({type:it.RegisterDroppable,element:{id:r,key:o,disabled:n,node:y,rect:g,data:_}}),()=>s({type:it.UnregisterDroppable,key:o,id:r})),[r]),c.useEffect(()=>{n!==d.current.disabled&&(s({type:it.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,s]),{active:i,rect:g,isOver:(l==null?void 0:l.id)===r,node:y,over:l,setNodeRef:v}}function cd(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function PT(e,t){return e.reduce((n,r,a)=>{const o=t.get(r);return o&&(n[a]=o),n},Array(e.length))}function mo(e){return e!==null&&e>=0}function LT(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function $T(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const vo={scaleX:1,scaleY:1},zT=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:a,overIndex:o,index:i}=e;const s=(t=n[a])!=null?t:r;if(!s)return null;const l=AT(n,i,a);if(i===a){const u=n[o];return u?{x:a<o?u.left+u.width-(s.left+s.width):u.left-s.left,y:0,...vo}:null}return i>a&&i<=o?{x:-s.width-l,y:0,...vo}:i<a&&i>=o?{x:s.width+l,y:0,...vo}:{x:0,y:0,...vo}};function AT(e,t,n){const r=e[t],a=e[t-1],o=e[t+1];return!r||!a&&!o?0:n<t?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const Og=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const o=cd(t,r,n),i=t[a],s=o[a];return!s||!i?null:{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}},Dg="Sortable",Rg=X.createContext({activeIndex:-1,containerId:Dg,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Og,disabled:{draggable:!1,droppable:!1}});function NT(e){let{children:t,id:n,items:r,strategy:a=Og,disabled:o=!1}=e;const{active:i,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:d}=RT(),p=Ga(Dg,n),g=s.rect!==null,C=c.useMemo(()=>r.map(v=>typeof v=="object"&&"id"in v?v.id:v),[r]),x=i!=null,S=i?C.indexOf(i.id):-1,w=u?C.indexOf(u.id):-1,T=c.useRef(C),m=!LT(C,T.current),h=w!==-1&&S===-1||m,b=$T(o);Xt(()=>{m&&x&&d(C)},[m,C,x,d]),c.useEffect(()=>{T.current=C},[C]);const y=c.useMemo(()=>({activeIndex:S,containerId:p,disabled:b,disableTransforms:h,items:C,overIndex:w,useDragOverlay:g,sortedRects:PT(C,l),strategy:a}),[S,p,b.draggable,b.droppable,h,C,w,l,g,a]);return X.createElement(Rg.Provider,{value:y},t)}const BT=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return cd(n,r,a).indexOf(t)},WT=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:o,newIndex:i,previousItems:s,previousContainerId:l,transition:u}=e;return!u||!r||s!==o&&a===i?!1:n?!0:i!==a&&t===l},FT={duration:200,easing:"ease"},Ig="transform",HT=za.Transition.toString({property:Ig,duration:0,easing:"linear"}),qT={roleDescription:"sortable"};function VT(e){let{disabled:t,index:n,node:r,rect:a}=e;const[o,i]=c.useState(null),s=c.useRef(n);return Xt(()=>{if(!t&&n!==s.current&&r.current){const l=a.current;if(l){const u=ca(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&i(d)}}n!==s.current&&(s.current=n)},[t,n,r,a]),c.useEffect(()=>{o&&i(null)},[o]),o}function GT(e){let{animateLayoutChanges:t=WT,attributes:n,disabled:r,data:a,getNewIndex:o=BT,id:i,strategy:s,resizeObserverConfig:l,transition:u=FT}=e;const{items:d,containerId:p,activeIndex:g,disabled:C,disableTransforms:x,sortedRects:S,overIndex:w,useDragOverlay:T,strategy:m}=c.useContext(Rg),h=UT(r,C),b=d.indexOf(i),y=c.useMemo(()=>({sortable:{containerId:p,index:b,items:d},...a}),[p,a,b,d]),v=c.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:_,node:k,isOver:E,setNodeRef:D}=MT({id:i,data:y,disabled:h.droppable,resizeObserverConfig:{updateMeasurementsFor:v,...l}}),{active:j,activatorEvent:I,activeNodeRect:O,attributes:P,setNodeRef:A,listeners:M,isDragging:R,over:Z,setActivatorNodeRef:K,transform:Y}=DT({id:i,data:y,attributes:{...qT,...n},disabled:h.draggable}),xe=cw(D,A),ee=!!j,pe=ee&&!x&&mo(g)&&mo(w),oe=!T&&R,ge=oe&&pe?Y:null,Me=pe?ge??(s??m)({rects:S,activeNodeRect:O,activeIndex:g,overIndex:w,index:b}):null,B=mo(g)&&mo(w)?o({id:i,items:d,activeIndex:g,overIndex:w}):b,G=j==null?void 0:j.id,H=c.useRef({activeId:G,items:d,newIndex:B,containerId:p}),le=d!==H.current.items,te=t({active:j,containerId:p,isDragging:R,isSorting:ee,id:i,index:b,items:d,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:u,wasDragging:H.current.activeId!=null}),Q=VT({disabled:!te,index:b,node:k,rect:_});return c.useEffect(()=>{ee&&H.current.newIndex!==B&&(H.current.newIndex=B),p!==H.current.containerId&&(H.current.containerId=p),d!==H.current.items&&(H.current.items=d)},[ee,B,p,d]),c.useEffect(()=>{if(G===H.current.activeId)return;if(G&&!H.current.activeId){H.current.activeId=G;return}const ye=setTimeout(()=>{H.current.activeId=G},50);return()=>clearTimeout(ye)},[G]),{active:j,activeIndex:g,attributes:P,data:y,rect:_,index:b,newIndex:B,items:d,isOver:E,isSorting:ee,isDragging:R,listeners:M,node:k,overIndex:w,over:Z,setNodeRef:xe,setActivatorNodeRef:K,setDroppableNodeRef:D,setDraggableNodeRef:A,transform:Q??Me,transition:de()};function de(){if(Q||le&&H.current.newIndex===b)return HT;if(!(oe&&!ad(I)||!u)&&(ee||te))return za.Transition.toString({...u,property:Ig})}}function UT(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Le.Down,Le.Right,Le.Up,Le.Left;function U4({type:e="privilege",module:t,id:n,level:r,denied:a=null,children:o}){const i=ne(Dr),s=ne(ia);if(!s[t])return null;const l=dd(i,s,t,r,n,e);return f.jsx(fg,{authority:l,denied:a,children:o})}function K4({module:e,path:t,level:n,denied:r=null,children:a,...o}){const i=ne(Dr),s=ne(ia);if(!s[e])return null;const l=mi(i,s,e,t,n);return f.jsx(fg,{...o,authority:l,denied:r,children:a})}function Y4({type:e="privilege",module:t,id:n,level:r}){const a=ne(Dr),o=ne(ia);return function(i){return o[t]&&dd(a,o,t,r,n,e)?i:void 0}}function hs({module:e,path:t,level:n}){const r=ne(Dr),a=ne(ia);return function(o){return a[e]&&mi(r,a,e,t,n)?o:void 0}}function mi(e,t,n,r,a){const o=r.slice().reverse();let i=!1;for(let s=0;s<o.length;s+=1){const l=dd(e,t,n,a,o[s]);if(l!==void 0){i=l;break}}return i}function dd(e,t,n,r,a="",o="privilege"){return e?!0:o==="module"?t[n]["*"]>=r:a?t[n][a]!==void 0?(t[n][a]&r)===r:void 0:!1}const Io=re("viz/getFolders",async e=>{const t=await ce(`/viz/folders?orgId=${e}`);return t==null?void 0:t.data}),ps=re("viz/getStoryboards",async e=>{const{data:t}=await ce(`viz/storyboards?orgId=${e}`);return t}),gs=re("viz/getArchivedDatacharts",async e=>{const{data:t}=await ce(`/viz/archived/datachart/${e}`);return t}),ms=re("viz/getArchivedDashboards",async e=>{const{data:t}=await ce(`/viz/archived/dashboard/${e}`);return t}),vs=re("viz/getArchivedStoryboards",async e=>{const{data:t}=await ce(`/viz/archived/storyboard/${e}`);return t}),ys=re("viz/addStoryboard",async({storyboard:e,resolve:t})=>{const{data:n}=await ce({url:"/viz/storyboards",method:"POST",data:e});return t(),n}),bs=re("viz/editStoryboard",async({storyboard:e,resolve:t})=>(await ce({url:`/viz/storyboards/${e.id}`,method:"PUT",data:e}),t(),e));re("viz/deleteStoryboard",async({id:e,archive:t,resolve:n})=>{const{data:r}=await ce({url:`/viz/storyboards/${e}`,method:"DELETE",params:{archive:t}});return n(),r});const _a=re("viz/addViz",async({viz:e,type:t},{dispatch:n})=>{if(t==="TEMPLATE"){const{data:r}=await ce({url:`/viz/import/template?parentId=${e.parentId||""}&orgId=${e.orgId}&name=${e.name}`,method:"POST",data:e.file});return n(Io(e.orgId)),r}else{const{data:r}=await ce({url:`/viz/${t.toLowerCase()}s`,method:"POST",data:e});return r}}),Cs=re("viz/editFolder",async({folder:e,resolve:t},{getState:n})=>{const o={...tr(n()).find(({id:i})=>i===e.id),...e};return await ce({url:`/viz/folders/${e.id}`,method:"PUT",data:o}),t(),o}),xs=re("viz/unarchiveViz",async({params:{id:e,name:t,vizType:n,parentId:r,index:a},resolve:o},i)=>{await ce({url:`/viz/unarchive/${e}`,method:"PUT",params:{vizType:n,newName:t,parentId:r,index:a}}),o()}),ka=re("viz/deleteViz",async({params:{id:e,archive:t},type:n,resolve:r})=>{const{data:a}=await ce({url:`/viz/${n.toLowerCase()}s/${e}`,method:"DELETE",params:{archive:t}});return r(),a}),Ea=re("viz/publishViz",async({id:e,vizType:t,publish:n,resolve:r})=>(await ce({url:`/viz/${n?"publish":"unpublish"}/${e}`,method:"PUT",params:{vizType:t}}),r(),null)),jg=re("viz/removeTab",async({id:e,resolve:t},{getState:n,dispatch:r})=>{r(Ua.closeTab(e));const a=$g(n());return t(a?a.id:""),null}),X4=re("viz/closeAllTabs",async({resolve:e},{getState:t,dispatch:n})=>(n(Ua.closeAllTabs()),e(""),null)),J4=re("viz/closeOtherTabs",async({id:e,resolve:t},{getState:n,dispatch:r})=>{r(Ua.closeOtherTabs(e));const a=$g(n());return t(a?a.id:""),null}),Mg=re("viz/initChartPreviewData",async({backendChartId:e,filterSearchParams:t,jumpFilterParams:n,jumpVariableParams:r},a)=>(await a.dispatch(Pg({backendChartId:e,filterSearchParams:t,jumpFilterParams:n})),e&&await a.dispatch(Xn({backendChartId:e,jumpVariableParams:r})),{backendChartId:e})),Pg=re("viz/fetchVizChartAction",async e=>{const t=await ce({method:"GET",url:`viz/datacharts/${e.backendChartId}`});return{data:Tp(t==null?void 0:t.data),filterSearchParams:e.filterSearchParams,jumpFilterParams:e.jumpFilterParams}}),KT=re("viz/exportChartTpl",async(e,t)=>{var u,d;const n=(u=t.getState())==null?void 0:u.viz,{chartId:r,dataset:a,callBack:o}=e,i=n.chartPreviews.find(p=>p.backendChartId===r),s={...(d=i==null?void 0:i.backendChart)==null?void 0:d.config};s.sampleData=a;const l={avatar:s.chartGraphId,config:JSON.stringify(s)};await ce({url:"viz/export/datachart/template",method:"POST",data:{datachart:l}}),o(),t.dispatch(ib.setDownloadPolling(!0))}),Xn=re("viz/fetchDataSetByPreviewChartAction",async(e,t)=>{var s,l,u,d,p,g,C,x,S,w,T,m,h,b;const n=(s=t.getState())==null?void 0:s.viz,r=(l=n==null?void 0:n.chartPreviews)==null?void 0:l.find(y=>y.backendChartId===e.backendChartId);if(!((u=r==null?void 0:r.backendChart)!=null&&u.view.id))return{backendChartId:r==null?void 0:r.backendChartId,data:((d=r==null?void 0:r.backendChart)==null?void 0:d.config.sampleData)||[]};const o=new Sr({id:((p=r==null?void 0:r.backendChart)==null?void 0:p.view.id)||"",config:((g=r==null?void 0:r.backendChart)==null?void 0:g.view.config)||{},meta:(C=r==null?void 0:r.backendChart)==null?void 0:C.view.meta,computedFields:((S=(x=r==null?void 0:r.backendChart)==null?void 0:x.config)==null?void 0:S.computedFields)||[],type:((w=r==null?void 0:r.backendChart)==null?void 0:w.view.type)||"SQL"},(T=r==null?void 0:r.chartConfig)==null?void 0:T.datas,(m=r==null?void 0:r.chartConfig)==null?void 0:m.settings,e.pageInfo,!1,(b=(h=r==null?void 0:r.backendChart)==null?void 0:h.config)==null?void 0:b.aggregation).addExtraSorters(e!=null&&e.sorter?[e==null?void 0:e.sorter]:[]).addDrillOption(e==null?void 0:e.drillOption).addVariableParams(e==null?void 0:e.jumpVariableParams).build(),i=await ce({method:"POST",url:"data-provider/execute",data:o});return{backendChartId:r==null?void 0:r.backendChartId,data:wp(o,i.data)||[]}}),fc=re("viz/updateFilterAndFetchDataset",async(e,t)=>(await t.dispatch(Ua.updateChartPreviewFilter({backendChartId:e.backendChartId,payload:e.payload})),await t.dispatch(Xn({backendChartId:e.backendChartId,drillOption:e.drillOption})),{backendChartId:e.backendChartId})),Lg=re("viz/updateGroupAndFetchDataset",async(e,t)=>(await t.dispatch(Ua.updateChartPreviewGroup({backendChartId:e.backendChartId,payload:e.payload})),await t.dispatch(Xn({backendChartId:e.backendChartId,drillOption:e.drillOption})),{backendChartId:e.backendChartId})),jo=re("viz/saveAsDashboard",async({viz:e,dashboardId:t})=>{const{data:n}=await ce({url:`/viz/dashboards/${t}/copy`,method:"PUT",data:e});return n}),hc={vizs:[],hasVizFetched:!1,storyboards:[],vizListLoading:!1,storyboardListLoading:!1,saveFolderLoading:!1,saveStoryboardLoading:!1,publishLoading:!1,archivedDatacharts:[],archivedDashboards:[],archivedStoryboards:[],archivedDatachartLoading:!1,archivedDashboardLoading:!1,archivedStoryboardLoading:!1,tabs:[],selectedTab:"",dataChartListLoading:!1,chartPreviews:[],selectedItems:{}},Mo=$c({name:"viz",initialState:hc,reducers:{addTab(e,t){const n=e.tabs.findIndex(r=>r.id===t.payload.id);n===-1?e.tabs.push(t.payload):e.tabs[n].search!==t.payload.search&&(e.tabs[n]=t.payload),e.selectedTab=t.payload.id},closeTab(e,t){var r;const n=e.tabs.findIndex(a=>a.id===t.payload);e.tabs=e.tabs.filter(a=>a.id!==t.payload),e.selectedTab===t.payload&&(e.selectedTab=e.tabs.length>0?((r=e.tabs[n])==null?void 0:r.id)||e.tabs[e.tabs.length-1].id:"")},closeOtherTabs(e,t){const n=e.tabs.find(r=>r.id===t.payload);e.tabs=e.tabs.filter(r=>r.id===t.payload),e.selectedTab=(n==null?void 0:n.id)||""},closeAllTabs(e){e.tabs=[],e.selectedTab=""},updateChartPreviewFilter(e,t){var r,a,o,i,s,l;const n=e.chartPreviews.find(u=>u.backendChartId===t.payload.backendChartId);if(n){const u=(a=(r=n==null?void 0:n.chartConfig)==null?void 0:r.datas)==null?void 0:a.find(d=>d.type===In.Filter);if(u){const d=(o=u.rows)==null?void 0:o.findIndex(p=>{var g,C,x;return(p==null?void 0:p.uid)===((x=(C=(g=t.payload)==null?void 0:g.payload)==null?void 0:C.value)==null?void 0:x.uid)});d!==void 0&&d>-1&&u&&u.rows&&(i=u.rows)!=null&&i[d]&&(u.rows[d]=(l=(s=t.payload)==null?void 0:s.payload)==null?void 0:l.value)}}},updateChartPreviewGroup(e,t){var r,a,o,i;const n=e.chartPreviews.find(s=>s.backendChartId===t.payload.backendChartId);if(n){const s=(a=(r=n==null?void 0:n.chartConfig)==null?void 0:r.datas)==null?void 0:a.find(l=>l.type===In.Group);s&&(s.rows=(i=(o=t.payload.payload)==null?void 0:o.value)==null?void 0:i.rows)}},updateComputedFields(e,t){var r;const n=e.chartPreviews.find(a=>a.backendChartId===t.payload.backendChartId);n&&((r=n==null?void 0:n.backendChart)!=null&&r.config)&&(n.backendChart.config.computedFields=t.payload.computedFields)},clear(e){Object.entries(hc).forEach(([t,n])=>{e[t]=n})},changeSelectedItems(e,{payload:t}){e.selectedItems[t.backendChartId]=t.data}},extraReducers:e=>{e.addCase(Io.pending,t=>{t.vizListLoading=!0}),e.addCase(Io.fulfilled,(t,n)=>{t.vizListLoading=!1,t.hasVizFetched=!0,t.vizs=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Io.rejected,t=>{t.vizListLoading=!1,t.hasVizFetched=!0}),e.addCase(ps.pending,t=>{t.storyboardListLoading=!0}),e.addCase(ps.fulfilled,(t,n)=>{t.storyboardListLoading=!1,t.storyboards=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(ps.rejected,t=>{t.storyboardListLoading=!1}),e.addCase(gs.pending,t=>{t.archivedDatachartLoading=!0}),e.addCase(gs.fulfilled,(t,n)=>{t.archivedDatachartLoading=!1,t.archivedDatacharts=n.payload.map(({id:r,name:a})=>({id:r,name:a,vizType:"DATACHART",deleteLoading:!1,index:null,isFolder:!1,parentId:null}))}),e.addCase(gs.rejected,t=>{t.archivedDatachartLoading=!1}),e.addCase(ms.pending,t=>{t.archivedDashboardLoading=!0}),e.addCase(ms.fulfilled,(t,n)=>{t.archivedDashboardLoading=!1,t.archivedDashboards=n.payload.map(({id:r,name:a})=>({id:r,name:a,vizType:"DASHBOARD",deleteLoading:!1,index:null,isFolder:!1,parentId:null}))}),e.addCase(ms.rejected,t=>{t.archivedDashboardLoading=!1}),e.addCase(vs.pending,t=>{t.archivedStoryboardLoading=!0}),e.addCase(vs.fulfilled,(t,n)=>{t.archivedStoryboardLoading=!1,t.archivedStoryboards=n.payload.map(({id:r,name:a})=>({id:r,name:a,vizType:"STORYBOARD",deleteLoading:!1,index:null,isFolder:!1,parentId:null}))}),e.addCase(vs.rejected,t=>{t.archivedStoryboardLoading=!1}),e.addCase(_a.pending,t=>{t.saveFolderLoading=!0}),e.addCase(_a.fulfilled,(t,n)=>{t.saveFolderLoading=!1,t.vizs.push({...n.payload,deleteLoading:!1})}),e.addCase(_a.rejected,t=>{t.saveFolderLoading=!1}),e.addCase(Cs.pending,t=>{t.saveFolderLoading=!0}),e.addCase(Cs.fulfilled,(t,n)=>{t.saveFolderLoading=!1,t.vizs=t.vizs.map(r=>r.id===n.payload.id?n.payload:r)}),e.addCase(Cs.rejected,t=>{t.saveFolderLoading=!1}),e.addCase(Ea.pending,t=>{t.publishLoading=!0}),e.addCase(Ea.fulfilled,(t,n)=>{var a;t.publishLoading=!1;const r=n.meta.arg.publish?2:1;switch(n.meta.arg.vizType){case"DATACHART":const o=(a=t.chartPreviews)==null?void 0:a.findIndex(i=>i.backendChartId===n.meta.arg.id);o>=0&&t.chartPreviews[o].backendChart&&(t.chartPreviews[o]={...t.chartPreviews[o],backendChart:{...t.chartPreviews[o].backendChart,status:r},version:Gt()});break}}),e.addCase(Ea.rejected,t=>{t.publishLoading=!1}),e.addCase(xs.pending,(t,n)=>{const{id:r,vizType:a}=n.meta.arg.params;let o;switch(a){case"DASHBOARD":o=t.archivedDashboards.find(i=>i.id===r);break;case"DATACHART":o=t.archivedDatacharts.find(i=>i.id===r);break;case"STORYBOARD":o=t.archivedStoryboards.find(i=>i.id===r);break}o&&(o.deleteLoading=!0)}),e.addCase(xs.fulfilled,(t,n)=>{const{id:r,vizType:a}=n.meta.arg.params;switch(a){case"DASHBOARD":t.archivedDashboards=t.archivedDashboards.filter(o=>o.id!==r);break;case"DATACHART":t.archivedDatacharts=t.archivedDatacharts.filter(o=>o.id!==r);break;case"STORYBOARD":t.archivedStoryboards=t.archivedStoryboards.filter(o=>o.id!==r);break}}),e.addCase(xs.rejected,(t,n)=>{const{id:r,vizType:a}=n.meta.arg.params;let o;switch(a){case"DASHBOARD":o=t.archivedDashboards.find(i=>i.id===r);break;case"DATACHART":o=t.archivedDatacharts.find(i=>i.id===r);break;case"STORYBOARD":o=t.archivedStoryboards.find(i=>i.id===r);break}o&&(o.deleteLoading=!1)}),e.addCase(ka.pending,(t,n)=>{const{params:{id:r,archive:a},type:o}=n.meta.arg;if(a)if(o==="STORYBOARD"){const i=t.storyboards.find(s=>s.id===r);i&&(i.deleteLoading=!0)}else{const i=t.vizs.find(s=>s.relId===r);i&&(i.deleteLoading=!0)}else if(o==="DASHBOARD"){const i=t.archivedDashboards.find(s=>s.id===r);i&&(i.deleteLoading=!0)}else if(o==="DATACHART"){const i=t.archivedDatacharts.find(s=>s.id===r);i&&(i.deleteLoading=!0)}else if(o==="STORYBOARD"){const i=t.storyboards.find(l=>l.id===r);i&&(i.deleteLoading=!0);const s=t.archivedStoryboards.find(l=>l.id===r);s&&(s.deleteLoading=!0)}else{const i=t.vizs.find(s=>s.id===r);i&&(i.deleteLoading=!0)}}),e.addCase(ka.fulfilled,(t,n)=>{const{params:{id:r,archive:a},type:o}=n.meta.arg;a?o==="STORYBOARD"?t.storyboards=t.storyboards.filter(i=>i.id!==r):t.vizs=t.vizs.filter(i=>i.relId!==r):o==="DASHBOARD"?t.archivedDashboards=t.archivedDashboards.filter(i=>i.id!==r):o==="DATACHART"?t.archivedDatacharts=t.archivedDatacharts.filter(i=>i.id!==r):o==="STORYBOARD"?(t.storyboards=t.storyboards.filter(i=>i.id!==r),t.archivedStoryboards=t.archivedStoryboards.filter(i=>i.id!==r)):t.vizs=t.vizs.filter(i=>i.id!==r)}),e.addCase(ka.rejected,(t,n)=>{const{params:{id:r,archive:a},type:o}=n.meta.arg;if(a)if(o==="STORYBOARD"){const i=t.storyboards.find(s=>s.id===r);i&&(i.deleteLoading=!1)}else{const i=t.vizs.find(s=>s.relId===r);i&&(i.deleteLoading=!1)}else if(o==="DASHBOARD"){const i=t.archivedDashboards.find(s=>s.id===r);i&&(i.deleteLoading=!1)}else if(o==="DATACHART"){const i=t.archivedDatacharts.find(s=>s.id===r);i&&(i.deleteLoading=!1)}else if(o==="STORYBOARD"){const i=t.storyboards.find(l=>l.id===r);i&&(i.deleteLoading=!1);const s=t.archivedStoryboards.find(l=>l.id===r);s&&(s.deleteLoading=!1)}else{const i=t.vizs.find(s=>s.id===r);i&&(i.deleteLoading=!1)}}),e.addCase(jo.pending,t=>{t.saveFolderLoading=!0}),e.addCase(jo.fulfilled,(t,n)=>{t.saveFolderLoading=!1,t.vizs.push({...n.payload,deleteLoading:!1})}),e.addCase(jo.rejected,t=>{t.saveFolderLoading=!1}),e.addCase(ys.pending,t=>{t.saveStoryboardLoading=!0}),e.addCase(ys.fulfilled,(t,n)=>{t.saveStoryboardLoading=!1,t.storyboards.push({...n.payload,deleteLoading:!1})}),e.addCase(ys.rejected,t=>{t.saveStoryboardLoading=!1}),e.addCase(bs.pending,t=>{t.saveStoryboardLoading=!0}),e.addCase(bs.fulfilled,(t,n)=>{t.saveStoryboardLoading=!1,t.storyboards=t.storyboards.map(r=>r.id===n.meta.arg.storyboard.id?{...r,...n.payload,deleteLoading:!1}:r)}),e.addCase(bs.rejected,t=>{t.saveStoryboardLoading=!1}),e.addCase(Mg.fulfilled,(t,n)=>{var a;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(o=>{var i;return o.backendChartId===((i=n.payload)==null?void 0:i.backendChartId)});r<0||(t.chartPreviews[r]={...t.chartPreviews[r],version:Gt()})}),e.addCase(Pg.fulfilled,(t,n)=>{var l,u;const r=sb(n.payload.data),a=n.payload.jumpFilterParams,o=n.payload.filterSearchParams,i=(l=t.chartPreviews)==null?void 0:l.findIndex(d=>d.backendChartId===(r==null?void 0:r.id)),s=Fa.instance().getById((u=r==null?void 0:r.config)==null?void 0:u.chartGraphId);if(i<0)t.chartPreviews.push({backendChartId:r==null?void 0:r.id,backendChart:r,chartConfig:s?yu(Ho(s==null?void 0:s.config,qo(r==null?void 0:r.config)),o,!1,a):void 0});else{const d=t.chartPreviews[i];t.chartPreviews[i]={...d,backendChart:r,chartConfig:yu(Ho(s==null?void 0:s.config,qo(r==null?void 0:r.config)),o,!1,a)}}}),e.addCase(Xn.pending,(t,n)=>{var a;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(o=>{var i,s;return o.backendChartId===((s=(i=n==null?void 0:n.meta)==null?void 0:i.arg)==null?void 0:s.backendChartId)});r!==void 0&&(t.chartPreviews[r].isLoadingData=!0,t.chartPreviews[r].version=Gt())}),e.addCase(Xn.rejected,(t,n)=>{var a;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(o=>{var i,s;return o.backendChartId===((s=(i=n==null?void 0:n.meta)==null?void 0:i.arg)==null?void 0:s.backendChartId)});r!==void 0&&(t.chartPreviews[r].isLoadingData=!1,t.chartPreviews[r].version=Gt())}),e.addCase(Xn.fulfilled,(t,n)=>{var a,o,i,s,l;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(u=>{var d;return u.backendChartId===((d=n.payload)==null?void 0:d.backendChartId)});if(t.selectedItems[(o=n.payload)==null?void 0:o.backendChartId]=[],r<0){t.chartPreviews.push({backendChartId:(i=n.payload)==null?void 0:i.backendChartId,isLoadingData:!1,dataset:(s=n.payload)==null?void 0:s.data});return}t.chartPreviews[r]={...t.chartPreviews[r],dataset:(l=n.payload)==null?void 0:l.data,isLoadingData:!1,version:Gt()}}),e.addCase(fc.fulfilled,(t,n)=>{var a;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(o=>{var i;return o.backendChartId===((i=n.payload)==null?void 0:i.backendChartId)});r<0||(t.chartPreviews[r]={...t.chartPreviews[r],version:Gt()})}),e.addCase(Lg.fulfilled,(t,n)=>{var a;const r=(a=t.chartPreviews)==null?void 0:a.findIndex(o=>{var i;return o.backendChartId===((i=n.payload)==null?void 0:i.backendChartId)});r<0||(t.chartPreviews[r]={...t.chartPreviews[r],version:Gt()})})}}),{actions:Ua,reducer:Z4}=Mo,YT=()=>(zc({key:Mo.name,reducer:Mo.reducer}),{actions:Mo.actions}),ft=e=>e.viz||hc,tr=J([ft],e=>e.vizs),Q4=()=>J([tr,(e,t)=>t.getIcon,(e,t)=>t.getDisabled],(e,t,n)=>Pn(e.map(r=>({...r,isFolder:r.relType==="FOLDER"})),null,[xn.Folder],{getIcon:t,getDisabled:n})),e8=()=>J([tr,(e,t)=>t.id,(e,t)=>t.getDisabled],(e,t,n)=>Pn(e&&e.filter(r=>r.relType==="FOLDER"&&r.id!==t).map(r=>({...r,isFolder:!0})),null,[xn.Folder],{getDisabled:n})),ud=J([ft],e=>e.storyboards),t8=()=>J([ud,(e,t)=>t.getIcon,(e,t)=>t.getDisabled],(e,t,n)=>Pn(e,null,[xn.Storyboard],{getIcon:t,getDisabled:n})),XT=J([ft],e=>e.archivedDatacharts),JT=J([ft],e=>e.archivedDashboards),ZT=J([ft],e=>e.archivedStoryboards),n8=()=>J([ZT,(e,t)=>t.getDisabled],(e,t)=>Pn(e,null,[xn.Storyboard],{getDisabled:t})),r8=()=>J([JT,(e,t)=>t.getDisabled],(e,t)=>Pn(e,null,[xn.Storyboard],{getDisabled:t})),a8=()=>J([XT,(e,t)=>t.getDisabled],(e,t)=>Pn(e,null,[xn.Storyboard],{getDisabled:t})),o8=()=>J([ud,(e,t)=>t.id,(e,t)=>t.getDisabled],(e,t,n)=>Pn(e&&e.filter(r=>r.isFolder&&r.id!==t),null,[xn.Storyboard],{getDisabled:n})),i8=J([ft],e=>e.vizListLoading),s8=J([ft],e=>e.storyboardListLoading),l8=J([ft],e=>e.saveFolderLoading),c8=J([ft],e=>e.saveStoryboardLoading),fd=J([ft],e=>e.publishLoading),d8=J([ft],e=>e.archivedDatachartLoading),u8=J([ft],e=>e.archivedDashboardLoading),f8=J([ft],e=>e.archivedStoryboardLoading),h8=J([ft],e=>e.tabs),$g=J([ft],e=>e.tabs.find(t=>t.id===e.selectedTab)),QT=J([ft],e=>e.chartPreviews),p8=J([ft],e=>e.hasVizFetched),e_=J([ft],e=>e.selectedItems);function t_({showSaveForm:e}){const t=ne(tr),n=qe(),r=ne(lb),a=c.useCallback((i,s)=>{const l=s;if(i==="DASHBOARD")try{l.config=JSON.stringify(cb(s.boardType)),l.subType=l.boardType}catch(u){throw u}if(i==="TEMPLATE"){const u=new FormData;u.append("file",l==null?void 0:l.file),l.file=u}return l},[]);return c.useCallback(({vizType:i,type:s,visible:l,initialValues:u,callback:d,onAfterClose:p})=>{e({vizType:i,type:s,visible:l,initialValues:u,onSave:async(g,C)=>{const x=a(i,g),S=ap(g,t),w=await n(_a({viz:{...u,...x,name:g==null?void 0:g.name,orgId:r,index:S,avatar:i==="DATACHART"?u.avatar:null},type:i}));w.error||(d==null||d(w.payload),C())},onAfterClose:p})},[e,t,n,r,a])}const n_={vizType:"FOLDER",type:ri.Add,visible:!1,isSaveAs:!1,onSave:()=>{},onCancel:()=>{},showSaveForm:()=>{}},zg=c.createContext(n_),g8=()=>{const[e,t]=c.useState("FOLDER"),[n,r]=c.useState(ri.Add),[a,o]=c.useState(!1),[i,s]=c.useState(),[l,u]=c.useState(()=>()=>{}),[d,p]=c.useState(()=>()=>{}),g=c.useCallback(()=>{o(!1)},[o]),C=c.useCallback(({vizType:x,type:S,visible:w,initialValues:T,onSave:m,onAfterClose:h})=>{t(x),r(S),o(w),s(T),u(()=>m),p(()=>h)},[]);return{vizType:e,type:n,visible:a,initialValues:i,onSave:l,onCancel:g,onAfterClose:d,showSaveForm:C}};function r_(e,t,n=Zy,r=!1){const[a,o]=c.useState(""),i=c.useMemo(()=>e&&a.trim()?Jy(e,a,t,r):e,[e,a,t,r]),s=c.useMemo(()=>gn(u=>{o(u.target.value)},n),[n]);return{keywords:a,filteredData:i,debouncedSearch:s}}function a_(){const t=Fa.instance().getAllChartIcons();return c.useCallback(({relType:n,avatar:r,subType:a})=>{switch(n){case"DASHBOARD":return a!==null?Vu(a==="free"?"CombinedShape":"kanban"):f.jsx(l1,{});case"DATACHART":return r?Vu(t[r]):f.jsx(RS,{});default:return o=>o.expanded?f.jsx(a1,{}):f.jsx(e1,{})}},[t])}const Vu=e=>/^<svg/.test(e)||/^<\?xml/.test(e)?f.jsx(i_,{iconStr:e}):/svg\+xml;base64/.test(e)?f.jsx(s_,{iconStr:e}):f.jsx(o_,{iconStr:e}),o_=({iconStr:e})=>f.jsx(c_,{className:`iconfont icon-${e||"chart"}`}),i_=({iconStr:e})=>{const t=window.encodeURIComponent(e);return f.jsx(l_,{alt:"svg icon",style:{height:Da,width:Da},src:`data:image/svg+xml;utf8,${t}`})},s_=({iconStr:e})=>f.jsx(d_,{alt:"svg icon",style:{height:Da,width:Da},src:e}),l_=$.img.withConfig({displayName:"useGetVizIcon__StyledInlineSVGIcon",componentId:"sc-sp3wqh-0"})([""]),c_=$.i.withConfig({displayName:"useGetVizIcon__StyledSVGFontIcon",componentId:"sc-sp3wqh-1"})([""]),d_=$.img.withConfig({displayName:"useGetVizIcon__StyledBase64Icon",componentId:"sc-sp3wqh-2"})([""]),u_=c.memo(({isModalVisible:e,title:t,backendChartId:n,handleOk:r,handleCancel:a,handleOpen:o})=>{const i=ne(tr),[s,l]=c.useState(i),[u,d]=c.useState(""),p=Ce("components.saveToDashOrStory"),g=Ce("global.button"),C=a_(),x=ne(Dr),S=ne(ia),{showSaveForm:w}=c.useContext(zg),T=t_({showSaveForm:w}),m=c.useCallback((E,D)=>{d(D.node.relId)},[]),h=c.useCallback(async E=>{var I,O;const{data:D}=await ce(`/viz/dashboards/${E}`);if(((I=D==null?void 0:D.datacharts)==null?void 0:I.findIndex(P=>P.id===n))!==-1)return xr.error(p("haveCharts")),!1;try{r(E,(O=JSON.parse((D==null?void 0:D.config)||"{}"))==null?void 0:O.type)}catch{}},[r,n,p]);c.useEffect(()=>{l(i==null?void 0:i.filter(E=>E.relType!=="DATACHART"))},[i]);const b=c.useCallback((E,D)=>!(!mi(x,S,Fr.Viz,E,xa.Manage)&&D.relType==="DASHBOARD"),[x,S]),y=c.useMemo(()=>Pn(s==null?void 0:s.map(E=>({...E,isFolder:E.relType==="FOLDER",selectable:E.relType!=="FOLDER"})),null,[xn.Folder],{getIcon:C,filter:b}),[s,C,b]),{filteredData:v,debouncedSearch:_}=r_(y,(E,D)=>D.name.toLowerCase().includes(E.toLowerCase())),k=c.useCallback(()=>{a(),T({vizType:"DASHBOARD",type:ri.Add,visible:!0,initialValues:void 0,onAfterClose:()=>{o()}})},[T,a,o]);return f.jsxs(Rr,{title:t,open:e,footer:f.jsxs(ut,{children:[f.jsx(He,{onClick:k,children:p("createDashboard")}),f.jsx(He,{onClick:a,children:g("cancel")}),f.jsx(He,{onClick:()=>{h(u)},disabled:!u,type:"primary",children:g("ok")})]}),onCancel:a,children:[f.jsx(f_,{children:f.jsx(_p,{onChange:_,placeholder:p("searchValue")})}),f.jsx($C,{loading:!1,showIcon:!0,defaultExpandAll:!0,treeData:v,height:300,id:"save-to-dashboard",onSelect:m})]})}),f_=$.div.withConfig({displayName:"SaveToDashboard__InputWrap",componentId:"sc-1pnxsmf-0"})(["padding:0 20px;margin-bottom:10px;"]);var Ag={exports:{}},Ng={exports:{}};(function(e){function t(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,i,s,l,u=[],d=!0,p=!1;try{if(s=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(o=s.call(a)).done)&&(u.push(o.value),u.length!==r);d=!0);}catch(g){p=!0,i=g}finally{try{if(!d&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(p)throw i}}return u}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Ng);var h_=Ng.exports;(function(e){var t=Qy,n=h_,r=e0,a=t0;function o(i,s){return t(i)||n(i,s)||r(i,s)||a()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})(Ag);var p_=Ag.exports,hd={},g_=he.default,m_=F.default;Object.defineProperty(hd,"__esModule",{value:!0});hd.default=y_;var v_=m_(p_),Ss=g_(c);function y_(e){var t=Ss.useRef(!1),n=Ss.useState(e),r=(0,v_.default)(n,2),a=r[0],o=r[1];Ss.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function i(s,l){l&&t.current||o(s)}return[a,i]}var vi={},b_=F.default;Object.defineProperty(vi,"__esModule",{value:!0});vi.default=x_;var C_=b_(n0);function x_(e,t){var n=(0,C_.default)({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}var nr={},S_=he.default;Object.defineProperty(nr,"__esModule",{value:!0});nr.cloneElement=T_;nr.isFragment=w_;nr.isValidElement=void 0;nr.replaceElement=Bg;var pd=S_(c);const{isValidElement:gd}=pd;nr.isValidElement=gd;function w_(e){return e&&gd(e)&&e.type===pd.Fragment}function Bg(e,t,n){return gd(e)?pd.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t}function T_(e,t){return Bg(e,e,t)}var md={},__=F.default;Object.defineProperty(md,"__esModule",{value:!0});md.default=pc;var k_=__(c),E_=op;function pc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return k_.default.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(pc(r)):(0,E_.isFragment)(r)&&r.props?n=n.concat(pc(r.props.children,t)):n.push(r))}),n}var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.getTransitionName=Tr.default=void 0;const ws=()=>({height:0,opacity:0}),Gu=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},O_=e=>({height:e?e.offsetHeight:0}),Ts=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",D_=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:ws,onEnterStart:ws,onAppearActive:Gu,onEnterActive:Gu,onLeaveStart:O_,onLeaveActive:ws,onAppearEnd:Ts,onEnterEnd:Ts,onLeaveEnd:Ts,motionDeadline:500}},R_=(e,t,n)=>n!==void 0?n:`${e}-${t}`;Tr.getTransitionName=R_;var I_=D_;Tr.default=I_;var Kt={},Ka={},Wg=F.default;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;var Uu=Wg(c),j_=Wg(r0);const M_=e=>{const t=Uu.default.useContext(j_.default);return Uu.default.useMemo(()=>e?typeof e=="string"?e??t:e instanceof Function?e(t):t:t,[e,t])};var P_=M_;Ka.default=P_;var yi={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.default=void 0;const L_=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};var $_=L_;bi.default=$_;var z_=F.default;Object.defineProperty(yi,"__esModule",{value:!0});yi.default=void 0;var Ku=Er,A_=z_(bi);const N_=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"}}}},B_=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}};var W_=(0,Ku.genComponentStyleHook)("Space",e=>{const t=(0,Ku.mergeToken)(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[N_(t),B_(t),(0,A_.default)(t)]},()=>({}),{resetStyle:!1});yi.default=W_;var F_=he.default,Ci=F.default;Object.defineProperty(Kt,"__esModule",{value:!0});Kt.useCompactItemContext=Kt.default=Kt.SpaceCompactItemContext=Kt.NoCompactStyle=void 0;var Fg=Ci(ke),H_=Ci(md),vn=F_(c),q_=Ln,V_=Ci(Ka),G_=Ci(yi),Hg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ya=vn.createContext(null);Kt.SpaceCompactItemContext=Ya;const U_=(e,t)=>{const n=vn.useContext(Ya),r=vn.useMemo(()=>{if(!n)return"";const{compactDirection:a,isFirstItem:o,isLastItem:i}=n,s=a==="vertical"?"-vertical-":"-";return(0,Fg.default)(`${e}-compact${s}item`,{[`${e}-compact${s}first-item`]:o,[`${e}-compact${s}last-item`]:i,[`${e}-compact${s}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}};Kt.useCompactItemContext=U_;const K_=e=>{let{children:t}=e;return vn.createElement(Ya.Provider,{value:null},t)};Kt.NoCompactStyle=K_;const Y_=e=>{var{children:t}=e,n=Hg(e,["children"]);return vn.createElement(Ya.Provider,{value:n},t)},X_=e=>{const{getPrefixCls:t,direction:n}=vn.useContext(q_.ConfigContext),{size:r,direction:a,block:o,prefixCls:i,className:s,rootClassName:l,children:u}=e,d=Hg(e,["size","direction","block","prefixCls","className","rootClassName","children"]),p=(0,V_.default)(h=>r??h),g=t("space-compact",i),[C,x]=(0,G_.default)(g),S=(0,Fg.default)(g,x,{[`${g}-rtl`]:n==="rtl",[`${g}-block`]:o,[`${g}-vertical`]:a==="vertical"},s,l),w=vn.useContext(Ya),T=(0,H_.default)(u),m=vn.useMemo(()=>T.map((h,b)=>{const y=h&&h.key||`${g}-item-${b}`;return vn.createElement(Y_,{key:y,compactSize:p,compactDirection:a,isFirstItem:b===0&&(!w||(w==null?void 0:w.isFirstItem)),isLastItem:b===T.length-1&&(!w||(w==null?void 0:w.isLastItem))},h)}),[r,T,w]);return T.length===0?null:C(vn.createElement("div",Object.assign({className:S},d),m))};var J_=X_;Kt.default=J_;var qg={},Jn={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.initMotion=void 0;const Z_=e=>({animationDuration:e,animationFillMode:"both"}),Q_=e=>({animationDuration:e,animationFillMode:"both"}),ek=function(e,t,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:Object.assign(Object.assign({},Z_(r)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:Object.assign(Object.assign({},Q_(r)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}};Ir.initMotion=ek;Object.defineProperty(Jn,"__esModule",{value:!0});Jn.initFadeMotion=Jn.fadeOut=Jn.fadeIn=void 0;var Vg=ai,tk=Ir;const Gg=new Vg.Keyframes("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}});Jn.fadeIn=Gg;const Ug=new Vg.Keyframes("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}});Jn.fadeOut=Ug;const nk=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=e,r=`${n}-fade`,a=t?"&":"";return[(0,tk.initMotion)(r,Gg,Ug,e.motionDurationMid,t),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]};Jn.initFadeMotion=nk;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.moveUpOut=rt.moveUpIn=rt.moveRightOut=rt.moveRightIn=rt.moveLeftOut=rt.moveLeftIn=rt.moveDownOut=rt.moveDownIn=rt.initMoveMotion=void 0;var rr=ai,rk=Ir;const Kg=new rr.Keyframes("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}});rt.moveDownIn=Kg;const Yg=new rr.Keyframes("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}});rt.moveDownOut=Yg;const Xg=new rr.Keyframes("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}});rt.moveLeftIn=Xg;const Jg=new rr.Keyframes("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}});rt.moveLeftOut=Jg;const Zg=new rr.Keyframes("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}});rt.moveRightIn=Zg;const Qg=new rr.Keyframes("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}});rt.moveRightOut=Qg;const em=new rr.Keyframes("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}});rt.moveUpIn=em;const tm=new rr.Keyframes("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}});rt.moveUpOut=tm;const ak={"move-up":{inKeyframes:em,outKeyframes:tm},"move-down":{inKeyframes:Kg,outKeyframes:Yg},"move-left":{inKeyframes:Xg,outKeyframes:Jg},"move-right":{inKeyframes:Zg,outKeyframes:Qg}},ok=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=ak[t];return[(0,rk.initMotion)(r,a,o,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};rt.initMoveMotion=ok;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.slideUpOut=at.slideUpIn=at.slideRightOut=at.slideRightIn=at.slideLeftOut=at.slideLeftIn=at.slideDownOut=at.slideDownIn=at.initSlideMotion=void 0;var ar=ai,ik=Ir;const nm=new ar.Keyframes("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}});at.slideUpIn=nm;const rm=new ar.Keyframes("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}});at.slideUpOut=rm;const am=new ar.Keyframes("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}});at.slideDownIn=am;const om=new ar.Keyframes("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}});at.slideDownOut=om;const im=new ar.Keyframes("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}});at.slideLeftIn=im;const sm=new ar.Keyframes("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}});at.slideLeftOut=sm;const lm=new ar.Keyframes("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}});at.slideRightIn=lm;const cm=new ar.Keyframes("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}});at.slideRightOut=cm;const sk={"slide-up":{inKeyframes:nm,outKeyframes:rm},"slide-down":{inKeyframes:am,outKeyframes:om},"slide-left":{inKeyframes:im,outKeyframes:sm},"slide-right":{inKeyframes:lm,outKeyframes:cm}},lk=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=sk[t];return[(0,ik.initMotion)(r,a,o,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]};at.initSlideMotion=lk;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.zoomUpOut=We.zoomUpIn=We.zoomRightOut=We.zoomRightIn=We.zoomOut=We.zoomLeftOut=We.zoomLeftIn=We.zoomIn=We.zoomDownOut=We.zoomDownIn=We.zoomBigOut=We.zoomBigIn=We.initZoomMotion=void 0;var Bt=ai,ck=Ir;const dm=new Bt.Keyframes("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}});We.zoomIn=dm;const um=new Bt.Keyframes("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}});We.zoomOut=um;const gc=new Bt.Keyframes("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}});We.zoomBigIn=gc;const mc=new Bt.Keyframes("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}});We.zoomBigOut=mc;const fm=new Bt.Keyframes("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}});We.zoomUpIn=fm;const hm=new Bt.Keyframes("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}});We.zoomUpOut=hm;const pm=new Bt.Keyframes("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}});We.zoomLeftIn=pm;const gm=new Bt.Keyframes("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}});We.zoomLeftOut=gm;const mm=new Bt.Keyframes("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}});We.zoomRightIn=mm;const vm=new Bt.Keyframes("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}});We.zoomRightOut=vm;const ym=new Bt.Keyframes("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}});We.zoomDownIn=ym;const bm=new Bt.Keyframes("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}});We.zoomDownOut=bm;const dk={zoom:{inKeyframes:dm,outKeyframes:um},"zoom-big":{inKeyframes:gc,outKeyframes:mc},"zoom-big-fast":{inKeyframes:gc,outKeyframes:mc},"zoom-left":{inKeyframes:pm,outKeyframes:gm},"zoom-right":{inKeyframes:mm,outKeyframes:vm},"zoom-up":{inKeyframes:fm,outKeyframes:hm},"zoom-down":{inKeyframes:ym,outKeyframes:bm}},uk=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:o}=dk[t];return[(0,ck.initMotion)(r,a,o,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};We.initZoomMotion=uk;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.default=void 0;const fk=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}});var hk=fk;xi.default=hk;(function(e){var t=F.default;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"fadeIn",{enumerable:!0,get:function(){return n.fadeIn}}),Object.defineProperty(e,"fadeOut",{enumerable:!0,get:function(){return n.fadeOut}}),Object.defineProperty(e,"genCollapseMotion",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"initFadeMotion",{enumerable:!0,get:function(){return n.initFadeMotion}}),Object.defineProperty(e,"initMoveMotion",{enumerable:!0,get:function(){return r.initMoveMotion}}),Object.defineProperty(e,"initSlideMotion",{enumerable:!0,get:function(){return a.initSlideMotion}}),Object.defineProperty(e,"initZoomMotion",{enumerable:!0,get:function(){return o.initZoomMotion}}),Object.defineProperty(e,"moveDownIn",{enumerable:!0,get:function(){return r.moveDownIn}}),Object.defineProperty(e,"moveDownOut",{enumerable:!0,get:function(){return r.moveDownOut}}),Object.defineProperty(e,"moveLeftIn",{enumerable:!0,get:function(){return r.moveLeftIn}}),Object.defineProperty(e,"moveLeftOut",{enumerable:!0,get:function(){return r.moveLeftOut}}),Object.defineProperty(e,"moveRightIn",{enumerable:!0,get:function(){return r.moveRightIn}}),Object.defineProperty(e,"moveRightOut",{enumerable:!0,get:function(){return r.moveRightOut}}),Object.defineProperty(e,"moveUpIn",{enumerable:!0,get:function(){return r.moveUpIn}}),Object.defineProperty(e,"moveUpOut",{enumerable:!0,get:function(){return r.moveUpOut}}),Object.defineProperty(e,"slideDownIn",{enumerable:!0,get:function(){return a.slideDownIn}}),Object.defineProperty(e,"slideDownOut",{enumerable:!0,get:function(){return a.slideDownOut}}),Object.defineProperty(e,"slideLeftIn",{enumerable:!0,get:function(){return a.slideLeftIn}}),Object.defineProperty(e,"slideLeftOut",{enumerable:!0,get:function(){return a.slideLeftOut}}),Object.defineProperty(e,"slideRightIn",{enumerable:!0,get:function(){return a.slideRightIn}}),Object.defineProperty(e,"slideRightOut",{enumerable:!0,get:function(){return a.slideRightOut}}),Object.defineProperty(e,"slideUpIn",{enumerable:!0,get:function(){return a.slideUpIn}}),Object.defineProperty(e,"slideUpOut",{enumerable:!0,get:function(){return a.slideUpOut}}),Object.defineProperty(e,"zoomBigIn",{enumerable:!0,get:function(){return o.zoomBigIn}}),Object.defineProperty(e,"zoomBigOut",{enumerable:!0,get:function(){return o.zoomBigOut}}),Object.defineProperty(e,"zoomDownIn",{enumerable:!0,get:function(){return o.zoomDownIn}}),Object.defineProperty(e,"zoomDownOut",{enumerable:!0,get:function(){return o.zoomDownOut}}),Object.defineProperty(e,"zoomIn",{enumerable:!0,get:function(){return o.zoomIn}}),Object.defineProperty(e,"zoomLeftIn",{enumerable:!0,get:function(){return o.zoomLeftIn}}),Object.defineProperty(e,"zoomLeftOut",{enumerable:!0,get:function(){return o.zoomLeftOut}}),Object.defineProperty(e,"zoomOut",{enumerable:!0,get:function(){return o.zoomOut}}),Object.defineProperty(e,"zoomRightIn",{enumerable:!0,get:function(){return o.zoomRightIn}}),Object.defineProperty(e,"zoomRightOut",{enumerable:!0,get:function(){return o.zoomRightOut}}),Object.defineProperty(e,"zoomUpIn",{enumerable:!0,get:function(){return o.zoomUpIn}}),Object.defineProperty(e,"zoomUpOut",{enumerable:!0,get:function(){return o.zoomUpOut}});var n=Jn,r=rt,a=at,o=We,i=t(xi)})(qg);var Si={},wi={},or={},Cm=F.default;Object.defineProperty(or,"__esModule",{value:!0});or.composeRef=wm;or.fillRef=Sm;or.supportNodeRef=yk;or.supportRef=Tm;or.useComposeRef=vk;var pk=Cm(ip),gk=c,xm=op,mk=Cm(a0);function Sm(e,t){typeof e=="function"?e(t):(0,pk.default)(e)==="object"&&e&&"current"in e&&(e.current=t)}function wm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(a){return a});return r.length<=1?r[0]:function(a){t.forEach(function(o){Sm(o,a)})}}function vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,mk.default)(function(){return wm.apply(void 0,t)},t,function(r,a){return r.length!==a.length||r.every(function(o,i){return o!==a[i]})})}function Tm(e){var t,n,r=(0,xm.isMemo)(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((n=e.prototype)!==null&&n!==void 0&&n.render))}function yk(e){return!(0,gk.isValidElement)(e)||(0,xm.isFragment)(e)?!1:Tm(e)}var Ti={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.default=void 0;var bk=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var n=t.getBBox(),r=n.width,a=n.height;if(r||a)return!0}if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),i=o.width,s=o.height;if(i||s)return!0}}return!1};_i.default=bk;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.default=void 0;var Ck=Er;const xk=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${e.motionEaseInOut}`,`opacity 0.35s ${e.motionEaseInOut}`].join(",")}}}}};var Sk=(0,Ck.genComponentStyleHook)("Wave",e=>[xk(e)]);ki.default=Sk;var vd={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.default=void 0;var _m=function(t){return+setTimeout(t,16)},km=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(_m=function(t){return window.requestAnimationFrame(t)},km=function(t){return window.cancelAnimationFrame(t)});var Yu=0,yd=new Map;function Em(e){yd.delete(e)}var Om=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Yu+=1;var r=Yu;function a(o){if(o===0)Em(r),t();else{var i=_m(function(){a(o-1)});yd.set(r,i)}}return a(n),r};Om.cancel=function(e){var t=yd.get(e);return Em(t),km(t)};var wk=Om;Xa.default=wk;var Ei={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.getTargetWaveColor=Tk;Ja.isNotGrey=Dm;Ja.isValidWaveColor=Po;function Dm(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function Po(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&Dm(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Tk(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return Po(t)?t:Po(n)?n:Po(r)?r:null}var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.TARGET_CLS=void 0;const _k="ant-wave-target";Za.TARGET_CLS=_k;var kk=he.default,bd=F.default;Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default=void 0;var Ek=bd(ke),Ok=bd(sp),Rm=lp,Xu=bd(Xa),$t=kk(c),Dk=Ja,Rk=Za;function _s(e){return Number.isNaN(e)?0:e}const Ik=e=>{const{className:t,target:n,component:r}=e,a=$t.useRef(null),[o,i]=$t.useState(null),[s,l]=$t.useState([]),[u,d]=$t.useState(0),[p,g]=$t.useState(0),[C,x]=$t.useState(0),[S,w]=$t.useState(0),[T,m]=$t.useState(!1),h={left:u,top:p,width:C,height:S,borderRadius:s.map(v=>`${v}px`).join(" ")};o&&(h["--wave-color"]=o);function b(){const v=getComputedStyle(n);i((0,Dk.getTargetWaveColor)(n));const _=v.position==="static",{borderLeftWidth:k,borderTopWidth:E}=v;d(_?n.offsetLeft:_s(-parseFloat(k))),g(_?n.offsetTop:_s(-parseFloat(E))),x(n.offsetWidth),w(n.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:j,borderBottomLeftRadius:I,borderBottomRightRadius:O}=v;l([D,j,O,I].map(P=>_s(parseFloat(P))))}if($t.useEffect(()=>{if(n){const v=(0,Xu.default)(()=>{b(),m(!0)});let _;return typeof ResizeObserver<"u"&&(_=new ResizeObserver(b),_.observe(n)),()=>{Xu.default.cancel(v),_==null||_.disconnect()}}},[]),!T)return null;const y=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(Rk.TARGET_CLS));return $t.createElement(Ok.default,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(v,_)=>{var k;if(_.deadline||_.propertyName==="opacity"){const E=(k=a.current)===null||k===void 0?void 0:k.parentElement;(0,Rm.unmount)(E).then(()=>{E==null||E.remove()})}return!1}},v=>{let{className:_}=v;return $t.createElement("div",{ref:a,className:(0,Ek.default)(t,{"wave-quick":y},_),style:h})})},jk=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",e==null||e.insertBefore(a,e==null?void 0:e.firstChild),(0,Rm.render)($t.createElement(Ik,Object.assign({},t,{target:e})),a)};var Mk=jk;Ei.default=Mk;var Cd=F.default,Pk=he.default;Object.defineProperty(vd,"__esModule",{value:!0});vd.default=Bk;var Ju=Pk(c),Lk=cg,Zu=Cd(Xa),$k=Cd(Ei),zk=Ln,Ak=Cd(o0),Nk=Za;function Bk(e,t,n){const{wave:r}=Ju.useContext(zk.ConfigContext),[,a,o]=(0,Ak.default)(),i=(0,Lk.useEvent)(u=>{const d=e.current;if(r!=null&&r.disabled||!d)return;const p=d.querySelector(`.${Nk.TARGET_CLS}`)||d,{showEffect:g}=r||{};(g||$k.default)(p,{className:t,token:a,component:n,event:u,hashId:o})}),s=Ju.useRef();return u=>{Zu.default.cancel(s.current),s.current=(0,Zu.default)(()=>{i(u)})}}var Wk=he.default,Oi=F.default;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.default=void 0;var Fk=Oi(ke),Qu=or,Hk=Oi(_i),yo=Wk(c),qk=Ln,Vk=nr,Gk=Oi(ki),Uk=Oi(vd);const Kk=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:a}=(0,yo.useContext)(qk.ConfigContext),o=(0,yo.useRef)(null),i=a("wave"),[,s]=(0,Gk.default)(i),l=(0,Uk.default)(o,(0,Fk.default)(i,s),r);if(yo.default.useEffect(()=>{const d=o.current;if(!d||d.nodeType!==1||n)return;const p=g=>{!(0,Hk.default)(g.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||l(g)};return d.addEventListener("click",p,!0),()=>{d.removeEventListener("click",p,!0)}},[n]),!yo.default.isValidElement(t))return t??null;const u=(0,Qu.supportRef)(t)?(0,Qu.composeRef)(t.ref,o):o;return(0,Vk.cloneElement)(t,{ref:u})};var Yk=Kk;Ti.default=Yk;var Qr={},Xk=F.default,Jk=he.default;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=Qr.GroupSizeContext=void 0;var Lo=Jk(c),Zk=Xk(ke),Qk=Ln,eE=Er,tE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Im=Lo.createContext(void 0);Qr.GroupSizeContext=Im;const nE=e=>{const{getPrefixCls:t,direction:n}=Lo.useContext(Qk.ConfigContext),{prefixCls:r,size:a,className:o}=e,i=tE(e,["prefixCls","size","className"]),s=t("btn-group",r),[,,l]=(0,eE.useToken)();let u="";switch(a){case"large":u="lg";break;case"small":u="sm";break}const d=(0,Zk.default)(s,{[`${s}-${u}`]:u,[`${s}-rtl`]:n==="rtl"},o,l);return Lo.createElement(Im.Provider,{value:a},Lo.createElement("div",Object.assign({},i,{className:d})))};var rE=nE;Qr.default=rE;var Qt={},aE=F.default;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.convertLegacyProps=oE;Qt.isString=yc;Qt.isTwoCNChar=void 0;Qt.isUnBorderedButtonType=iE;Qt.spaceChildren=lE;var Oa=aE(c),ef=nr;const tf=/^[\u4e00-\u9fa5]{2}$/,vc=tf.test.bind(tf);Qt.isTwoCNChar=vc;function oE(e){return e==="danger"?{danger:!0}:{type:e}}function yc(e){return typeof e=="string"}function iE(e){return e==="text"||e==="link"}function sE(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&yc(e.type)&&vc(e.props.children)?(0,ef.cloneElement)(e,{children:e.props.children.split("").join(n)}):yc(e)?vc(e)?Oa.default.createElement("span",null,e.split("").join(n)):Oa.default.createElement("span",null,e):(0,ef.isFragment)(e)?Oa.default.createElement("span",null,e):e}function lE(e,t){let n=!1;const r=[];return Oa.default.Children.forEach(e,a=>{const o=typeof a,i=o==="string"||o==="number";if(n&&i){const s=r.length-1,l=r[s];r[s]=`${l}${a}`}else r.push(a);n=i}),Oa.default.Children.map(r,a=>sE(a,t))}var Qa={},cE=F.default,dE=he.default;Object.defineProperty(Qa,"__esModule",{value:!0});Qa.default=void 0;var nf=dE(c),uE=cE(ke);const fE=(0,nf.forwardRef)((e,t)=>{const{className:n,style:r,children:a,prefixCls:o}=e,i=(0,uE.default)(`${o}-icon`,n);return nf.default.createElement("span",{ref:t,className:i,style:r},a)});var hE=fE;Qa.default=hE;var Di={},pE=he.default,Ri=F.default;Object.defineProperty(Di,"__esModule",{value:!0});Di.default=void 0;var gE=Ri(i0),mE=Ri(ke),vE=Ri(sp),Kr=pE(c),yE=Ri(Qa);const rf=(0,Kr.forwardRef)((e,t)=>{let{prefixCls:n,className:r,style:a,iconClassName:o}=e;const i=(0,mE.default)(`${n}-loading-icon`,r);return Kr.default.createElement(yE.default,{prefixCls:n,className:i,style:a,ref:t},Kr.default.createElement(gE.default,{className:o}))}),ks=()=>({width:0,opacity:0,transform:"scale(0)"}),Es=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),bE=e=>{const{prefixCls:t,loading:n,existIcon:r,className:a,style:o}=e,i=!!n;return r?Kr.default.createElement(rf,{prefixCls:t,className:a,style:o}):Kr.default.createElement(vE.default,{visible:i,motionName:`${t}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:ks,onAppearActive:Es,onEnterStart:ks,onEnterActive:Es,onLeaveStart:Es,onLeaveActive:ks},(s,l)=>{let{className:u,style:d}=s;return Kr.default.createElement(rf,{prefixCls:t,className:a,style:Object.assign(Object.assign({},o),d),ref:l,iconClassName:u})})};var CE=bE;Di.default=CE;var On={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.default=void 0;const af=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),xE=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},af(`${t}-primary`,a),af(`${t}-danger`,o)]}};var SE=xE;Ii.default=SE;var wE=F.default;Object.defineProperty(On,"__esModule",{value:!0});On.prepareToken=On.prepareComponentToken=On.default=void 0;var TE=Ac,eo=Er,_E=wE(Ii);const kE=e=>{const{componentCls:t,iconCls:n,fontWeight:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},(0,TE.genFocusStyle)(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Mn=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),EE=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),OE=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),DE=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),Na=(e,t,n,r,a,o,i,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,backgroundColor:t,borderColor:r||void 0,boxShadow:"none"},Mn(e,Object.assign({backgroundColor:t},i),Object.assign({backgroundColor:t},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),xd=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},DE(e))}),jm=e=>Object.assign({},xd(e)),Qo=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Mm=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jm(e)),{backgroundColor:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),Mn(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Na(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Mn(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Na(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),xd(e))}),RE=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jm(e)),{color:e.primaryColor,backgroundColor:e.colorPrimary,boxShadow:e.primaryShadow}),Mn(e.componentCls,{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),Na(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},Mn(e.componentCls,{backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),Na(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),xd(e))}),IE=e=>Object.assign(Object.assign({},Mm(e)),{borderStyle:"dashed"}),jE=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Mn(e.componentCls,{color:e.colorLinkHover,backgroundColor:e.linkHoverBg},{color:e.colorLinkActive})),Qo(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Mn(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),Qo(e))}),ME=e=>Object.assign(Object.assign(Object.assign({},Mn(e.componentCls,{color:e.colorText,backgroundColor:e.textHoverBg},{color:e.colorText,backgroundColor:e.colorBgTextActive})),Qo(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Qo(e)),Mn(e.componentCls,{color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),PE=e=>{const{componentCls:t}=e;return{[`${t}-default`]:Mm(e),[`${t}-primary`]:RE(e),[`${t}-dashed`]:IE(e),[`${t}-link`]:jE(e),[`${t}-text`]:ME(e),[`${t}-ghost`]:Na(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},Sd=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:a,lineHeight:o,lineWidth:i,borderRadius:s,buttonPaddingHorizontal:l,iconCls:u}=e,d=Math.max(0,(r-a*o)/2-i),p=`${n}-icon-only`;return[{[`${n}${t}`]:{fontSize:a,height:r,padding:`${d}px ${l}px`,borderRadius:s,[`&${p}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[u]:{fontSize:e.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${n}${n}-circle${t}`]:EE(e)},{[`${n}${n}-round${t}`]:OE(e)}]},LE=e=>Sd((0,eo.mergeToken)(e,{fontSize:e.contentFontSize})),$E=e=>{const t=(0,eo.mergeToken)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Sd(t,`${e.componentCls}-sm`)},zE=e=>{const t=(0,eo.mergeToken)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Sd(t,`${e.componentCls}-lg`)},AE=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},Pm=e=>{const{paddingInline:t,onlyIconSize:n}=e;return(0,eo.mergeToken)(e,{buttonPaddingHorizontal:t,buttonIconOnlyFontSize:n})};On.prepareToken=Pm;const Lm=e=>({fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,contentFontSize:e.fontSize,contentFontSizeSM:e.fontSize,contentFontSizeLG:e.fontSizeLG});On.prepareComponentToken=Lm;var NE=(0,eo.genComponentStyleHook)("Button",e=>{const t=Pm(e);return[kE(t),$E(t),LE(t),zE(t),AE(t),PE(t),(0,_E.default)(t)]},Lm);On.default=NE;var ji={},wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.genCompactItemStyle=FE;function BE(e,t,n){const{focusElCls:r,focus:a,borderElCls:o}=n,i=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${i}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${i}`]:{zIndex:0}})}}function WE(e,t,n){const{borderElCls:r}=n,a=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${a}, &${e}-sm ${a}, &${e}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${a}, &${e}-sm ${a}, &${e}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function FE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},BE(e,r,t)),WE(n,r,t))}}var Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.genCompactItemVerticalStyle=VE;function HE(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function qE(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function VE(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},HE(e,t)),qE(e.componentCls,t))}}Object.defineProperty(ji,"__esModule",{value:!0});ji.default=void 0;var of=On,GE=wd,UE=Td,KE=Er,YE=(0,KE.genSubStyleComponent)(["Button","compact"],e=>{const t=(0,of.prepareToken)(e);return[(0,GE.genCompactItemStyle)(t),(0,UE.genCompactItemVerticalStyle)(t)]},of.prepareComponentToken);ji.default=YE;var $n=F.default,$m=he.default;Object.defineProperty(wi,"__esModule",{value:!0});wi.default=void 0;var gt=$m(c),Os=$n(ke),XE=$n(vi),JE=or,ZE=$n(Ti),QE=Ln,eO=$n(cp),tO=$n(Ka),nO=Kt,zm=$m(Qr),ma=Qt,rO=$n(Qa),aO=$n(Di),oO=$n(On),iO=$n(ji),sO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function lO(e){if(typeof e=="object"&&e){const t=e==null?void 0:e.delay;return{loading:!1,delay:!Number.isNaN(t)&&typeof t=="number"?t:0}}return{loading:!!e,delay:0}}const cO=(e,t)=>{var n,r;const{loading:a=!1,prefixCls:o,type:i="default",danger:s,shape:l="default",size:u,styles:d,disabled:p,className:g,rootClassName:C,children:x,icon:S,ghost:w=!1,block:T=!1,htmlType:m="button",classNames:h,style:b={}}=e,y=sO(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:v,autoInsertSpaceInButton:_,direction:k,button:E}=(0,gt.useContext)(QE.ConfigContext),D=v("btn",o),[j,I]=(0,oO.default)(D),O=(0,gt.useContext)(eO.default),P=p??O,A=(0,gt.useContext)(zm.GroupSizeContext),M=(0,gt.useMemo)(()=>lO(a),[a]),[R,Z]=(0,gt.useState)(M.loading),[K,Y]=(0,gt.useState)(!1),xe=(0,gt.createRef)(),ee=(0,JE.composeRef)(t,xe),pe=gt.Children.count(x)===1&&!S&&!(0,ma.isUnBorderedButtonType)(i);(0,gt.useEffect)(()=>{let _e=null;M.delay>0?_e=setTimeout(()=>{_e=null,Z(!0)},M.delay):Z(M.loading);function Xe(){_e&&(clearTimeout(_e),_e=null)}return Xe},[M]),(0,gt.useEffect)(()=>{if(!ee||!ee.current||_===!1)return;const _e=ee.current.textContent;pe&&(0,ma.isTwoCNChar)(_e)?K||Y(!0):K&&Y(!1)},[ee]);const oe=_e=>{const{onClick:Xe}=e;if(R||P){_e.preventDefault();return}Xe==null||Xe(_e)},ge=_!==!1,{compactSize:Se,compactItemClassnames:Me}=(0,nO.useCompactItemContext)(D,k),B={large:"lg",small:"sm",middle:void 0},G=(0,tO.default)(_e=>{var Xe,yt;return(yt=(Xe=u??Se)!==null&&Xe!==void 0?Xe:A)!==null&&yt!==void 0?yt:_e}),H=G&&B[G]||"",le=R?"loading":S,te=(0,XE.default)(y,["navigate"]),Q=(0,Os.default)(D,I,{[`${D}-${l}`]:l!=="default"&&l,[`${D}-${i}`]:i,[`${D}-${H}`]:H,[`${D}-icon-only`]:!x&&x!==0&&!!le,[`${D}-background-ghost`]:w&&!(0,ma.isUnBorderedButtonType)(i),[`${D}-loading`]:R,[`${D}-two-chinese-chars`]:K&&ge&&!R,[`${D}-block`]:T,[`${D}-dangerous`]:!!s,[`${D}-rtl`]:k==="rtl"},Me,g,C,E==null?void 0:E.className),de=Object.assign(Object.assign({},E==null?void 0:E.style),b),ye=(0,Os.default)(h==null?void 0:h.icon,(n=E==null?void 0:E.classNames)===null||n===void 0?void 0:n.icon),N=Object.assign(Object.assign({},(d==null?void 0:d.icon)||{}),((r=E==null?void 0:E.styles)===null||r===void 0?void 0:r.icon)||{}),Ye=S&&!R?gt.default.createElement(rO.default,{prefixCls:D,className:ye,style:N},S):gt.default.createElement(aO.default,{existIcon:!!S,prefixCls:D,loading:!!R}),De=x||x===0?(0,ma.spaceChildren)(x,pe&&ge):null;if(te.href!==void 0)return j(gt.default.createElement("a",Object.assign({},te,{className:(0,Os.default)(Q,{[`${D}-disabled`]:P}),style:de,onClick:oe,ref:ee}),Ye,De));let Re=gt.default.createElement("button",Object.assign({},y,{type:m,className:Q,style:de,onClick:oe,disabled:P,ref:ee}),Ye,De,Me&&gt.default.createElement(iO.default,{key:"compact",prefixCls:D}));return(0,ma.isUnBorderedButtonType)(i)||(Re=gt.default.createElement(ZE.default,{component:"Button",disabled:!!R},Re)),j(Re)},_d=(0,gt.forwardRef)(cO);_d.Group=zm.default;_d.__ANT_BUTTON=!0;var dO=_d;wi.default=dO;(function(e){"use client";var t=F.default;Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=void 0;var r=t(wi),a=Qt;Object.keys(a).forEach(function(i){i==="default"||i==="__esModule"||Object.prototype.hasOwnProperty.call(n,i)||i in e&&e[i]===a[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return a[i]}})});var o=r.default;e.default=o})(Si);const uO=c.memo(({availableSourceFunctions:e,config:t,metas:n,onChange:r})=>{const a=Ce("viz.workbench.dataview"),o=c.useCallback(i=>{if(t.category===hn.DateLevelComputedField)return i.category===hn.Field?r(bn(t,s=>{delete s.expression,delete s.field,s.category=i.category,s.colName=i.colName,s[Hr]=null})):r({...t,colName:i.colName,expression:i.expression,[Hr]:null});if(i.category===hn.DateLevelComputedField)return r(bn(t,s=>{s.expression=i.expression,s.field=t.colName,s.category=hn.DateLevelComputedField,s.colName=i.colName,s[Hr]=null}))},[t,r]);return f.jsxs(f.Fragment,{children:[f.jsx(St.Item,{icon:t.expression?"":f.jsx(Vo,{}),eventKey:"defaultDateComputerField",onClick:()=>{t.field&&o({category:hn.Field,colName:t.field})},children:a("default")},"defaultDateComputerField"),db.map(i=>{var s;if(e!=null&&e.includes(i.expression)){const l=t.category===hn.Field?t.colName:t.field,u=(s=ub(n))==null?void 0:s.find(p=>p.name===l),d=`${i.expression}(${fb(u==null?void 0:u.path)})`;return f.jsx(St.Item,{eventKey:d,icon:t.expression===d?f.jsx(Vo,{}):"",onClick:()=>o({category:hn.DateLevelComputedField,colName:l+s0+i.expression,expression:d}),children:i.name},d)}return null})]})});var bc=function(e,t){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},bc(e,t)};function fO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Cc=function(){return Cc=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cc.apply(this,arguments)};function hO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kd=pO,gO=typeof bo=="object"&&bo&&bo.Object===Object&&bo,mO=gO,vO=mO,yO=typeof self=="object"&&self&&self.Object===Object&&self,bO=vO||yO||Function("return this")(),Am=bO,CO=Am,xO=function(){return CO.Date.now()},SO=xO,wO=/\s/;function TO(e){for(var t=e.length;t--&&wO.test(e.charAt(t)););return t}var _O=TO,kO=_O,EO=/^\s+/;function OO(e){return e&&e.slice(0,kO(e)+1).replace(EO,"")}var DO=OO,RO=Am,IO=RO.Symbol,Nm=IO,sf=Nm,Bm=Object.prototype,jO=Bm.hasOwnProperty,MO=Bm.toString,va=sf?sf.toStringTag:void 0;function PO(e){var t=jO.call(e,va),n=e[va];try{e[va]=void 0;var r=!0}catch{}var a=MO.call(e);return r&&(t?e[va]=n:delete e[va]),a}var LO=PO,$O=Object.prototype,zO=$O.toString;function AO(e){return zO.call(e)}var NO=AO,lf=Nm,BO=LO,WO=NO,FO="[object Null]",HO="[object Undefined]",cf=lf?lf.toStringTag:void 0;function qO(e){return e==null?e===void 0?HO:FO:cf&&cf in Object(e)?BO(e):WO(e)}var VO=qO;function GO(e){return e!=null&&typeof e=="object"}var UO=GO,KO=VO,YO=UO,XO="[object Symbol]";function JO(e){return typeof e=="symbol"||YO(e)&&KO(e)==XO}var ZO=JO,QO=DO,df=kd,eD=ZO,uf=0/0,tD=/^[-+]0x[0-9a-f]+$/i,nD=/^0b[01]+$/i,rD=/^0o[0-7]+$/i,aD=parseInt;function oD(e){if(typeof e=="number")return e;if(eD(e))return uf;if(df(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=df(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QO(e);var n=nD.test(e);return n||rD.test(e)?aD(e.slice(2),n?2:8):tD.test(e)?uf:+e}var iD=oD,sD=kd,Ds=SO,ff=iD,lD="Expected a function",cD=Math.max,dD=Math.min;function uD(e,t,n){var r,a,o,i,s,l,u=0,d=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(lD);t=ff(t)||0,sD(n)&&(d=!!n.leading,p="maxWait"in n,o=p?cD(ff(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g);function C(v){var _=r,k=a;return r=a=void 0,u=v,i=e.apply(k,_),i}function x(v){return u=v,s=setTimeout(T,t),d?C(v):i}function S(v){var _=v-l,k=v-u,E=t-_;return p?dD(E,o-k):E}function w(v){var _=v-l,k=v-u;return l===void 0||_>=t||_<0||p&&k>=o}function T(){var v=Ds();if(w(v))return m(v);s=setTimeout(T,S(v))}function m(v){return s=void 0,g&&r?C(v):(r=a=void 0,i)}function h(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function b(){return s===void 0?i:m(Ds())}function y(){var v=Ds(),_=w(v);if(r=arguments,a=this,l=v,_){if(s===void 0)return x(l);if(p)return clearTimeout(s),s=setTimeout(T,t),C(l)}return s===void 0&&(s=setTimeout(T,t)),i}return y.cancel=h,y.flush=b,y}var Wm=uD,fD=Wm,hD=kd,pD="Expected a function";function gD(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(pD);return hD(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),fD(e,t,{leading:r,maxWait:t,trailing:a})}var mD=gD,Fm=function(e,t,n,r){switch(t){case"debounce":return Wm(e,n,r);case"throttle":return mD(e,n,r);default:return e}},xc=function(e){return typeof e=="function"},Gn=function(){return typeof window>"u"},hf=function(e){return e instanceof Element||e instanceof HTMLDocument},Hm=function(e,t,n,r){return function(a){var o=a.width,i=a.height;t(function(s){return s.width===o&&s.height===i||s.width===o&&!r||s.height===i&&!n?s:(e&&xc(e)&&e(o,i),{width:o,height:i})})}};(function(e){fO(t,e);function t(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var u=r.props,d=u.targetRef,p=u.observerOptions;if(!Gn()){d&&d.current&&(r.targetRef.current=d.current);var g=r.getElement();g&&(r.observableElement&&r.observableElement===g||(r.observableElement=g,r.resizeObserver.observe(g,p)))}},r.getElement=function(){var u=r.props,d=u.querySelector,p=u.targetDomEl;if(Gn())return null;if(d)return document.querySelector(d);if(p&&hf(p))return p;if(r.targetRef&&hf(r.targetRef.current))return r.targetRef.current;var g=mr.findDOMNode(r);if(!g)return null;var C=r.getRenderType();switch(C){case"renderProp":return g;case"childFunction":return g;case"child":return g;case"childArray":return g;default:return g.parentElement}},r.createResizeHandler=function(u){var d=r.props,p=d.handleWidth,g=p===void 0?!0:p,C=d.handleHeight,x=C===void 0?!0:C,S=d.onResize;if(!(!g&&!x)){var w=Hm(S,r.setState.bind(r),g,x);u.forEach(function(T){var m=T&&T.contentRect||{},h=m.width,b=m.height,y=!r.skipOnMount&&!Gn();y&&w({width:h,height:b}),r.skipOnMount=!1})}},r.getRenderType=function(){var u=r.props,d=u.render,p=u.children;return xc(d)?"renderProp":xc(p)?"childFunction":c.isValidElement(p)?"child":Array.isArray(p)?"childArray":"parent"};var a=n.skipOnMount,o=n.refreshMode,i=n.refreshRate,s=i===void 0?1e3:i,l=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=a,r.targetRef=c.createRef(),r.observableElement=null,Gn()||(r.resizeHandler=Fm(r.createResizeHandler,o,s,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Gn()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,r=n.render,a=n.children,o=n.nodeType,i=o===void 0?"div":o,s=this.state,l=s.width,u=s.height,d={width:l,height:u,targetRef:this.targetRef},p=this.getRenderType(),g;switch(p){case"renderProp":return r&&r(d);case"childFunction":return g=a,g(d);case"child":if(g=a,g.type&&typeof g.type=="string"){d.targetRef;var C=hO(d,["targetRef"]);return c.cloneElement(g,C)}return c.cloneElement(g,d);case"childArray":return g=a,g.map(function(x){return!!x&&c.cloneElement(x,d)});default:return c.createElement(i,null)}},t})(c.PureComponent);var vD=Gn()?c.useEffect:c.useLayoutEffect;function Mi(e){e===void 0&&(e={});var t=e.skipOnMount,n=t===void 0?!1:t,r=e.refreshMode,a=e.refreshRate,o=a===void 0?1e3:a,i=e.refreshOptions,s=e.handleWidth,l=s===void 0?!0:s,u=e.handleHeight,d=u===void 0?!0:u,p=e.targetRef,g=e.observerOptions,C=e.onResize,x=c.useRef(n),S=c.useRef(null),w=p??S,T=c.useRef(),m=c.useState({width:void 0,height:void 0}),h=m[0],b=m[1];return vD(function(){if(!Gn()){var y=Hm(C,b,l,d),v=function(k){!l&&!d||k.forEach(function(E){var D=E&&E.contentRect||{},j=D.width,I=D.height,O=!x.current&&!Gn();O&&y({width:j,height:I}),x.current=!1})};T.current=Fm(v,r,o,i);var _=new window.ResizeObserver(T.current);return w.current&&_.observe(w.current,g),function(){_.disconnect();var k=T.current;k&&k.cancel&&k.cancel()}}},[r,o,i,l,d,C,g,w.current]),Cc({ref:w},h)}const qm=c.memo(({children:e,metas:t,chartConfig:n})=>{var E;const r=Ce("viz.palette.drill");Ce("viz.workbench.dataview");const{drillOption:a,availableSourceFunctions:o,crossFilteringSetting:i,viewDetailSetting:s,drillThroughSetting:l,onDrillOptionChange:u,onDateLevelChange:d,onViewDataChange:p,onDrillThroughChange:g,onCrossFilteringChange:C}=c.useContext(ii),x=a==null?void 0:a.getCurrentFields(),S=!Yn(i),w=!Yn(s),T=!Yn(l),m=c.useMemo(()=>{var O,P,A;if(!a)return;const D=a.getAllFields(),j=(O=n==null?void 0:n.datas)==null?void 0:O.find(M=>M.type===In.Group);let I=[];return x?I=(P=j==null?void 0:j.rows)==null?void 0:P.filter(M=>x.some(R=>R.uid===M.uid)):I=(A=j==null?void 0:j.rows)==null?void 0:A.filter(M=>M.uid===D[0].uid),I=I==null?void 0:I.filter(M=>M.type===Go.DATE),kp(I)},[a,n==null?void 0:n.datas,x]),h=c.useCallback(D=>{var I;const j=(I=n==null?void 0:n.datas)==null?void 0:I.find(O=>O.type===In.Group);if(j){const O=bn(j,P=>{if(P.rows){const A=P.rows.findIndex(Z=>Z.uid===D.uid),M=P.rows[A][Hr],R=M||P.rows[A];P.rows[A][Hr]=D,P.replacedConfig=R}});d==null||d("data",{needRefresh:!0,ancestors:[0],value:O})}},[n==null?void 0:n.datas,d]),b=c.useMemo(()=>f.jsx(St.Item,{icon:f.jsx(Vo,{}),children:f.jsxs(CD,{className:dt({on:!!(a!=null&&a.isSelectedDrill)}),children:[f.jsx("p",{children:a!=null&&a.isSelectedDrill?r("selectDrillOn"):r("selectDrillOff")}),f.jsx(Vo,{className:"icon"})]})},"selectDrillStatus"),[a==null?void 0:a.isSelectedDrill,r]),y=c.useMemo(()=>{var D;return(D=l==null?void 0:l.rules)==null?void 0:D.filter(j=>j.event===wt.Right)},[l==null?void 0:l.rules]),_=!((E=n==null?void 0:n.datas)!=null&&E.filter(D=>D.drillContextMenuVisible).length)&&(a==null?void 0:a.isDrillable)||(m==null?void 0:m.length)||T||w,k=c.useMemo(()=>{var D;return f.jsxs(bD,{onClick:({key:j})=>{var I;a&&j==="selectDrillStatus"?(a==null||a.toggleSelectedDrill(!(a!=null&&a.isSelectedDrill)),u==null||u(a)):a&&j===pn.Drill?(a==null||a.drillDown(),u==null||u(a)):a&&j===pn.Expand?(a==null||a.expandDown(),u==null||u(a)):a&&j==="rollUp"?(a==null||a.rollUp(),u==null||u(a)):j.includes("drillThrough")?g==null||g((I=j.split(pu))==null?void 0:I[1]):j==="viewData"?p==null||p():j==="crossFiltering"&&(C==null||C())},children:[g&&T&&f.jsx(St.SubMenu,{title:r("drillThrough"),children:(y||[]).map(j=>f.jsx(St.Item,{children:(j==null?void 0:j.name)||j.id},`drillThrough${pu}${j.id}`))},"drillThrough"),C&&S&&f.jsx(St.Item,{children:r("crossFiltering")},"crossFiltering"),p&&w&&f.jsx(St.Item,{icon:f.jsx(rs,{}),children:r("viewData")},"viewData"),a&&(a==null?void 0:a.getCurrentDrillLevel())>0&&f.jsx(St.Item,{icon:f.jsx(zC,{}),children:r("rollUp")},"rollUp"),a&&(a==null?void 0:a.mode)!==pn.Expand&&!(a!=null&&a.isBottomLevel)&&f.jsx(St.Item,{icon:f.jsx(rs,{}),children:r("showNextLevel")},pn.Drill),a&&(a==null?void 0:a.mode)!==pn.Drill&&!(a!=null&&a.isBottomLevel)&&f.jsx(St.Item,{icon:f.jsx(rs,{}),children:r("expandNextLevel")},pn.Expand),a&&(a==null?void 0:a.mode)!==pn.Expand&&(a==null?void 0:a.isDrillable)&&b,(D=m==null?void 0:m.filter(j=>j.type===Go.DATE&&[hn.Field,hn.DateLevelComputedField].includes(j.category)))==null?void 0:D.map((j,I)=>{const O=j[Hr]||j;return f.jsx(St.SubMenu,{title:hb({...O,name:O.colName}),icon:f.jsx(US,{}),children:f.jsx(uO,{metas:t,availableSourceFunctions:o,config:O,onChange:h})},I)})]})},[g,t,r,y,C,S,p,w,a,b,m,u,o,h,T]);return a!=null&&a.isDrillable?f.jsx(yD,{className:"chart-drill-menu-container",children:f.jsx(Ha,{disabled:!_,dropdownRender:()=>k,destroyPopupOnHide:!0,trigger:["contextMenu"],children:f.jsx("div",{style:{height:"100%"},children:e})})}):e}),yD=$.div.withConfig({displayName:"ChartDrillContextMenu__StyledChartDrill",componentId:"sc-buckfv-0"})(["position:relative;width:100%;height:100%;"]),bD=$(St).withConfig({displayName:"ChartDrillContextMenu__StyledChartDrillMenu",componentId:"sc-buckfv-1"})(["min-width:200px;"]),CD=$.div.withConfig({displayName:"ChartDrillContextMenu__StyledMenuSwitch",componentId:"sc-buckfv-2"})(["display:flex;align-items:center;p{flex:1;}.icon{display:none;}&.on{p{font-weight:",";}.icon{display:block;flex-shrink:0;padding-left:",";color:",";}}"],Ra,Ba,e=>e.theme.success),Vm=c.memo(({chartConfig:e})=>{var o;const{drillOption:t,onDrillOptionChange:n}=c.useContext(ii),r=!!((o=e==null?void 0:e.datas)!=null&&o.filter(i=>i.drillContextMenuVisible).length);if(!t||t.mode===pn.Normal||r)return f.jsx("div",{});const a=t.getDrilledFields();return f.jsx(xD,{children:f.jsx(tg,{children:a.map(i=>{var s;return f.jsx(SD,{isActive:!!((s=t==null?void 0:t.getCurrentFields())!=null&&s.some(l=>l.uid===i.uid)),onClick:()=>{t.mode===pn.Drill?t.drillUp(i):t.mode===pn.Expand&&t.expandUp(i),n==null||n(t)},children:Ep(i)},i.uid)})})})}),xD=$.div.withConfig({displayName:"ChartDrillPaths__StyledChartDrillPaths",componentId:"sc-noiqq1-0"})(["padding:"," ",";"],Jr,Ba),SD=$(tg.Item).withConfig({displayName:"ChartDrillPaths__StyledDrillNode",componentId:"sc-noiqq1-1"})(["color:"," !important;cursor:pointer;user-select:none;"],e=>e.isActive?e.theme.primary:e.theme.normal),wD=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"transparent",display:"block"},width:"80px",height:"80px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",...e},c.createElement("g",{transform:"rotate(180 50 50)"},c.createElement("rect",{x:11,y:15,width:18,height:40,fill:"#fdfdfd"},c.createElement("animate",{attributeName:"height",values:"50;70;30;50",keyTimes:"0;0.33;0.66;1",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keySplines:"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1",begin:"-0.4s"})),c.createElement("rect",{x:31,y:15,width:18,height:40,fill:"#dce4eb"},c.createElement("animate",{attributeName:"height",values:"50;70;30;50",keyTimes:"0;0.33;0.66;1",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keySplines:"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1",begin:"-0.2s"})),c.createElement("rect",{x:51,y:15,width:18,height:40,fill:"#bbcedd"},c.createElement("animate",{attributeName:"height",values:"50;70;30;50",keyTimes:"0;0.33;0.66;1",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keySplines:"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1",begin:"-0.6s"})),c.createElement("rect",{x:71,y:15,width:18,height:40,fill:"#85a2b6"},c.createElement("animate",{attributeName:"height",values:"50;70;30;50",keyTimes:"0;0.33;0.66;1",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keySplines:"0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1",begin:"-1s"}))));let Gm,Um;typeof document<"u"&&(Gm=document);typeof window<"u"&&(Um=window);const Km=X.createContext({document:Gm,window:Um}),TD=()=>X.useContext(Km),{Provider:_D,Consumer:kD}=Km;let Ym=class extends c.Component{componentDidMount(){this.props.contentDidMount()}componentDidUpdate(){this.props.contentDidUpdate()}render(){return c.Children.only(this.props.children)}};Ym.propTypes={children:zt.element.isRequired,contentDidMount:zt.func.isRequired,contentDidUpdate:zt.func.isRequired};class Ed extends c.Component{constructor(t,n){super(t,n),this.setRef=r=>{var a;this.nodeRef.current=r,(a=this.nodeRef.current)!=null&&a.contentWindow},this.handleLoad=()=>{this.setState({iframeLoaded:!0})},this._isMounted=!1,this.nodeRef=X.createRef(),this.state={iframeLoaded:!1}}componentDidMount(){this._isMounted=!0;const t=this.getDoc();t&&t.readyState==="complete"?this.forceUpdate():this.nodeRef.current.addEventListener("load",this.handleLoad)}componentWillUnmount(){this._isMounted=!1,this.nodeRef.current.removeEventListener("load",this.handleLoad)}getDoc(){return this.nodeRef.current?this.nodeRef.current.contentDocument:null}getMountTarget(){const t=this.getDoc();return this.props.mountTarget?t.querySelector(this.props.mountTarget):t.body}renderFrameContents(){if(!this._isMounted)return null;const t=this.getDoc(),n=this.props.contentDidMount,r=this.props.contentDidUpdate,a=t.defaultView||t.parentView,o=f.jsx(Ym,{contentDidMount:n,contentDidUpdate:r,children:f.jsx(_D,{value:{document:t,window:a},children:f.jsx("div",{className:"frame-content",children:this.props.children})})}),i=this.getMountTarget();return[gu.createPortal(this.props.head,this.getDoc().head),gu.createPortal(o,i)]}render(){const t={...this.props,children:void 0};return delete t.head,delete t.srcDoc,delete t.mountTarget,delete t.contentDidMount,delete t.contentDidUpdate,f.jsx("iframe",{title:t==null?void 0:t.id,...t,ref:this.setRef,onLoad:this.handleLoad,children:this.renderFrameContents()})}}Ed.propTypes={style:zt.object,head:zt.node,mountTarget:zt.string,contentDidMount:zt.func,contentDidUpdate:zt.func,children:zt.oneOfType([zt.element,zt.arrayOf(zt.element)])};Ed.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:()=>{},contentDidUpdate:()=>{}};class ED{constructor(){this._listeners=new Map,this._eventCache=new Map,this._eventActions={[nt.Mounted]:this.createImmediatelyAction(nt.Mounted),[nt.Updated]:this.createDebounceAction(nt.Updated),[nt.Resize]:this.createDebounceAction(nt.Resize),[nt.UnMount]:this.createImmediatelyAction(nt.UnMount)}}register(t){this._chart=t,this.registerListener(t)}subscribe(t,n){!n||this._listeners.has(t)||this._listeners.set(t,n)}publish(t,n,r){var a,o;if(!(!this._listeners.has(t)||!this._listeners.get(t)))return this._eventCache.set(t,{options:n,context:r}),(o=(a=this._eventActions)[t])==null?void 0:o.call(a)}dispose(){this._listeners&&this._listeners.size>0&&(this._listeners=new Map),this._eventCache&&this._eventCache.size>0&&(this._eventCache=new Map),this._chart&&(this._chart=void 0)}actionCreator(t){if(!this._eventCache.has(t))return;const n=this._eventCache.get(t).options,r=this._eventCache.get(t).context;return this.invokeEvent(t,n,r)}invokeEvent(t,n,r){if(this._chart)switch(t){case nt.Mounted:this._chart.state="mounting",this.safeInvoke(t,n,r);break;case nt.Updated:this._chart.state==="ready"&&(this._chart.state="updating",this.safeInvoke(t,n,r));break;case nt.Resize:this._chart.state==="ready"&&(this._chart.state="updating",this.safeInvoke(t,n,r));break;case nt.UnMount:this._chart.state==="ready"&&(this._chart.state="unmounting",this.safeInvoke(t,n,r));break}}safeInvoke(t,n,r){var a,o;try{l0.instance.measure(`ChartEventBroker | ${(o=(a=this._chart)==null?void 0:a.meta)==null?void 0:o.id} | ${t} `,()=>{var i,s;(s=(i=this._listeners.get(t))==null?void 0:i.call)==null||s.call(i,this._chart,n,r)},!1)}catch{}finally{this._chart&&(this._chart.state="ready")}}registerListener(t){this.subscribe(nt.Mounted,t==null?void 0:t.onMount),this.subscribe(nt.Resize,t==null?void 0:t.onResize),this.subscribe(nt.Updated,t==null?void 0:t.onUpdated),this.subscribe(nt.UnMount,t==null?void 0:t.onUnMount)}createImmediatelyAction(t){return()=>this.actionCreator(t)}createDebounceAction(t){return gn(()=>this.actionCreator(t),c0,{leading:!1})}}const pf=(e,t)=>new Promise((n,r)=>{const a=t||document,o=a.createElement("script");o.src=e,o.async=!1,o.type="text/javascript",o.onload=n,o.onerror=r,a.head.appendChild(o)}),OD=(e,t)=>new Promise((n,r)=>{const a=t||document,o=a.createElement("link");o.rel="stylesheet",o.href=e,o.type="text/css",o.onload=n,o.onerror=r,a.head.appendChild(o)}),DD=(e,t)=>/^[^.]+(\.[^.]+)*\.js$/.test(e)?pf(e,t):/^[^.]+(\.[^.]+)*\.css$/.test(e)?OD(e,t):pf(e,t);class RD{constructor(){this.resources=[]}loadResource(t,n){const r=(n||[]).filter(a=>!this.resources.includes(a));return this.loadDependencies(t,r)}loadDependencies(t,n){this.resources=this.resources.concat(n);const r=n.map(a=>DD(a,t));return Promise.all(r)}dispose(){this.resources=[]}}const gf=({dataset:e,chart:t,config:n,style:r,isShown:a=!0,drillOption:o,selectedItems:i,widgetSpecialConfig:s,isLoadingData:l=!1})=>{var h;const[u]=c.useState(()=>new RD),d=c.useRef(),[p,g]=c.useState(0),{document:C,window:x}=TD(),[S]=c.useState(()=>`datart-${Gt()}`),w=Ce(),T=c.useCallback(()=>({containerId:S,dataset:e,config:n,widgetSpecialConfig:s,drillOption:o,selectedItems:i}),[n,S,e,o,i,s]),m=c.useCallback(()=>({document:C,window:x,width:r==null?void 0:r.width,height:r==null?void 0:r.height,translator:w}),[C,r==null?void 0:r.height,r==null?void 0:r.width,w,x]);return c.useEffect(()=>{if(!(!a||!t||!C||!x||!n||p===3))return g(3),(async()=>{var b;u.loadResource(C,(b=t==null?void 0:t.getDependencies)==null?void 0:b.call(t)).then(y=>{t.init(n);const v=new ED;v.register(t),v.publish(nt.Mounted,T(),m()),d.current=v,g(1)}).catch(y=>{g(2)})})(),function(){var y,v;g(0),(y=d==null?void 0:d.current)==null||y.publish(nt.UnMount,T(),m()),(v=d==null?void 0:d.current)==null||v.dispose()}},[(h=t==null?void 0:t.meta)==null?void 0:h.id,a]),c.useEffect(()=>{var b;!a||!C||!x||!n||!e||l||p!==1||(b=d.current)==null||b.publish(nt.Resize,T(),m())},[r.width,r.height,C,x,a,p,l]),c.useEffect(()=>{var b;!a||!C||!x||!n||!e||l||p!==1||(b=d.current)==null||b.publish(nt.Updated,T(),m())},[n,e,s,p,C,x,a,o,i,l]),f.jsx(si,{spinning:p===3,indicator:f.jsx(d0,{spin:!0}),delay:500,children:f.jsx(ID,{id:S,style:{width:r==null?void 0:r.width,height:r==null?void 0:r.height}})})},ID=$.div.withConfig({displayName:"ChartIFrameLifecycleAdapter__StyledChartLifecycleAdapter",componentId:"sc-10lbq3w-0"})([""]),Xm=c.memo(e=>{var o;const t=`chart-iframe-root-${e.containerId}`,n=pb(e.config),r=(i,s)=>{const l={width:i,height:s};return(isNaN(l==null?void 0:l.width)||Yn(l==null?void 0:l.width))&&(l.width=0),(isNaN(l==null?void 0:l.height)||Yn(l==null?void 0:l.height))&&(l.height=0),l},a=()=>{var i;return(i=e==null?void 0:e.chart)!=null&&i.useIFrame?f.jsx(Ed,{id:t,frameBorder:0,style:{width:"100%",height:"100%"},head:f.jsx(f.Fragment,{children:f.jsx("style",{children:`
                body {
                  height: 100%;
                  overflow: hidden;
                  background-color: transparent !important;
                  margin: 0;
                }
              `})}),children:f.jsx(kD,{children:s=>{var l;return f.jsx(h0,{target:(l=s.document)==null?void 0:l.head,children:f.jsx("div",{onContextMenu:u=>{u.stopPropagation(),u.preventDefault();const d=document.getElementById(t);if(d){const[p=1,g=1]=e.scale||[],C=d.getBoundingClientRect(),x=new CustomEvent("contextmenu",{bubbles:!0,cancelable:!1});x.clientX=u.clientX*p+C.left,x.pageX=u.clientX*p+C.left,x.clientY=u.clientY*g+C.top,x.pageY=u.clientY*g+C.top,d.dispatchEvent(x)}},children:f.jsx(gf,{dataset:e.dataset,chart:e.chart,config:n,style:r(e==null?void 0:e.width,e==null?void 0:e.height),widgetSpecialConfig:e.widgetSpecialConfig,isShown:e.isShown,drillOption:e.drillOption,selectedItems:e==null?void 0:e.selectedItems,isLoadingData:e==null?void 0:e.isLoadingData})})})}})},e.containerId):f.jsx("div",{id:`chart-root-${e.containerId}`,style:{width:"100%",height:"100%",position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0},children:f.jsx(gf,{dataset:e.dataset,chart:e.chart,config:n,style:r(e==null?void 0:e.width,e==null?void 0:e.height),widgetSpecialConfig:e.widgetSpecialConfig,isShown:e.isShown,drillOption:e==null?void 0:e.drillOption,selectedItems:e==null?void 0:e.selectedItems,isLoadingData:e==null?void 0:e.isLoadingData})})},e.containerId)};return f.jsxs(u0.Provider,{value:{i18NConfigs:(o=e==null?void 0:e.config)==null?void 0:o.i18ns},children:[f.jsx(jD,{isLoading:e.isLoadingData,children:e.isLoadingData&&f.jsx(wD,{})}),f.jsx(MD,{isLoading:e.isLoadingData,children:a()})]})}),jD=$.div.withConfig({displayName:"ChartIFrameContainer__StyledDataLoadingContainer",componentId:"sc-v0r4xe-0"})(["position:absolute;z-index:",";display:",";width:100%;height:100%;pointer-events:none;user-select:none;"],f0,e=>e.isLoading?"flex":"none"),MD=$.div.withConfig({displayName:"ChartIFrameContainer__StyledChartRendererContainer",componentId:"sc-v0r4xe-1"})(["width:100%;height:100%;opacity:",";"],e=>e.isLoading?.3:1),PD=({isLoading:e})=>{const[t,n]=c.useState(!1),r=c.useRef();if(e){if(r.current)return t;r.current=setTimeout(()=>{n(!0)},500)}else r.current&&(clearTimeout(r.current),r.current=void 0),t&&n(!1);return t},Jm=(e,t)=>{var n,r,a;(e==null?void 0:e.chartType)==="table"&&(e==null?void 0:e.interactionType)===Zn.PagingOrSort&&(t==null||t({sorter:{column:e==null?void 0:e.seriesName,operator:(n=e==null?void 0:e.value)==null?void 0:n.direction,aggOperator:(r=e==null?void 0:e.value)==null?void 0:r.aggOperator},pageInfo:{pageNo:(a=e==null?void 0:e.value)==null?void 0:a.pageNo}}))},Zm=(e,t,n)=>{var r;e!=null&&e.isSelectedDrill&&!(e!=null&&e.isBottomLevel)&&(e==null||e.drillDown((r=t==null?void 0:t.data)==null?void 0:r.rowData),n==null||n(e))},Qm=(e,t)=>{(e==null?void 0:e.chartType)==="pivotSheet"&&(e==null?void 0:e.interactionType)===Zn.Drilled&&(t==null||t(e.drillOption))},v8=(e,t,n)=>{(t==null?void 0:t.chartType)==="rich-text"&&(t==null?void 0:t.interactionType)===Zn.ChangeContext&&(n==null||n({type:pr.STYLE,payload:{ancestors:[1,0],value:{...e,value:t.value}},needRefresh:!1,updateDrillOption:r=>{}}))},ev=(e,t)=>{((e==null?void 0:e.interactionType)===Zn.Select||(e==null?void 0:e.interactionType)===Zn.UnSelect)&&(t==null||t(e==null?void 0:e.selectedItems))},tv=(e,t)=>{const n=Ce("viz.action");return c.useMemo(()=>{const a=e,o=Wo[t]?`[${n(Wo[t])}]`:"";return a+o},[e,t,n])},Od=c.createContext({}),LD=c.memo(({boardId:e,children:t})=>{const n=qe(),r=Or(),a=dp(),o=c.useMemo(()=>({updateBoard:s=>{n(AC({boardId:e,callback:s}))},onGenerateShareLink:async({expiryDate:s,authenticationMode:l,roles:u,users:d,rowPermissionBy:p})=>await Wc({expiryDate:s,authenticationMode:l,roles:u,users:d,rowPermissionBy:p,vizId:e,vizType:"DASHBOARD"}),onBoardToDownLoad:s=>{n(gb({boardId:e,downloadType:s}))},onCloseBoardEditor:s=>{const u=a.pathname.split("/boardEditor")[0];r(u),n(NC()),n(Op({dashboardRelId:s}))},undo:()=>{n({type:bu.undo})},redo:()=>{n({type:bu.redo})}}),[e,n,r]);return f.jsx(Od.Provider,{value:o,children:t})}),ei={toParams:e=>{const t=new URLSearchParams(e),n={},r=t.keys();for(const a of r)n[a]=t.getAll(a);return n},toUrlString:e=>{const t=Object.keys(e),n=new URLSearchParams;return t.forEach(r=>{const a=e[r];a instanceof Array?a.forEach(o=>{n.append(r,o)}):n.append(r,a)}),n.toString()}},$D=(e,t,n,r)=>a=>{a(e?ja.changeWidgetInLinking({boardId:t,widgetId:n,toggle:r}):Tt.changeWidgetInLinking({boardId:t,widgetId:n,toggle:r}))},zD=(e,t,n,r,a)=>o=>{var s,l,u;const i={pageInfo:{pageNo:(s=a==null?void 0:a.value)==null?void 0:s.pageNo},sorters:[{column:a==null?void 0:a.seriesName,operator:(l=a==null?void 0:a.value)==null?void 0:l.direction,aggOperator:(u=a==null?void 0:a.value)==null?void 0:u.aggOperator}]};o(t?Fp({widgetId:r.id,option:i}):Dp({boardId:e,widgetId:r.id,renderMode:n,option:i}))},AD=(e,t,n)=>async(r,a)=>{var h,b,y,v,_,k;const o=(n||[]).map(E=>{var D;return(D=E.rule)==null?void 0:D.relId}),i=a(),s=((h=i.share)==null?void 0:h.executeTokenMap)||{},l=i.board,u=i.editBoard,d=e==="edit"?(y=(b=u.stack)==null?void 0:b.present)==null?void 0:y.widgetRecord:(v=l==null?void 0:l.widgetRecord)==null?void 0:v[t==null?void 0:t.dashboardId],p=e==="edit"?u.widgetInfoRecord:(_=l==null?void 0:l.widgetInfoRecord)==null?void 0:_[t==null?void 0:t.dashboardId],g=l.dataChartMap,C=d||{},x=p==null?void 0:p[t.id],S=(x==null?void 0:x.linkInfo)||{},{filterParams:w,variableParams:T}=Cu({chartWidget:t,widgetMap:C,params:void 0});Object.values(d||{}).filter(E=>o.includes(E.datachartId)).forEach(E=>{var oe,ge,Se,Me,B,G,H,le,te;const D=(oe=g[E.datachartId])==null?void 0:oe[E.datachartId],j=(Me=(Se=(ge=D==null?void 0:D.config)==null?void 0:ge.chartConfig)==null?void 0:Se.datas)==null?void 0:Me.flatMap(Q=>{var de;return Q.type===In.Group||Q.type===In.Color?((de=Q.rows)==null?void 0:de.map(ye=>ye.colName))||[]:[]}),I=e==="read"?(B=l==null?void 0:l.selectedItems)==null?void 0:B[E.id]:(G=u.selectedItemsMap.selectedItems)==null?void 0:G[E.id],O=n==null?void 0:n.find(Q=>{var de;return((de=Q==null?void 0:Q.rule)==null?void 0:de.relId)===E.datachartId}),P=O==null?void 0:O.filters,A=O==null?void 0:O.isUnSelectedAll,M=Object.entries(P||{}).map(([Q,de])=>({sqlOperator:Nt.In,column:Q,values:de==null?void 0:de.map(ye=>({value:ye,valueType:"STRING"}))})).filter(Q=>mf(I,j,Q.column)),R=((H=S==null?void 0:S.filters)==null?void 0:H.filter(Q=>mf(I,j,Q.column)))||[],Z=p==null?void 0:p[E.id],{filterParams:K,variableParams:Y}=Cu({chartWidget:E,widgetMap:C,params:void 0}),xe=Cb(O==null?void 0:O.rule,...R,...w),ee=xb(O==null?void 0:O.rule,Object.assign((S==null?void 0:S.variables)||{},T)),pe={boardId:E.dashboardId,sourceWidgetId:t.id,widgetId:E.id,option:Z,extraFilters:K,tempFilters:A?[]:(M||[]).concat(xe),variableParams:A?Y||{}:Object.assign(Y,ee)};if(e==="edit")r(VC(pe));else{let Q;e==="share"&&(Q=(te=s==null?void 0:s[(le=E==null?void 0:E.viewIds)==null?void 0:le[0]])==null?void 0:te.authorizedToken),r(Sb(Object.assign(pe,{executeToken:Q})))}}),r($D(e==="edit",t==null?void 0:t.dashboardId,t.id,!((k=n==null?void 0:n[0])!=null&&k.isUnSelectedAll)))},ND=e=>t=>{const{boardId:n,editing:r,renderMode:a,widget:o,params:i}=e;Jm(i,s=>{t(zD(n,r,a,o,i))})},BD=e=>t=>{const{renderMode:n,widget:r,params:a}=e;t(AD(n,r,a))},WD=(e,t,n)=>r=>{const a=t.dashboardId;r(e?BC({widget:t}):mb({boardId:a,widget:t,renderMode:n}))},FD=(e,t,n)=>r=>{r(e?WC(t):FC(t,n))},HD=e=>(t,n)=>{const{boardId:r,boardEditing:a,datachartId:o,wid:i}=e,s=n(),l=s.board,u=s.editBoard,p=l.dataChartMap[r][o];if(p&&!p.viewId&&p.config.sampleData)if(a){const g=u.widgetDataMap[i];if(g!=null&&g.id)return;t(HC.setWidgetData({wid:i,data:p.config.sampleData}))}else{const g=l.widgetDataMap[i];if(g!=null&&g.id)return;t(Tt.setWidgetData({wid:i,data:p.config.sampleData}))}},qD=(e,t)=>(n,r)=>{const a=t.dashboardId,o=vb(t),i=r(),s=i.editBoard.stack.present,l=i.board,u=e==="edit"?s.widgetRecord:l.widgetRecord[a],d=Object.values(u||{}).find(C=>C.config.originalType===Be.queryBtn);if(o.forEach(C=>{n(e==="edit"?qC(C):yb({boardId:a,widgetId:C,renderMode:e}))}),d)return;const p={pageNo:1};bb(t).forEach(C=>{n(e==="edit"?Fp({widgetId:C,option:{pageInfo:p}}):Dp({boardId:a,widgetId:C,renderMode:e,option:{pageInfo:p}}))})},VD=e=>t=>{const{renderMode:n}=e;n==="edit"&&t(GD(e))},GD=e=>(t,n)=>{const{wid:r,w:a,h:o}=e,l=n().editBoard.stack.present.widgetRecord;if(!r)return;const u=l==null?void 0:l[r];if(!u)return;const d=l[u.parentId||""],p={x:0,y:0,width:a,height:o},g=d&&d.config.type==="container",C=u.config.boardType==="auto"&&!u.parentId;(g||C)&&t(mt.changeFreeWidgetRect({wid:r,rect:p,isAutoGroupWidget:e.isAutoGroupWidget}))},mf=(e,t,n)=>En(e)||!(t!=null&&t.includes(n)),UD=c.memo(({boardEditing:e,boardId:t,orgId:n,boardType:r,renderMode:a,children:o})=>{const i=qe(),s=Or(),l=c.useMemo(()=>({onEditLayerToTop:()=>{i(ku("top"))},onEditLayerToBottom:()=>{i(ku("bottom"))},onEditSelectWidget:d=>{i(GC(d))},onEditCopyWidgets:d=>{i(UC())},onEditPasteWidgets:()=>{i(KC())},onChangeGroupRect:gn(d=>{const{wid:p,w:g,h:C,isAutoGroupWidget:x}=d;i(VD({renderMode:a,boardId:t,wid:p,w:g,h:C,isAutoGroupWidget:x}))},60),onEditDeleteActiveWidgets:gn(d=>{i(YC(d))},200),onRenderedWidgetById:d=>{i(e?XC({boardId:t,widgetId:d}):wb({boardId:t,widgetId:d,renderMode:a}))},onEditClearActiveWidgets:()=>{i(JC())},onWidgetsQuery:gn(()=>{i(e?ZC():Rp({boardId:t,renderMode:a}))},500),onWidgetsReset:gn(()=>{e||i(Tb({boardId:t,renderMode:a}))},500),onRefreshWidgetsByController:gn(d=>{i(qD(a,d))},500),onUpdateWidgetConfig:(d,p)=>{i(mt.updateWidgetConfig({wid:p,config:d}))},onEditFreeWidgetRect:(d,p,g)=>{i(mt.changeFreeWidgetRect({rect:d,wid:p,isAutoGroupWidget:g}))},onUpdateWidgetConfigByKey:d=>{i(e?mt.updateWidgetConfigByKey(d):Tt.updateWidgetConfigByKey({...d,boardId:t})),i(mt.updateWidgetConfigByKey(d))},onWidgetUpdate:d=>{i(e?mt.updateWidget(d):Tt.updateWidget(d))},onWidgetLinkEvent:d=>p=>{i(BD({renderMode:a,widget:d,params:p}))},onUpdateWidgetSelectedItems:(d,p)=>{i(e?QC.changeSelectedItemsInEditor({wid:d==null?void 0:d.id,data:p}):Tt.changeSelectedItems({wid:d==null?void 0:d.id,data:p}))},onWidgetChartClick:(d,p)=>{i(ND({boardId:t,editing:e,renderMode:a,widget:d,params:p,history:s}))},onWidgetClearLinkage:d=>{i(FD(e,d,a))},onWidgetFullScreen:d=>{i(Tt.updateFullScreenPanel({boardId:t,itemId:d}))},onWidgetGetData:d=>{i(WD(e,d,a))},onEditChartWidget:d=>{const g=d.config.originalType===Be.ownedChart?"widgetChart":"dataChart";i(ex({orgId:n,dashboardId:d.dashboardId,widgetId:d.id,chartName:d.config.name,dataChartId:d.datachartId,chartType:g}))},onEditMediaWidget:d=>{i(ja.openWidgetEditing({id:d}))},onEditContainerWidget:d=>{i(ja.openWidgetEditing({id:d})),i(Zl.changeShowBlockMask(!1))},onEditControllerWidget:d=>{i(Zl.changeControllerPanel({type:"edit",widgetId:d.id,controllerType:d.config.content.type}))},onEditWidgetLock:d=>{i(mt.toggleLockWidget({id:d,lock:!0}))},onEditWidgetUnLock:d=>{i(mt.toggleLockWidget({id:d,lock:!1}))},onWidgetChartDataConfigUpdate:({dashboardId:d,datachartId:p,computedFields:g,options:C})=>{i(Tt.updateDataChartDataConfigGroupRows({dashboardId:d,datachartId:p,options:C})),i(Tt.updateDataChartDataConfigComputedFields({dashboardId:d,datachartId:p,computedFields:g}))},onEditComposeGroup:d=>{i(tx(d))},onEditUnGroupAction:d=>{i(nx(d))}}),[e,t,r,i,n,a]);return f.jsx(ot.Provider,{value:l,children:o})}),ot=c.createContext({}),nv=c.createContext({}),KD=c.memo(({id:e,editing:t,children:n})=>{const r=ne(rx),a=ne(i=>_b(i,e)),o=t?r:a;return f.jsx(nv.Provider,{value:o,children:n})}),YD=({tip:e})=>f.jsx(XD,{children:f.jsx(si,{size:"large",tip:e})}),XD=$.div.withConfig({displayName:"BoardLoading__Wrapper",componentId:"sc-vrq2b4-0"})(["display:flex;flex:1;align-items:center;justify-content:center;"]),JD=c.createContext({}),da=c.createContext({}),ZD=c.memo(({config:e,boardId:t,children:n})=>{const r=e.jsonConfig.props,[a,o,i]=mn(r,["basic"],["initialQuery","allowOverlap","scaleMode"]),[s]=mn(r,["background"],["background"]),[l,u]=mn(r,["size"],["width","height"]),[d,p,g,C]=mn(r,["space"],["paddingTB","paddingLR","marginTB","marginLR"]),[x,S,w,T]=mn(r,["space"],["paddingTB","paddingLR","marginTB","marginLR"]),m={boardType:e.type,initialQuery:a,background:s,width:l,height:u,scaleMode:i,allowOverlap:o,margin:[C,g],padding:[p,d],mMargin:[T,w],mPadding:[S,x]};return f.jsx(JD.Provider,{value:e,children:f.jsx(da.Provider,{value:m,children:n})})});c.createContext({});const QD=c.memo(({board:e,editing:t,children:n,renderMode:r,autoFit:a,allowDownload:o,allowShare:i,allowManage:s})=>{const l=c.useMemo(()=>({name:e.name,boardId:e.id,status:e.status,queryVariables:e.queryVariables,renderMode:r,orgId:e.orgId,boardType:e.config.type,editing:t,autoFit:a,allowDownload:o,allowShare:i,allowManage:s}),[o,s,i,a,e.config.type,e.id,e.name,e.orgId,e.queryVariables,e.status,t,r]);return f.jsx(LD,{boardId:e.id,children:f.jsx(UD,{boardId:e.id,boardEditing:t,renderMode:r,orgId:e.orgId,boardType:e.config.type,children:f.jsx(ax,{...l,children:f.jsx(ZD,{config:e.config,boardId:e.id,children:f.jsx(KD,{id:e.id,editing:t,children:n})})})})})}),eR=new Event("resize",{bubbles:!1,cancelable:!0}),tR=()=>{window.dispatchEvent(eR)},nR=c.memo(({widgetId:e,canWrapped:t})=>{const[n,r,a]=Hp(()=>({type:Ip,item:{canWrapped:t,childId:e},end:(i,s)=>{},collect:i=>({isDragging:i.isDragging(),handlerId:i.getHandlerId()})})),o=i=>{i.stopPropagation()};return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:a,className:"dragRef2",onClick:o,onDragStart:o,style:{position:"absolute",top:"0",cursor:"grabbing",width:"100%",height:"100%"}}),f.jsx("div",{ref:r,onClick:o,className:"dragRef1",style:{position:"absolute",cursor:"grabbing",top:"0",zIndex:Wa+1,width:"100%",height:"100%"}})]})});function rR(){const{onWidgetFullScreen:e,onWidgetGetData:t,onEditChartWidget:n,onEditMediaWidget:r,onEditContainerWidget:a,onEditControllerWidget:o,onEditWidgetLock:i,onEditWidgetUnLock:s,onEditDeleteActiveWidgets:l,onEditComposeGroup:u,onEditUnGroupAction:d}=c.useContext(ot),p=c.useCallback(C=>{switch(C.config.type){case"chart":n(C);break;case"controller":o(C);break;case"container":a(C.id);break;case"media":r(C.id);break}},[]);return c.useCallback((C,x)=>{switch(C){case"delete":l([x.id]);break;case"fullScreen":e(x.id);break;case"refresh":t(x);break;case"edit":p(x);break;case"lock":i(x.id);break;case"unlock":s(x.id);break;case"group":u(x.id);break;case"unGroup":d(x.id);break}},[])}const aR=(e,t)=>[{key:"refresh",label:"refresh",icon:f.jsx(q1,{})},{key:"fullScreen",label:"fullScreen",icon:f.jsx(ox,{})},{key:"edit",label:"edit",icon:f.jsx(Vc,{})},{key:"delete",label:"delete",icon:f.jsx(li,{}),danger:!0},{key:"info",label:"info",icon:f.jsx(m1,{})},{key:"lock",label:"lock",icon:f.jsx(lg,{})},{key:"unlock",label:"unlock",icon:f.jsx(Z1,{})},{key:"makeLinkage",label:"makeLinkage",icon:f.jsx(sg,{}),divider:!0},{key:"closeLinkage",label:"closeLinkage",icon:f.jsx(Pu,{}),danger:!0},{key:"makeJump",label:"makeJump",icon:f.jsx(ix,{}),divider:!0},{key:"closeJump",label:"closeJump",icon:f.jsx(Pu,{}),danger:!0},{key:"group",label:"group",icon:f.jsx(f1,{})},{key:"unGroup",label:"unGroup",icon:f.jsx(K1,{})}].map(a=>{const o=t==null?void 0:t.find(i=>i.key===a.key);return o?(a.show=o.hasOwnProperty("show")?o.show:!0,a.disabled=o.hasOwnProperty("disabled")?o.disabled:a.disabled,a.label=o.hasOwnProperty("label")?o.label:a.label,a.divider=o.hasOwnProperty("divider")?o.divider:a.divider,a.renderMode=o.hasOwnProperty("renderMode")?o.renderMode:a.renderMode):a.show=!1,a}).filter(a=>{var o;return a.show&&((o=a.renderMode)==null?void 0:o.includes(e))}),en=c.memo(({widget:e,buttonProps:t})=>{var u,d,p,g;const{renderMode:n}=c.useContext(ze),r=((p=(d=Fc)==null?void 0:d.toolkit((u=e==null?void 0:e.config)==null?void 0:u.originalType))==null?void 0:p.getDropDownList(e==null?void 0:e.config))||[],a=rR(),o=aR(n,r),i=Ce("viz.widget.action"),s=c.useCallback(({key:C})=>{a(C,e)},[a,e]),l=c.useMemo(()=>{const C=o.filter(x=>{var S,w;return x.key==="lock"?!((S=e==null?void 0:e.config)!=null&&S.lock):x.key==="unlock"?(w=e==null?void 0:e.config)==null?void 0:w.lock:!0}).map(x=>({label:i(x.label||""),key:x.key,icon:x.icon,disabled:x.disabled,danger:x.danger,type:x.divider?"divider":""}));return{onClick:s,items:C}},[o,(g=e==null?void 0:e.config)==null?void 0:g.lock,s,i]);return o.length===0?null:f.jsx(Ha,{className:"widget-tool-dropdown",menu:l,placement:"bottom",trigger:["click"],arrow:!0,children:f.jsx(He,{icon:f.jsx(kb,{}),type:"link",...t})})}),je=c.createContext({}),oR=c.memo(({val:e,children:t})=>f.jsx(je.Provider,{value:e,children:t})),iR=c.memo(({boardId:e,boardEditing:t,widgetId:n,children:r})=>{const a=ne(s=>Eb(s,e,n)),o=ne(s=>sx(s,n)),i=c.useMemo(()=>t?o:a,[t,o,a]);return i?f.jsx(oR,{val:i,children:r}):null}),sR=["cluster-column-chart","cluster-bar-chart","stack-column-chart","stack-bar-chart","percentage-stack-column-chart","percentage-stack-bar-chart","line-chart","area-chart","stack-area-chart","scatter","pie-chart","doughnut-chart","rose-chart","funnel-chart","double-y","normal-outline-map-chart","scatter-outline-map-chart","fenzu-table","mingxi-table"],rv=c.createContext({dataChart:{},availableSourceFunctions:void 0,supportTrigger:!0}),lR=c.memo(({boardId:e,boardEditing:t,widgetId:n,children:r})=>{var g,C;const{datachartId:a}=c.useContext(je),o=qe();c.useEffect(()=>{a&&n&&o(HD({boardId:e,boardEditing:t,datachartId:a,wid:n}))},[e,t,a,o,n]);const i=ne(x=>Ob(x,e,a)),s=ne(Db),l=ne(Rb),u=s[(g=l[i==null?void 0:i.viewId])==null?void 0:g.sourceId],d=sR.includes((C=i==null?void 0:i.config)==null?void 0:C.chartGraphId),p=l[i==null?void 0:i.viewId];return f.jsx(rv.Provider,{value:{dataChart:i,availableSourceFunctions:u,supportTrigger:d,chartDataView:p},children:r})}),Pt=c.createContext({}),cR=c.memo(({widgetId:e,boardId:t,boardEditing:n,children:r})=>{const a=ne(s=>Ib(s,t,e)),o=ne(s=>lx(s,e)),i=c.useMemo(()=>n?o:a,[n,o,a]);return i?f.jsx(Pt.Provider,{value:i,children:r}):null}),av=c.createContext([]),dR=c.memo(({widgetId:e,boardEditing:t,children:n})=>{const r=c.useMemo(jb,[]),a=ne(l=>r(l,e)),o=c.useMemo(cx,[]),i=ne(l=>o(l,e)),s=c.useMemo(()=>t?i:a,[t,a,i]);return f.jsx(av.Provider,{value:s,children:n})}),_r=c.memo(({id:e,boardEditing:t,boardId:n,children:r})=>f.jsx(iR,{boardId:n,boardEditing:t,widgetId:e,children:f.jsx(cR,{boardId:n,boardEditing:t,widgetId:e,children:f.jsx(dR,{boardEditing:t,widgetId:e,children:f.jsx(lR,{boardId:n,boardEditing:t,widgetId:e,children:r})})})})),uR={height:600,maxHeight:1e3,overflowY:"auto",overflowX:"auto"},fR=()=>{const e=Or(),t=u=>/^http(s)?/.test(u)?u:`http://${u}`,n=(u,d)=>{let p="";return/\?.*/.test(u)?p=`&${d}`:p=`?${d}`,`${t(u)}${p}`};return{openNewTab:(u,d,p)=>{e(`/organizations/${u}/vizs/${d}?${p}`)},openBrowserTab:(u,d,p)=>{const g=`/organizations/${u}/vizs/${d}?${p}`;window.open(g,g)},getDialogContent:(u,d,p,g)=>({orgId:u,vizId:d,vizType:p,params:g}),redirectByUrl:(u,d)=>{window.location.href=n(u,d)},openNewByUrl:(u,d)=>{const p=n(u,d);window.open(p,p)},getDialogContentByUrl:(u,d)=>{const p=n(u,d);return{width:"80%",bodyStyle:uR,content:f.jsx("iframe",{title:"Datart Iframe Window",height:600,width:"100%",frameBorder:"none",src:p})}}}},ov=e=>{const{openNewTab:t,openBrowserTab:n,getDialogContent:r,redirectByUrl:a,openNewByUrl:o,getDialogContentByUrl:i}=fR(),s=Ce("global.button"),l=(x,S)=>{var m,h;return Lr(S||[],["drillThrough"])?(m=$r(S||[],["drillThrough"],["setting"]))==null?void 0:m[0]:Lr(x||[],["drillThrough"])?(h=$r(x||[],["drillThrough"],["setting"]))==null?void 0:h[0]:null},u=(x,S)=>{var m,h;return Lr(S||[],["crossFiltering"])?(m=$r(S||[],["crossFiltering"],["setting"]))==null?void 0:m[0]:Lr(x||[],["crossFiltering"])?(h=$r(x||[],["crossFiltering"],["setting"]))==null?void 0:h[0]:null},d=(x,S)=>{var m,h;return Lr(S||[],["viewDetail"])?(m=$r(S||[],["viewDetail"],["setting"]))==null?void 0:m[0]:Lr(x||[],["viewDetail"])?(h=$r(x||[],["viewDetail"],["setting"]))==null?void 0:h[0]:null},p=c.useCallback(({drillOption:x,drillThroughSetting:S,clickEventParams:w,targetEvent:T,ruleId:m,orgId:h,view:b,queryVariables:y,computedFields:v,aggregation:_,chartConfig:k,isJumpUrlOnly:E})=>{if(S){const D=new Sr({id:(b==null?void 0:b.id)||"",config:(b==null?void 0:b.config)||{},meta:b==null?void 0:b.meta,computedFields:v||[],type:b==null?void 0:b.type},k==null?void 0:k.datas,k==null?void 0:k.settings,{},!1,_).addDrillOption(x).getColNameStringFilter(),j=(D||[]).filter(O=>!O.aggOperator);if(En(w==null?void 0:w.selectedItems))return;((S==null?void 0:S.rules)||[]).filter(O=>O.event===T).filter(O=>Yn(m)||O.id===m).filter(O=>!E||(O==null?void 0:O.category)===fo.JumpToUrl).forEach(O=>{var M,R,Z,K,Y,xe;const P=ts((M=w==null?void 0:w.selectedItems)==null?void 0:M.map(ee=>{var pe;return(pe=ee==null?void 0:ee.data)==null?void 0:pe.rowData}),O,x,k==null?void 0:k.datas),A=(R=O==null?void 0:O[O.category])==null?void 0:R.relId;if(O.category===fo.JumpToChart){const ee=Mb(P,D,O),pe=pa(y,O),oe=Xl.stringify({filters:ee||[],variables:pe});if((O==null?void 0:O.action)===_n.Redirect&&t(h,A,oe),(O==null?void 0:O.action)===_n.Window&&n(h,A,oe),(O==null?void 0:O.action)===_n.Dialog){const ge=r(h,A,"DATACHART",oe);(Z=e==null?void 0:e.openJumpVizDialogModal)==null||Z.call(e,ge)}}else if(O.category===fo.JumpToDashboard){const ee=ns(pa(y,O)),pe=xu(P,j,ee,O);Object.assign(pe,{isMatchByName:!0});const oe=ei.toUrlString(pe);if((O==null?void 0:O.action)===_n.Redirect&&t(h,A,oe),(O==null?void 0:O.action)===_n.Window&&n(h,A,oe),(O==null?void 0:O.action)===_n.Dialog){const ge=r(h,A,"DASHBOARD",oe);(K=e==null?void 0:e.openJumpVizDialogModal)==null||K.call(e,ge)}}else if(O.category===fo.JumpToUrl){const ee=ns(pa(y,O)),pe=xu(P,j,ee,O);Object.assign(pe,{isMatchByName:!0});const oe=ei.toUrlString(pe),ge=(Y=O==null?void 0:O[O.category])==null?void 0:Y.url;if((O==null?void 0:O.action)===_n.Redirect&&a(ge,oe),(O==null?void 0:O.action)===_n.Window&&o(ge,oe),(O==null?void 0:O.action)===_n.Dialog){const Se=i(ge,oe);(xe=e==null?void 0:e.openJumpUrlDialogModal)==null||xe.call(e,{...Se,width:"90%",maskClosable:!0,footer:null,icon:null,okText:s("close"),style:{top:"10%"}})}}})}},[t,n,r,e,a,o,i]),g=c.useCallback(({drillOption:x,crossFilteringSetting:S,clickEventParams:w,targetEvent:T,view:m,queryVariables:h,computedFields:b,aggregation:y,chartConfig:v},_)=>{var D;if(!S||(S==null?void 0:S.event)!==T)return null;const k=(D=new Sr({id:(m==null?void 0:m.id)||"",config:(m==null?void 0:m.config)||{},meta:m==null?void 0:m.meta,computedFields:b||[]},v==null?void 0:v.datas,v==null?void 0:v.settings,{},!1,y).addDrillOption(x).getColNameStringFilter())==null?void 0:D.filter(j=>!j.aggOperator),E=((S==null?void 0:S.rules)||[]).map(j=>{var R;const I=ns(pa(h,j)),O=ts((R=w==null?void 0:w.selectedItems)==null?void 0:R.map(Z=>{var K;return(K=Z==null?void 0:Z.data)==null?void 0:K.rowData}),j,x,v==null?void 0:v.datas),P=Pb(O,k,I,j),A=pa(h,j),M=(w==null?void 0:w.interactionType)===Zn.UnSelect;return{rule:j,isUnSelectedAll:M,filters:P,variables:A}});_==null||_(E)},[]),C=c.useCallback(({drillOption:x,clickEventParams:S,targetEvent:w,viewDetailSetting:T,chartConfig:m,view:h,authToken:b})=>{var y;if((T==null?void 0:T.event)===w){const v=ts((y=S==null?void 0:S.selectedItems)==null?void 0:y.map(k=>{var E;return(E=k==null?void 0:k.data)==null?void 0:E.rowData}),void 0,x,m==null?void 0:m.datas);if(En(S==null?void 0:S.selectedItems))return;(e==null?void 0:e.openViewDetailPanel).call(e,{currentDataView:h,chartConfig:m,drillOption:x,viewDetailSetting:T,clickFilters:v,authToken:b})}},[e==null?void 0:e.openViewDetailPanel]);return{getDrillThroughSetting:l,getCrossFilteringSetting:u,getViewDetailSetting:d,handleDrillThroughEvent:p,handleCrossFilteringEvent:g,handleViewDataEvent:C}};var iv={exports:{}},to={},Sc={exports:{}};(function(e,t){(function(n,r){r(t)})(p0,function(n){function r(B){return function(H,le,te,Q,de,ye,N){return B(H,le,N)}}function a(B){return function(H,le,te,Q){if(!H||!le||typeof H!="object"||typeof le!="object")return B(H,le,te,Q);var de=Q.get(H),ye=Q.get(le);if(de&&ye)return de===le&&ye===H;Q.set(H,le),Q.set(le,H);var N=B(H,le,te,Q);return Q.delete(H),Q.delete(le),N}}function o(B,G){var H={};for(var le in B)H[le]=B[le];for(var le in G)H[le]=G[le];return H}function i(B){return B.constructor===Object||B.constructor==null}function s(B){return typeof B.then=="function"}function l(B,G){return B===G||B!==B&&G!==G}var u="[object Arguments]",d="[object Boolean]",p="[object Date]",g="[object RegExp]",C="[object Map]",x="[object Number]",S="[object Object]",w="[object Set]",T="[object String]",m=Object.prototype.toString;function h(B){var G=B.areArraysEqual,H=B.areDatesEqual,le=B.areMapsEqual,te=B.areObjectsEqual,Q=B.areRegExpsEqual,de=B.areSetsEqual,ye=B.createIsNestedEqual,N=ye(Ye);function Ye(De,Re,_e){if(De===Re)return!0;if(!De||!Re||typeof De!="object"||typeof Re!="object")return De!==De&&Re!==Re;if(i(De)&&i(Re))return te(De,Re,N,_e);var Xe=Array.isArray(De),yt=Array.isArray(Re);if(Xe||yt)return Xe===yt&&G(De,Re,N,_e);var st=m.call(De);return st!==m.call(Re)?!1:st===p?H(De,Re,N,_e):st===g?Q(De,Re,N,_e):st===C?le(De,Re,N,_e):st===w?de(De,Re,N,_e):st===S||st===u?s(De)||s(Re)?!1:te(De,Re,N,_e):st===d||st===x||st===T?l(De.valueOf(),Re.valueOf()):!1}return Ye}function b(B,G,H,le){var te=B.length;if(G.length!==te)return!1;for(;te-- >0;)if(!H(B[te],G[te],te,te,B,G,le))return!1;return!0}var y=a(b);function v(B,G){return l(B.valueOf(),G.valueOf())}function _(B,G,H,le){var te=B.size===G.size;if(!te)return!1;if(!B.size)return!0;var Q={},de=0;return B.forEach(function(ye,N){if(te){var Ye=!1,De=0;G.forEach(function(Re,_e){!Ye&&!Q[De]&&(Ye=H(N,_e,de,De,B,G,le)&&H(ye,Re,N,_e,B,G,le))&&(Q[De]=!0),De++}),de++,te=Ye}}),te}var k=a(_),E="_owner",D=Object.prototype.hasOwnProperty;function j(B,G,H,le){var te=Object.keys(B),Q=te.length;if(Object.keys(G).length!==Q)return!1;for(var de;Q-- >0;){if(de=te[Q],de===E){var ye=!!B.$$typeof,N=!!G.$$typeof;if((ye||N)&&ye!==N)return!1}if(!D.call(G,de)||!H(B[de],G[de],de,de,B,G,le))return!1}return!0}var I=a(j);function O(B,G){return B.source===G.source&&B.flags===G.flags}function P(B,G,H,le){var te=B.size===G.size;if(!te)return!1;if(!B.size)return!0;var Q={};return B.forEach(function(de,ye){if(te){var N=!1,Ye=0;G.forEach(function(De,Re){!N&&!Q[Ye]&&(N=H(de,De,ye,Re,B,G,le))&&(Q[Ye]=!0),Ye++}),te=N}}),te}var A=a(P),M=Object.freeze({areArraysEqual:b,areDatesEqual:v,areMapsEqual:_,areObjectsEqual:j,areRegExpsEqual:O,areSetsEqual:P,createIsNestedEqual:r}),R=Object.freeze({areArraysEqual:y,areDatesEqual:v,areMapsEqual:k,areObjectsEqual:I,areRegExpsEqual:O,areSetsEqual:A,createIsNestedEqual:r}),Z=h(M);function K(B,G){return Z(B,G,void 0)}var Y=h(o(M,{createIsNestedEqual:function(){return l}}));function xe(B,G){return Y(B,G,void 0)}var ee=h(R);function pe(B,G){return ee(B,G,new WeakMap)}var oe=h(o(R,{createIsNestedEqual:function(){return l}}));function ge(B,G){return oe(B,G,new WeakMap)}function Se(B){return h(o(M,B(M)))}function Me(B){var G=h(o(R,B(R)));return function(H,le,te){return te===void 0&&(te=new WeakMap),G(H,le,te)}}n.circularDeepEqual=pe,n.circularShallowEqual=ge,n.createCustomCircularEqual=Me,n.createCustomEqual=Se,n.deepEqual=K,n.sameValueZeroEqual=l,n.shallowEqual=xe,Object.defineProperty(n,"__esModule",{value:!0})})})(Sc,Sc.exports);var Dd=Sc.exports,wc={exports:{}};function sv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=sv(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function vf(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=sv(e))&&(r&&(r+=" "),r+=t);return r}wc.exports=vf,wc.exports.clsx=vf;var Rd=wc.exports,Te={},hR=function(t,n,r){return t===n?!0:t.className===n.className&&r(t.style,n.style)&&t.width===n.width&&t.autoSize===n.autoSize&&t.cols===n.cols&&t.draggableCancel===n.draggableCancel&&t.draggableHandle===n.draggableHandle&&r(t.verticalCompact,n.verticalCompact)&&r(t.compactType,n.compactType)&&r(t.layout,n.layout)&&r(t.margin,n.margin)&&r(t.containerPadding,n.containerPadding)&&t.rowHeight===n.rowHeight&&t.maxRows===n.maxRows&&t.isBounded===n.isBounded&&t.isDraggable===n.isDraggable&&t.isResizable===n.isResizable&&t.allowOverlap===n.allowOverlap&&t.preventCollision===n.preventCollision&&t.useCSSTransforms===n.useCSSTransforms&&t.transformScale===n.transformScale&&t.isDroppable===n.isDroppable&&r(t.resizeHandles,n.resizeHandles)&&r(t.resizeHandle,n.resizeHandle)&&t.onLayoutChange===n.onLayoutChange&&t.onDragStart===n.onDragStart&&t.onDrag===n.onDrag&&t.onDragStop===n.onDragStop&&t.onResizeStart===n.onResizeStart&&t.onResize===n.onResize&&t.onResizeStop===n.onResizeStop&&t.onDrop===n.onDrop&&r(t.droppingItem,n.droppingItem)&&r(t.innerRef,n.innerRef)};Object.defineProperty(Te,"__esModule",{value:!0});Te.bottom=Id;Te.childrenEqual=mR;Te.cloneLayout=lv;Te.cloneLayoutItem=Cr;Te.collides=Pi;Te.compact=dv;Te.compactItem=uv;Te.compactType=IR;Te.correctBounds=fv;Te.fastPositionEqual=yR;Te.fastRGLPropsEqual=void 0;Te.getAllCollisions=hv;Te.getFirstCollision=yr;Te.getLayoutItem=jd;Te.getStatics=Md;Te.modifyLayout=cv;Te.moveElement=Ca;Te.moveElementAwayFromCollision=_c;Te.noop=void 0;Te.perc=CR;Te.resizeItemInDirection=kR;Te.setTopLeft=OR;Te.setTransform=ER;Te.sortLayoutItems=Nd;Te.sortLayoutItemsByColRow=yv;Te.sortLayoutItemsByRowCol=vv;Te.synchronizeLayoutWithChildren=DR;Te.validateLayout=RR;Te.withLayoutItem=gR;var yf=Dd,ba=pR(c);function pR(e){return e&&e.__esModule?e:{default:e}}function Id(e){let t=0,n;for(let r=0,a=e.length;r<a;r++)n=e[r].y+e[r].h,n>t&&(t=n);return t}function lv(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=Cr(e[n]);return t}function cv(e,t){const n=Array(e.length);for(let r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function gR(e,t,n){let r=jd(e,t);return r?(r=n(Cr(r)),e=cv(e,r),[e,r]):[e,null]}function Cr(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function mR(e,t){return(0,yf.deepEqual)(ba.default.Children.map(e,n=>n==null?void 0:n.key),ba.default.Children.map(t,n=>n==null?void 0:n.key))&&(0,yf.deepEqual)(ba.default.Children.map(e,n=>n==null?void 0:n.props["data-grid"]),ba.default.Children.map(t,n=>n==null?void 0:n.props["data-grid"]))}const vR=hR;Te.fastRGLPropsEqual=vR;function yR(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function Pi(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function dv(e,t,n,r){const a=Md(e),o=Nd(e,t),i=Array(e.length);for(let s=0,l=o.length;s<l;s++){let u=Cr(o[s]);u.static||(u=uv(a,u,t,n,o,r),a.push(u)),i[e.indexOf(o[s])]=u,u.moved=!1}return i}const bR={x:"w",y:"h"};function Tc(e,t,n,r){const a=bR[r];t[r]+=1;const o=e.map(i=>i.i).indexOf(t.i);for(let i=o+1;i<e.length;i++){const s=e[i];if(!s.static){if(s.y>t.y+t.h)break;Pi(t,s)&&Tc(e,s,n+t[a],r)}}t[r]=n}function uv(e,t,n,r,a,o){const i=n==="vertical",s=n==="horizontal";if(i)for(t.y=Math.min(Id(e),t.y);t.y>0&&!yr(e,t);)t.y--;else if(s)for(;t.x>0&&!yr(e,t);)t.x--;let l;for(;(l=yr(e,t))&&!(n===null&&o);)if(s?Tc(a,t,l.x+l.w,"x"):Tc(a,t,l.y+l.h,"y"),s&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!yr(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function fv(e,t){const n=Md(e);for(let r=0,a=e.length;r<a;r++){const o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),!o.static)n.push(o);else for(;yr(n,o);)o.y++}return e}function jd(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function yr(e,t){for(let n=0,r=e.length;n<r;n++)if(Pi(e[n],t))return e[n]}function hv(e,t){return e.filter(n=>Pi(n,t))}function Md(e){return e.filter(t=>t.static)}function Ca(e,t,n,r,a,o,i,s,l){if(t.static&&t.isDraggable!==!0||t.y===r&&t.x===n)return e;"Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]");const u=t.x,d=t.y;typeof n=="number"&&(t.x=n),typeof r=="number"&&(t.y=r),t.moved=!0;let p=Nd(e,i);(i==="vertical"&&typeof r=="number"?d>=r:i==="horizontal"&&typeof n=="number"?u>=n:!1)&&(p=p.reverse());const C=hv(p,t),x=C.length>0;if(x&&l)return lv(e);if(x&&o)return"Collision prevented on ".concat(t.i,", reverting."),t.x=u,t.y=d,t.moved=!1,e;for(let S=0,w=C.length;S<w;S++){const T=C[S];"Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(T.i," at [").concat(T.x,",").concat(T.y,"]"),!T.moved&&(T.static?e=_c(e,T,t,a,i):e=_c(e,t,T,a,i))}return e}function _c(e,t,n,r,a,o){const i=a==="horizontal",s=a==="vertical",l=t.static;if(r){r=!1;const p={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},g=yr(e,p),C=g&&g.y+g.h>t.y,x=g&&t.x+t.w>g.x;if(g){if(C&&s)return Ca(e,n,void 0,t.y+1,r,l,a);if(C&&a==null)return t.y=n.y,n.y=n.y+n.h,e;if(x&&i)return Ca(e,t,n.x,void 0,r,l,a)}else return"Doing reverse collision on ".concat(n.i," up to [").concat(p.x,",").concat(p.y,"]."),Ca(e,n,i?p.x:void 0,s?p.y:void 0,r,l,a)}const u=i?n.x+1:void 0,d=s?n.y+1:void 0;return u==null&&d==null?e:Ca(e,n,i?n.x+1:void 0,s?n.y+1:void 0,r,l,a)}function CR(e){return e*100+"%"}const pv=(e,t,n,r)=>e+n>r?t:n,gv=(e,t,n)=>e<0?t:n,mv=e=>Math.max(0,e),Pd=e=>Math.max(0,e),Ld=(e,t,n)=>{let{left:r,height:a,width:o}=t;const i=e.top-(a-e.height);return{left:r,width:o,height:gv(i,e.height,a),top:Pd(i)}},$d=(e,t,n)=>{let{top:r,left:a,height:o,width:i}=t;return{top:r,height:o,width:pv(e.left,e.width,i,n),left:mv(a)}},zd=(e,t,n)=>{let{top:r,height:a,width:o}=t;const i=e.left-(o-e.width);return{height:a,width:i<0?e.width:pv(e.left,e.width,o,n),top:Pd(r),left:mv(i)}},Ad=(e,t,n)=>{let{top:r,left:a,height:o,width:i}=t;return{width:i,left:a,height:gv(r,e.height,o),top:Pd(r)}},xR=function(){return Ld(arguments.length<=0?void 0:arguments[0],$d(...arguments))},SR=function(){return Ld(arguments.length<=0?void 0:arguments[0],zd(...arguments))},wR=function(){return Ad(arguments.length<=0?void 0:arguments[0],$d(...arguments))},TR=function(){return Ad(arguments.length<=0?void 0:arguments[0],zd(...arguments))},_R={n:Ld,ne:xR,e:$d,se:wR,s:Ad,sw:TR,w:zd,nw:SR};function kR(e,t,n,r){const a=_R[e];return a?a(t,{...t,...n},r):n}function ER(e){let{top:t,left:n,width:r,height:a}=e;const o="translate(".concat(n,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}}function OR(e){let{top:t,left:n,width:r,height:a}=e;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}}function Nd(e,t){return t==="horizontal"?yv(e):t==="vertical"?vv(e):e}function vv(e){return e.slice(0).sort(function(t,n){return t.y>n.y||t.y===n.y&&t.x>n.x?1:t.y===n.y&&t.x===n.x?0:-1})}function yv(e){return e.slice(0).sort(function(t,n){return t.x>n.x||t.x===n.x&&t.y>n.y?1:-1})}function DR(e,t,n,r,a){e=e||[];const o=[];ba.default.Children.forEach(t,s=>{if((s==null?void 0:s.key)==null)return;const l=jd(e,String(s.key)),u=s.props["data-grid"];l&&u==null?o.push(Cr(l)):u?o.push(Cr({...u,i:s.key})):o.push(Cr({w:1,h:1,x:0,y:Id(o),i:String(s.key)}))});const i=fv(o,{cols:n});return a?i:dv(i,r,n)}function RR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,a=e.length;r<a;r++){const o=e[r];for(let i=0;i<n.length;i++)if(typeof o[n[i]]!="number")throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!")}}function IR(e){const{verticalCompact:t,compactType:n}=e||{};return t===!1?null:n}const jR=()=>{};Te.noop=jR;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.calcGridColWidth=Li;Sn.calcGridItemPosition=MR;Sn.calcGridItemWHPx=kc;Sn.calcWH=LR;Sn.calcXY=PR;Sn.clamp=br;function Li(e){const{margin:t,containerPadding:n,containerWidth:r,cols:a}=e;return(r-t[0]*(a-1)-n[0]*2)/a}function kc(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function MR(e,t,n,r,a,o){const{margin:i,containerPadding:s,rowHeight:l}=e,u=Li(e),d={};return o&&o.resizing?(d.width=Math.round(o.resizing.width),d.height=Math.round(o.resizing.height)):(d.width=kc(r,u,i[0]),d.height=kc(a,l,i[1])),o&&o.dragging?(d.top=Math.round(o.dragging.top),d.left=Math.round(o.dragging.left)):o&&o.resizing&&typeof o.resizing.top=="number"&&typeof o.resizing.left=="number"?(d.top=Math.round(o.resizing.top),d.left=Math.round(o.resizing.left)):(d.top=Math.round((l+i[1])*n+s[1]),d.left=Math.round((u+i[0])*t+s[0])),d}function PR(e,t,n,r,a){const{margin:o,cols:i,rowHeight:s,maxRows:l}=e,u=Li(e);let d=Math.round((n-o[0])/(u+o[0])),p=Math.round((t-o[1])/(s+o[1]));return d=br(d,0,i-r),p=br(p,0,l-a),{x:d,y:p}}function LR(e,t,n,r,a,o){const{margin:i,maxRows:s,cols:l,rowHeight:u}=e,d=Li(e);let p=Math.round((t+i[0])/(d+i[0])),g=Math.round((n+i[1])/(u+i[1])),C=br(p,0,l-r),x=br(g,0,s-a);return["sw","w","nw"].indexOf(o)!==-1&&(C=br(p,0,l)),["nw","n","ne"].indexOf(o)!==-1&&(x=br(g,0,s)),{w:C,h:x}}function br(e,t,n){return Math.max(Math.min(e,n),t)}var $i={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resizeHandleType=Dn.resizeHandleAxesType=Dn.default=void 0;var we=bv(Ee),$R=bv(c);function bv(e){return e&&e.__esModule?e:{default:e}}const Cv=we.default.arrayOf(we.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));Dn.resizeHandleAxesType=Cv;const xv=we.default.oneOfType([we.default.node,we.default.func]);Dn.resizeHandleType=xv;var zR={className:we.default.string,style:we.default.object,width:we.default.number,autoSize:we.default.bool,cols:we.default.number,draggableCancel:we.default.string,draggableHandle:we.default.string,verticalCompact:function(e){e.verticalCompact},compactType:we.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&Te.validateLayout(t,"layout")},margin:we.default.arrayOf(we.default.number),containerPadding:we.default.arrayOf(we.default.number),rowHeight:we.default.number,maxRows:we.default.number,isBounded:we.default.bool,isDraggable:we.default.bool,isResizable:we.default.bool,allowOverlap:we.default.bool,preventCollision:we.default.bool,useCSSTransforms:we.default.bool,transformScale:we.default.number,isDroppable:we.default.bool,resizeHandles:Cv,resizeHandle:xv,onLayoutChange:we.default.func,onDragStart:we.default.func,onDrag:we.default.func,onDragStop:we.default.func,onResizeStart:we.default.func,onResize:we.default.func,onResizeStop:we.default.func,onDrop:we.default.func,droppingItem:we.default.shape({i:we.default.string.isRequired,w:we.default.number.isRequired,h:we.default.number.isRequired}),children:function(e,t){const n=e[t],r={};$R.default.Children.forEach(n,function(a){if((a==null?void 0:a.key)!=null){if(r[a.key])throw new Error('Duplicate child key "'+a.key+'" found! This will cause problems in ReactGridLayout.');r[a.key]=!0}})},innerRef:we.default.any};Dn.default=zR;Object.defineProperty($i,"__esModule",{value:!0});$i.default=void 0;var zr=Bd(c),Pe=Bd(Ee),AR=Lb,NR=$b,Ar=Te,pt=Sn,bf=Dn,BR=Bd(Rd);function Bd(e){return e&&e.__esModule?e:{default:e}}function fn(e,t,n){return t=WR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WR(e){var t=FR(e,"string");return typeof t=="symbol"?t:String(t)}function FR(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wd extends zr.default.Component{constructor(){super(...arguments),fn(this,"state",{resizing:null,dragging:null,className:""}),fn(this,"elementRef",zr.default.createRef()),fn(this,"onDragStart",(t,n)=>{let{node:r}=n;const{onDragStart:a,transformScale:o}=this.props;if(!a)return;const i={top:0,left:0},{offsetParent:s}=r;if(!s)return;const l=s.getBoundingClientRect(),u=r.getBoundingClientRect(),d=u.left/o,p=l.left/o,g=u.top/o,C=l.top/o;i.left=d-p+s.scrollLeft,i.top=g-C+s.scrollTop,this.setState({dragging:i});const{x,y:S}=(0,pt.calcXY)(this.getPositionParams(),i.top,i.left,this.props.w,this.props.h);return a.call(this,this.props.i,x,S,{e:t,node:r,newPosition:i})}),fn(this,"onDrag",(t,n)=>{let{node:r,deltaX:a,deltaY:o}=n;const{onDrag:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let s=this.state.dragging.top+o,l=this.state.dragging.left+a;const{isBounded:u,i:d,w:p,h:g,containerWidth:C}=this.props,x=this.getPositionParams();if(u){const{offsetParent:m}=r;if(m){const{margin:h,rowHeight:b}=this.props,y=m.clientHeight-(0,pt.calcGridItemWHPx)(g,b,h[1]);s=(0,pt.clamp)(s,0,y);const v=(0,pt.calcGridColWidth)(x),_=C-(0,pt.calcGridItemWHPx)(p,v,h[0]);l=(0,pt.clamp)(l,0,_)}}const S={top:s,left:l};this.setState({dragging:S});const{x:w,y:T}=(0,pt.calcXY)(x,s,l,p,g);return i.call(this,d,w,T,{e:t,node:r,newPosition:S})}),fn(this,"onDragStop",(t,n)=>{let{node:r}=n;const{onDragStop:a}=this.props;if(!a)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:i,i:s}=this.props,{left:l,top:u}=this.state.dragging,d={top:u,left:l};this.setState({dragging:null});const{x:p,y:g}=(0,pt.calcXY)(this.getPositionParams(),u,l,o,i);return a.call(this,s,p,g,{e:t,node:r,newPosition:d})}),fn(this,"onResizeStop",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStop")),fn(this,"onResizeStart",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStart")),fn(this,"onResize",(t,n,r)=>this.onResizeHandler(t,n,r,"onResize"))}shouldComponentUpdate(t,n){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const r=(0,pt.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),a=(0,pt.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,n);return!(0,Ar.fastPositionEqual)(r,a)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:n}=this.props;if(!n)return;const r=this.elementRef.current;if(!r)return;const a=t.droppingPosition||{left:0,top:0},{dragging:o}=this.state,i=o&&n.left!==a.left||n.top!==a.top;if(!o)this.onDragStart(n.e,{node:r,deltaX:n.left,deltaY:n.top});else if(i){const s=n.left-o.left,l=n.top-o.top;this.onDrag(n.e,{node:r,deltaX:s,deltaY:l})}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:n,containerWidth:r,useCSSTransforms:a}=this.props;let o;return a?o=(0,Ar.setTransform)(t):(o=(0,Ar.setTopLeft)(t),n&&(o.left=(0,Ar.perc)(t.left/r),o.width=(0,Ar.perc)(t.width/r))),o}mixinDraggable(t,n){return zr.default.createElement(AR.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,n){return(r,a)=>n(r,a,t)}mixinResizable(t,n,r){const{cols:a,minW:o,minH:i,maxW:s,maxH:l,transformScale:u,resizeHandles:d,resizeHandle:p}=this.props,g=this.getPositionParams(),C=(0,pt.calcGridItemPosition)(g,0,0,a,0).width,x=(0,pt.calcGridItemPosition)(g,0,0,o,i),S=(0,pt.calcGridItemPosition)(g,0,0,s,l),w=[x.width,x.height],T=[Math.min(S.width,C),Math.min(S.height,1/0)];return zr.default.createElement(NR.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:w,maxConstraints:T,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:u,resizeHandles:d,handle:p},t)}onResizeHandler(t,n,r,a){let{node:o,size:i,handle:s}=n;const l=this.props[a];if(!l)return;const{x:u,y:d,i:p,maxH:g,minH:C,containerWidth:x}=this.props,{minW:S,maxW:w}=this.props;let T=i;o&&(T=(0,Ar.resizeItemInDirection)(s,r,i,x),this.setState({resizing:a==="onResizeStop"?null:T}));let{w:m,h}=(0,pt.calcWH)(this.getPositionParams(),T.width,T.height,u,d,s);m=(0,pt.clamp)(m,Math.max(S,1),w),h=(0,pt.clamp)(h,C,g),l.call(this,p,m,h,{e:t,node:o,size:T,handle:s})}render(){const{x:t,y:n,w:r,h:a,isDraggable:o,isResizable:i,droppingPosition:s,useCSSTransforms:l}=this.props,u=(0,pt.calcGridItemPosition)(this.getPositionParams(),t,n,r,a,this.state),d=zr.default.Children.only(this.props.children);let p=zr.default.cloneElement(d,{ref:this.elementRef,className:(0,BR.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!s,cssTransforms:l}),style:{...this.props.style,...d.props.style,...this.createStyle(u)}});return p=this.mixinResizable(p,u,i),p=this.mixinDraggable(p,o),p}}$i.default=Wd;fn(Wd,"propTypes",{children:Pe.default.element,cols:Pe.default.number.isRequired,containerWidth:Pe.default.number.isRequired,rowHeight:Pe.default.number.isRequired,margin:Pe.default.array.isRequired,maxRows:Pe.default.number.isRequired,containerPadding:Pe.default.array.isRequired,x:Pe.default.number.isRequired,y:Pe.default.number.isRequired,w:Pe.default.number.isRequired,h:Pe.default.number.isRequired,minW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minWidth not Number");if(n>e.w||n>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxWidth not Number");if(n<e.w||n<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minHeight not Number");if(n>e.h||n>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxHeight not Number");if(n<e.h||n<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:Pe.default.string.isRequired,resizeHandles:bf.resizeHandleAxesType,resizeHandle:bf.resizeHandleType,onDragStop:Pe.default.func,onDragStart:Pe.default.func,onDrag:Pe.default.func,onResizeStop:Pe.default.func,onResizeStart:Pe.default.func,onResize:Pe.default.func,isDraggable:Pe.default.bool.isRequired,isResizable:Pe.default.bool.isRequired,isBounded:Pe.default.bool.isRequired,static:Pe.default.bool,useCSSTransforms:Pe.default.bool.isRequired,transformScale:Pe.default.number,className:Pe.default.string,handle:Pe.default.string,cancel:Pe.default.string,droppingPosition:Pe.default.shape({e:Pe.default.object.isRequired,left:Pe.default.number.isRequired,top:Pe.default.number.isRequired})});fn(Wd,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var fr=GR(c),Rs=Dd,HR=Fd(Rd),fe=Te,qR=Sn,Cf=Fd($i),VR=Fd(Dn);function Fd(e){return e&&e.__esModule?e:{default:e}}function Sv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Sv=function(r){return r?n:t})(e)}function GR(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Sv(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function xt(e,t,n){return t=UR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UR(e){var t=KR(e,"string");return typeof t=="symbol"?t:String(t)}function KR(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const xf="react-grid-layout";let wv=!1;try{wv=/firefox/i.test(navigator.userAgent)}catch{}let zi=class extends fr.Component{constructor(){super(...arguments),xt(this,"state",{activeDrag:null,layout:(0,fe.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,fe.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),xt(this,"dragEnterCounter",0),xt(this,"onDragStart",(t,n,r,a)=>{let{e:o,node:i}=a;const{layout:s}=this.state,l=(0,fe.getLayoutItem)(s,t);if(l)return this.setState({oldDragItem:(0,fe.cloneLayoutItem)(l),oldLayout:s}),this.props.onDragStart(s,l,l,null,o,i)}),xt(this,"onDrag",(t,n,r,a)=>{let{e:o,node:i}=a;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:u,allowOverlap:d,preventCollision:p}=this.props,g=(0,fe.getLayoutItem)(l,t);if(!g)return;const C={w:g.w,h:g.h,x:g.x,y:g.y,placeholder:!0,i:t},x=!0;l=(0,fe.moveElement)(l,g,n,r,x,p,(0,fe.compactType)(this.props),u,d),this.props.onDrag(l,s,g,C,o,i),this.setState({layout:d?l:(0,fe.compact)(l,(0,fe.compactType)(this.props),u),activeDrag:C})}),xt(this,"onDragStop",(t,n,r,a)=>{let{e:o,node:i}=a;if(!this.state.activeDrag)return;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:u,preventCollision:d,allowOverlap:p}=this.props,g=(0,fe.getLayoutItem)(l,t);if(!g)return;const C=!0;l=(0,fe.moveElement)(l,g,n,r,C,d,(0,fe.compactType)(this.props),u,p);const x=p?l:(0,fe.compact)(l,(0,fe.compactType)(this.props),u);this.props.onDragStop(x,s,g,null,o,i);const{oldLayout:S}=this.state;this.setState({activeDrag:null,layout:x,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(x,S)}),xt(this,"onResizeStart",(t,n,r,a)=>{let{e:o,node:i}=a;const{layout:s}=this.state,l=(0,fe.getLayoutItem)(s,t);l&&(this.setState({oldResizeItem:(0,fe.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(s,l,l,null,o,i))}),xt(this,"onResize",(t,n,r,a)=>{let{e:o,node:i,size:s,handle:l}=a;const{oldResizeItem:u}=this.state;let{layout:d}=this.state;const{cols:p,preventCollision:g,allowOverlap:C}=this.props,[x,S]=(0,fe.withLayoutItem)(d,t,m=>{let h;if(g&&!C){const b=(0,fe.getAllCollisions)(d,{...m,w:n,h:r}).filter(y=>y.i!==m.i);if(h=b.length>0,h){let y=1/0,v=1/0;b.forEach(_=>{_.x>m.x&&(y=Math.min(y,_.x)),_.y>m.y&&(v=Math.min(v,_.y))}),Number.isFinite(y)&&(m.w=y-m.x),Number.isFinite(v)&&(m.h=v-m.y)}}return m});if(!S)return;let w;if(["sw","w","nw","n","ne"].indexOf(l)!==-1){let m=S.x,h=S.y;["sw","nw","w"].indexOf(l)!==-1&&(m=S.x+(S.w-n),n=S.x!==m&&m<0?S.w:n,m=m<0?0:m),["ne","n","nw"].indexOf(l)!==-1&&(h=S.y+(S.h-r),r=S.y!==h&&h<0?S.h:r,h=h<0?0:h),S.w=n,S.h=r;const b=!0;w=(0,fe.moveElement)(x,S,m,h,b,this.props.preventCollision,(0,fe.compactType)(this.props),p,C)}else S.w=n,S.h=r,w=x;const T={w:S.w,h:S.h,x:S.x,y:S.y,static:!0,i:t};this.props.onResize(w,u,S,T,o,i),this.setState({layout:C?w:(0,fe.compact)(w,(0,fe.compactType)(this.props),p),activeDrag:T})}),xt(this,"onResizeStop",(t,n,r,a)=>{let{e:o,node:i}=a;const{layout:s,oldResizeItem:l}=this.state,{cols:u,allowOverlap:d}=this.props,p=(0,fe.getLayoutItem)(s,t),g=d?s:(0,fe.compact)(s,(0,fe.compactType)(this.props),u);this.props.onResizeStop(g,l,p,null,o,i);const{oldLayout:C}=this.state;this.setState({activeDrag:null,layout:g,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(g,C)}),xt(this,"onDragOver",t=>{var n;if(t.preventDefault(),t.stopPropagation(),wv&&!((n=t.nativeEvent.target)!==null&&n!==void 0&&n.classList.contains(xf)))return!1;const{droppingItem:r,onDropDragOver:a,margin:o,cols:i,rowHeight:s,maxRows:l,width:u,containerPadding:d,transformScale:p}=this.props,g=a==null?void 0:a(t);if(g===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const C={...r,...g},{layout:x}=this.state,{layerX:S,layerY:w}=t.nativeEvent,T={left:S/p,top:w/p,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:m,top:h}=this.state.droppingPosition;(m!=S||h!=w)&&this.setState({droppingPosition:T})}}else{const m={cols:i,margin:o,maxRows:l,rowHeight:s,containerWidth:u,containerPadding:d||o},h=(0,qR.calcXY)(m,w,S,C.w,C.h);this.setState({droppingDOMNode:fr.createElement("div",{key:C.i}),droppingPosition:T,layout:[...x,{...C,x:h.x,y:h.y,static:!1,isDraggable:!0}]})}}),xt(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:n}=this.props,{layout:r}=this.state,a=(0,fe.compact)(r.filter(o=>o.i!==t.i),(0,fe.compactType)(this.props),n,this.props.allowOverlap);this.setState({layout:a,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),xt(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),xt(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),xt(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:n}=this.props,{layout:r}=this.state,a=r.find(o=>o.i===n.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,a,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,n){let r;return n.activeDrag?null:(!(0,Rs.deepEqual)(t.layout,n.propsLayout)||t.compactType!==n.compactType?r=t.layout:(0,fe.childrenEqual)(t.children,n.children)||(r=n.layout),r?{layout:(0,fe.synchronizeLayoutWithChildren)(r,t.children,t.cols,(0,fe.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,n){return this.props.children!==t.children||!(0,fe.fastRGLPropsEqual)(this.props,t,Rs.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(t,n){if(!this.state.activeDrag){const r=this.state.layout,a=n.layout;this.onLayoutMaybeChanged(r,a)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,fe.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+n*2+"px"}onLayoutMaybeChanged(t,n){n||(n=this.state.layout),(0,Rs.deepEqual)(n,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:n,cols:r,margin:a,containerPadding:o,rowHeight:i,maxRows:s,useCSSTransforms:l,transformScale:u}=this.props;return fr.createElement(Cf.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:n,cols:r,margin:a,containerPadding:o||a,maxRows:s,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:l,transformScale:u},fr.createElement("div",null))}processGridItem(t,n){if(!t||!t.key)return;const r=(0,fe.getLayoutItem)(this.state.layout,String(t.key));if(!r)return null;const{width:a,cols:o,margin:i,containerPadding:s,rowHeight:l,maxRows:u,isDraggable:d,isResizable:p,isBounded:g,useCSSTransforms:C,transformScale:x,draggableCancel:S,draggableHandle:w,resizeHandles:T,resizeHandle:m}=this.props,{mounted:h,droppingPosition:b}=this.state,y=typeof r.isDraggable=="boolean"?r.isDraggable:!r.static&&d,v=typeof r.isResizable=="boolean"?r.isResizable:!r.static&&p,_=r.resizeHandles||T,k=y&&g&&r.isBounded!==!1;return fr.createElement(Cf.default,{containerWidth:a,cols:o,margin:i,containerPadding:s||i,maxRows:u,rowHeight:l,cancel:S,handle:w,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:v,isBounded:k,useCSSTransforms:C&&h,usePercentages:!h,transformScale:x,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:n?b:void 0,resizeHandles:_,resizeHandle:m},t)}render(){const{className:t,style:n,isDroppable:r,innerRef:a}=this.props,o=(0,HR.default)(xf,t),i={height:this.containerHeight(),...n};return fr.createElement("div",{ref:a,className:o,style:i,onDrop:r?this.onDrop:fe.noop,onDragLeave:r?this.onDragLeave:fe.noop,onDragEnter:r?this.onDragEnter:fe.noop,onDragOver:r?this.onDragOver:fe.noop},fr.Children.map(this.props.children,s=>this.processGridItem(s)),r&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};to.default=zi;xt(zi,"displayName","ReactGridLayout");xt(zi,"propTypes",VR.default);xt(zi,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:fe.noop,onDragStart:fe.noop,onDrag:fe.noop,onDragStop:fe.noop,onResizeStart:fe.noop,onResize:fe.noop,onResizeStop:fe.noop,onDrop:fe.noop,onDropDragOver:fe.noop});var Ai={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.findOrGenerateResponsiveLayout=JR;jr.getBreakpointFromWidth=YR;jr.getColsFromBreakpoint=XR;jr.sortBreakpoints=Hd;var Co=Te;function YR(e,t){const n=Hd(e);let r=n[0];for(let a=1,o=n.length;a<o;a++){const i=n[a];t>e[i]&&(r=i)}return r}function XR(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function JR(e,t,n,r,a,o){if(e[n])return(0,Co.cloneLayout)(e[n]);let i=e[r];const s=Hd(t),l=s.slice(s.indexOf(n));for(let u=0,d=l.length;u<d;u++){const p=l[u];if(e[p]){i=e[p];break}}return i=(0,Co.cloneLayout)(i||[]),(0,Co.compact)((0,Co.correctBounds)(i,{cols:a}),o,a)}function Hd(e){return Object.keys(e).sort(function(n,r){return e[n]-e[r]})}Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=void 0;var Sf=QR(c),Ot=Tv(Ee),Is=Dd,Yr=Te,hr=jr,ZR=Tv(to);function Tv(e){return e&&e.__esModule?e:{default:e}}function _v(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(_v=function(r){return r?n:t})(e)}function QR(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=_v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(this,arguments)}function ti(e,t,n){return t=e2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e2(e){var t=t2(e,"string");return typeof t=="symbol"?t:String(t)}function t2(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const wf=e=>Object.prototype.toString.call(e);function xo(e,t){return e==null?null:Array.isArray(e)?e:e[t]}class qd extends Sf.Component{constructor(){super(...arguments),ti(this,"state",this.generateInitialState()),ti(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:n,layouts:r,cols:a}=this.props,o=(0,hr.getBreakpointFromWidth)(n,t),i=(0,hr.getColsFromBreakpoint)(o,a),s=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,hr.findOrGenerateResponsiveLayout)(r,n,o,o,i,s),breakpoint:o,cols:i}}static getDerivedStateFromProps(t,n){if(!(0,Is.deepEqual)(t.layouts,n.layouts)){const{breakpoint:r,cols:a}=n;return{layout:(0,hr.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,r,r,a,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,Is.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,Is.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:n,cols:r,layouts:a,compactType:o}=this.props,i=this.props.breakpoint||(0,hr.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),s=this.state.breakpoint,l=(0,hr.getColsFromBreakpoint)(i,r),u={...a};if(s!==i||t.breakpoints!==n||t.cols!==r){s in u||(u[s]=(0,Yr.cloneLayout)(this.state.layout));let g=(0,hr.findOrGenerateResponsiveLayout)(u,n,i,s,l,o);g=(0,Yr.synchronizeLayoutWithChildren)(g,this.props.children,l,o,this.props.allowOverlap),u[i]=g,this.props.onLayoutChange(g,u),this.props.onBreakpointChange(i,l),this.setState({breakpoint:i,layout:g,cols:l})}const d=xo(this.props.margin,i),p=xo(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,d,l,p)}render(){const{breakpoint:t,breakpoints:n,cols:r,layouts:a,margin:o,containerPadding:i,onBreakpointChange:s,onLayoutChange:l,onWidthChange:u,...d}=this.props;return Sf.createElement(ZR.default,Ec({},d,{margin:xo(o,this.state.breakpoint),containerPadding:xo(i,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}Ai.default=qd;ti(qd,"propTypes",{breakpoint:Ot.default.string,breakpoints:Ot.default.object,allowOverlap:Ot.default.bool,cols:Ot.default.object,margin:Ot.default.oneOfType([Ot.default.array,Ot.default.object]),containerPadding:Ot.default.oneOfType([Ot.default.array,Ot.default.object]),layouts(e,t){if(wf(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+wf(e[t]));Object.keys(e[t]).forEach(n=>{if(!(n in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Yr.validateLayout)(e.layouts[n],"layouts."+n)})},width:Ot.default.number.isRequired,onBreakpointChange:Ot.default.func,onLayoutChange:Ot.default.func,onWidthChange:Ot.default.func});ti(qd,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Yr.noop,onLayoutChange:Yr.noop,onWidthChange:Yr.noop});var Vd={};const n2=aa(zb);Object.defineProperty(Vd,"__esModule",{value:!0});Vd.default=d2;var So=i2(c),r2=Gd(Ee),a2=Gd(n2),o2=Gd(Rd);function Gd(e){return e&&e.__esModule?e:{default:e}}function kv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(kv=function(r){return r?n:t})(e)}function i2(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=kv(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(this,arguments)}function Nr(e,t,n){return t=s2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s2(e){var t=l2(e,"string");return typeof t=="symbol"?t:String(t)}function l2(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const c2="react-grid-layout";function d2(e){var t;return t=class extends So.Component{constructor(){super(...arguments),Nr(this,"state",{width:1280}),Nr(this,"elementRef",So.createRef()),Nr(this,"mounted",!1),Nr(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new a2.default(a=>{if(this.elementRef.current instanceof HTMLElement){const i=a[0].contentRect.width;this.setState({width:i})}});const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.observe(r)}componentWillUnmount(){this.mounted=!1;const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.unobserve(r),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:r,...a}=this.props;return r&&!this.mounted?So.createElement("div",{className:(0,o2.default)(this.props.className,c2),style:this.props.style,ref:this.elementRef}):So.createElement(e,Oc({innerRef:this.elementRef},a,this.state))}},Nr(t,"defaultProps",{measureBeforeMount:!1}),Nr(t,"propTypes",{measureBeforeMount:r2.default.bool}),t}(function(e){e.exports=to.default,e.exports.utils=Te,e.exports.calculateUtils=Sn,e.exports.Responsive=Ai.default,e.exports.Responsive.utils=jr,e.exports.WidthProvider=Vd.default})(iv);var Ev=iv.exports;const u2=Lc(Ev);const Ov=$.div.withConfig({displayName:"StyledBackground",componentId:"sc-n2phb4-0"})(["background-color:",";background-image:",";background-repeat:",";background-size:",";border-color:",";border-style:",";border-width:",";border-radius:",";"],e=>{var t;return(t=e.bg)==null?void 0:t.color},e=>{var t;return Ab((t=e.bg)==null?void 0:t.image)},e=>{var t;return(t=e.bg)==null?void 0:t.repeat},e=>{var t;return(t=e.bg)==null?void 0:t.size},e=>{var t;return(t=e==null?void 0:e.bd)==null?void 0:t.color},e=>{var t;return(t=e==null?void 0:e.bd)==null?void 0:t.style},e=>{var t;return(((t=e==null?void 0:e.bd)==null?void 0:t.width)||0)+"px"},e=>{var t;return(((t=e==null?void 0:e.bd)==null?void 0:t.radius)||0)+"px"});var Ud={exports:{}},Xr=typeof Reflect=="object"?Reflect:null,Tf=Xr&&typeof Xr.apply=="function"?Xr.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},$o;Xr&&typeof Xr.ownKeys=="function"?$o=Xr.ownKeys:Object.getOwnPropertySymbols?$o=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:$o=function(t){return Object.getOwnPropertyNames(t)};var Dv=Number.isNaN||function(t){return t!==t};function Fe(){Fe.init.call(this)}Ud.exports=Fe;Ud.exports.once=g2;Fe.EventEmitter=Fe;Fe.prototype._events=void 0;Fe.prototype._eventsCount=0;Fe.prototype._maxListeners=void 0;var _f=10;function Ni(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Fe,"defaultMaxListeners",{enumerable:!0,get:function(){return _f},set:function(e){if(typeof e!="number"||e<0||Dv(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_f=e}});Fe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Fe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Dv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Rv(e){return e._maxListeners===void 0?Fe.defaultMaxListeners:e._maxListeners}Fe.prototype.getMaxListeners=function(){return Rv(this)};Fe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=t==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(n.length>0&&(i=n[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")Tf(l,this,n);else for(var u=l.length,d=Lv(l,u),r=0;r<u;++r)Tf(d[r],this,n);return!0};function Iv(e,t,n,r){var a,o,i;if(Ni(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),i=o[t]),i===void 0)i=o[t]=n,++e._eventsCount;else if(typeof i=="function"?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),a=Rv(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=i.length}return e}Fe.prototype.addListener=function(t,n){return Iv(this,t,n,!1)};Fe.prototype.on=Fe.prototype.addListener;Fe.prototype.prependListener=function(t,n){return Iv(this,t,n,!0)};function f2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jv(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=f2.bind(r);return a.listener=n,r.wrapFn=a,a}Fe.prototype.once=function(t,n){return Ni(n),this.on(t,jv(this,t,n)),this};Fe.prototype.prependOnceListener=function(t,n){return Ni(n),this.prependListener(t,jv(this,t,n)),this};Fe.prototype.removeListener=function(t,n){var r,a,o,i,s;if(Ni(n),a=this._events,a===void 0)return this;if(r=a[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===n||r[i].listener===n){s=r[i].listener,o=i;break}if(o<0)return this;o===0?r.shift():h2(r,o),r.length===1&&(a[t]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Fe.prototype.off=Fe.prototype.removeListener;Fe.prototype.removeAllListeners=function(t){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this};function Mv(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?p2(a):Lv(a,a.length)}Fe.prototype.listeners=function(t){return Mv(this,t,!0)};Fe.prototype.rawListeners=function(t){return Mv(this,t,!1)};Fe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Pv.call(e,t)};Fe.prototype.listenerCount=Pv;function Pv(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Fe.prototype.eventNames=function(){return this._eventsCount>0?$o(this._events):[]};function Lv(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h2(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p2(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function g2(e,t){return new Promise(function(n,r){function a(i){e.removeListener(t,o),r(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}$v(e,t,o,{once:!0}),t!=="error"&&m2(e,a,{once:!0})})}function m2(e,t,n){typeof e.on=="function"&&$v(e,"error",t,n)}function $v(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(o){r.once&&e.removeEventListener(t,a),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var v2=Ud.exports;const y2=Lc(v2),yn=new y2,js="widgetMove",Ms="widgetMoveEnd",b2="boardScroll";yn.setMaxListeners(1e3);const Ps={on:e=>{yn.addListener(js,e)},emit:(e,t,n)=>{yn.emit(js,e,t,n)},off:e=>{yn.removeListener(js,e)}},Ls={on:e=>{yn.addListener(Ms,e)},emit:()=>{yn.emit(Ms)},off:e=>{yn.removeListener(Ms,e)}},$s=e=>`${b2}_${e}`,zo={on:(e,t)=>{yn.addListener($s(e),t)},emit:e=>{yn.emit($s(e))},off:(e,t)=>{yn.removeListener($s(e),t)}};function C2(e){const t=c.useRef(null),n=c.useCallback(()=>{e&&zo.emit(e)},[e]),r=c.useMemo(()=>Nb(n,100),[n]);return c.useEffect(()=>{const a=t==null?void 0:t.current;return setImmediate(()=>{a==null||a.removeEventListener("scroll",r,!1),a&&a.addEventListener("scroll",r,!1)}),()=>{a&&a.removeEventListener("scroll",r,!1)}},[r]),{gridWrapRef:t,thEmitScroll:r}}function x2(e){return c.useMemo(()=>{const n={lg:[],sm:[]};return e.forEach(r=>{const a=r.config.pRect||r.config.mRect||{},o=r.config.mRect||r.config.pRect||{},i=r.config.lock;n.lg.push({i:r.id,x:a.x,y:a.y,w:a.width,h:a.height,static:i}),n.sm.push({i:r.id,x:o.x,y:o.y,w:o.width,h:o.height,static:i})}),n},[e])}const S2=()=>{const{boardId:e,renderMode:t}=c.useContext(ze),n=qe(),[r,a]=c.useState(Bb[0]),[o,i]=c.useState(0),{ref:s,width:l=0,height:u=0}=Mi(),d=c.useContext(da),{curMargin:p,curPadding:g}=c.useMemo(()=>jp(d,r),[d,r]);c.useLayoutEffect(()=>{l>0&&u>0&&(i(l),l<=Wb.sm?a("sm"):a("lg"),t!=="edit"&&n(Tt.setBoardWidthHeight({boardId:e,wh:[l*2,u*2]})))},[l,u,n,e,t]);const C=c.useMemo(()=>{const x=o*Hb/qb;return Math.max(x,Fb)},[o]);return{ref:s,widgetRowHeight:C,colsKey:r,margin:p,padding:g}},Kd=({children:e})=>{const{i18n:t}=g0();return f.jsx(m0,{locale:v0[t.language],theme:{algorithm:Tx.defaultAlgorithm,token:{colorPrimary:"#0d61a0",colorLink:"#0e558b"}},children:e})},Yd=c.createContext({data:{id:"",columns:[],rows:[]}}),kf=c.memo(({boardId:e,boardEditing:t,widgetId:n,children:r})=>{const a=ne(s=>Vb(s,n)),o=ne(s=>dx(s,n)),i=t?o:a;return f.jsx(Yd.Provider,{value:{data:i},children:e?r:null})}),w2=e=>{const[t,n]=mn(e,["loopFetchGroup"],["enable","interval"]);return{enable:t,interval:n}},T2=e=>{const[t]=mn(e,["backgroundGroup"],["background"]);return t},_2=e=>{const[t]=mn(e,["borderGroup"],["border"]);return t},k2=e=>{const[t,n,r,a]=mn(e,["paddingGroup"],["top","right","bottom","left"]);return{top:t,right:n,bottom:r,left:a}},Lt=e=>({background:T2(e),border:_2(e),padding:k2(e)}),tn=e=>{const[t,n,r]=mn(e,["titleGroup"],["showTitle","textAlign","font"]);return{showTitle:t,textAlign:n,font:r}},Xd=c.memo(({widget:e,widgetInfo:t})=>{const n=qe(),{onEditSelectWidget:r}=c.useContext(ot),a=ne(ux),o=c.useCallback(l=>{r({multipleKey:l.shiftKey,id:e.id,selected:!0})},[r,e.id]),i=c.useCallback(()=>{e.config.type==="container"&&n(Zl.changeShowBlockMask(!1)),n(ja.openWidgetEditing({id:e.id}))},[n,e.id,e.config.type]),s=c.useMemo(()=>e.config.originalType===Be.group?!(e.config.boardType==="auto"&&!e.parentId):!1,[e.config.boardType,e.config.originalType,e.parentId]);return f.jsx(E2,{front:a&&!t.editing,hideBorder:s,className:dt({[Mp]:a,selected:t.selected,editing:t.editing}),onDoubleClick:i,onMouseDown:o})}),E2=$.div.withConfig({displayName:"BlockMaskLayer__MaskLayer",componentId:"sc-sbv65x-0"})(["position:absolute;top:-5px;left:-5px;z-index:",";width:calc(100% + 10px);height:calc(100% + 10px);cursor:move;&:hover,&:active{border-color:",";border-style:dotted;border-width:2px;}&.selected{border-color:",";border-style:solid;border-width:2px;&:hover,&:active{border-style:solid;}}&.editing{border-color:",";border-style:solid;border-width:2px;&:hover,&:active{border-width:",";}}"],e=>e.front?y0:b0,e=>e.theme.primary,e=>e.theme.primary,e=>e.hideBorder?"transparent":e.theme.success,e=>e.hideBorder?0:"2px"),nn={display:"flex",flex:"1",minHeight:"0"},rn={zIndex:Wa,display:"flex",flexDirection:"column",width:"100%",height:" 100%"},an=c.memo(({boardEditing:e,wid:t,lock:n})=>{const{onEditWidgetUnLock:r}=c.useContext(ot),a=Ce("viz.widget.tips");return!e||!n?null:f.jsx(O2,{title:a("unlock"),onClick:()=>r(t)})}),O2=({title:e,onClick:t})=>f.jsx(wr,{title:e,children:f.jsx(He,{icon:f.jsx(lg,{style:{color:oa,opacity:.5}}),type:"link",onClick:t})}),zv=c.memo(({rendered:e,widget:t})=>{const{onWidgetGetData:n}=c.useContext(ot),r=Ce("viz.widget.tips"),a=c.useCallback(()=>{n(t)},[n,t]);return e?null:f.jsx(D2,{onClick:a,onMouseEnter:a,title:r("waiting")})}),D2=({title:e,onClick:t,onMouseEnter:n})=>f.jsx(wr,{title:e??"waitingLoad",children:f.jsx(He,{onClick:t,onMouseEnter:n,icon:f.jsx(fx,{style:{color:oa}}),type:"link"})}),Av=({loading:e})=>e?f.jsx(He,{icon:f.jsx(w1,{spin:!0,style:{color:oa,opacity:.4}}),type:"link"}):null,R2=({title:e,onClick:t})=>f.jsx(wr,{title:e??"cancel Linkage",children:f.jsx(kS,{style:{color:oa},onClick:t})}),I2=({title:e})=>f.jsx(wr,{title:e,children:f.jsx(He,{icon:f.jsx(sg,{style:{color:oa}}),type:"link"})}),j2=c.memo(({inLinking:e,widget:t})=>{var a,o;const{onWidgetClearLinkage:n}=c.useContext(ot),r=Ce("viz.widget.tips");return e?f.jsx(R2,{title:r("cancelLinkage"),onClick:()=>n(t)}):(o=(a=t.config)==null?void 0:a.linkageConfig)!=null&&o.open?f.jsx(I2,{title:r("canLinkage")}):null}),M2=$(He).withConfig({displayName:"StatusIcon__StyledErrorIcon",componentId:"sc-ubq3si-0"})(["background:",";&:hover,&:focus{background:",";}"],e=>e.theme.componentBackground,e=>e.theme.componentBackground),Nv=c.memo(({errInfo:e})=>{if(!e)return null;const t=Object.values(e);if(!t.length)return null;const n=f.jsx("div",{style:{maxHeight:"200px",maxWidth:"400px",overflow:"auto"},children:t.map((r,a)=>f.jsx("p",{children:String(r)},a))});return f.jsx(wr,{title:n,children:f.jsx(M2,{icon:f.jsx(nw,{twoToneColor:C0}),type:"link"})})}),on=c.memo(e=>f.jsxs(P2,{children:[e.children," "]})),P2=$.div.withConfig({displayName:"StyledWidgetToolBar__StyleWrap",componentId:"sc-1jey1mo-0"})(["position:absolute;top:0;right:0;z-index:",";overflow:hidden;text-align:right;.widget-tool-dropdown{visibility:hidden;}"],x0),Cn=c.memo(({title:e})=>e.showTitle?f.jsx(L2,{conf:e,children:f.jsx($2,{className:"widget-name",conf:e,children:e.title})}):null),L2=$.div.withConfig({displayName:"WidgetTitle__StyledWrap",componentId:"sc-13xo8gl-0"})(["width:100%;line-height:24px;text-align:",";cursor:pointer;"],e=>e.conf.textAlign),$2=$.span.withConfig({displayName:"WidgetTitle__NameWrap",componentId:"sc-13xo8gl-1"})(["font-family:",";font-size:","px;font-style:",";font-weight:",";color:",";text-align:",";"],e=>e.conf.font.fontFamily,e=>e.conf.font.fontSize,e=>e.conf.font.fontStyle,e=>e.conf.font.fontWeight,e=>e.conf.font.color,e=>e.conf.textAlign),sn=c.memo(e=>{const{children:t,...n}=e,r=Gb(n);return f.jsx(z2,{style:r,children:t})}),z2=$.div.withConfig({displayName:"WidgetWrapper__Wrapper",componentId:"sc-1r6d6ge-0"})(["display:flex;flex:1;min-height:0;&:hover .widget-tool-dropdown{visibility:visible;}"]),Bv=c.memo(({tabItem:e,tabWidgetId:t})=>{const n=qe(),r=Ce("viz.widget.tips"),[{isOver:a,canDrop:o},i]=qp(()=>({accept:Ip,item:{tabItem:e,parentId:t},drop:s=>{n(mt.addWidgetToTabWidget({tabWidgetId:t,tabItem:{...e,childWidgetId:s.childId},sourceId:s.childId}))},canDrop:s=>s.canWrapped,collect:s=>({isOver:s.isOver(),canDrop:s.canDrop()})}),[]);return f.jsx(A2,{ref:i,canDrop:o,isOver:a,children:f.jsx("div",{className:"center",children:r("dragChartFromLeftPanel")})})}),A2=$.div.withConfig({displayName:"DropHolder__DropWrap",componentId:"sc-131srsp-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:",";.center{text-align:center;}"],e=>e.canDrop?mu(e.theme.success,.25):e.isOver?mu(e.theme.error,.25):e.theme.emphasisBackground),N2=c.memo(()=>{var T;const e=qe(),t=c.useContext(je),{autoplay:n,position:r}=Ub.toolkit.getCustomConfig(t.config.customConfig.props),{editing:a}=c.useContext(Pt),{onEditSelectWidget:o}=c.useContext(ot),{boardType:i,editing:s,boardId:l}=c.useContext(ze),{itemMap:u}=t.config.content,d=Object.values(u).sort((m,h)=>m.index-h.index),[p,g]=c.useState(((T=d[0])==null?void 0:T.index)||0);c.useEffect(()=>{const m=d==null?void 0:d.find(h=>String(h.index)===String(p));m&&a&&o({multipleKey:!1,id:m.childWidgetId,selected:!0})},[p,a,o,d]);const C=c.useCallback((m,h)=>{g(m)},[]),x=c.useCallback(()=>{var y;const m=`carousel_${Gt()}`,b=(((y=d[d.length-1])==null?void 0:y.index)||0)+1;e(mt.tabsWidgetAddTab({parentId:t.id,tabItem:{index:b,name:"carousel",tabId:m,childWidgetId:""}})),setImmediate(()=>{g(b)})},[e,d,t.id]),S=c.useCallback(m=>{var b;const h=((b=d.find(y=>String(y.index)===m))==null?void 0:b.tabId)||"";e(mt.tabsWidgetRemoveTab({parentId:t.id,sourceTabId:h,mode:i})),setImmediate(()=>{g(d[0].index)})},[e,t.id,i,d]),w=c.useCallback((m,h)=>{h==="add"?x():S(m)},[x,S]);return f.jsx(B2,{children:a?f.jsx(ci,{onTabClick:a?C:void 0,size:"small",tabBarGutter:1,activeKey:a?String(p):void 0,tabBarStyle:{fontSize:"16px"},type:a?"editable-card":void 0,onEdit:a?w:void 0,destroyInactiveTabPane:!0,items:d.map(m=>({key:m.index.toString(),label:m.name||"tab",className:"TabPane",forceRender:!0,children:f.jsx(f.Fragment,{children:m.childWidgetId?f.jsx(_r,{id:m.childWidgetId,boardEditing:s,boardId:l,children:f.jsx(Ef,{children:f.jsx(kr,{boardEditing:s,hideTitle:!0})})}):s&&f.jsx(Bv,{tabItem:m,tabWidgetId:t.id})})}))}):f.jsx(W2,{dotPosition:r,autoplay:n,children:d.map(m=>f.jsx(F2,{className:"CarouselItem",children:f.jsx(_r,{id:m.childWidgetId,boardEditing:s,boardId:l,children:f.jsx(Ef,{children:f.jsx(kr,{boardEditing:s,hideTitle:!0})})})},m.tabId))})})}),B2=$.div.withConfig({displayName:"CarouselWidgetCore__CarouselContainer",componentId:"sc-19shec5-0"})(["width:100%;height:100%;background:transparent;& .ant-tabs{width:100%;height:100%;background:none;}& .ant-tabs-content{width:100%;height:100%;}.ant-tabs-nav{margin:0;}.ant-tabs-tab{padding:0 !important;margin-right:32px !important;color:",";}& .ant-tabs.ant-tabs-card.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab{margin:0 10px;}& .TabPane{width:100%;height:100%;}& .ant-tabs-tab-remove{background-color:",";}& .ant-tabs > .ant-tabs-nav .ant-tabs-nav-add{padding:0;margin:0 20px;background:none;border:none;}& .ant-tabs .ant-tabs-nav-wrap{justify-content:",";& > .ant-tabs-nav-list{flex:none;}}& .ant-carousel{height:100%;}"],e=>e.theme.textColorSnd,oa,e=>e.tabsAlign),Ef=$.div.withConfig({displayName:"CarouselWidgetCore__MapWrapper",componentId:"sc-19shec5-1"})(["width:100%;height:100%;"]),W2=$(SS).withConfig({displayName:"CarouselWidgetCore__CarouselBoxWrap",componentId:"sc-19shec5-2"})(["height:100%;border:1px red solid;& .slick-list{height:100%;}& .slick-track{height:100% !important;}& .slick-slide{height:100%;div{width:100%;height:100%;}}"]),F2=$.div.withConfig({displayName:"CarouselWidgetCore__CarouselItemWrap",componentId:"sc-19shec5-3"})(["border:1px blue solid;height:100%;"]),H2=c.memo(({hideTitle:e})=>{var l;const t=c.useContext(je),{editing:n}=c.useContext(ze),r=c.useContext(Pt),{background:a,border:o,padding:i}=Lt(t.config.customConfig.props),s=tn(t.config.customConfig.props);return s.title=t.config.name,f.jsxs(sn,{background:a,border:o,padding:i,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:s}),f.jsx("div",{style:nn,children:f.jsx(N2,{})})]}),n&&f.jsx(Xd,{widget:t,widgetInfo:r}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(l=t.config)==null?void 0:l.lock}),f.jsx(en,{widget:t})]})})]})}),no=e=>{const{initW:t,initH:n,refreshMode:r,refreshRate:a}=e||{},[o,i]=c.useState(t??1),[s,l]=c.useState(n??1),{ref:u,width:d=t??1,height:p=n??1}=Mi({refreshMode:r??"debounce",refreshRate:a??20});return c.useLayoutEffect(()=>{d>0&&(i(d),l(p))},[d,p]),{cacheWhRef:u,cacheW:o,cacheH:s}};function Wv(e,t,n,r){const{initialQuery:a}=c.useContext(da),{onRenderedWidgetById:o}=c.useContext(ot),{cacheWhRef:i,cacheW:s}=no(),l=c.useCallback(()=>{(Pp(i.current)||n==="free")&&o(e.id)},[i,o,e.id,n]);return c.useEffect(()=>(zo.off(e.dashboardId,l),!r&&n==="auto"&&zo.on(e.dashboardId,l),()=>{zo.off(e.dashboardId,l)}),[l,e.dashboardId,r,n]),c.useEffect(()=>{t==="schedule"&&o(e.id)},[o,t,e.id]),c.useEffect(()=>{a&&t!=="schedule"&&!r&&s>1&&l()},[a,t,r,l,s]),{cacheWhRef:i,cacheW:s}}function Fv(e,t,n,r){const{visible:a}=c.useContext(nv),{onWidgetGetData:o}=c.useContext(ot);c.useEffect(()=>{var l,u;const i=w2((u=(l=e==null?void 0:e.config)==null?void 0:l.customConfig)==null?void 0:u.props);let s;return r&&a&&i.interval>0&&i.enable&&(s=setInterval(()=>{Pp(n.current,!0)&&o(e)},+i.interval*1e3)),()=>{s&&clearInterval(s)}},[a,e,o,t,r,n])}const ln=c.memo(({group:e})=>{var a,o,i,s;const t=c.useContext(je),n=(s=(i=(a=Fc)==null?void 0:a.meta)==null?void 0:i.call(a,(o=t==null?void 0:t.config)==null?void 0:o.originalType))==null?void 0:s.canWrapped,r=c.useContext(Pt);return f.jsxs(f.Fragment,{children:[!r.editing&&f.jsx(nR,{widgetId:t.id,canWrapped:n}),f.jsx(Xd,{widget:t,widgetInfo:r})]})}),Hv=c.createContext({}),q2=c.memo(({margin:e,padding:t,rowHeight:n,children:r})=>{const a=c.useMemo(()=>({margin:e,padding:t,rowHeight:n}),[e,t,n]);return f.jsx(Hv.Provider,{value:a,children:r})}),V2=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(G2,{...r,label:e})})),G2=c.memo(({label:e,options:t,onChange:n,value:r=[]})=>{const a=c.useCallback(()=>(t||[]).map(m=>({label:m.label??m.value,value:m.value||"",key:m.label+m.value})),[t]),o=c.useContext(je),{onUpdateWidgetConfigByKey:i,onRefreshWidgetsByController:s}=c.useContext(ot),[l,u]=c.useState(!1),[d,p]=c.useState(o.config.pRect.height),g=c.useRef(null),C=r.length===a().length,x=r.length>0&&r.length<a().length,{rowHeight:S=0,margin:w=[0,0]}=c.useContext(Hv),T=c.useCallback(m=>{i({wid:o.id,key:"pRect",val:{...o.config.pRect,height:m}})},[o,i]);return c.useEffect(()=>{s(o)},[o]),c.useEffect(()=>{var m;if(g.current){const h=Math.ceil(((m=g==null?void 0:g.current)==null?void 0:m.scrollHeight)/(S+(w==null?void 0:w[0])));T(l?h:d)}},[l,g,S,w]),o.config.boardType==="free"?f.jsx(Of,{children:f.jsx(ho.Group,{value:r,onChange:n,options:a()})}):f.jsx(Of,{children:f.jsx(hx,{expandIconPosition:"end",ghost:!0,onChange:m=>{u(!!m.length)},destroyInactivePanel:!0,size:"small",items:[{key:o.id,label:e,extra:f.jsx(ho,{indeterminate:x,checked:C,onChange:m=>{n(m.target.checked?a().map(h=>h.value):[])}}),collapsible:"icon",ref:g,children:l&&f.jsx(ho.Group,{onChange:m=>{n(m)},value:r,style:{display:"flex",flex:"1",flexDirection:"column"},children:a().map(({label:m,value:h})=>f.jsxs("p",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 28px 10px"},children:[m,f.jsx(ho,{value:h})]}))})}]})})}),Of=$.div.withConfig({displayName:"CheckboxGroupController__Wrapper",componentId:"sc-1uqk1vy-0"})(["display:grid;"]),{Option:U2}=jn,K2=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(Y2,{...r})})),Y2=c.memo(({options:e,onChange:t,value:n})=>{const r=Ce("viz.common.enum.controllerPlaceHolders");return f.jsx(X2,{showSearch:!0,allowClear:!0,value:n,style:{width:"100%"},placeholder:r("multiSelectController"),maxTagTextLength:4,maxTagCount:3,optionFilterProp:"label",onChange:t,mode:"multiple",bordered:!1,filterOption:(a,o)=>String(o==null?void 0:o.label).toLowerCase().indexOf(a.toLowerCase())>=0,children:(e||[]).map(a=>f.jsx(U2,{label:a.label??a.value??"none",value:a.value,children:f.jsx("span",{children:a.label??a.value})},a.value+a.label))})}),X2=$(jn).withConfig({displayName:"MultiSelectController__StyledSelect",componentId:"sc-yts0jv-0"})(["display:block;&.ant-select .ant-select-selector{background-color:transparent !important;}"]),J2=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(Z2,{...r})})),Z2=c.memo(({onChange:e,value:t})=>{const[n,r]=c.useState(),a=l=>{r(l)},o=l=>{e(l.target.value)},i=()=>{n!==t&&e(n===0?"0":n)};c.useEffect(()=>{r(t)},[t]);const s=Ce("viz.common.enum.controllerPlaceHolders");return f.jsx(Q2,{children:f.jsx(Ma,{style:{width:"100%"},className:"control-number-input",value:n,placeholder:s("numberController"),onChange:a,onPressEnter:o,onBlur:i,bordered:!1})})}),Q2=$.div.withConfig({displayName:"NumberController__StyledWrap",componentId:"sc-14d7p9-0"})(["display:flex;justify-content:space-around;width:100%;& .control-input-input{width:100%;}.control-select{display:flex;flex:1;width:40%;}.control-input{display:flex;flex:1;}&.ant-select .ant-select-selector{background-color:transparent;}& .ant-input-number{background-color:transparent;}"]),eI=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(tI,{...r})})),tI=c.memo(({options:e,onChange:t,value:n,radioButtonType:r,...a})=>{const o=l=>{t([l.target.value])},i=c.useMemo(()=>r==="button"?jt.Button:jt,[r]),s=c.useCallback(()=>(e||[]).map(l=>f.jsx(i,{className:"radio-item",value:l.value,children:l.label??l.value},l.value+l.label)),[i,e]);return f.jsx(nI,{children:f.jsx(jt.Group,{className:"control-radio-group",value:n,optionType:"button",onChange:o,children:s()})})}),nI=$.div.withConfig({displayName:"RadioGroupController__StyledWrap",componentId:"sc-1dkpl2j-0"})(["display:flex;justify-content:space-around;width:100%;.control-radio-group{background-color:transparent;.radio-item{background-color:transparent;}}"]),C8=(e,t)=>{let n=e;return Hc.includes(t)&&(n=rI(JSON.parse(JSON.stringify(n)))),n},x8=(e,t)=>{if(e.valueOptions.length>0){let n=[];t===Ie.DropDownTree?n=e.valueOptions.flatMap(r=>r.children||[]):n=e.valueOptions,e.controllerValues=n.filter(r=>r.isSelected).map(r=>r.key)}return Hc.includes(t)&&(e=aI(e)),Array.isArray(e.controllerValues)||(e.controllerValues=[e.controllerValues]),e},rI=e=>{if(e.controllerDate){const t=e.controllerDate;if(t.startTime&&t.startTime.exactValue&&typeof t.startTime.exactValue=="string"){const n=t.startTime.exactValue,r=vt(n,Rn);e.controllerDate.startTime.exactValue=r}if(t.endTime&&t.endTime.exactValue&&typeof t.endTime.exactValue=="string"){const n=t.endTime.exactValue,r=vt(n,Rn);e.controllerDate.endTime.exactValue=r}}return e},aI=e=>{if(e.controllerDate){const t=e.controllerDate;if(t.startTime&&t.startTime.exactValue&&t.startTime.exactValue.format){const r=t.startTime.exactValue.format(Rn);e.controllerDate.startTime.exactValue=r}if(t.endTime&&t.endTime.exactValue&&t.endTime.exactValue.format){const r=t.endTime.exactValue.format(Rn);e.controllerDate.endTime.exactValue=r}}return e},S8=(e=Ie.DropdownList)=>{switch(e){case Ie.DropDownTree:return hI();case Ie.MultiDropdownList:return sI();case Ie.Time:return oI();case Ie.RangeTime:return iI();case Ie.RangeValue:return fI();case Ie.RangeSlider:return uI();case Ie.RadioGroup:return cI();case Ie.CheckboxGroup:return lI();case Ie.Slider:return dI();case Ie.DropdownList:default:return wn()}},wn=()=>({valueOptionType:Kb.Common,assistViewFields:[],visibility:{visibilityType:"show"},required:!1,canChangeSqlOperator:!1,minValue:1,maxValue:2,sqlOperator:Nt.Equal,controllerValues:[],valueOptions:[]}),oI=()=>{const e=wn();return e.controllerDate={pickerType:"date",startTime:{relativeOrExact:qr.Exact,exactValue:null}},e},iI=()=>{const e=wn();return e.sqlOperator=Nt.Between,e.controllerDate={pickerType:"date",startTime:{relativeOrExact:qr.Exact,exactValue:null},endTime:{relativeOrExact:qr.Exact,exactValue:null}},e},sI=()=>{const e=wn();return e.sqlOperator=Nt.In,e},lI=()=>{const e=wn();return e.sqlOperator=Nt.In,e},cI=()=>{const e=wn();return e.sqlOperator=Nt.Equal,e.radioButtonType="default",e},dI=()=>{const e=wn();return e.sqlOperator=Nt.Equal,e.minValue=1,e.maxValue=100,e.controllerValues=[1],e.sliderConfig={step:1,range:!1,vertical:!1,showMarks:!1},e},uI=()=>{const e=wn();return e.sqlOperator=Nt.Between,e.minValue=1,e.maxValue=100,e.sliderConfig={step:1,range:!0,vertical:!1,showMarks:!1},e},fI=()=>{const e=wn();return e.sqlOperator=Nt.Between,e},hI=()=>{const e=wn();return e.sqlOperator=Nt.In,e.buildingMethod="byParent",e.parentFields=[],e},w8=(e,t)=>Yb.includes(e)?[Su.Number,Go.NUMERIC].includes(t):Hc.includes(e)?[Su.Date,Go.DATE].includes(t):!0,Dc=(e,t)=>{const n=Rn;if(!t)return null;switch(e){case"dateTime":return t.format(n);case"date":return t.startOf("day").format(n);case"week":const r=String(t.year()),a=String(t.week()-1);return vt(r).add(a,"weeks").startOf("week").format(n);case"quarter":case"month":return t.startOf("month").format(n);case"year":return t.startOf("year").format(n);default:return null}},T8=e=>Xb.includes(e),pI=async(e,t)=>{!(t!=null&&t[0])&&(t!=null&&t[1]);function n(o){return o===0?!0:!!o}const r=n(t==null?void 0:t[0]),a=n(t==null?void 0:t[1]);return!r&&!a?Promise.resolve(t):!r&&a?Promise.reject(new Error(es.t("viz.tips.noStartValue"))):r&&!a?Promise.reject(new Error(es.t("viz.tips.noEndValue"))):(t==null?void 0:t[0])-(t==null?void 0:t[1])>0?Promise.reject(new Error(es.t("viz.tips.endGTStartErr"))):Promise.resolve(t)},gI=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onBlur","onEnter","onChange"],rules:[{validator:pI}],children:f.jsx(mI,{...r})})),mI=c.memo(({onChange:e,value:t})=>{const[n,r]=c.useState(),[a,o]=c.useState(),i=g=>{e==null||e([g.target.value,a])},s=g=>{e==null||e([n,g.target.value])},l=g=>{r(g)},u=g=>{o(g)},d=()=>{(n!==(t==null?void 0:t[0])||a!==(t==null?void 0:t[1]))&&(e==null||e([n,a]))},p=Ce("viz.common.enum.controllerPlaceHolders");return c.useEffect(()=>{r(t==null?void 0:t[0]),o(t==null?void 0:t[1])},[t]),f.jsx(vI,{children:f.jsxs("div",{className:"control-2-number-box",children:[f.jsx("div",{className:"control-2-number",children:f.jsx(Ma,{style:{width:"100%"},value:n,onChange:l,placeholder:p("rangeNumberControllerMin"),onPressEnter:i,onBlur:d,className:"control-number-input",bordered:!1})}),f.jsx("div",{className:"control-and",children:"-"}),f.jsx("div",{className:"control-2-number",children:f.jsx(Ma,{style:{width:"100%"},value:a,onChange:u,placeholder:p("rangeNumberControllerMax"),onPressEnter:s,onBlur:d,className:"control-number-input",bordered:!1})})]})})}),vI=$.div.withConfig({displayName:"RangeNumberController__StyledWrap",componentId:"sc-8u4y36-0"})(["display:flex;justify-content:space-around;width:100%;& .control-input-input{width:100%;}.control-2-number-box{display:flex;justify-content:space-between;width:100%;}.control-2-number{display:flex;width:44%;}.control-and{display:flex;justify-content:center;width:2%;}&.ant-select .ant-select-selector{background-color:transparent;}& .ant-input-number{background-color:transparent;}"]),{RangePicker:Df}=Zr,yI=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(bI,{...r})})),bI=c.memo(({pickerType:e,value:t,onChange:n})=>{const r=o=>{if(!o){n==null||n(null);return}const i=[Dc(e,o==null?void 0:o[0]),Dc(e,o==null?void 0:o[1])];n==null||n(i)},a=c.useMemo(()=>{if(!(!t||!Array.isArray(t)))return[t[0]?vt(t[0]):null,t[1]?vt(t[1]):null]},[t]);return f.jsx(CI,{children:e==="dateTime"?f.jsx(Df,{showTime:!0,style:{width:"100%"},allowClear:!0,value:a,onChange:r,className:"control-datePicker",bordered:!1}):f.jsx(Df,{onChange:r,allowClear:!0,style:{width:"100%"},value:a,picker:e,className:"control-datePicker",bordered:!1})})}),CI=$.div.withConfig({displayName:"RangeTimeController__StyledWrap",componentId:"sc-wjk0ed-0"})(["display:flex;justify-content:space-around;width:100%;& .control-datePicker{width:100%;background-color:transparent !important;& .ant-input{background-color:transparent !important;}}"]),{Option:xI}=jn,SI=c.memo(({label:e,name:t,required:n,value:r,...a})=>f.jsx(_t.Item,{shouldUpdate:!0,name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:n}],children:f.jsx(wI,{...a,value:r})})),wI=({options:e,onChange:t,value:n,defaultValue:r})=>{const a=Ce("viz.common.enum.controllerPlaceHolders");return f.jsx(TI,{showSearch:!0,allowClear:!0,value:n,style:{width:"100%"},placeholder:a("selectController"),onChange:t,optionFilterProp:"label",bordered:!1,filterOption:(o,i)=>String(i==null?void 0:i.label).toLowerCase().indexOf(o.toLowerCase())>=0,children:(e||[]).map(o=>f.jsx(xI,{label:o.label??o.value??"none",value:o.value,children:f.jsx("span",{children:o.label??o.value})},o.value+o.label))})},TI=$(jn).withConfig({displayName:"SelectController__StyledSelect",componentId:"sc-10vlz7f-0"})(["display:block;&.ant-select .ant-select-selector{background-color:transparent !important;}"]),_I=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(kI,{...r})})),kI=c.memo(({onChange:e,value:t,minValue:n,maxValue:r,step:a,showMarks:o})=>{const[i,s]=c.useState();c.useEffect(()=>{s(t)},[t]);const l={[n]:n,[r]:r,[i]:i};return f.jsx(EI,{children:f.jsx(Gc,{value:i,onChange:s,onAfterChange:e,min:n,max:r,step:a,...o&&{marks:l}})})}),EI=$.div.withConfig({displayName:"SliderController__StyledWrap",componentId:"sc-1sdsxsf-0"})([""]),OI=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(DI,{...r})})),DI=c.memo(({onChange:e,value:t})=>{const[n,r]=c.useState(),a=l=>{r(l.target.value)},o=l=>{e(l.target.value)},i=()=>{n!==t&&e(n)},s=Ce("viz.common.enum.controllerPlaceHolders");return c.useEffect(()=>{r(t)},[t]),f.jsx(RI,{children:f.jsx("span",{className:"control-input ",children:f.jsx(_p,{allowClear:!0,value:n,placeholder:s("textController"),onChange:a,onPressEnter:o,onBlur:i,className:"control-input-input",bordered:!1})})})}),RI=$.div.withConfig({displayName:"TextController__StyledWrap",componentId:"sc-1mu8kqb-0"})(["display:flex;justify-content:space-around;width:100%;.control-input{display:flex;flex:1;}& .control-input-input{width:100%;background-color:transparent !important;& .ant-input{background-color:transparent !important;}}"]),II=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(jI,{...r})})),jI=c.memo(({pickerType:e,value:t,onChange:n})=>{const r=(a,o)=>{if(!a)return n(null);const i=Dc(e,a);n(i)};return f.jsx(MI,{children:e==="dateTime"?f.jsx(Zr,{style:{width:"100%"},allowClear:!0,value:t?vt(t):null,showTime:!0,onChange:r,className:"control-datePicker",bordered:!1}):f.jsx(Zr,{style:{width:"100%"},allowClear:!0,value:t?vt(t):null,onChange:r,picker:e,className:"control-datePicker",bordered:!1})})}),MI=$.div.withConfig({displayName:"TimeController__StyledWrap",componentId:"sc-16kcaro-0"})(["display:flex;justify-content:space-around;width:100%;& .control-datePicker{width:100%;background-color:transparent !important;& .ant-input{background-color:transparent !important;}}"]),PI=c.memo(({label:e,name:t,required:n,...r})=>f.jsx(_t.Item,{name:t,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!1}],children:f.jsx(LI,{...r})})),LI=c.memo(({treeData:e,onChange:t,value:n})=>{const r=Ce("viz.common.enum.controllerPlaceHolders"),a=c.useCallback(o=>{t(o==null?void 0:o.checked)},[t]);return f.jsx($I,{allowClear:!0,value:n,style:{width:"100%"},placeholder:r("treeSelectController"),maxTagTextLength:4,maxTagCount:3,onChange:t,multiple:!0,bordered:!1,treeData:e,dropdownStyle:{height:"300px",overflowY:"auto"},dropdownRender:()=>f.jsx(Lp,{checkedKeys:n,onCheck:a,checkable:!0,checkStrictly:!0,titleRender:o=>o.title||o.key,treeData:e})})}),$I=$(Uc).withConfig({displayName:"TreeController__StyledTreeSelect",componentId:"sc-b8smmo-0"})(["display:block;&.ant-select .ant-select-selector{background-color:transparent !important;}"]),zI=c.memo(()=>{var k,E,D,j;const e=c.useContext(je),t=e.config.content,{onUpdateWidgetConfigByKey:n,onRefreshWidgetsByController:r}=c.useContext(ot),[a]=_t.useForm(),{data:o}=c.useContext(Yd),i=c.useCallback(I=>{r(I)},[r]),{config:s,type:l}=c.useMemo(()=>t,[t]),{controllerDate:u,controllerValues:d,valueOptions:p,valueOptionType:g,parentFields:C,buildingMethod:x}=c.useMemo(()=>s,[s]),S=tn((E=(k=e==null?void 0:e.config)==null?void 0:k.customConfig)==null?void 0:E.props);S.title=(D=e==null?void 0:e.config)==null?void 0:D.name;const w=c.useMemo(()=>!S.showTitle||S.textAlign==="center"?null:f.jsx(Cn,{title:S}),[S]),T=c.useMemo(()=>S.showTitle&&S.textAlign==="center"?f.jsx("div",{style:{width:"100%",textAlign:"center"},children:f.jsx(Cn,{title:S})}):null,[S]),m=c.useMemo(()=>{const I=(o==null?void 0:o.rows)||[];return g==="common"?C!=null&&C.length?Jb(I,x):I.map(O=>({key:O==null?void 0:O[0],label:(O==null?void 0:O[1])??(O==null?void 0:O[0])})):g==="custom"?p:[]},[o==null?void 0:o.rows,g,p,C,x]),h=c.useCallback(()=>{a.submit()},[a]),b=I=>{const O=I.value;if(O&&typeof O=="object"&&!Array.isArray(O))return;const P=Yn(O)?[]:Array.isArray(O)?O:[O],A=Kn(t,M=>{M.config.controllerValues=P});n({wid:e.id,key:"content",val:A}),i(e)},y=c.useCallback(I=>{const O={...u,startTime:{relativeOrExact:qr.Exact,exactValue:I==null?void 0:I[0]},endTime:{relativeOrExact:qr.Exact,exactValue:I==null?void 0:I[1]}},P=Kn(t,A=>{A.config.controllerDate=O});n({wid:e.id,key:"content",val:P}),i(e)},[u,t,n,e,i]),v=c.useCallback(I=>{const O={...u,startTime:{relativeOrExact:qr.Exact,exactValue:I}},P=Kn(t,A=>{A.config.controllerDate=O});n({wid:e.id,key:"content",val:P}),i(e)},[u,t,n,e,i]),_=c.useMemo(()=>{var O,P;const I=m==null?void 0:m.map(A=>({value:A.key,label:A.label}));switch(l){case Ie.DropdownList:return a.setFieldsValue({value:d==null?void 0:d[0]}),f.jsx(SI,{onChange:h,options:I,name:"value",label:w});case Ie.MultiDropdownList:return a.setFieldsValue({value:d}),f.jsx(K2,{onChange:h,options:I,name:"value",label:w});case Ie.CheckboxGroup:return a.setFieldsValue({value:d}),f.jsx(V2,{onChange:h,options:I,name:"value",label:w});case Ie.Slider:a.setFieldsValue({value:d==null?void 0:d[0]});const A=((O=s.sliderConfig)==null?void 0:O.step)||1,M=((P=s.sliderConfig)==null?void 0:P.showMarks)||!1,R=s.minValue===0?0:s.minValue||1,Z=s.maxValue===0?0:s.maxValue||100;return f.jsx(_I,{onChange:h,minValue:R,maxValue:Z,step:A,name:"value",showMarks:M,label:w});case Ie.Value:return a.setFieldsValue({value:d==null?void 0:d[0]}),f.jsx(J2,{onChange:h,name:"value",label:w});case Ie.RangeValue:return a.setFieldsValue({value:d}),f.jsx(gI,{onChange:h,name:"value",label:w});case Ie.Text:return a.setFieldsValue({value:d==null?void 0:d[0]}),f.jsx(OI,{onChange:h,label:w,name:"value"});case Ie.RadioGroup:a.setFieldsValue({value:d==null?void 0:d[0]});const K=m==null?void 0:m.map(ge=>({value:ge.key,label:ge.label})),Y=s.radioButtonType;return f.jsx(eI,{label:w,radioButtonType:Y,onChange:h,options:K,name:"value"});case Ie.RangeTime:const xe=wu({controlType:l,filterDate:s.controllerDate});a.setFieldsValue({value:xe});const ee=u.pickerType;return f.jsx(yI,{label:w,pickerType:ee,onChange:y,name:"value"});case Ie.Time:const pe=wu({controlType:l,filterDate:s.controllerDate}),oe=u.pickerType;return a.setFieldsValue({value:pe[0]}),f.jsx(II,{label:w,onChange:v,pickerType:oe,name:"value"});case Ie.DropDownTree:return a.setFieldsValue({value:d}),f.jsx(PI,{parentFields:C,onChange:h,treeData:m,name:"value",label:w})}},[m,l,a,d,h,w,s,u,C,y,v]);return f.jsx(AI,{formFrontColor:(j=S==null?void 0:S.font)==null?void 0:j.color,children:f.jsxs(_t,{form:a,className:"control-form",onFinish:b,children:[T,_]})})}),AI=$(({formFrontColor:e,...t})=>f.jsx("div",{...t})).withConfig({displayName:"ControllerWidgetCore__Wrapper",componentId:"sc-o4bjj1-0"})(["display:flex;flex:1;align-items:center;.control-form{flex:1;.ant-select,.ant-checkbox-wrapper,.ant-input,.ant-input-number,.ant-slider,.ant-picker input,.ant-radio-wrapper{color:"," !important;}}.ant-form-item{margin-bottom:0;}.ant-input-number-handler{border-left:0;}"],e=>e.formFrontColor),NI=c.memo(()=>{const{editing:e}=c.useContext(ze),{loading:t,rendered:n,errInfo:r}=c.useContext(Pt),a=c.useContext(je);return f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(Av,{loading:t}),f.jsx(zv,{rendered:n,widget:a}),f.jsx(Nv,{errInfo:r}),f.jsx(an,{boardEditing:e,lock:a.config.lock,wid:a.id}),f.jsx(en,{widget:a})]})})}),BI=c.memo(()=>{var l,u;const e=c.useContext(je),{rendered:t}=c.useContext(Pt),{renderMode:n,boardType:r}=c.useContext(ze),{cacheWhRef:a}=Wv(e,n,r,t);Fv(e,n,a,t);const{background:o,border:i,padding:s}=Lt((u=(l=e==null?void 0:e.config)==null?void 0:l.customConfig)==null?void 0:u.props);return f.jsxs(sn,{background:o,border:i,padding:s,children:[f.jsx("div",{ref:a,style:rn,children:f.jsx("div",{style:nn,children:f.jsx(zI,{})})}),n==="edit"&&f.jsx(ln,{}),f.jsx(NI,{})]})}),WI=c.memo(()=>{const{editing:e}=c.useContext(ze),{loading:t,inLinking:n,rendered:r,errInfo:a}=c.useContext(Pt),o=c.useContext(je);return f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(Av,{loading:t}),f.jsx(zv,{rendered:r,widget:o}),f.jsx(Nv,{errInfo:a}),f.jsx(an,{boardEditing:e,lock:o.config.lock,wid:o.id}),f.jsx(j2,{inLinking:n,widget:o}),f.jsx(en,{widget:o})]})})});var Jd={},Zd={},FI=he.default,HI=F.default;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=VI;var qI=HI(er),Rf=FI(c);function VI(){const[e,t]=Rf.useState([]),n=Rf.useCallback(r=>(t(a=>[].concat((0,qI.default)(a),[r])),()=>{t(a=>a.filter(o=>o!==r))}),[]);return[e,n]}var zn={},ua={},Bi={},ro={},GI=he.default,qv=F.default;Object.defineProperty(ro,"__esModule",{value:!0});ro.default=void 0;var UI=qv(hd),wo=GI(c),KI=qv(Si),YI=Qt;function If(e){return!!(e&&e.then)}const XI=e=>{const{type:t,children:n,prefixCls:r,buttonProps:a,close:o,autoFocus:i,emitEvent:s,isSilent:l,quitOnNullishReturnValue:u,actionFn:d}=e,p=wo.useRef(!1),g=wo.useRef(null),[C,x]=(0,UI.default)(!1),S=function(){o==null||o.apply(void 0,arguments)};wo.useEffect(()=>{let m=null;return i&&(m=setTimeout(()=>{var h;(h=g.current)===null||h===void 0||h.focus()})),()=>{m&&clearTimeout(m)}},[]);const w=m=>{If(m)&&(x(!0),m.then(function(){x(!1,!0),S.apply(void 0,arguments),p.current=!1},h=>{if(x(!1,!0),p.current=!1,!(l!=null&&l()))return Promise.reject(h)}))},T=m=>{if(p.current)return;if(p.current=!0,!d){S();return}let h;if(s){if(h=d(m),u&&!If(h)){p.current=!1,S(m);return}}else if(d.length)h=d(o),p.current=!1;else if(h=d(),!h){S();return}w(h)};return wo.createElement(KI.default,Object.assign({},(0,YI.convertLegacyProps)(t),{onClick:T,loading:C,prefixCls:r},a,{ref:g}),n)};var JI=XI;ro.default=JI;var Zt={},ZI=F.default;Object.defineProperty(Zt,"__esModule",{value:!0});Zt.ModalContextProvider=Zt.ModalContext=void 0;var QI=ZI(c);const Vv=QI.default.createContext({});Zt.ModalContext=Vv;const{Provider:ej}=Vv;Zt.ModalContextProvider=ej;var tj=F.default,nj=he.default;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=void 0;var jf=nj(c),rj=tj(ro),aj=Zt;const oj=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:i,onCancel:s,onConfirm:l}=(0,jf.useContext)(aj.ModalContext);return a?jf.default.createElement(rj.default,{isSilent:r,actionFn:s,close:function(){i==null||i.apply(void 0,arguments),l==null||l(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${o}-btn`},n):null};var ij=oj;Bi.default=ij;var Wi={},sj=F.default,lj=he.default;Object.defineProperty(Wi,"__esModule",{value:!0});Wi.default=void 0;var Mf=lj(c),cj=sj(ro),dj=Zt;const uj=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:i,onConfirm:s,onOk:l}=(0,Mf.useContext)(dj.ModalContext);return Mf.default.createElement(cj.default,{isSilent:n,type:i||"primary",actionFn:l,close:function(){t==null||t.apply(void 0,arguments),s==null||s(!0)},autoFocus:e==="ok",buttonProps:r,prefixCls:`${a}-btn`},o)};var fj=uj;Wi.default=fj;var Fi={};const hj=aa(Ox);var Qd={},Gv=F.default;Object.defineProperty(Qd,"__esModule",{value:!0});Qd.default=vj;var pj=Gv(Nc),gj=Gv(c);function mj(e,t,n){return typeof e=="boolean"?e:t===void 0?!!n:t!==!1&&t!==null}function vj(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gj.default.createElement(pj.default,null),a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!mj(e,t,a))return[!1,null];const i=typeof t=="boolean"||t===void 0||t===null?r:t;return[!0,n?n(i):i]}var Uv={},eu={},yj=F.default;Object.defineProperty(eu,"__esModule",{value:!0});eu.isStyleSupport=xj;var bj=yj(up),Kv=function(t){if((0,bj.default)()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(a){return a in r.style})}return!1},Cj=function(t,n){if(!Kv(t))return!1;var r=document.createElement("div"),a=r.style[t];return r.style[t]=n,r.style[t]!==a};function xj(e,t){return!Array.isArray(e)&&t!==void 0?Cj(e,t):Kv(e)}(function(e){var t=F.default;Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDocElement=void 0,Object.defineProperty(e,"isStyleSupport",{enumerable:!0,get:function(){return r.isStyleSupport}});var n=t(up),r=eu;const a=()=>(0,n.default)()&&window.document.documentElement;e.canUseDocElement=a})(Uv);var Dt={};const Sj=aa(Zb);var wj=F.default,Tj=he.default;Object.defineProperty(Dt,"__esModule",{value:!0});Dt.NoStyleItemContext=Dt.NoFormStyle=Dt.FormProvider=Dt.FormItemPrefixContext=Dt.FormItemInputContext=Dt.FormContext=void 0;var Rc=Tj(c),fa=Rc,_j=Sj,kj=wj(vi);const Ej=fa.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}});Dt.FormContext=Ej;const Oj=fa.createContext(null);Dt.NoStyleItemContext=Oj;const Dj=e=>{const t=(0,kj.default)(e,["prefixCls"]);return fa.createElement(_j.FormProvider,Object.assign({},t))};Dt.FormProvider=Dj;const Rj=fa.createContext({prefixCls:""});Dt.FormItemPrefixContext=Rj;const Ic=fa.createContext({});Dt.FormItemInputContext=Ic;const Ij=e=>{let{children:t,status:n,override:r}=e;const a=(0,Rc.useContext)(Ic),o=(0,Rc.useMemo)(()=>{const i=Object.assign({},a);return r&&delete i.isFormItemInput,n&&(delete i.status,delete i.hasFeedback,delete i.feedbackIcon),i},[n,r,a]);return fa.createElement(Ic.Provider,{value:o},t)};Dt.NoFormStyle=Ij;var ao={},jj=he.default;Object.defineProperty(ao,"__esModule",{value:!0});ao.default=void 0;ao.usePanelRef=Pj;var Mj=cg,jc=jj(c);function Pf(){}const Yv=jc.createContext({add:Pf,remove:Pf});function Pj(e){const t=jc.useContext(Yv),n=jc.useRef();return(0,Mj.useEvent)(a=>{if(a){const o=e?a.querySelector(e):a;t.add(o),n.current=o}else t.remove(n.current)})}var Lj=Yv;ao.default=Lj;var oo={},Hi={},$j=F.default,zj=he.default;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.default=void 0;var Lf=zj(c),Aj=$j(Si),Nj=Zt;const Bj=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=(0,Lf.useContext)(Nj.ModalContext);return Lf.default.createElement(Aj.default,Object.assign({onClick:n},e),t)};var Wj=Bj;Hi.default=Wj;var qi={},Fj=F.default,Hj=he.default;Object.defineProperty(qi,"__esModule",{value:!0});qi.default=void 0;var $f=Hj(c),qj=Fj(Si),Vj=Qt,Gj=Zt;const Uj=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:a}=(0,$f.useContext)(Gj.ModalContext);return $f.default.createElement(qj.default,Object.assign({},(0,Vj.convertLegacyProps)(n),{loading:e,onClick:a},t),r)};var Kj=Uj;qi.default=Kj;var io=F.default;Object.defineProperty(oo,"__esModule",{value:!0});oo.Footer=void 0;oo.renderCloseIcon=tM;var Yj=io(er),vr=io(c),Xj=io(Nc),Jj=cp,Zj=fp,zf=io(Hi),Af=io(qi),Qj=Zt,eM=hp;function tM(e,t){return vr.default.createElement("span",{className:`${e}-close-x`},t||vr.default.createElement(Xj.default,{className:`${e}-close-icon`}))}const nM=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:i,okButtonProps:s,cancelButtonProps:l,footer:u}=e,[d]=(0,Zj.useLocale)("Modal",(0,eM.getConfirmLocale)()),p=t||(d==null?void 0:d.okText),g=r||(d==null?void 0:d.cancelText),C={confirmLoading:a,okButtonProps:s,cancelButtonProps:l,okTextLocale:p,cancelTextLocale:g,okType:n,onOk:o,onCancel:i},x=vr.default.useMemo(()=>C,(0,Yj.default)(Object.values(C)));let S;return typeof u=="function"||typeof u>"u"?(S=vr.default.createElement(Qj.ModalContextProvider,{value:x},vr.default.createElement(zf.default,null),vr.default.createElement(Af.default,null)),typeof u=="function"&&(S=u(S,{OkBtn:Af.default,CancelBtn:zf.default}))):S=u,vr.default.createElement(Jj.DisabledContextProvider,{disabled:!1},S)};oo.Footer=nM;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.prepareToken=Yt.prepareComponentToken=Yt.genModalMaskStyle=Yt.default=void 0;var Nf=Ac,Xv=qg,Jv=Er;function Bf(e){return{position:e,inset:0}}const Zv=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Bf("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Bf("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${n}-zoom-enter), &:has(${t}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:(0,Xv.initFadeMotion)(e)}]};Yt.genModalMaskStyle=Zv;const rM=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Nf.resetComponent)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${e.margin*2}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${t}-close`]:Object.assign({position:"absolute",top:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderHeight-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},(0,Nf.genFocusStyle)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},aM=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-confirm`;return{[t]:{[`${t}-content`]:{padding:0},[`${t}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${t}-body`]:{padding:e.modalBodyPadding},[`${t}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[r]:{[`${n}-modal-body`]:{padding:`${e.padding*2}px ${e.padding*2}px ${e.paddingLG}px`},[`${r}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${r}-title + ${r}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${r}-btns`]:{marginTop:e.marginLG}}}},oM=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Qv=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return(0,Jv.mergeToken)(e,{modalBodyPadding:e.paddingLG,modalHeaderPadding:`${t}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderHeight:r*n+t*2,modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontSize*e.lineHeight,modalConfirmIconSize:e.fontSize*e.lineHeight})};Yt.prepareToken=Qv;const ey=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading});Yt.prepareComponentToken=ey;var iM=(0,Jv.genComponentStyleHook)("Modal",e=>{const t=Qv(e);return[rM(t),oM(t),Zv(t),e.wireframe&&aM(t),(0,Xv.initZoomMotion)(t,"zoom")]},ey);Yt.default=iM;var so=F.default,sM=he.default;Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=void 0;var Br=sM(c),lM=so(Nc),zs=so(ke),cM=so(hj),dM=so(Qd),Wf=Tr,uM=Uv,fM=Ln,hM=Dt,pM=Kt,gM=ao,Ff=oo,mM=so(Yt),vM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let Mc;const yM=e=>{Mc={x:e.pageX,y:e.pageY},setTimeout(()=>{Mc=null},100)};(0,uM.canUseDocElement)()&&document.documentElement.addEventListener("click",yM,!0);const bM=e=>{var t;const{getPopupContainer:n,getPrefixCls:r,direction:a,modal:o}=Br.useContext(fM.ConfigContext),i=M=>{const{onCancel:R}=e;R==null||R(M)},s=M=>{const{onOk:R}=e;R==null||R(M)},{prefixCls:l,className:u,rootClassName:d,open:p,wrapClassName:g,centered:C,getContainer:x,closeIcon:S,closable:w,focusTriggerAfterClose:T=!0,style:m,visible:h,width:b=520,footer:y}=e,v=vM(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer"]),_=r("modal",l),k=r(),[E,D]=(0,mM.default)(_),j=(0,zs.default)(g,{[`${_}-centered`]:!!C,[`${_}-wrap-rtl`]:a==="rtl"}),I=y!==null&&Br.createElement(Ff.Footer,Object.assign({},e,{onOk:s,onCancel:i})),[O,P]=(0,dM.default)(w,S,M=>(0,Ff.renderCloseIcon)(_,M),Br.createElement(lM.default,{className:`${_}-close-icon`}),!0),A=(0,gM.usePanelRef)(`.${_}-content`);return E(Br.createElement(pM.NoCompactStyle,null,Br.createElement(hM.NoFormStyle,{status:!0,override:!0},Br.createElement(cM.default,Object.assign({width:b},v,{getContainer:x===void 0?n:x,prefixCls:_,rootClassName:(0,zs.default)(D,d),wrapClassName:j,footer:I,visible:p??h,mousePosition:(t=v.mousePosition)!==null&&t!==void 0?t:Mc,onClose:i,closable:O,closeIcon:P,focusTriggerAfterClose:T,transitionName:(0,Wf.getTransitionName)(k,"zoom",e.transitionName),maskTransitionName:(0,Wf.getTransitionName)(k,"fade",e.maskTransitionName),className:(0,zs.default)(D,u,o==null?void 0:o.className),style:Object.assign(Object.assign({},o==null?void 0:o.style),m),panelRef:A})))))};var CM=bM;Fi.default=CM;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.default=void 0;var Hf=Yt,xM=Ac,SM=Er;const wM=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:i}=e,s=`${t}-confirm`,l=Math.round(n*r),u=Math.round(o*i);return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},(0,xM.clearFix)()),[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:e.marginSM,marginTop:(u-a)/2},[`&-has-title > ${e.iconCls}`]:{marginTop:(l-a)/2}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${s}-content`]:{color:e.colorText,fontSize:o,lineHeight:i},[`${s}-btns`]:{textAlign:"end",marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var TM=(0,SM.genSubStyleComponent)(["Modal","confirm"],e=>{const t=(0,Hf.prepareToken)(e);return[wM(t)]},Hf.prepareComponentToken,{order:-1e3});Vi.default=TM;var _M=he.default,cn=F.default;Object.defineProperty(ua,"__esModule",{value:!0});ua.ConfirmContent=ty;ua.default=void 0;var kM=cn(er),tt=_M(c),EM=cn(S0),OM=cn(w0),DM=cn(T0),RM=cn(_0),Pc=cn(ke),qf=Tr,IM=cn(Ln),jM=fp,Vf=cn(Bi),Gf=cn(Wi),MM=Zt,PM=cn(Fi),LM=cn(Vi),$M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function ty(e){const{prefixCls:t,icon:n,okText:r,cancelText:a,confirmPrefixCls:o,type:i,okCancel:s,footer:l,locale:u}=e,d=$M(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let p=n;if(!n&&n!==null)switch(i){case"info":p=tt.createElement(RM.default,null);break;case"success":p=tt.createElement(EM.default,null);break;case"error":p=tt.createElement(OM.default,null);break;default:p=tt.createElement(DM.default,null)}const g=s??i==="confirm",C=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[x]=(0,jM.useLocale)("Modal"),S=u||x,w=r||(g?S==null?void 0:S.okText:S==null?void 0:S.justOkText),T=a||(S==null?void 0:S.cancelText),m=Object.assign({autoFocusButton:C,cancelTextLocale:T,okTextLocale:w,mergedOkCancel:g},d),h=tt.useMemo(()=>m,(0,kM.default)(Object.values(m))),b=tt.createElement(tt.Fragment,null,tt.createElement(Vf.default,null),tt.createElement(Gf.default,null)),y=e.title!==void 0&&e.title!==null,v=`${o}-body`;return tt.createElement("div",{className:`${o}-body-wrapper`},tt.createElement("div",{className:(0,Pc.default)(v,{[`${v}-has-title`]:y})},p,tt.createElement("div",{className:`${o}-paragraph`},y&&tt.createElement("span",{className:`${o}-title`},e.title),tt.createElement("div",{className:`${o}-content`},e.content))),l===void 0||typeof l=="function"?tt.createElement(MM.ModalContextProvider,{value:h},tt.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(b,{OkBtn:Gf.default,CancelBtn:Vf.default}):b)):l,tt.createElement(LM.default,{prefixCls:t}))}const zM=e=>{const{close:t,zIndex:n,afterClose:r,visible:a,open:o,keyboard:i,centered:s,getContainer:l,maskStyle:u,direction:d,prefixCls:p,wrapClassName:g,rootPrefixCls:C,iconPrefixCls:x,theme:S,bodyStyle:w,closable:T=!1,closeIcon:m,modalRender:h,focusTriggerAfterClose:b,onConfirm:y}=e,v=`${p}-confirm`,_=e.width||416,k=e.style||{},E=e.mask===void 0?!0:e.mask,D=e.maskClosable===void 0?!1:e.maskClosable,j=(0,Pc.default)(v,`${v}-${e.type}`,{[`${v}-rtl`]:d==="rtl"},e.className);return tt.createElement(IM.default,{prefixCls:C,iconPrefixCls:x,direction:d,theme:S},tt.createElement(PM.default,{prefixCls:p,className:j,wrapClassName:(0,Pc.default)({[`${v}-centered`]:!!e.centered},g),onCancel:()=>{t==null||t({triggerCancel:!0}),y==null||y(!1)},open:o,title:"",footer:null,transitionName:(0,qf.getTransitionName)(C||"","zoom",e.transitionName),maskTransitionName:(0,qf.getTransitionName)(C||"","fade",e.maskTransitionName),mask:E,maskClosable:D,maskStyle:u,style:k,bodyStyle:w,width:_,zIndex:n,afterClose:r,keyboard:i,centered:s,getContainer:l,closable:T,closeIcon:m,modalRender:h,focusTriggerAfterClose:b},tt.createElement(ty,Object.assign({},e,{confirmPrefixCls:v}))))};var AM=zM;ua.default=AM;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;const NM=[];var BM=NM;lo.default=BM;var WM=he.default,Gi=F.default;Object.defineProperty(zn,"__esModule",{value:!0});zn.default=YM;zn.modalGlobalConfig=tP;zn.withConfirm=eP;zn.withError=QM;zn.withInfo=JM;zn.withSuccess=ZM;zn.withWarn=XM;var FM=Gi(er),Uf=lp,HM=WM(c);Gi(k0);var qM=Ln,VM=Gi(ua),To=Gi(lo),GM=hp,UM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let ny="";function KM(){return ny}function YM(e){const t=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:i,open:!0}),r;function a(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];const p=u.some(g=>g&&g.triggerCancel);e.onCancel&&p&&e.onCancel.apply(e,[()=>{}].concat((0,FM.default)(u.slice(1))));for(let g=0;g<To.default.length;g++)if(To.default[g]===i){To.default.splice(g,1);break}(0,Uf.unmount)(t)}function o(l){var{okText:u,cancelText:d,prefixCls:p,getContainer:g}=l,C=UM(l,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(r),r=setTimeout(()=>{const x=(0,GM.getConfirmLocale)(),{getPrefixCls:S,getIconPrefixCls:w,getTheme:T}=(0,qM.globalConfig)(),m=S(void 0,KM()),h=p||`${m}-modal`,b=w(),y=T();let v=g;v===!1&&(v=void 0),(0,Uf.render)(HM.createElement(VM.default,Object.assign({},C,{getContainer:v,prefixCls:h,rootPrefixCls:m,iconPrefixCls:b,okText:u,locale:x,theme:y,cancelText:d||x.cancelText})),t)})}function i(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,u)}}),n.visible&&delete n.visible,o(n)}function s(l){typeof l=="function"?n=l(n):n=Object.assign(Object.assign({},n),l),o(n)}return o(n),To.default.push(i),{destroy:i,update:s}}function XM(e){return Object.assign(Object.assign({},e),{type:"warning"})}function JM(e){return Object.assign(Object.assign({},e),{type:"info"})}function ZM(e){return Object.assign(Object.assign({},e),{type:"success"})}function QM(e){return Object.assign(Object.assign({},e),{type:"error"})}function eP(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function tP(e){let{rootPrefixCls:t}=e;ny=t}var Ui={},nP=he.default,Ki=F.default;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=void 0;var rP=Ki(er),Wr=nP(c),aP=Ln,oP=Ki(E0),iP=Ki(O0),sP=Ki(ua),lP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const cP=(e,t)=>{var n,{afterClose:r,config:a}=e,o=lP(e,["afterClose","config"]);const[i,s]=Wr.useState(!0),[l,u]=Wr.useState(a),{direction:d,getPrefixCls:p}=Wr.useContext(aP.ConfigContext),g=p("modal"),C=p(),x=()=>{var m;r(),(m=l.afterClose)===null||m===void 0||m.call(l)},S=function(){s(!1);for(var m=arguments.length,h=new Array(m),b=0;b<m;b++)h[b]=arguments[b];const y=h.some(v=>v&&v.triggerCancel);l.onCancel&&y&&l.onCancel.apply(l,[()=>{}].concat((0,rP.default)(h.slice(1))))};Wr.useImperativeHandle(t,()=>({destroy:S,update:m=>{u(h=>Object.assign(Object.assign({},h),m))}}));const w=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[T]=(0,iP.default)("Modal",oP.default.Modal);return Wr.createElement(sP.default,Object.assign({prefixCls:g,rootPrefixCls:C},l,{close:S,open:i,afterClose:x,okText:l.okText||(w?T==null?void 0:T.okText:T==null?void 0:T.justOkText),direction:l.direction||d,cancelText:l.cancelText||(T==null?void 0:T.cancelText)},o))};var dP=Wr.forwardRef(cP);Ui.default=dP;var uP=he.default,Yi=F.default;Object.defineProperty(Jd,"__esModule",{value:!0});var tu=Jd.default=void 0,As=Yi(er),It=uP(c),fP=Yi(Zd),ya=zn,hP=Yi(lo),pP=Yi(Ui);let Kf=0;const gP=It.memo(It.forwardRef((e,t)=>{const[n,r]=(0,fP.default)();return It.useImperativeHandle(t,()=>({patchElement:r}),[]),It.createElement(It.Fragment,null,n)}));function mP(){const e=It.useRef(null),[t,n]=It.useState([]);It.useEffect(()=>{t.length&&((0,As.default)(t).forEach(i=>{i()}),n([]))},[t]);const r=It.useCallback(o=>function(s){var l;Kf+=1;const u=It.createRef();let d;const p=new Promise(w=>{d=w});let g=!1,C;const x=It.createElement(pP.default,{key:`modal-${Kf}`,config:o(s),ref:u,afterClose:()=>{C==null||C()},isSilent:()=>g,onConfirm:w=>{d(w)}});return C=(l=e.current)===null||l===void 0?void 0:l.patchElement(x),C&&hP.default.push(C),{destroy:()=>{function w(){var T;(T=u.current)===null||T===void 0||T.destroy()}u.current?w():n(T=>[].concat((0,As.default)(T),[w]))},update:w=>{function T(){var m;(m=u.current)===null||m===void 0||m.update(w)}u.current?T():n(m=>[].concat((0,As.default)(m),[T]))},then:w=>(g=!0,p.then(w))}},[]);return[It.useMemo(()=>({info:r(ya.withInfo),success:r(ya.withSuccess),error:r(ya.withError),warning:r(ya.withWarn),confirm:r(ya.withConfirm)}),[]),It.createElement(gP,{key:"modal-holder",ref:e})]}var vP=mP;tu=Jd.default=vP;const kt=e=>e.member||ry,yP=J([kt],e=>e.members),bP=J([kt],e=>e.roles),CP=J([kt],e=>e.editingMember),xP=J([kt],e=>e.editingRole),_8=J([kt],e=>e.memberListLoading),k8=J([kt],e=>e.inviteMemberLoading),E8=J([kt],e=>e.getMemberRolesLoading),O8=J([kt],e=>e.saveMemberLoading),D8=J([kt],e=>e.removeMemberLoading),R8=J([kt],e=>e.roleListLoading);J([kt],e=>e.roleDetailLoading);const I8=J([kt],e=>e.saveRoleLoading);J([kt],e=>e.deleteRoleLoading);const j8=J([kt],e=>e.getRoleMembersLoading),M8=J([kt],e=>e.grantOwnerLoading),Ao=re("member/getMembers",async e=>(await ce(`/orgs/${e}/members`)).data),Ns=re("member/inviteMember",async({params:{orgId:e,emails:t,sendMail:n},resolve:r})=>{const{data:a}=await ce({url:`/orgs/${e}/invite`,method:"POST",data:t,params:{sendMail:n}});return r(a),null}),Bs=re("member/getMemberRoles",async({orgId:e,memberId:t})=>{const{data:n}=await ce({url:`/orgs/${e}/members/${t}/roles`});return n}),Ws=re("member/editMember",async({type:e,orgId:t,roleIds:n,resolve:r,...a},{getState:o})=>{const i=CP(o());if(e==="add"){const{data:s}=await ce({url:`/users/${t}/addUser`,method:"POST",data:{roleIds:n,...a}});return r(),s}else if(e==="edit"){if(i)return await ce({url:`/users/${t}/updateUser`,method:"PUT",data:{roleIds:n,...a}}),r(),{...i.info,...a}}else if(i){const{info:s,roles:l}=i,u=l.map(({id:d})=>d);await Promise.all([u.sort().join()!==n.sort().join()?ce({url:`/roles/${s.id}/roles`,method:"PUT",params:{orgId:t},data:n}):null]),r()}return null}),Fs=re("member/removeMember",async({id:e,orgId:t,resolve:n})=>(await ce({url:`/orgs/${t}/members/${e}`,method:"DELETE"}),n(),null)),Hs=re("member/deleteMember",async({id:e,orgId:t,resolve:n})=>(await ce({url:`/users/${t}/deleteUser`,method:"DELETE",params:{userId:e}}),n(),null)),No=re("member/getRoles",async e=>{const{data:t}=await ce(`/orgs/${e}/roles`);return t}),qs=re("member/addRole",async({role:e,resolve:t})=>{const{data:n}=await ce({url:"/roles",method:"POST",data:e});return t(),n}),Vs=re("member/editRole",async({role:e,members:t,resolve:n},{getState:r})=>{const a=xP(r());if(a){const{info:o,members:i}=a,s={...o,...e},l=i.map(({id:d})=>d),u=t.map(({id:d})=>d);return await Promise.all([ce({url:`/roles/${o.id}`,method:"PUT",data:Qb(s,"orgId")}),l.sort().join()!==u.sort().join()?ce({url:`/roles/${o.id}/users`,method:"PUT",data:u}):null]),n(),s}return null}),Gs=re("member/deleteRole",async({id:e,resolve:t})=>(await ce({url:`/roles/${e}`,method:"DELETE"}),t(),null)),Us=re("member/getRoleMembers",async e=>{const{data:t}=await ce({url:`/roles/${e}/users`});return t}),Ks=re("member/grantOwner",async({orgId:e,userId:t,resolve:n})=>(await ce({url:"/roles/permission/grant/org_owner",method:"POST",params:{orgId:e,userId:t}}),n(),null)),Ys=re("member/revokeOwner",async({orgId:e,userId:t,resolve:n})=>(await ce({url:"/roles/permission/revoke/org_owner",method:"DELETE",params:{orgId:e,userId:t}}),n(),null)),ry={members:[],roles:[],editingMember:null,editingRole:null,memberListLoading:!1,roleListLoading:!1,inviteMemberLoading:!1,getMemberRolesLoading:!1,saveMemberLoading:!1,removeMemberLoading:!1,roleDetailLoading:!1,saveRoleLoading:!1,deleteRoleLoading:!1,getRoleMembersLoading:!1,grantOwnerLoading:!1},Xs=$c({name:"member",initialState:ry,reducers:{initEditingMember(e,t){const n=e.members.find(r=>r.id===t.payload);n&&(e.editingMember={info:n,roles:[]})},clearEditingMember(e){e.editingMember=null},initEditingRole(e,t){const n=e.roles.find(r=>r.id===t.payload);n&&(e.editingRole={info:n,members:[]})},clearEditingRole(e){e.editingRole=null}},extraReducers:e=>{e.addCase(Ao.pending,t=>{t.memberListLoading=!0}),e.addCase(Ao.fulfilled,(t,n)=>{t.memberListLoading=!1,t.members=n.payload}),e.addCase(Ao.rejected,t=>{t.memberListLoading=!1}),e.addCase(Ns.pending,t=>{t.inviteMemberLoading=!0}),e.addCase(Ns.fulfilled,(t,n)=>{t.inviteMemberLoading=!1}),e.addCase(Ns.rejected,t=>{t.inviteMemberLoading=!1}),e.addCase(Bs.pending,t=>{t.getMemberRolesLoading=!0}),e.addCase(Bs.fulfilled,(t,n)=>{t.getMemberRolesLoading=!1,t.editingMember&&(t.editingMember.roles=n.payload)}),e.addCase(Bs.rejected,t=>{t.getMemberRolesLoading=!1}),e.addCase(Ws.pending,t=>{t.saveMemberLoading=!0}),e.addCase(Ws.fulfilled,(t,n)=>{if(t.saveMemberLoading=!1,n.payload){const r=t.members.findIndex(a=>a.id===n.payload.id);r>=0?t.members[r]=n.payload:t.members.push(n.payload)}}),e.addCase(Ws.rejected,t=>{t.saveMemberLoading=!1}),e.addCase(Fs.pending,t=>{t.removeMemberLoading=!0}),e.addCase(Fs.fulfilled,(t,n)=>{t.removeMemberLoading=!1,t.members=t.members.filter(r=>r.id!==n.meta.arg.id)}),e.addCase(Fs.rejected,t=>{t.removeMemberLoading=!1}),e.addCase(Hs.pending,t=>{t.removeMemberLoading=!0}),e.addCase(Hs.fulfilled,(t,n)=>{t.removeMemberLoading=!1,t.members=t.members.filter(r=>r.id!==n.meta.arg.id)}),e.addCase(Hs.rejected,t=>{t.removeMemberLoading=!1}),e.addCase(No.pending,t=>{t.roleListLoading=!0}),e.addCase(No.fulfilled,(t,n)=>{t.roleListLoading=!1,t.roles=n.payload}),e.addCase(No.rejected,t=>{t.roleListLoading=!1}),e.addCase(qs.pending,t=>{t.saveRoleLoading=!0}),e.addCase(qs.fulfilled,(t,n)=>{t.saveRoleLoading=!1,t.roles.push(n.payload)}),e.addCase(qs.rejected,t=>{t.saveRoleLoading=!1}),e.addCase(Vs.pending,t=>{t.saveRoleLoading=!0}),e.addCase(Vs.fulfilled,(t,n)=>{t.saveRoleLoading=!1,n.payload&&(t.roles=t.roles.map(r=>r.id===n.payload.id?n.payload:r))}),e.addCase(Vs.rejected,t=>{t.saveRoleLoading=!1}),e.addCase(Gs.pending,t=>{t.deleteRoleLoading=!0}),e.addCase(Gs.fulfilled,(t,n)=>{t.deleteRoleLoading=!1,t.roles=t.roles.filter(r=>r.id!==n.meta.arg.id)}),e.addCase(Gs.rejected,t=>{t.deleteRoleLoading=!1}),e.addCase(Us.pending,t=>{t.getRoleMembersLoading=!0}),e.addCase(Us.fulfilled,(t,n)=>{t.getRoleMembersLoading=!1,t.editingRole&&(t.editingRole.members=n.payload)}),e.addCase(Us.rejected,t=>{t.getRoleMembersLoading=!1}),e.addCase(Ks.pending,t=>{t.grantOwnerLoading=!0}),e.addCase(Ks.fulfilled,(t,n)=>{var a;t.grantOwnerLoading=!1;const r=t.members.find(({id:o})=>o===n.meta.arg.userId);r&&(r.orgOwner=!0),(a=t.editingMember)!=null&&a.info&&(t.editingMember.info.orgOwner=!0)}),e.addCase(Ks.rejected,t=>{t.grantOwnerLoading=!1}),e.addCase(Ys.pending,t=>{t.grantOwnerLoading=!0}),e.addCase(Ys.fulfilled,(t,n)=>{var a;t.grantOwnerLoading=!1;const r=t.members.find(({id:o})=>o===n.meta.arg.userId);r&&(r.orgOwner=!1),(a=t.editingMember)!=null&&a.info&&(t.editingMember.info.orgOwner=!1)}),e.addCase(Ys.rejected,t=>{t.grantOwnerLoading=!1})}}),SP=()=>(zc({key:Xs.name,reducer:Xs.reducer}),{actions:Xs.actions});var gr=(e=>(e.none="NONE",e.code="CODE",e.login="LOGIN",e))(gr||{}),Bo=(e=>(e.creator="CREATOR",e.visitor="VISITOR",e))(Bo||{});const wP=c.memo(({visibility:e,onOk:t,onCancel:n,shareData:r,orgId:a})=>{SP();const o=Ce("viz.action"),i=qe(),[s,l]=c.useState(""),[u,d]=c.useState(gr.none),[p,g]=c.useState(""),[C,x]=c.useState([]),[S,w]=c.useState([]),[T,m]=c.useState(!1),h=ne(yP),b=ne(bP),y=ne(Dr),v=c.useCallback(async({expiryDate:I,authenticationMode:O,roles:P,users:A,rowPermissionBy:M})=>{m(!0);try{let R={expiryDate:I,authenticationMode:O,roles:P,users:A,rowPermissionBy:M};r&&(R=Object.assign({},r,R)),await t(R),m(!1)}catch(R){throw m(!1),R}},[t,r]),_=c.useCallback(async I=>{const O=I.target.value;w([]),x([]),g(""),O===gr.login&&g(Bo.visitor),d(I.target.value)},[]),k=c.useCallback(I=>{g(I.target.value)},[]),E=c.useCallback(I=>{x(I)},[]),D=c.useCallback(I=>{w(I)},[]),j=c.useCallback(I=>{l(I.expiryDate),d(I.authenticationMode),g(I.rowPermissionBy),x(I.users),w(I.roles)},[]);return c.useEffect(()=>{y&&(i(No(a)),i(Ao(a)))},[a,i,y]),c.useEffect(()=>{r&&j(r)},[j,r]),f.jsx(TP,{title:o("share.shareLink"),open:e,okText:o(r?"share.save":"share.generateLink"),onOk:()=>v==null?void 0:v({expiryDate:s,authenticationMode:u,roles:S,users:C,rowPermissionBy:p}),okButtonProps:{loading:T},onCancel:n,destroyOnClose:!0,forceRender:!0,width:600,children:f.jsxs(_t,{preserve:!1,labelCol:{span:5},wrapperCol:{span:19},autoComplete:"off",children:[f.jsx(go,{label:o("share.expireDate"),children:f.jsx(Zr,{value:s?vt(s,Rn):null,disabledDate:I=>I&&I<vt().endOf("day"),onChange:(I,O)=>{l(O)}})}),f.jsx(go,{label:o("share.verificationMethod"),children:f.jsxs(jt.Group,{onChange:_,value:u,children:[f.jsx(jt,{value:gr.none,children:o("share.NONE")}),f.jsx(jt,{value:gr.code,children:o("share.CODE")}),f.jsx(jt,{value:gr.login,children:o("share.LOGIN")})]})}),u===gr.login&&f.jsxs(f.Fragment,{children:[f.jsx(go,{label:o("share.dataPermission"),children:f.jsxs(jt.Group,{onChange:k,value:p,children:[f.jsx(jt,{value:Bo.visitor,children:o("share.loginUser")}),f.jsx(jt,{value:Bo.creator,children:o("share.shareUser")})]})}),y&&f.jsx(go,{label:o("share.userOrRole"),children:f.jsxs(ut,{children:[f.jsx(Yf,{onChange:D,placeholder:o("share.selectRole"),mode:"multiple",maxTagCount:"responsive",optionFilterProp:"label",value:S||[],style:{width:"215px"},popupMatchSelectWidth:300,children:b==null?void 0:b.map((I,O)=>f.jsx(jn.Option,{value:I.id,label:I.name,children:I.name},O))}),f.jsx(Yf,{onChange:E,placeholder:o("share.selectUser"),mode:"multiple",maxTagCount:"responsive",optionFilterProp:"label",value:C||[],style:{width:"215px"},popupMatchSelectWidth:300,children:h==null?void 0:h.map((I,O)=>f.jsx(jn.Option,{value:I.id,label:I.username,children:I.username},O))})]})})]})]})})}),TP=$(Rr).withConfig({displayName:"ShareLinkModal__StyledShareLinkModal",componentId:"sc-q3ljql-0"})(["& .ant-modal-body .ant-row{margin-top:",";margin-bottom:",";}"],Yl,Yl),Yf=$(jn).withConfig({displayName:"ShareLinkModal__StyledSelection",componentId:"sc-q3ljql-1"})(["min-width:100px;"]),nu=c.memo(({visibility:e,onGenerateShareLink:t,onOk:n,onCancel:r,vizType:a,vizId:o,orgId:i})=>{const[s,l]=c.useState(!1),[u,d]=c.useState([]),[p,g]=c.useState(null),C=Ce("viz.action"),x=c.useCallback(async()=>{const{data:k}=await ce({url:`/shares/${o}`,method:"GET"});d(k)},[o]),S=c.useCallback(async k=>{const{id:E}=k,{data:D}=await ce({url:`/shares/${E}`,method:"PUT",data:k});g(null),D&&d(Kn(u,j=>{const I=j.findIndex(O=>O.id===E);j[I]=Object.assign(k,D,{vizType:a})}))},[u,a]),w=c.useCallback(async k=>{const E=await(t==null?void 0:t(k));E&&d([{...k,...E,vizType:a},...u]),l(!1)},[l,u,t,a]),T=c.useCallback(async(k,E)=>{try{await ce({url:`/shares/${k}`,method:"DELETE"}),d(Kn(u,D=>{D.splice(E,1)}))}catch(D){throw xr.error(C("shareList.deleteError")),D}},[u,C]),m=c.useCallback(k=>{const E={DASHBOARD:"shareDashboard",DATACHART:"shareChart",STORYBOARD:"shareStoryPlayer"};let D=`${D0()}/${E[k.vizType]}/${k.id}?type=${k.authenticationMode}`;return k.authenticationMode==="CODE"&&(D=`${C("share.link")}：${D} ${C("share.password")}：${k.authenticationCode}`),D},[C]),h=c.useCallback(k=>{const E=m(k),D=document.createElement("textarea");D.innerText=E,document.body.appendChild(D),D.select(),document.execCommand("copy"),D.remove(),xr.success(C("shareList.copySuccess"))},[C,m]),b=c.useCallback(()=>{g(null),l(!1)},[]),y=c.useCallback(k=>{g(k),l(!0)},[]),v=c.useCallback(async k=>{const{id:E}=k;E?await S(k):await w(k),l(!1)},[S,w]),_=c.useMemo(()=>[{title:C("shareList.shortLink"),dataIndex:"id",render:(k,E)=>f.jsx(EP,{children:m(E)})},{title:C("shareList.type"),dataIndex:"authenticationMode",render:k=>C(`share.${k}`)},{title:C("shareList.expireDate"),dataIndex:"expiryDate",render:k=>k||C("shareList.Permanent")},{title:C("shareList.operate"),dataIndex:"id",render:(k,E,D)=>f.jsxs(ut,{children:[f.jsx(He,{type:"primary",ghost:!0,onClick:()=>{h(E)},children:C("shareList.copy")}),f.jsx(He,{type:"primary",ghost:!0,onClick:()=>{y(E)},children:C("shareList.operate")}),f.jsx(Ut,{title:C("shareList.sureDelete"),onConfirm:()=>{T(k,D)},children:f.jsx(He,{danger:!0,children:C("shareList.delete")})})]})}],[C,y,h,T,m]);return c.useEffect(()=>{e&&x()},[x,e]),f.jsxs(_P,{width:1300,title:f.jsxs(kP,{children:[f.jsx("span",{children:C("shareList.shareList")}),f.jsx(He,{type:"primary",onClick:()=>{l(!0)},children:C("shareList.addLink")})]}),open:e,onOk:n,onCancel:r,destroyOnClose:!0,closable:!1,children:[f.jsx($p,{pagination:!1,dataSource:u,columns:_,scroll:{y:500},locale:{emptyText:f.jsx(di,{description:C("shareList.noDataTip")})}}),f.jsx(wP,{shareData:p,orgId:i,vizType:a,visibility:s,onOk:v,onCancel:b})]})}),_P=$(Rr).withConfig({displayName:"ShareManageModal__StyledShareLinkModal",componentId:"sc-1u84l3f-0"})([".ant-modal-header{padding-right:",";padding-left:",";}.ant-modal-body{padding:0px;}"],Fo(4),Fo(4)),kP=$.div.withConfig({displayName:"ShareManageModal__ModalHeader",componentId:"sc-1u84l3f-1"})(["display:flex;align-items:center;justify-content:space-between;"]),EP=$.span.withConfig({displayName:"ShareManageModal__LinkWrapper",componentId:"sc-1u84l3f-2"})(["color:",";"],e=>e.theme.primary),OP=c.memo(({onShareLinkClick:e,onDownloadDataLinkClick:t,openMockData:n,onSaveAsVizs:r,onReloadData:a,onAddToDashBoard:o,onPublish:i,allowDownload:s,allowShare:l,allowManage:u,onRecycleViz:d})=>{const p=Ce("viz.action"),g=Ce("global"),C=()=>{const x=[];return a&&x.push({key:"reloadData",icon:f.jsx(zp,{}),label:p("syncData")},{type:"divider",key:"reloadDataLine"}),u&&r&&x.push({key:"saveAs",label:g("button.saveAs"),icon:f.jsx(ig,{}),onClick:r}),u&&r&&x.push({key:"addToDash",icon:f.jsx(rc,{}),label:p("addToDash"),onClick:()=>o(!0)},{type:"divider",key:"addToDashLine"}),l&&e&&x.push({key:"shareLink",icon:f.jsx(ed,{}),label:p("share.shareLink"),onClick:e}),s&&t&&x.push({key:"exportData",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:p("common.confirm"),onConfirm:()=>{t(Vr.Excel)},okText:p("common.ok"),cancelText:p("common.cancel"),children:p("share.exportData")})},{key:"exportPDF",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:p("common.confirm"),onConfirm:()=>{t(Vr.Pdf)},okText:p("common.ok"),cancelText:p("common.cancel"),children:p("share.exportPDF")})},{key:"exportPicture",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:p("common.confirm"),onConfirm:()=>{t(Vr.Image)},okText:p("common.ok"),cancelText:p("common.cancel"),children:p("share.exportPicture")})},{key:"exportTpl",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:p("common.confirm"),okText:p("common.ok"),cancelText:p("common.cancel"),onConfirm:n,children:p("share.exportTpl")})},{type:"divider",key:"downloadDataLine"}),u&&i&&x.push({key:"publish",label:p("unpublish"),icon:f.jsx(Vp,{}),onClick:i}),u&&d&&x.push({key:"delete",icon:f.jsx(li,{}),label:f.jsx(Ut,{title:g("operation.archiveConfirm"),onConfirm:d,children:g("button.archive")})}),f.jsx(St,{items:x})};return f.jsx(DP,{children:C()})}),DP=$.div.withConfig({displayName:"VizOperationMenu__StyleVizOperationMenu",componentId:"sc-1b2zagz-0"})([""]),ru=(e,t,n)=>{const r=qe(),a=Ce("viz.main"),o=c.useCallback(l=>{r(Ea({id:e,vizType:t,publish:n===1,resolve:()=>{xr.success(`${a(n===2?"unpublishSuccess":"publishSuccess")}`),l()}}))},[r,n,a,t,e]),i=c.useCallback(()=>{o(()=>{r(Tt.changeBoardPublish({boardId:e,publish:n===1?2:1}))})},[o,r,e,n]),s=c.useCallback(()=>{o(()=>{r(Qn.changeBoardPublish({stroyId:e,publish:n===1?2:1}))})},[o,r,e,n]);return{publishBoard:i,publishStory:s}};function ay(){const{showSaveForm:e}=c.useContext(zg),t=ne(tr),n=qe(),r=Ce("global"),a=c.useCallback(async(i,s)=>{const{data:l}=await ce({method:"GET",url:`viz/${s.toLowerCase()}s/${i}`},void 0,{onRejected(u){return{}}});return l},[]);return c.useCallback(async(i,s)=>{var d;const l=await a(i,s).then(p=>p),u=(d=JSON.parse(l.config||"{}"))==null?void 0:d.type;e({vizType:s,type:ri.SaveAs,visible:!0,initialValues:{...l,parentId:l.parentId||void 0,name:l.name+"_"+r("copy"),boardType:u},onSave:async(p,g)=>{var S;const C=ap(p,t);let x=[];s==="DATACHART"?(x=Object.assign({},l,{...p,parentId:p.parentId||null,index:C,avatar:(S=JSON.parse(l.config))==null?void 0:S.chartGraphId}),await n(_a({viz:x,type:s})),g==null||g()):(x={config:l.config,id:l.id,index:C,name:p.name,orgId:l.orgId,parentId:p.parentId||null,permissions:l.permissions,subType:u,boardType:u},await n(jo({viz:x,dashboardId:l.id})),g==null||g())}})},[e,r,t,n,a])}const oy=(e,t,n)=>{const r=qe(),a=Or(),o=Ce("global"),i=c.useCallback(l=>{a(l?`/organizations/${e}/vizs/${l}`:`/organizations/${e}/vizs`)},[a,e]);return c.useCallback(()=>{r(ka({params:{id:t,archive:!0},type:n,resolve:()=>{xr.success(o("operation.archiveSuccess")),r(jg({id:t,resolve:i}))}}))},[r,t,n,o,i])},RP=c.memo(({onOpenShareLink:e,openStoryList:t,openMockData:n})=>{const r=Ce("viz.action"),a=Ce("global"),o=qe(),{allowDownload:i,allowShare:s,allowManage:l,renderMode:u,status:d,orgId:p,boardId:g}=c.useContext(ze),C=oy(p,g,"DASHBOARD"),x=ay(),S=()=>{o(Rp({boardId:g,renderMode:u}))},{onBoardToDownLoad:w}=c.useContext(Od),{publishBoard:T}=ru(g,"DASHBOARD",d),m=[{key:"reloadData",onClick:S,icon:f.jsx(zp,{}),label:r("syncData")}].concat(s?[{type:"divider",key:"shareLinkLine"},{key:"shareLink",onClick:e,icon:f.jsx(ed,{}),label:r("share.shareLink")}]:[]).concat(i?[{type:"divider",key:"exportDataLine"},{key:"exportData",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:r("common.confirm"),okText:r("common.ok"),cancelText:r("common.cancel"),onConfirm:()=>{w==null||w(Vr.Excel)},children:r("share.exportData")})},{key:"exportPDF",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:r("common.confirm"),okText:r("common.ok"),cancelText:r("common.cancel"),onConfirm:()=>{w==null||w(Vr.Pdf)},children:r("share.exportPDF")})},{key:"exportPicture",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:r("common.confirm"),okText:r("common.ok"),cancelText:r("common.cancel"),onConfirm:()=>{w==null||w(Vr.Image)},children:r("share.exportPicture")})},{key:"exportTpl",icon:f.jsx(Un,{}),label:f.jsx(Ut,{placement:"left",title:r("common.confirm"),okText:r("common.ok"),cancelText:r("common.cancel"),onConfirm:n,children:r("share.exportTpl")})}]:[]).concat(l?[{type:"divider",key:"unpublishLine"}]:[]).concat(l&&d===2?[{key:"unpublish",icon:f.jsx(rc,{}),label:r("unpublish"),onClick:T}]:[]).concat(l?[{key:"saveAs",icon:f.jsx(ig,{}),label:a("button.saveAs"),onClick:()=>x(g,"DASHBOARD")},{key:"addToStory",icon:f.jsx(rc,{}),label:r("addToStory"),onClick:t},{key:"archive",icon:f.jsx(li,{}),label:a("button.archive"),onClick:C}]:[]);return f.jsx(St,{items:m})}),iy=c.memo(({originalData:e,onDataChange:t})=>{const n=ne(R0),r=JSON.stringify(e,null,4),a=c.useCallback(s=>{},[]),o=c.useCallback(s=>{s.getAction("editor.action.formatDocument").run(),s.setValue(s.getValue()),s.focus()},[]),i=c.useMemo(()=>gn(l=>{try{const u=JSON.parse(l);t(u)}catch{}},500),[t]);return f.jsx(IP,{children:f.jsx(_x,{value:r,language:"x-javascript",theme:`vs-${n}`,options:{selectOnLineNumbers:!0,automaticLayout:!0,wordWrap:"wordWrapColumn",wrappingStrategy:"simple",wordWrapBreakBeforeCharacters:",",wordWrapBreakAfterCharacters:",",fontSize:I0*.875,minimap:{enabled:!0},readOnly:!1},onChange:i,beforeMount:a,onMount:o,loading:f.jsx(si,{})})})}),IP=$.div.withConfig({displayName:"MockDataEditor__StyledWrapper",componentId:"sc-8aktcf-0"})(["flex:1;height:100%;"]),jP=c.memo(({dataMap:e,onChangeDataMap:t})=>{const n=Object.values(e||{}),[r,a]=c.useState(),[o,i]=c.useState();c.useEffect(()=>{const u=Object.values(e||{});u&&u[0]&&a(u[0].id)},[e]);const s=u=>{a(u)};c.useEffect(()=>{var d;const u=e==null?void 0:e[r||""];if(u){const p=(d=u.data)==null?void 0:d.rows;i(p)}},[e,r]);const l=u=>{t({id:r,val:u})};return r?f.jsxs(MP,{className:"tab",children:[f.jsx(ci,{centered:!0,onChange:s,items:n.map(u=>({key:u.id,label:u.name}))}),f.jsx(iy,{originalData:o,onDataChange:l})]}):null}),MP=$.div.withConfig({displayName:"MockDataTab__StyledWrapper",componentId:"sc-3fwf68-0"})(["display:flex;flex:1;flex-direction:column;"]),PP=(e,t)=>{const{board:n,widgetMap:r,dataChartMap:a}=t,o={...n,queryVariables:[],config:JSON.stringify(n.config)},i=Object.values(r).map(s=>{const l={...s.config};if(l.type==="chart"){l.originalType=Be.ownedChart;const d=a[n.id][s.datachartId||""];if(d){const p={...d,config:{...d.config,sampleData:e[s.id].data}};p.viewId="",p.orgId="",l.content={dataChart:p}}}return{...s,viewIds:[],datachartId:"",config:JSON.stringify(l)}});return{dashboard:o,widgets:i}},LP=c.memo(({open:e,onClose:t,...n})=>{const{boardId:r}=c.useContext(ze),a=qe();Ce("global.button");const[o,i]=c.useState();c.useEffect(()=>{const u=a(eC(r));i(u)},[r,a]);const s=async()=>{const u=a(tC(r)),d=PP(o,u);a(nC({...d,callBack:t}))},l=u=>{const d={...o[u.id],data:{...o[u.id].data,rows:u.val}},p=Object.assign(o,{[u.id]:d});i(p)};return f.jsx($P,{open:e,title:null,width:"100%",onCancel:t,...n,maskClosable:!1,onOk:s,style:{top:10},okText:"导出",children:f.jsx("div",{className:"content",children:Object.values(o||{}).length?f.jsx(jP,{dataMap:o,onChangeDataMap:l}):f.jsx("div",{className:"empty-data",style:{flex:1},children:f.jsx(di,{})})})})}),$P=$(Rr).withConfig({displayName:"MockDataPanel__StyledWrapper",componentId:"sc-lo31ws-0"})(["& .content{height:800px;display:flex;flex:1;flex-direction:column;background-color:",";.empty-data{display:flex;flex:1;align-content:center;align-items:center;justify-content:center;}}.btn-box{display:flex;flex-direction:row-reverse;align-items:center;height:50px;.btn{margin-right:20px;}}.tab-box{display:flex;flex:1;}"],e=>e.theme.bodyBackground),zP=c.memo(({isModalVisible:e,handleOk:t,handleCancel:n,title:r})=>{const[a,o]=c.useState(""),i=ne(Dr),s=ne(ia),l=c.useCallback(g=>{const C=[],x=g==null?void 0:g.filter(w=>{const T=pp(g,{id:w.id,parentId:w.parentId},xn.Folder);return mi(i,s,Fr.Viz,T,xa.Manage)});return(g==null?void 0:g.filter(w=>C.indexOf(w.id)!==-1)).concat(x)},[i,s]),u=c.useCallback(g=>{o(g.id)},[]),d=c.useCallback(async g=>{t(g)},[t]),p=l(ne(ud));return f.jsx(Rr,{title:r,open:e,onOk:()=>{d(a)},onCancel:n,okButtonProps:{disabled:!a},children:f.jsx(Eu,{dataSource:p,renderItem:g=>f.jsx(px,{onClick:()=>u(g),selected:a===g.id,children:f.jsx(Eu.Item.Meta,{title:g.name})})})})}),AP=c.memo(()=>{const e=Ce("viz.action"),t=ne(fd),n=Or(),[r,a]=c.useState(!1),[o,i]=c.useState(!1),[s,l]=c.useState(!1),{name:u,status:d,allowManage:p,allowShare:g,boardId:C,orgId:x}=c.useContext(ze),S=tv(u,d),{onGenerateShareLink:w}=c.useContext(Od),{publishBoard:T}=ru(C,"DASHBOARD",d),m=c.useCallback(()=>{a(!0)},[]),h=Number(d)===0,b=dp(),y=()=>{const _=b.pathname;_.includes(C)?n(`${_.split(C)[0]}${C}/boardEditor`):_.includes("/vizs")&&n(`${_.split("/vizs")[0]}/vizs/${C}/boardEditor`)},v=c.useCallback(_=>{n(`/organizations/${x}/vizs/storyEditor/${_}`,{state:{addDashboardId:C}}),l(!1)},[C,n,x]);return f.jsxs(NP,{children:[f.jsx("h1",{className:dt({disabled:d<2}),children:S}),f.jsxs(ut,{children:[!h&&p&&f.jsxs(f.Fragment,{children:[Number(d)===1&&f.jsx(He,{icon:f.jsx(Qc,{}),loading:t,onClick:T,children:e("publish")},"publish"),f.jsx(He,{icon:f.jsx(Vc,{}),onClick:y,children:e("edit")},"edit")]}),!h&&f.jsx(Ha,{dropdownRender:()=>f.jsx(RP,{onOpenShareLink:m,openStoryList:()=>l(!0),openMockData:()=>i(!0)}),placement:"bottomRight",arrow:!0,trigger:["click"],children:f.jsx(He,{icon:f.jsx(Kc,{})})}),!h&&p&&f.jsx(zP,{title:e("addToStory"),orgId:x,isModalVisible:s,handleOk:v,handleCancel:()=>l(!1)}),!h&&g&&f.jsx(nu,{vizId:C,orgId:x,vizType:"DASHBOARD",visibility:r,onOk:()=>a(!1),onCancel:()=>a(!1),onGenerateShareLink:w}),!h&&o&&f.jsx(LP,{open:!h&&o,onClose:()=>i(!1),destoryOnClose:!0})]})]})}),NP=$.div.withConfig({displayName:"TitleHeader__Wrapper",componentId:"sc-1fagfcx-0"})(["display:flex;flex-shrink:0;align-items:center;padding:"," ",";background-color:",";box-shadow:",";h1{flex:1;font-size:",";font-weight:",";line-height:",";color:",";&.disabled{color:",";}}"],Ba,oi,e=>e.theme.componentBackground,e=>e.theme.shadowSider,gp,Ra,mp,e=>e.theme.textColorSnd,e=>e.theme.textColorLight),BP=c.memo(()=>{const{boardId:e}=c.useContext(ze),t=qe(),n=ne(g=>rC()(g,e)),r=ne(g=>aC(g,e)),a=c.useMemo(()=>Object.values(r).filter(g=>{const C=Fc.meta(g.config.originalType);return C==null?void 0:C.canFullScreen}),[r]),[o,i]=c.useState(!1),s=c.useCallback(()=>{i(g=>!g)},[]),l=c.useCallback(()=>{i(g=>!1),t(Tt.updateFullScreenPanel({boardId:e,itemId:""}))},[e,t]),u=c.useCallback(g=>{t(Tt.updateFullScreenPanel({boardId:e,itemId:g.key}))},[e,t]),d=c.useMemo(()=>{if(!n)return null;const g=r[n];if(g)return f.jsx(_r,{id:g.id,boardEditing:!1,boardId:e,children:f.jsx(kr,{boardEditing:!1,hideTitle:!0})})},[e,n,r]),p=Ce("viz.widget.action");return f.jsx(f.Fragment,{children:n&&f.jsxs(WP,{show:o,children:[f.jsxs(FP,{children:[f.jsxs("div",{onClick:s,children:[o?f.jsx(R1,{}):f.jsx(P1,{})," ",f.jsx("span",{children:r[n].config.name})]}),f.jsx(He,{size:"small",className:"close-fullscreen",onClick:l,children:p("exitFullScreen")})]}),f.jsxs("div",{className:"full-container",children:[d,n&&f.jsx("div",{className:"full-menu",children:f.jsx(St,{mode:"inline",onClick:u,defaultSelectedKeys:[n],items:a.map(g=>({key:g.id,label:g.config.name}))})})]})]})})}),WP=$.div.withConfig({displayName:"FullScreenPanel__FullScreenWrap",componentId:"sc-1d69stu-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:",";display:flex;flex-direction:column;width:100%;height:100%;background-color:",";transition:all 3s ease-out;.full-container{position:relative;display:flex;flex:1;}.full-menu{position:absolute;left:",";z-index:",";width:300px;height:100%;background-color:",";transition:all 0.3s;}"],j0,e=>e.theme.componentBackground,e=>e.show?"0":"-300px",Wa,e=>e.theme.bodyBackground),FP=$.div.withConfig({displayName:"FullScreenPanel__FullHeader",componentId:"sc-1d69stu-1"})(["display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:"," ",";background-color:",";box-shadow:",";"],Ba,oi,e=>e.theme.componentBackground,e=>e.theme.shadowSider);function sy(e){const t=c.useMemo(oC,[]),n=ne(a=>t(a,e));return c.useMemo(()=>Object.values(n).sort((a,o)=>a.config.index-o.config.index),[n])}const HP=X.memo(()=>f.jsx(Kd,{children:f.jsx(qP,{className:"widget",children:f.jsx(kr,{boardEditing:!1,hideTitle:!1})})})),qP=$.div.withConfig({displayName:"WidgetOfAuto__Wrapper",componentId:"sc-14gtdjb-0"})(["position:relative;display:flex;flex-direction:column;width:100%;height:100%;"]),VP=Ev.WidthProvider(u2),GP=c.memo(({boardId:e})=>{const{ref:t,widgetRowHeight:n,colsKey:r}=S2(),{editing:a}=c.useContext(ze),o=c.useContext(da),{background:i,allowOverlap:s}=o,{curMargin:l,curPadding:u}=c.useMemo(()=>jp(o,r),[o,r]),{gridWrapRef:d,thEmitScroll:p}=C2(e),g=sy(e),C=x2(g),x=c.useCallback(w=>{p()},[p]),S=c.useMemo(()=>g.map(w=>f.jsx("div",{children:f.jsx(_r,{id:w.id,boardEditing:a,boardId:e,children:f.jsx(HP,{})})},w.id)),[e,a,g]);return f.jsx(UP,{children:f.jsxs(KP,{bg:i,children:[f.jsx("div",{className:"grid-wrap",ref:d,children:f.jsx("div",{className:"widget-row-height",ref:t,children:f.jsx(q2,{margin:l,padding:u,rowHeight:n,children:f.jsx(VP,{layout:C[r],margin:l,containerPadding:u,cols:iC[r],rowHeight:n,onLayoutChange:x,isDraggable:!1,isResizable:!1,allowOverlap:s,measureBeforeMount:!1,useCSSTransforms:!0,children:S})})})}),!g.length&&f.jsx("div",{className:"empty",children:f.jsx(di,{description:""})})]})})}),UP=$.div.withConfig({displayName:"AutoBoardCore__Wrapper",componentId:"sc-1tabke8-0"})(["display:flex;flex:1;flex-direction:column;width:100%;min-height:0;"]),KP=$(Ov).withConfig({displayName:"AutoBoardCore__StyledContainer",componentId:"sc-1tabke8-1"})(["display:flex;flex:1;flex-direction:column;min-height:0;.grid-wrap{flex:1;overflow-y:auto;-ms-overflow-style:none;}.grid-wrap::-webkit-scrollbar{width:0 !important;}.empty{display:flex;flex:100;align-items:center;justify-content:center;}"]),au=c.createContext([1,1]),YP=e=>{const{width:t,height:n,scaleMode:r,background:a}=c.useContext(da),{editing:o}=c.useContext(ze),{scale:i,slideTranslate:s}=e,l=c.useMemo(()=>{const[u,d]=s,p={width:`${t}px`,height:`${n}px`,transform:`translate(${u}%, ${d}%) scale(${i[0]}, ${i[1]})`,overflow:o?"":"hidden"},g={},C=r==="scaleWidth"&&window.screen.width<=1024;return Object.entries(g).forEach(([x,S])=>{C?document.body.style[x]=S:p[x]=S}),p},[s,t,n,i,r,o]);return f.jsx(XP,{bg:a,style:l,editing:o,children:f.jsx(au.Provider,{value:i,children:e.children})})},XP=$(Ov).withConfig({displayName:"FreeBoardBackground__Wrapper",componentId:"sc-8441kp-0"})(["position:relative;box-shadow:",";transform-origin:0 0;"],e=>e.editing?"0px 1px 8px 2px #8cb4be;":"");function JP(){const{boardId:e,renderMode:t}=c.useContext(ze),n=qe(),{ref:r,width:a=800,height:o=200}=Mi({refreshMode:"debounce",refreshRate:100});return c.useEffect(()=>{const i=a,s=o;t!=="edit"&&n(Tt.setBoardWidthHeight({boardId:e,wh:[i,s]}))},[o,n,e,a,t]),{gridRef:r}}const ZP=200;function QP(e=ZP,t=!1){const n=c.useRef(null),[r,a]=c.useState(new DOMRect);return c.useLayoutEffect(()=>{const o=gn(()=>{n.current&&n.current.getBoundingClientRect().width!==0&&a(n.current.getBoundingClientRect())},e);if(n.current)if(o(),typeof ResizeObserver=="function"){let i=new ResizeObserver(o);return i.observe(n.current),()=>{i.disconnect(),i=null}}else return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[e]),[r,n]}const eL="/static/media/grid.c9d918b7.svg";function tL(e,t,n,r,a,o){const i=c.useMemo(()=>t?64:0,[t]),[s,l]=c.useState([1,1]),[u,d]=c.useState(1),[p,g]=c.useState(20),[C,x]=c.useState([0,0]);c.useEffect(()=>{t||d(1)},[t]);const S=c.useCallback(E=>{const D=E/40+.5;g(E),d(D)},[]),w=c.useCallback(()=>{S(Math.max(p-10,0))},[S,p]),T=c.useCallback(()=>{S(Math.max(p+10,0))},[S,p]),m=c.useCallback(E=>{E.join()!==s.join()&&l(E)},[s]),h=c.useCallback(E=>{E!==C&&x(E)},[C]),[b,y]=c.useMemo(()=>{if(!n)return[];const E=n.width,D=n.height;return[E,D]},[n]);let v=c.useMemo(()=>{if(!b||!y)return[0,0];const E=(b-i)/r*u,D=(y-i)/a*u,j=new Array(2);if(e){const I=r/a>b/y?E:D;return j.fill(I),j}switch(o){case"noScale":j.fill(u);break;case"scaleWidth":j.fill(E);break;case"scaleHeight":j.fill(D);break;case"scaleFull":j[0]=E,j[1]=D;break}return j},[b,y,i,r,u,a,e,o]);v=v||s,m(v);let _=c.useMemo(()=>{if(!n)return[0,0];let E,D;E=n.width,D=n.height;const j=Math.max(Math.max(E-r*v[0],i)/(2*r)*100,0),I=Math.max(Math.max(D-a*v[1],i)/(2*a)*100,0);return[j,I]},[n,r,v,i,a]);_=_||C,h(_);const k=c.useMemo(()=>{const E={overflow:"hidden"};return!b||!y||((r*v[0]+i>=b||a*v[1]+i>=y)&&(E.overflow="auto"),t&&(E.backgroundImage=`url(${eL})`)),E},[b,y,r,v,i,a,t]);return{zoomIn:w,zoomOut:T,sliderChange:S,sliderValue:p,scale:s,nextBackgroundStyle:k,slideTranslate:C}}const ly=c.memo(()=>{const e=c.useContext(je),t=Ap(e);return f.jsx(Kd,{children:f.jsx(nL,{style:t,children:f.jsx(kr,{boardEditing:!1,hideTitle:!1})})})}),nL=$.div.withConfig({displayName:"WidgetOfFree__Wrapper",componentId:"sc-1okuizw-0"})(["& > span:last-child{z-index:999999;}"]),rL=e=>{const{sliderValue:t,scale:n,zoomIn:r,zoomOut:a,sliderChange:o}=e,i=c.useMemo(()=>n?n[0]===n[1]?`${Math.floor(n[0]*100)}%`:n.map(l=>`${Math.floor(l*100)}%`).join("/"):"",[n]),s=Ce("viz.board.action");return f.jsx(aL,{children:f.jsx("div",{className:"bottom-box",children:f.jsxs(ut,{children:[f.jsx(wr,{title:s("zoomIn"),children:f.jsx(He,{size:"small",type:"text",onClick:r,icon:f.jsx(sC,{})})}),f.jsx(Gc,{className:"bottom-slider",onChange:o,value:t}),f.jsx(wr,{title:s("zoomOut"),children:f.jsx(He,{size:"small",type:"text",onClick:a,icon:f.jsx(lC,{})})}),f.jsx("label",{className:"value-label",children:i})]})})})},aL=$.div.withConfig({displayName:"ZoomControl__Wrapper",componentId:"sc-506yk6-0"})(["display:flex;flex-direction:row-reverse;justify-content:space-between;height:20px;background-color:",";& .bottom-slider{display:inline-block;width:200px;margin:0;}& .value-label{margin-right:20px;color:",";}"],e=>e.theme.componentBackground,e=>e.theme.textColorSnd),oL=c.memo(({boardId:e,showZoomCtrl:t})=>{const{width:n,height:r,scaleMode:a}=c.useContext(da),{editing:o,autoFit:i}=c.useContext(ze),s=sy(e),[l,u]=QP(),{zoomIn:d,zoomOut:p,sliderChange:g,sliderValue:C,scale:x,nextBackgroundStyle:S,slideTranslate:w}=tL(i,o,l,n,r,a),T=c.useMemo(()=>s.map(h=>f.jsx(_r,{id:h.id,boardEditing:o,boardId:e,children:f.jsx(ly,{},h.id)},h.id)),[s,o,e]),{gridRef:m}=JP();return f.jsx(iL,{children:f.jsxs("div",{className:"container",ref:m,children:[f.jsx("div",{className:"grid-background",style:S,ref:u,children:f.jsx(YP,{scale:x,slideTranslate:w,children:s.length?T:f.jsx("div",{className:"empty",children:f.jsx(di,{description:""})})})}),t&&f.jsx(rL,{sliderValue:C,scale:x,zoomIn:d,zoomOut:p,sliderChange:g})]})})}),iL=$.div.withConfig({displayName:"FreeBoardCore__Wrapper",componentId:"sc-1abvvq6-0"})(["display:flex;flex:1;overflow-y:hidden;.container{display:flex;flex:1;flex-direction:column;overflow-y:hidden;.grid-background{flex:1;-ms-overflow-style:none;overflow-y:hidden;.empty{display:flex;flex:1;align-items:center;justify-content:center;height:100%;}}.grid-background::-webkit-scrollbar{width:0 !important;}}.container::-webkit-scrollbar{width:0 !important;}&::-webkit-scrollbar{width:0 !important;}"]),cy=c.memo(({id:e,hideTitle:t,fetchData:n=!0,renderMode:r,filterSearchUrl:a,allowDownload:o,allowShare:i,allowManage:s,autoFit:l,showZoomCtrl:u})=>{const d=e,p=qe(),g=ne(gx),C=c.useMemo(()=>(g==null?void 0:g.id)===d,[d,g.id]),{ref:x,width:S,height:w}=Mi({refreshMode:"debounce",refreshRate:2e3}),T=ne(b=>Np()(b,d)),m=c.useMemo(()=>a?ei.toParams(a):void 0,[a]),h=c.useMemo(()=>{var y;const b=(y=T==null?void 0:T.config)==null?void 0:y.type;return T&&b?f.jsx("div",{className:"board-provider",children:f.jsxs(QD,{board:T,editing:!1,autoFit:l,renderMode:r,allowDownload:o,allowShare:i,allowManage:s,children:[!t&&f.jsx(AP,{}),!C&&f.jsxs(f.Fragment,{children:[b==="auto"&&f.jsx(GP,{boardId:T.id}),b==="free"&&f.jsx(oL,{boardId:T.id,showZoomCtrl:u})]}),f.jsx(BP,{})]})}):f.jsx(YD,{})},[T,l,r,o,i,s,t,C,u]);return c.useEffect(()=>{S>0&&w>0&&(T!=null&&T.id)&&!C?p(Tt.changeBoardVisible({id:T==null?void 0:T.id,visible:!0})):p(Tt.changeBoardVisible({id:T==null?void 0:T.id,visible:!1}))},[C,T==null?void 0:T.id,p,w,S]),c.useEffect(()=>(d&&n&&p(Op({dashboardRelId:d,filterSearchParams:m})),()=>{p(Tt.clearBoardStateById(d)),Jl.clearMapByBoardId(d)}),[d,p,n,m]),f.jsx(sL,{ref:x,className:"dashboard-box",children:f.jsx(Gp,{backend:Up,children:h})})}),sL=$.div.withConfig({displayName:"Board__Wrapper",componentId:"sc-y1i156-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;.board-provider{display:flex;flex:1;flex-direction:column;min-height:0;}"]);const Xi=c.createContext({}),Ji=(e,t)=>t,co=e=>e.storyBoard||cC,lL=J([co],e=>e.storyMap),cL=J([co],e=>e.storyPageMap),dL=J([co],e=>e.storyPageInfoMap),uL=J(lL,Ji,(e,t)=>e[t]),dy=J(cL,Ji,(e,t)=>e[t]||{}),fL=J(dL,Ji,(e,t)=>e[t]||{}),P8=J(co,Ji,(e,t)=>{const n=e.storyPageInfoMap[t]||{};return Object.values(n).filter(r=>r.selected).map(r=>r.id)}),L8=J(co,e=>Object.values(e.storyMap)[0]||void 0),hL=({page:e,index:t,selected:n,canDrag:r,moveCard:a,moveEnd:o})=>{const i=qe(),s=c.useRef(null),l=ne(x=>Np()(x,e.relId));c.useEffect(()=>{try{const{thumbnail:x,name:S}=l;i(Qn.updateStoryPageNameAndThumbnail({storyId:e.storyId,pageId:e.id,name:S,thumbnail:x}))}catch{}},[l,i,e.id,e.storyId]);const[{handlerId:u},d]=qp({accept:"storyBoardListDnd",collect(x){return{handlerId:x.getHandlerId()}},hover(x,S){var _;if(!s.current)return;const w=x.index,T=e.index,m=x.selected;if(w===T)return;const h=(_=s.current)==null?void 0:_.getBoundingClientRect(),b=(h.bottom-h.top)/2,v=S.getClientOffset().y-h.top;w<T&&v<b||w>T&&v>b||(a(x.id,e.id),x.index=T,x.selected=m)}}),[{isDragging:p},g]=Hp({type:"storyBoardListDnd",item:()=>({id:e.id,index:e.index,selected:n}),canDrag:()=>r,collect:x=>({isDragging:x.isDragging()}),end(){o()}}),C=p?.1:1;return g(d(s)),f.jsx(pL,{selected:n,children:f.jsxs("div",{className:"item",ref:s,"data-handler-id":u,style:{opacity:C},children:[f.jsx("p",{children:t}),f.jsx("h4",{children:e.name})]})})},pL=$.div.withConfig({displayName:"ThumbnailItem__ItemWrap",componentId:"sc-o1be3c-0"})([".item{padding-bottom:",";margin-bottom:",";cursor:pointer;background-color:",";border-radius:",";box-shadow:",";h4{padding:",";font-weight:",";line-height:",";color:",";text-align:center;}p{padding:",";font-size:",";font-weight:",";color:",";}&:hover{background-color:",";h4{color:",";}p{color:",";}}}"],Fo(8),Ia,e=>e.selected?e.theme.emphasisBackground:e.theme.componentBackground,vp,e=>e.theme.shadowBlock,Jr,Ra,yp,e=>e.theme.textColorSnd,Jr,Da,Ra,e=>e.theme.textColorDisabled,e=>e.theme.emphasisBackground,e=>e.theme.textColor,e=>e.theme.textColorLight),gL=({sortedPages:e,canDrag:t,onPageClick:n,onDeletePages:r,onMoveCard:a})=>{const{storyId:o}=c.useContext(Xi),i=ne(S=>fL(S,o)),s=c.useMemo(()=>Object.values(i).filter(S=>S.selected).map(S=>S.id),[i]),[l,u]=c.useState([]);c.useEffect(()=>{const S=e.map(w=>{var T;return{index:w.config.index,id:w.id,storyId:o,name:w.config.name||"",thumbnail:w.config.thumbnail||"",editing:i[w.id].selected||!1,selected:((T=i[w.id])==null?void 0:T.selected)||!1,relId:w.relId,relType:w.relType}});u(S)},[i,e,o]);const[d,p]=c.useState({});c.useEffect(()=>{const S=w=>{w.keyCode!==8&&w.keyCode!==46||s.length&&r&&r(s)};return window.addEventListener("keydown",S,!1),()=>{window.removeEventListener("keydown",S,!1)}},[r,s]);const g=c.useCallback((S,w)=>T=>{const{shiftKey:m,metaKey:h,altKey:b}=T;n(S,w,m||h||b)},[n]),C=c.useCallback((S,w)=>{p({dragId:S,dropId:w})},[]),x=c.useCallback(()=>{a==null||a(d==null?void 0:d.dragId,d==null?void 0:d.dropId)},[d,a]);return f.jsx(f.Fragment,{children:l.map((S,w)=>f.jsx("div",{onClick:g(w,S.id),children:f.jsx(hL,{index:w,selected:S.selected,page:S,canDrag:t,moveCard:C,moveEnd:x},S.id)},S.id))})};function uy({title:e,description:t,actions:n,disabled:r}){return f.jsxs(mL,{children:[f.jsxs(vL,{children:[f.jsx("h1",{className:dt({disabled:r}),children:e}),f.jsx(ut,{children:n})]}),t&&f.jsx(yL,{children:t})]})}const mL=$.div.withConfig({displayName:"DetailPageHeader__Wrapper",componentId:"sc-9p554d-0"})(["display:flex;flex-direction:column;flex-shrink:0;padding:"," ",";background-color:",";box-shadow:",";"],Ba,oi,e=>e.theme.componentBackground,e=>e.theme.shadowSider),vL=$.div.withConfig({displayName:"DetailPageHeader__Title",componentId:"sc-9p554d-1"})(["display:flex;flex-shrink:0;align-items:center;h1{flex:1;font-size:",";font-weight:",";line-height:",";color:",";&.disabled{color:",";}}"],gp,Ra,mp,e=>e.theme.textColorSnd,e=>e.theme.textColorLight),yL=$.p.withConfig({displayName:"DetailPageHeader__Description",componentId:"sc-9p554d-2"})(["flex-shrink:0;padding:"," ",";line-height:",";color:",";background-color:",";"],Jr,oi,yp,e=>e.theme.textColorLight,e=>e.theme.componentBackground),bL=c.memo(({onOpenShareLink:e,allowShare:t,allowManage:n,onPublish:r})=>{const a=Ce("viz.action"),o=Ce("global"),{storyId:i,orgId:s}=c.useContext(Xi),l=oy(s,i,"STORYBOARD"),u=c.useMemo(()=>[{key:"shareLink",icon:f.jsx(ed,{}),onClick:e,disabled:!1,render:t,content:a("share.shareLink"),className:"line"},{divider:!0},{key:"publish",icon:f.jsx(Vp,{}),onClick:r,disabled:!1,render:n&&r,content:a("unpublish")},{key:"delete",icon:f.jsx(li,{}),disabled:!1,render:n,content:f.jsx(Ut,{title:o("operation.archiveConfirm"),onConfirm:l,children:o("button.archive")})}],[e,t,a,r,n,o,l]),d=()=>u.filter(p=>p.render||p.divider).map(p=>p.divider?{type:"divider",key:""}:{key:p.key,icon:p.icon,onClick:p.onClick,label:p.content});return f.jsx(St,{items:d()})}),CL=c.memo(({orgId:e,name:t,toggleEdit:n,status:r,publishLoading:a,playStory:o,onPublish:i,allowShare:s,allowManage:l})=>{const u=Ce("viz.action"),d=tv(t,r),p=Number(r)===0,[g,C]=c.useState(!1),{storyId:x}=c.useContext(Xi),S=c.useCallback(()=>{C(!0)},[]),w=c.useCallback(async({expiryDate:T,authenticationMode:m,roles:h,users:b,rowPermissionBy:y})=>await Wc({expiryDate:T,authenticationMode:m,roles:h,users:b,rowPermissionBy:y,vizId:x,vizType:"STORYBOARD"}),[x]);return p?f.jsx("div",{}):f.jsx(uy,{title:d,disabled:Number(r)<2,actions:f.jsxs(f.Fragment,{children:[l&&Number(r)===1&&f.jsx(He,{icon:f.jsx(Qc,{}),loading:a,onClick:i,children:u("publish")},"publish"),l&&f.jsx(He,{onClick:n,children:u("edit")},"edit"),f.jsx(He,{onClick:o,children:u("play")},"run"),(l||s)&&f.jsx(Ha,{overlay:f.jsx(bL,{allowShare:s,allowManage:l,onOpenShareLink:S,onPublish:Number(r)===2?i:""}),arrow:!0,children:f.jsx(He,{icon:f.jsx(Kc,{})})}),s&&f.jsx(nu,{vizId:x,orgId:e,vizType:"STORYBOARD",visibility:g,onOk:()=>C(!1),onCancel:()=>C(!1),onGenerateShareLink:w})]})})}),xL=({page:e,autoFit:t,showZoomCtrl:n,renderMode:r})=>{const{relId:a,relType:o}=e,i=c.useMemo(()=>o==="DASHBOARD"?f.jsx(cy,{id:a,fetchData:!1,hideTitle:!0,autoFit:t,showZoomCtrl:n,renderMode:r},a):null,[t,a,o,r,n]),{in:s,out:l,speed:u}=e.config.transitionEffect;return f.jsx(SL,{className:"story-page","data-transition":`${s} ${l}`,"data-transition-speed":u,children:i})},SL=$.section.withConfig({displayName:"StoryPageItem__SectionWrap",componentId:"sc-zi1u1w-0"})(["display:flex !important;flex:1;flex-direction:column;width:100% !important;height:100% !important;padding:0 !important;"]);function wL({limitedSide:e,range:t}){const[n,r]=c.useState([0,0]),[a]=t,o=c.useCallback(()=>{const i=Math.floor(a/document.documentElement.clientWidth*100),s=Math.max(i,n[0]);s!==n[0]&&r([s,100-s])},[n,a]);return c.useEffect(()=>(o(),window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o)}),[o]),{sizes:n,setSizes:r}}const TL=re("storyBoard/getStoryDetail",async(e,{getState:t,dispatch:n})=>(e&&await n(_L(e)),null)),_L=re("storyBoard/fetchStoryDetail",async(e,{getState:t,dispatch:n})=>{if(!e)return;const{data:r}=await ce({url:`viz/storyboards/${e}`,method:"get"});n(dC({data:r,renderMode:"read",storyId:e}))}),kL=re("storyBoard/getPageContentDetail",async({relId:e,relType:t,vizToken:n,shareToken:r},{getState:a,dispatch:o})=>(e&&t==="DASHBOARD"&&o(uC({dashboardRelId:e,vizToken:n,shareToken:r})),null)),$8=re("storyBoard/addStoryPages",async({storyId:e,relIds:t},{getState:n,dispatch:r})=>{const a=n(),o=tr(a),i=dy(a,e),s=Object.values(i).map(u=>u.config.index||-1);let l=s.length?Math.max(...s):-1;return t.forEach(async u=>{l++;const d=o.find(p=>p.relId===u);if(d){const{relType:p}=d,g=hC(l);p==="DASHBOARD"&&(g.name=d==null?void 0:d.name);const C={id:"",config:JSON.stringify(g),relId:u,relType:p,storyboardId:e};r(EL(C))}},[]),null}),EL=re("storyBoard/addStoryPage",async(e,{getState:t,dispatch:n})=>{const{data:r}=await ce({url:"viz/storypages",method:"post",data:e}),a={...r,config:fC(r.config)};return n(Qn.addStoryPage(a)),null}),z8=re("storyBoard/deleteStoryPage",async({storyId:e,pageId:t},{getState:n,dispatch:r})=>{const{data:a}=await ce({url:`viz/storypages/${t}`,method:"delete"});return a&&r(Qn.deleteStoryPages({storyId:e,pageIds:[t]})),null}),OL=re("storyBoard/updateStoryPage",async({storyId:e,storyPage:t},{getState:n,dispatch:r})=>{const{data:a}=await ce({url:`/viz/storypages/${e}`,method:"put",data:{...t,config:JSON.stringify(t.config)}});return a&&r(Qn.updateStoryPage(t)),null}),A8=re("storyBoard/updateStroyBoardPagesByMoveEvent",async({storyId:e,sortedPages:t,event:n},{getState:r,dispatch:a})=>{const o=t==null?void 0:t.findIndex(s=>s.id===n.dropId),i=t==null?void 0:t.find(s=>s.id===n.dragId);if(i&&o&&o>-1){const s=t.filter(l=>l.id!==(n==null?void 0:n.dragId));s.splice(o,0,i),s==null||s.forEach((l,u)=>{if(!Yn(l.config.index)){const d=bn(l,p=>{p.config.index=u});a(OL({storyId:e,storyPage:d}))}})}return null}),N8=re("storyBoard/updateStory",async({story:e},{getState:t,dispatch:n})=>{const{data:r}=await ce({url:`/viz/storyboards/${e.id}`,method:"put",data:{...e,config:JSON.stringify(e.config)}});return r&&n(Qn.updateStory(e)),null}),{Content:DL}=pC,RL=c.memo(({orgId:e,storyId:t,allowShare:n,allowManage:r})=>{const a=qe(),o=Or(),[i,s]=c.useState(0),l=ne(fd),u=ne(b=>uL(b,t)),d=ne(b=>dy(b,t)),p=c.useMemo(()=>Object.values(d).sort((y,v)=>y.config.index-v.config.index),[d]),g=c.useMemo(()=>p[i],[i,p]),C=c.useCallback((b,y,v)=>{s(b),a(Qn.changePageSelected({storyId:t,pageId:y,multiple:!1}))},[a,t]),x=c.useCallback(()=>{o(`/organizations/${e}/vizs/storyEditor/${t}`)},[o,e,t]),S=c.useCallback(()=>{window.open(`storyPlayer/${t}`,"_blank")},[t]),{publishStory:w}=ru(t,"STORYBOARD",(u==null?void 0:u.status)||0),{sizes:T,setSizes:m}=wL({limitedSide:0,range:[150,768]}),h=c.useCallback(b=>{m(b),tR()},[m]);return c.useEffect(()=>{const b=p[i];if(!b||!b.relId||!b.relType)return;const{relId:y,relType:v}=b;a(kL({relId:y,relType:v}))},[i,a,p,d]),c.useEffect(()=>{a(TL(t))},[a,t]),c.useEffect(()=>{if(p.length===0)return;const b=p[i].id;a(Qn.changePageSelected({storyId:t,pageId:b,multiple:!1}))},[a,i,p,t]),f.jsx(Gp,{backend:Up,children:f.jsx(Xi.Provider,{value:{name:u==null?void 0:u.name,storyId:t,editing:!1,orgId:e,status:1,allowShare:n||!1},children:f.jsxs(IL,{children:[f.jsx(CL,{orgId:e,name:u==null?void 0:u.name,playStory:S,status:u==null?void 0:u.status,toggleEdit:x,publishLoading:l,onPublish:w,allowShare:n,allowManage:r}),f.jsxs(ML,{sizes:T,minSize:[256,0],maxSize:[768,1/0],gutterSize:0,onDragEnd:h,className:"datart-split",children:[f.jsx(jL,{children:f.jsx(gL,{canDrag:!1,sortedPages:p,onPageClick:C})}),f.jsx(DL,{children:p.map(b=>f.jsx(PL,{show:b.id===g.id,children:f.jsx(xL,{page:b,showZoomCtrl:!0,renderMode:"read"},b.id)},b.id))})]})]})})})}),IL=$.div.withConfig({displayName:"Preview__Wrapper",componentId:"sc-o87tgw-0"})(["display:flex;flex:1;flex-flow:column;min-height:0;"]),jL=$.div.withConfig({displayName:"Preview__PageListWrapper",componentId:"sc-o87tgw-1"})(["padding:"," "," 0;overflow-y:auto;"],Ia,Ia),ML=$(mx).withConfig({displayName:"Preview__Container",componentId:"sc-o87tgw-2"})(["display:flex;flex:1;"]),PL=$.div.withConfig({displayName:"Preview__PreviewPage",componentId:"sc-o87tgw-3"})(["display:",";flex:1;height:100%;"],e=>e.show?"flex":"none"),LL=e=>(t,n)=>{const o=n().viz.chartPreviews.find(i=>i.backendChartId===e);return o==null?void 0:o.dataset},$L=c.memo(({open:e,chartId:t,onClose:n,...r})=>{const a=qe();Ce("global.button");const[o,i]=c.useState();c.useEffect(()=>{const u=a(LL(t));i(u)},[t,a]);const s=async()=>{a(KT({chartId:t,dataset:o,callBack:n}))},l=u=>{const d={...o};d.rows=u,i(d)};return f.jsx(zL,{className:"mockDataPanel",open:e,title:null,width:"100%",onCancel:n,...r,maskClosable:!1,onOk:s,style:{top:10},okText:"导出",children:f.jsx("div",{className:"content",children:f.jsx("div",{className:"empty-data",style:{flex:1},children:f.jsx(iy,{originalData:o==null?void 0:o.rows,onDataChange:l})})})})}),zL=$(Rr).withConfig({displayName:"ChartMockDataPanel__StyledWrapper",componentId:"sc-oe91ca-0"})(["& .content{height:800px;display:flex;flex:1;flex-direction:column;background-color:",";.empty-data{display:flex;flex:1;align-content:center;align-items:center;justify-content:center;}}.btn-box{display:flex;flex-direction:row-reverse;align-items:center;height:50px;.btn{margin-right:20px;}}.tab-box{display:flex;flex:1;}"],e=>e.theme.bodyBackground),AL=c.memo(({chartName:e,status:t,publishLoading:n,chartDescription:r,onRun:a,onPublish:o,onGotoEdit:i,onGenerateShareLink:s,onDownloadData:l,onSaveAsVizs:u,onReloadData:d,onAddToDashBoard:p,onRecycleViz:g,allowDownload:C,allowShare:x,allowManage:S,orgId:w,backendChartId:T})=>{const m=Ce("viz.action"),[h,b]=c.useState(!1),[y,v]=c.useState(!1),[_,k]=c.useState(!1),E=Number(t)===0,D=c.useCallback(()=>{b(!1)},[]),j=c.useCallback(()=>{b(!0)},[]),I=c.useCallback((K,Y)=>{v(!1),p==null||p(K,Y)},[p]),O=c.useCallback(()=>{v(!1)},[]),P=c.useCallback(()=>{v(!0)},[]),A=()=>f.jsx(OP,{onShareLinkClick:s&&j,onDownloadDataLinkClick:l,onSaveAsVizs:u,onReloadData:d,onAddToDashBoard:p&&v,allowDownload:C,allowShare:x,allowManage:S,openMockData:()=>k(!0),onPublish:Number(t)===2?o:"",onRecycleViz:g}),M=c.useMemo(()=>{const K=e||"",Y=Wo[Number(t)]?`[${m(Wo[Number(t)])}]`:"";return K+Y},[e,t,m]),[R,Z]=c.useState(!1);return f.jsxs(NL,{children:[f.jsx(uy,{title:M,description:r,disabled:Number(t)<2,actions:f.jsxs(f.Fragment,{children:[a&&f.jsx(He,{icon:f.jsx(PS,{}),onClick:a,children:m("run")},"run"),S&&!E&&o&&Number(t)===1&&f.jsx(He,{icon:f.jsx(Qc,{}),loading:n,onClick:o,children:m("publish")},"publish"),S&&!E&&i&&f.jsx(He,{icon:f.jsx(Vc,{}),onClick:i,children:m("edit")},"edit"),!E&&f.jsx(Ha,{arrow:!0,open:R,onOpenChange:Z,dropdownRender:K=>A(),children:f.jsx(He,{icon:f.jsx(Kc,{})})},"more")]})}),x&&f.jsx(nu,{vizId:T,orgId:w,vizType:"DATACHART",visibility:h,onOk:D,onCancel:D,onGenerateShareLink:s}),u&&f.jsx(u_,{backendChartId:T,title:m("addToDash"),orgId:w,isModalVisible:y,handleOk:I,handleCancel:O,handleOpen:P}),_&&f.jsx($L,{open:_,chartId:T||"",onClose:()=>k(!1),destoryOnClose:!0})]})}),NL=$.div.withConfig({displayName:"VizHeader__Wrapper",componentId:"sc-ec0bcy-0"})(["display:flex;flex-direction:column;flex-shrink:0;"]),Xf=(e,t)=>{if((t==null?void 0:t.mapper)===mC.All)return e;const n=(t==null?void 0:t.customize)||[];return e==null?void 0:e.map(r=>{var o;const a=(o=r==null?void 0:r.rows)==null?void 0:o.filter(i=>n==null?void 0:n.includes(i.colName));return Object.assign({},r,{rows:a})})},Jf=c.memo(({chartConfig:e,requestParams:t,token:n})=>{const[r,a]=c.useState(),[o,i]=c.useState();Kp(async()=>{try{const u=await gC(t,n);a(u==null?void 0:u.rows),i(s(u==null?void 0:u.columns))}catch(u){M0(u)}});const s=u=>{var p;const d=(p=e==null?void 0:e.datas)==null?void 0:p.flatMap(g=>g.rows||[]);return(u||[]).map((g,C)=>{var w;const x=l(g),S=d==null?void 0:d.find(T=>T.colName===x);return{title:((w=S==null?void 0:S.alias)==null?void 0:w.name)||x,dataIndex:C}})},l=u=>{var d;return Array.isArray(u==null?void 0:u.name)?(d=u==null?void 0:u.name)==null?void 0:d.join("."):u==null?void 0:u.name};return f.jsx("div",{children:f.jsx($p,{loading:!r,dataSource:r,columns:o,rowKey:"id",size:"small",pagination:{hideOnSinglePage:!0,pageSize:10},scroll:{x:"max-content",y:600}})})}),fy=()=>{const e=Ce("viz.palette.interaction.viewDetail"),[t,n]=Yp({}),r=({currentDataView:i,chartConfig:s,drillOption:l,viewDetailSetting:u,clickFilters:d})=>new Sr(i,Xf(s==null?void 0:s.datas,u)).addRuntimeFilters(d).addDrillOption(l).build(),a=({currentDataView:i,chartConfig:s,drillOption:l,viewDetailSetting:u,clickFilters:d})=>new Sr(i,Xf(s==null?void 0:s.datas,u)).addRuntimeFilters(d).addDrillOption(l).buildDetails();return[i=>t({modalSize:Xp.MIDDLE,content:()=>f.jsx(BL,{defaultActiveKey:"summary",items:[{key:"summary",label:e("summary"),children:f.jsx(Jf,{chartConfig:i==null?void 0:i.chartConfig,token:i.authToken,requestParams:r(i)})},{key:"details",label:e("details"),children:f.jsx(Jf,{chartConfig:i==null?void 0:i.chartConfig,token:i.authToken,requestParams:a(i)})}]})}),n]},BL=$(ci).withConfig({displayName:"useDisplayViewDetail__StyledTabs",componentId:"sc-r0u80n-0"})([".ant-tabs-nav{margin-bottom:"," !important;}"],Jr),WL=()=>{const e=Xl.parse,t=Xl.stringify;return{parse:e,stringify:t}},ou=(e,t,n,r,a)=>{Kp(()=>{var o,i;!e||(t==null?void 0:t.type)!==Uo.List||(i=(o=vC)==null?void 0:o(e,[t==null?void 0:t.name],r,a))==null||i.then(s=>{const l=u=>{const d=(u||[]).flatMap(g=>g);return Array.from(new Set(d)).map(g=>({key:g,label:g}))};n==null||n(l(s==null?void 0:s.rows))})})},FL=c.memo(({viewId:e,view:t,condition:n,executeToken:r,onConditionChange:a})=>{const[o,i]=c.useState(n==null?void 0:n.value),[s,l]=c.useState(()=>{var d;if(Array.isArray(n==null?void 0:n.value)){const p=(d=n==null?void 0:n.value)==null?void 0:d.find(g=>qc(g,"key")?g.isSelected:!1);return p==null?void 0:p.key}});ou(e,n,i,t,r);const u=d=>{const p=bn(n,g=>{const C=o.map(x=>Object.assign({},x,{isSelected:x.key===d}));g.value=C});a(p),l(d)};return f.jsx(HL,{value:s,onChange:u,children:(o||[]).map(d=>f.jsx(jn.Option,{value:d.key,children:d.label},d.key))})}),HL=$(jn).withConfig({displayName:"DropdownListFilter__StyledDropdownListFilter",componentId:"sc-1yu29kl-0"})(["width:100%;"]),qL=c.memo(({viewId:e,view:t,condition:n,executeToken:r,onConditionChange:a})=>{const[o,i]=c.useState(n==null?void 0:n.value);ou(e,n,i,t,r);const s=u=>{const d=bn(n,p=>{p.value=u});a(d)},l=c.useMemo(()=>{var u,d;if(Array.isArray(n==null?void 0:n.value))if(typeof((u=n==null?void 0:n.value)==null?void 0:u[0])=="object"){const g=((d=n==null?void 0:n.value)==null?void 0:d.filter(C=>qc(C,"key")?C.isSelected:!1))||[];return g==null?void 0:g.map(C=>C.key)}else return(n==null?void 0:n.value)||[];return[]},[n]);return f.jsx(VL,{showSearch:!0,allowClear:!0,multiple:!0,treeCheckable:!0,treeDefaultExpandAll:!0,value:l,onChange:s,children:o==null?void 0:o.map(u=>f.jsx(Uc.TreeNode,{value:u.key,title:u.label},u.key))})}),VL=$(Uc).withConfig({displayName:"MultiDropdownListFilter__StyledMultiDropdownListFilter",componentId:"sc-9icbp6-0"})(["width:100%;"]),GL=c.memo(({viewId:e,view:t,condition:n,options:r,executeToken:a,onConditionChange:o})=>{const[i,s]=c.useState(n==null?void 0:n.value),[l,u]=c.useState(()=>{var g;if(Array.isArray(n==null?void 0:n.value)){const C=(g=n==null?void 0:n.value)==null?void 0:g.find(x=>qc(x,"key")?x.isSelected:!1);return C==null?void 0:C.key}});ou(e,n,s,t,a);const d=g=>{l===g&&(g=[]);const C=bn(n,x=>{x.value=g});o(C),u(C.value)},p=g=>{const C=x=>({key:x.key,value:x.key,checked:x.key===l,onClick:S=>{S.stopPropagation(),d(x.key)}});return g==="button"?i==null?void 0:i.map(x=>f.jsx(jt.Button,{...C(x),children:x.label})):i==null?void 0:i.map(x=>f.jsx(jt,{...C(x),children:x.label}))};return f.jsx(jt.Group,{value:l,children:p((r==null?void 0:r.type)||yC.Default)})}),UL=c.memo(({condition:e,onConditionChange:t})=>{const n="viz.common.filter.date",[r,a]=c.useState(()=>{var i,s;if((e==null?void 0:e.type)===Uo.RangeTime){const l=(i=e==null?void 0:e.value)==null?void 0:i[0],u=(s=e==null?void 0:e.value)==null?void 0:s[1];return[l,u]}return[]}),o=i=>s=>{r[i]=s,a(r);const l=new ui(e).setValue(r||[]).asRangeTime();t==null||t(l)};return f.jsx("div",{children:f.jsxs(ut,{direction:"vertical",size:12,children:[f.jsx(Ql.ManualSingleTimeSelector,{i18nPrefix:n,time:r==null?void 0:r[0],isStart:!0,onTimeChange:o(0)}),f.jsx(Ql.ManualSingleTimeSelector,{i18nPrefix:n,time:r==null?void 0:r[1],isStart:!1,onTimeChange:o(1)})]})})}),{RangePicker:KL}=Zr,Js=e=>{if(!e)return vt();if(e&&typeof e=="object"&&"unit"in e){const t=CC(+(e.direction+e.amount),e.unit)(e.unit,e.isStart);return vt(xC(t,Rn))}return vt(e)},YL=c.memo(({condition:e,onConditionChange:t})=>{const n=(a,o)=>{const i=new ui(e).setValue(o).asRangeTime();t==null||t(i)},r=c.useMemo(()=>{var a,o,i;if((e==null?void 0:e.type)===Uo.RangeTime){const s=Js((a=e==null?void 0:e.value)==null?void 0:a[0]),l=Js((o=e==null?void 0:e.value)==null?void 0:o[1]);return[s,l]}return(e==null?void 0:e.type)===Uo.RecommendTime?(i=bC(e==null?void 0:e.value))==null?void 0:i.map(Js):[vt(),vt()]},[e==null?void 0:e.type,e==null?void 0:e.value]);return f.jsx(KL,{showTime:!0,value:r,onChange:n})}),XL=c.memo(({condition:e,onConditionChange:t})=>{const[n,r]=c.useState(()=>Array.isArray(e==null?void 0:e.value)?e==null?void 0:e.value:[]),a=o=>i=>{const s=bn(e,l=>{const u=(l==null?void 0:l.value)||[];u[o]=i,l.value=u});t(s),r(s.value)};return f.jsxs(JL,{children:[f.jsx(_o,{span:10,children:f.jsx(Ma,{value:n==null?void 0:n[0],onChange:a(0)})}),f.jsx(_o,{span:4,className:"text-center",children:"-"}),f.jsx(_o,{span:10,children:f.jsx(Ma,{value:n==null?void 0:n[1],onChange:a(1)})})]})}),JL=$(Bp).withConfig({displayName:"RangValueFilter__StyledRangeValueFilter",componentId:"sc-1ihpshh-0"})([".text-center{line-height:32px;text-align:center;}.ant-col .ant-input-number{width:100%;}"]),ZL=c.memo(({condition:e,onConditionChange:t})=>{const n="viz.common.filter.date";return f.jsx(Ql.RecommendRangeTimeSelector,{i18nPrefix:n,condition:e,onConditionChange:t})}),QL=c.memo(({condition:e,options:t,onConditionChange:n})=>{const[r,a]=c.useState(()=>{if(Array.isArray(e==null?void 0:e.value))return e==null?void 0:e.value}),o=i=>{const s=bn(e,l=>{l.value=i});n(s),a(s.value)};return f.jsx(Gc,{range:!0,value:r,onChange:o,min:t==null?void 0:t.min,max:t==null?void 0:t.max})}),e3=c.memo(({condition:e,onConditionChange:t})=>f.jsx(vx,{condition:new ui(e).asSelf(),onConditionChange:t})),t3=c.memo(({condition:e,onConditionChange:t})=>{const[n,r]=c.useState(String((e==null?void 0:e.value)||""));function a(o){const i=bn(e,s=>{s.value=(o==null?void 0:o.toString())||""});t(i),r(i.value)}return f.jsx(Zr,{value:vt(n),onChange:a})}),n3=c.memo(({condition:e,onConditionChange:t})=>{const n=(u,d)=>{u==null||u.forEach(p=>{p.isSelected&&d.push(p.key),p.children&&n(p.children,d)})},[r]=c.useState(()=>Array.isArray(e==null?void 0:e.value)?e==null?void 0:e.value:[]),[a,o]=c.useState(()=>{if(!r)return[];const u=[];return n(r,u),u}),i=u=>{o(u),l(r,u),e&&(e.value=r,t&&t(e))},s=(u,d)=>u.indexOf(d)!==-1,l=(u,d)=>(u||[]).map(p=>(p.isSelected=s(d,p.key),p.children=l(p.children,d),p));return f.jsx(Lp,{multiple:!0,checkable:!0,autoExpandParent:!0,treeData:r,checkedKeys:a,onSelect:i,onCheck:i})}),r3=c.memo(({condition:e,onConditionChange:t})=>f.jsx(yx,{rowName:"root",condition:new ui(e).asSelf(),onConditionChange:t})),qt={DropdownListFilter:FL,MultiDropdownListFilter:qL,RadioGroupFilter:GL,RangeTimeFilter:UL,RangeTimePickerFilter:YL,RecommendTimeFilter:ZL,RangValueFilter:XL,SliderFilter:QL,TextFilter:e3,TimeFilter:t3,TreeFilter:n3,ValueFilter:r3},a3={xs:24,sm:24,md:12,lg:6,xl:6,xxl:4},o3=c.memo(({viewId:e,view:t,chartConfig:n,executeToken:r,onChange:a})=>{const[o,i]=c.useState([]);c.useEffect(()=>{const p=((n==null?void 0:n.datas)||[]).filter(g=>g.type===In.Filter).flatMap(g=>g.rows||[]);i(p)},[n==null?void 0:n.datas]);const s=p=>{var g,C,x;if(!(p!=null&&p.visibility))return!1;if(p.visibility===Tu.Show)return!0;if(typeof p.visibility=="object"&&((g=p.visibility)==null?void 0:g.visibility)===Tu.Condition){const{fieldUid:S,relation:w,value:T}=p.visibility,m=o.find(h=>h.uid===S);if(m){const h=(x=(C=m==null?void 0:m.filter)==null?void 0:C.condition)==null?void 0:x.value;if(h&&Array.isArray(h)){const b=h.filter(y=>y.isSelected);switch(w){case Nt.Equal:return!!b.find(y=>y.key===T);case Nt.NotEqual:return!b.find(y=>y.key===T)}}}return!1}},l=gn((p,g,C)=>{const x=SC(g,"filter",{...g==null?void 0:g.filter,condition:p});a("data",{ancestors:[C],value:x,needRefresh:!0})},500),u=(p,g)=>{var S,w,T,m,h,b;const C={viewId:e,view:t,executeToken:r,condition:(S=g==null?void 0:g.filter)==null?void 0:S.condition,options:(w=g==null?void 0:g.filter)==null?void 0:w.facade,onConditionChange:y=>l(y,g,p)};switch(typeof((T=g==null?void 0:g.filter)==null?void 0:T.facade)=="object"?(h=(m=g==null?void 0:g.filter)==null?void 0:m.facade)==null?void 0:h.facade:(b=g==null?void 0:g.filter)==null?void 0:b.facade){case Ie.DropdownList:return f.jsx(qt.DropdownListFilter,{...C});case Ie.MultiDropdownList:return f.jsx(qt.MultiDropdownListFilter,{...C});case Ie.RangeTimePicker:return f.jsx(qt.RangeTimePickerFilter,{...C});case Ie.RangeValue:return f.jsx(qt.RangValueFilter,{...C});case Ie.Text:return f.jsx(qt.TextFilter,{...C});case Ie.Value:return f.jsx(qt.ValueFilter,{...C});case Ie.Time:return f.jsx(qt.TimeFilter,{...C});case Ie.RadioGroup:return f.jsx(qt.RadioGroupFilter,{...C});case Ie.Slider:return f.jsx(qt.SliderFilter,{...C});case Ie.Tree:return f.jsx(qt.TreeFilter,{...C});default:return f.jsx(qt.TextFilter,{...C})}};return(()=>{const p=o==null?void 0:o.filter(g=>s(g.filter)).map((g,C)=>{var x,S;return f.jsx(_o,{...((x=g.filter)==null?void 0:x.width)==="auto"?{...a3}:{span:(S=g.filter)==null?void 0:S.width},children:f.jsx(_t.Item,{label:Ep(g),children:u(C,g)})},g.uid)});return En(p)?null:f.jsx(i3,{layout:"vertical",children:f.jsx(s3,{children:p})})})()}),i3=$(_t).withConfig({displayName:"ControllerPanel__Wrapper",componentId:"sc-16qjjwe-0"})(["padding:",";background-color:",";border-bottom:1px solid ",";.ant-form-item{margin-bottom:",";}&.ant-form-vertical .ant-form-item-label{padding:0;}.ant-form-item-label > label{font-size:",";color:",";}"],Ia,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit,Ia,P0,e=>e.theme.textColor),s3=$(Bp).withConfig({displayName:"ControllerPanel__ControllerBlock",componentId:"sc-16qjjwe-1"})([".ant-col{padding:0 ",";}"],Yl),l3=c.memo(({backendChartId:e,orgId:t,filterSearchUrl:n,allowDownload:r,allowShare:a,allowManage:o,hideTitle:i})=>{var An,Et,Nn,cr,dr,Bn,ur,Wn,ie,be,ue,ae;const{cacheWhRef:l,cacheW:u,cacheH:d}=no({initH:1,initW:1});iw();const{actions:p}=YT(),{actions:g}=wC(),C=Fa.instance(),x=qe(),{parse:S}=WL(),[w,T]=c.useState(),m=ne(QT),h=ne(fd),b=ne(e_),y=ne(lw),[v,_]=c.useState(),k=c.useRef(v==null?void 0:v.chartConfig),[E,D]=c.useState(),[j,I]=c.useState(!1),O=c.useRef(),P=Ce("viz.main"),A=Ce("global"),M=ay(),R=Or(),Z=ne(tr),[K,Y]=fy(),[xe,ee]=hy(),[pe,oe]=tu(),{getDrillThroughSetting:ge,getViewDetailSetting:Se,handleDrillThroughEvent:Me,handleViewDataEvent:B}=ov({openViewDetailPanel:K,openJumpUrlDialogModal:pe.info,openJumpVizDialogModal:xe}),G=PD({isLoading:v==null?void 0:v.isLoadingData});c.useEffect(()=>{var U,se;const L=n?(U=S(n,{ignoreQueryPrefix:!0}))==null?void 0:U.filters:void 0,q=n?(se=S(n,{ignoreQueryPrefix:!0}))==null?void 0:se.variables:void 0,V=n?ei.toParams(n):void 0;x(Mg({backendChartId:e,orgId:t,filterSearchParams:V,jumpFilterParams:L,jumpVariableParams:q}))},[x,t,e,n,S]),c.useEffect(()=>{var q;const L=(q=v==null?void 0:v.backendChart)==null?void 0:q.view.sourceId;L&&x(ug(L))},[(An=v==null?void 0:v.backendChart)==null?void 0:An.view.sourceId,x]),c.useEffect(()=>{var q,V,U,se,Oe,Ae;const L=m.find(Ne=>Ne.backendChartId===e);if(L&&L.version!==w&&(T(L.version),_(L),k.current=L==null?void 0:L.chartConfig,O.current=Wp((q=L==null?void 0:L.chartConfig)==null?void 0:q.datas,O==null?void 0:O.current),!E||((V=E==null?void 0:E.meta)==null?void 0:V.id)!==((se=(U=L==null?void 0:L.backendChart)==null?void 0:U.config)==null?void 0:se.chartGraphId))){const Ne=C.getById((Ae=(Oe=L==null?void 0:L.backendChart)==null?void 0:Oe.config)==null?void 0:Ae.chartGraphId);D(Ne)}},[e,E,C,(Et=v==null?void 0:v.backendChart)==null?void 0:Et.id,m,w]);const H=c.useCallback(L=>{O.current=L,x(fc({backendChartId:e,chartPreview:v,payload:null,drillOption:O==null?void 0:O.current}))},[e,v,x]),le=c.useMemo(()=>{var V,U;const L=ge((V=k==null?void 0:k.current)==null?void 0:V.interactions,[]),q=!En(b==null?void 0:b[e]);return(U=L==null?void 0:L.rules)!=null&&U.filter(se=>se.event===wt.Right).length&&q?L:void 0},[e,ge,b]),te=c.useCallback((L,q,V)=>{var se,Oe,Ae,Ne,ht,lt,bt,Ct,Fn,Ht;const U=ge((se=k==null?void 0:k.current)==null?void 0:se.interactions,[]);return{drillOption:O==null?void 0:O.current,drillThroughSetting:U,clickEventParams:L,targetEvent:q,orgId:t,view:{id:((Ae=(Oe=v==null?void 0:v.backendChart)==null?void 0:Oe.view)==null?void 0:Ae.id)||"",config:((Ne=v==null?void 0:v.backendChart)==null?void 0:Ne.view.config)||{},meta:(ht=v==null?void 0:v.backendChart)==null?void 0:ht.view.meta,computedFields:((lt=v==null?void 0:v.backendChart)==null?void 0:lt.config.computedFields)||[]},queryVariables:((bt=v==null?void 0:v.backendChart)==null?void 0:bt.queryVariables)||[],computedFields:(Ct=v==null?void 0:v.backendChart)==null?void 0:Ct.config.computedFields,aggregation:(Ht=(Fn=v==null?void 0:v.backendChart)==null?void 0:Fn.config)==null?void 0:Ht.aggregation,chartConfig:k==null?void 0:k.current,ruleId:V}},[t,v,ge]),Q=c.useCallback((L,q)=>{var Oe,Ae,Ne,ht,lt,bt,Ct;const V=Se((Oe=k==null?void 0:k.current)==null?void 0:Oe.interactions,[]),U=(((Ae=v==null?void 0:v.backendChart)==null?void 0:Ae.config.computedFields)||[]).concat(((Ne=v==null?void 0:v.backendChart)==null?void 0:Ne.view.computedFields)||[]),se={id:((lt=(ht=v==null?void 0:v.backendChart)==null?void 0:ht.view)==null?void 0:lt.id)||"",config:((bt=v==null?void 0:v.backendChart)==null?void 0:bt.view.config)||{},meta:(Ct=v==null?void 0:v.backendChart)==null?void 0:Ct.view.meta,computedFields:U};return{drillOption:O.current,clickEventParams:L,targetEvent:q,viewDetailSetting:V,chartConfig:k==null?void 0:k.current,view:se}},[v==null?void 0:v.backendChart,Se]),de=c.useCallback(()=>{var q;if(ge((q=v==null?void 0:v.chartConfig)==null?void 0:q.interactions,[]))return V=>{const U={selectedItems:b==null?void 0:b[e]};Me(te(U,wt.Right,V))}},[e,(Nn=v==null?void 0:v.chartConfig)==null?void 0:Nn.interactions,b,ge,Me,te]),ye=c.useMemo(()=>{var V;const L=Se((V=v==null?void 0:v.chartConfig)==null?void 0:V.interactions,[]),q=!En(b==null?void 0:b[e]);return(L==null?void 0:L.event)===wt.Right&&q?L:void 0},[e,(cr=v==null?void 0:v.chartConfig)==null?void 0:cr.interactions,Se,b]),N=c.useCallback(()=>{if(ye)return()=>{const L={selectedItems:b==null?void 0:b[e]};B(Q(L,wt.Right))}},[ye,b,e,B,Q]),Ye=c.useCallback((L,q)=>{L==null||L.registerMouseEvents([{name:"click",callback:V=>{if((V==null?void 0:V.interactionType)===Zn.PagingOrSort){Jm(V,U=>{x(Xn({...U,backendChartId:q}))});return}Me(te(V,wt.Left)),B(Q(V,wt.Left)),Zm(O==null?void 0:O.current,V,U=>{O.current=U,H==null||H(U)}),Qm(V,U=>{H(U)}),ev(V,U=>{x(p.changeSelectedItems({backendChartId:q,data:U}))})}},{name:"contextmenu",callback:V=>{}}])},[x,H,Me,B,te,Q,p,O]);c.useEffect(()=>{Ye(E,e)},[e,E,Ye]);const De=()=>{R({pathname:`/organizations/${t}/vizs/chartEditor`,search:`dataChartId=${e}&chartType=dataChart&container=dataChart`})},Re=(L,q)=>{x(fc({backendChartId:e,chartPreview:v,payload:q,drillOption:O==null?void 0:O.current}))},_e=async({expiryDate:L,authenticationMode:q,roles:V,users:U,rowPermissionBy:se})=>await Wc({expiryDate:L,authenticationMode:q,roles:V,users:U,rowPermissionBy:se,vizId:e,vizType:"DATACHART"}),Xe=async L=>{var U,se,Oe,Ae,Ne,ht,lt,bt,Ct,Fn,Ht,Hn,Pr,uu,fu;if(!v)return;const q=new Sr({id:((se=(U=v==null?void 0:v.backendChart)==null?void 0:U.view)==null?void 0:se.id)||"",config:((Oe=v==null?void 0:v.backendChart)==null?void 0:Oe.view.config)||{},meta:(Ne=(Ae=v==null?void 0:v.backendChart)==null?void 0:Ae.view)==null?void 0:Ne.meta,computedFields:((ht=v==null?void 0:v.backendChart)==null?void 0:ht.config.computedFields)||[],type:((bt=(lt=v==null?void 0:v.backendChart)==null?void 0:lt.view)==null?void 0:bt.type)||"SQL"},(Ct=v==null?void 0:v.chartConfig)==null?void 0:Ct.datas,(Fn=v==null?void 0:v.chartConfig)==null?void 0:Fn.settings,{},!1,(Hn=(Ht=v==null?void 0:v.backendChart)==null?void 0:Ht.config)==null?void 0:Hn.aggregation),V=Z.filter(Wy=>{var hu;return Wy.relId===((hu=v==null?void 0:v.backendChart)==null?void 0:hu.id)})[0].id;x(TC({downloadParams:[{...q.build(),vizId:L==="EXCEL"?(Pr=v==null?void 0:v.backendChart)==null?void 0:Pr.id:V,vizName:(uu=v==null?void 0:v.backendChart)==null?void 0:uu.name,analytics:!1,vizType:"dataChart"}],imageWidth:u,downloadType:L,fileName:((fu=v==null?void 0:v.backendChart)==null?void 0:fu.name)||"chart",resolve:()=>{x(g.setDownloadPolling(!0))}}))},yt=c.useCallback(()=>{v!=null&&v.backendChart&&x(Ea({id:v.backendChart.id,vizType:"DATACHART",publish:v.backendChart.status===1,resolve:()=>{var L;xr.success(((L=v.backendChart)==null?void 0:L.status)===2?P("unpublishSuccess"):P("publishSuccess"))}}))},[x,v==null?void 0:v.backendChart,P]),st=c.useCallback(()=>{M(v==null?void 0:v.backendChartId,"DATACHART")},[M,v==null?void 0:v.backendChartId]),sr=c.useCallback(async()=>{I(!0),await x(Xn({backendChartId:e})),I(!1)},[x,e]),Mr=c.useCallback((L,q)=>{var U;const V=m.find(se=>se.backendChartId===e);try{R(`/organizations/${t}/vizs/${L}/boardEditor`,{state:{widgetInfo:JSON.stringify({chartType:"",dataChart:V==null?void 0:V.backendChart,dataview:(U=V==null?void 0:V.backendChart)==null?void 0:U.view,dashboardType:q})}})}catch(se){throw se}},[m,R,e,t]),lr=c.useCallback(L=>{R(L?`/organizations/${t}/vizs/${L}`:`/organizations/${t}/vizs`)},[R,t]),Wt=c.useCallback(()=>{x(ka({params:{id:e,archive:!0},type:"DATACHART",resolve:()=>{xr.success(A("operation.archiveSuccess")),x(jg({id:e,resolve:lr}))}}))},[e,x,lr,A]),Ft=(L,q)=>{x(Lg({backendChartId:e,payload:q,drillOption:O==null?void 0:O.current}))},dn=c.useMemo(()=>{var L,q,V;return!((L=v==null?void 0:v.backendChart)!=null&&L.viewId)&&((q=v==null?void 0:v.backendChart)!=null&&q.config.sampleData)?(V=v==null?void 0:v.backendChart)==null?void 0:V.config.sampleData:v==null?void 0:v.dataset},[(dr=v==null?void 0:v.backendChart)==null?void 0:dr.config.sampleData,(Bn=v==null?void 0:v.backendChart)==null?void 0:Bn.viewId,v==null?void 0:v.dataset]);return f.jsxs(c3,{children:[!i&&f.jsx(AL,{chartName:(ur=v==null?void 0:v.backendChart)==null?void 0:ur.name,status:(Wn=v==null?void 0:v.backendChart)==null?void 0:Wn.status,publishLoading:h,onGotoEdit:De,onPublish:yt,onGenerateShareLink:_e,onDownloadData:Xe,onSaveAsVizs:st,onReloadData:sr,onAddToDashBoard:Mr,onRecycleViz:Wt,allowDownload:r,allowShare:a,allowManage:o,orgId:t,backendChartId:e}),f.jsx(d3,{children:f.jsxs(ii.Provider,{value:{drillOption:O.current,availableSourceFunctions:y,viewDetailSetting:ye,drillThroughSetting:le,onDrillOptionChange:H,onDateLevelChange:Ft,onDrillThroughChange:de(),onViewDataChange:N()},children:[f.jsx("div",{children:f.jsx(o3,{viewId:(ie=v==null?void 0:v.backendChart)==null?void 0:ie.viewId,view:(be=v==null?void 0:v.backendChart)==null?void 0:be.view,chartConfig:v==null?void 0:v.chartConfig,onChange:Re})}),f.jsx(u3,{ref:l,children:f.jsx(si,{wrapperClassName:"spinWrapper",spinning:j,children:f.jsx(qm,{chartConfig:v==null?void 0:v.chartConfig,metas:(ae=(ue=v==null?void 0:v.backendChart)==null?void 0:ue.view)==null?void 0:ae.meta,children:f.jsx(Xm,{containerId:e,dataset:dn,chart:E,config:v==null?void 0:v.chartConfig,drillOption:O.current,selectedItems:b[e],width:u,height:d,isLoadingData:G},e)})})}),f.jsx(f3,{children:f.jsx(Vm,{chartConfig:v==null?void 0:v.chartConfig})})]})}),f.jsx("div",{children:Y},"viewDetailPanelContextHolder"),f.jsx("div",{children:oe},"jumpDialogContextHolder"),f.jsx("div",{children:ee},"openJumpVizDialogModalContextHolder")]})}),c3=$.div.withConfig({displayName:"ChartPreviewBoard__StyledChartPreviewBoard",componentId:"sc-xamfit-0"})(["display:flex;flex:1;flex-flow:column;height:100%;iframe{flex-grow:1000;}"]),d3=$.div.withConfig({displayName:"ChartPreviewBoard__PreviewBlock",componentId:"sc-xamfit-1"})(["display:flex;flex:1;flex-direction:column;height:100%;padding:",";box-shadow:",";"],Jr,e=>e.theme.shadowBlock),u3=$.div.withConfig({displayName:"ChartPreviewBoard__ChartWrapper",componentId:"sc-xamfit-2"})(["position:relative;display:flex;flex:1;height:100%;overflow-y:auto;background-color:",";border-radius:",";.chart-drill-menu-container{height:100%;}.spinWrapper{width:100%;height:100%;.ant-spin-container{width:100%;height:100%;}}"],e=>e.theme.componentBackground,vp),f3=$.div.withConfig({displayName:"ChartPreviewBoard__StyledChartDrillPathsContainer",componentId:"sc-xamfit-3"})(["background-color:",";"],e=>e.theme.componentBackground),h3=c.memo(({tab:e,orgId:t,vizs:n,selectedId:r,hideTitle:a})=>{const{id:o,name:i,type:s,search:l,parentId:u,permissionId:d}=e,p=c.useMemo(()=>["DATACHART","DASHBOARD"].includes(s)?pp(n,{id:d,parentId:u},xn.Folder):[o],[n,o,d,s,u]),g=hs({module:Fr.Viz,path:p,level:xa.Download})(!0),C=hs({module:Fr.Viz,path:p,level:xa.Share})(!0),x=hs({module:Fr.Viz,path:p,level:xa.Manage})(!0);let S;switch(s){case"DASHBOARD":S=f.jsx(cy,{id:o,autoFit:!0,filterSearchUrl:l,allowDownload:g,allowShare:C,showZoomCtrl:!0,allowManage:x,renderMode:"read",hideTitle:a},o);break;case"DATACHART":S=f.jsx(l3,{backendChartId:o,orgId:t,filterSearchUrl:l,allowDownload:g,allowShare:C,allowManage:x,hideTitle:a},o);break;case"STORYBOARD":S=f.jsx(RL,{orgId:t,storyId:o,allowShare:C,allowManage:x});break;default:S=f.jsx(g3,{children:f.jsx("h2",{children:i},i)});break}return f.jsx(p3,{className:dt({selected:o===r}),children:S},o)}),p3=$.div.withConfig({displayName:"VizContainer__Container",componentId:"sc-156zcwx-0"})(["display:none;flex:1;flex-direction:column;height:100%;&.selected{display:flex;min-width:0;min-height:0;}"]),g3=$.div.withConfig({displayName:"VizContainer__Dumb",componentId:"sc-156zcwx-1"})(["height:100%;"]),m3=()=>{const[e,t]=Yp({});return[({orgId:r,vizId:a,vizType:o,params:i})=>e({modalSize:Xp.MIDDLE,content:()=>f.jsx("div",{style:{height:600},children:f.jsx(h3,{tab:{id:a,type:o,search:i},orgId:r,vizs:[],selectedId:a,hideTitle:!0})})}),t]},hy=m3,v3=c.memo(()=>{var _e,Xe,yt,st,sr,Mr,lr,Wt,Ft,dn,An,Et,Nn,cr,dr,Bn,ur,Wn;const{dataChart:e,availableSourceFunctions:t,chartDataView:n}=c.useContext(rv),r=qe(),a=c.useContext(au),{data:o}=c.useContext(Yd),{boardId:i,renderMode:s,orgId:l,queryVariables:u}=c.useContext(ze),d=c.useContext(av),p=ne(kx),g=c.useContext(je),{dashboardId:C,id:x}=g,S=c.useMemo(()=>s==="edit"?_C+C:C,[C,s]),w=c.useMemo(()=>`${x}_${Gt()}`,[x]),{onWidgetChartClick:T,onWidgetLinkEvent:m,onWidgetGetData:h,onWidgetChartDataConfigUpdate:b,onUpdateWidgetSelectedItems:y}=c.useContext(ot),{cacheWhRef:v,cacheW:_,cacheH:k}=no(),E=c.useRef(g),D=c.useRef(),[j,I]=fy(),[O,P]=hy(),[A,M]=tu(),{getDrillThroughSetting:R,getCrossFilteringSetting:Z,getViewDetailSetting:K,handleDrillThroughEvent:Y,handleCrossFilteringEvent:xe,handleViewDataEvent:ee}=ov({openViewDetailPanel:j,openJumpUrlDialogModal:A.info,openJumpVizDialogModal:O});c.useEffect(()=>{var q,V;if(En(d))return;const ie=(V=(q=e==null?void 0:e.config)==null?void 0:q.chartConfig)==null?void 0:V.datas,be=kC(o==null?void 0:o.rows,o==null?void 0:o.columns,ie),ue=(ie||[]).filter(U=>U.type===In.Group||U.type===In.Color).flatMap(U=>U.rows||[]),ae=ue==null?void 0:ue.map(U=>({fieldName:U.colName,values:be==null?void 0:be.map(se=>se.getCell(U))})),L=d==null?void 0:d.filter(U=>{var Oe;const se=((Oe=U==null?void 0:U.data)==null?void 0:Oe.rowData)||{};return ae.every(({fieldName:Ae,values:Ne})=>(Ne||[]).includes(se[Ae]))});d==null||d.length,L==null||L.length},[(Xe=(_e=e==null?void 0:e.config)==null?void 0:_e.chartConfig)==null?void 0:Xe.datas,o,y,d]),c.useEffect(()=>{E.current=g},[g]);const pe=c.useCallback((ie,be)=>{var V,U;const ae=kp((V=be.value)==null?void 0:V.rows).filter(se=>se.category===hn.DateLevelComputedField),L=be.value.replacedConfig,q=EC(ae,L,(U=e==null?void 0:e.config)==null?void 0:U.computedFields,!0);e!=null&&e.id&&b({dashboardId:i,datachartId:e.id,computedFields:q,options:be}),h(E.current)},[i,(yt=e==null?void 0:e.config)==null?void 0:yt.computedFields,e==null?void 0:e.id,b,h]),oe=c.useCallback(ie=>{let be;be=ie,D.current=be,Jl.setWidgetDrill({bid:S,wid:x,drillOption:be}),h(E.current)},[S,h,x]),ge=c.useMemo(()=>{var L;let ie=[],be="";const{jumpConfig:ue,linkageConfig:ae}=g.config;return ae!=null&&ae.open&&(ie=g==null?void 0:g.relations.filter(q=>q.config.type==="widgetToWidget").map(q=>{var V;return(V=q.config.widgetToWidget)==null?void 0:V.triggerColumn})),ue!=null&&ue.open&&(be=(L=ue==null?void 0:ue.field)==null?void 0:L.jumpFieldName),{linkFields:ie,jumpField:be}},[g]),Se=c.useCallback((ie,be,ue)=>{var q,V,U,se,Oe,Ae,Ne,ht;const ae=R((V=(q=e==null?void 0:e.config)==null?void 0:q.chartConfig)==null?void 0:V.interactions,(Oe=(se=(U=E==null?void 0:E.current)==null?void 0:U.config)==null?void 0:se.customConfig)==null?void 0:Oe.interactions),L=u==null?void 0:u.filter(lt=>{var bt,Ct;return(Ct=(bt=E==null?void 0:E.current)==null?void 0:bt.viewIds)==null?void 0:Ct.includes((lt==null?void 0:lt.viewId)||"")});return{drillOption:D==null?void 0:D.current,drillThroughSetting:ae,clickEventParams:ie,targetEvent:be,orgId:l,view:n,queryVariables:L||[],computedFields:(Ae=e==null?void 0:e.config)==null?void 0:Ae.computedFields,aggregation:(Ne=e==null?void 0:e.config)==null?void 0:Ne.aggregation,chartConfig:(ht=e==null?void 0:e.config)==null?void 0:ht.chartConfig,ruleId:ue,isJumpUrlOnly:s==="share"}},[R,(st=e==null?void 0:e.config)==null?void 0:st.chartConfig,(sr=e==null?void 0:e.config)==null?void 0:sr.computedFields,(Mr=e==null?void 0:e.config)==null?void 0:Mr.aggregation,u,l,n,s]),Me=c.useCallback((ie,be)=>{var ae,L,q,V,U,se,Oe,Ae;const ue=Z((L=(ae=e==null?void 0:e.config)==null?void 0:ae.chartConfig)==null?void 0:L.interactions,(U=(V=(q=E==null?void 0:E.current)==null?void 0:q.config)==null?void 0:V.customConfig)==null?void 0:U.interactions);return{drillOption:D==null?void 0:D.current,crossFilteringSetting:ue,clickEventParams:ie,targetEvent:be,orgId:l,view:n,computedFields:(se=e==null?void 0:e.config)==null?void 0:se.computedFields,aggregation:(Oe=e==null?void 0:e.config)==null?void 0:Oe.aggregation,chartConfig:(Ae=e==null?void 0:e.config)==null?void 0:Ae.chartConfig,renderMode:s}},[Z,(lr=e==null?void 0:e.config)==null?void 0:lr.chartConfig,(Wt=e==null?void 0:e.config)==null?void 0:Wt.computedFields,(Ft=e==null?void 0:e.config)==null?void 0:Ft.aggregation,l,n,s]),B=c.useCallback((ie,be)=>{var L,q,V,U,se,Oe,Ae;const ue=K((q=(L=e==null?void 0:e.config)==null?void 0:L.chartConfig)==null?void 0:q.interactions,(se=(U=(V=E==null?void 0:E.current)==null?void 0:V.config)==null?void 0:U.customConfig)==null?void 0:se.interactions);let ae;return s==="share"&&(ae=(Oe=p==null?void 0:p[n==null?void 0:n.id])==null?void 0:Oe.authorizedToken),{drillOption:D.current,viewDetailSetting:ue,clickEventParams:ie,targetEvent:be,chartConfig:(Ae=e==null?void 0:e.config)==null?void 0:Ae.chartConfig,view:n,authToken:ae}},[K,(dn=e==null?void 0:e.config)==null?void 0:dn.chartConfig,s,n,p]),G=c.useMemo(()=>{var ue,ae,L,q,V,U;const ie=R((ae=(ue=e==null?void 0:e.config)==null?void 0:ue.chartConfig)==null?void 0:ae.interactions,(V=(q=(L=E==null?void 0:E.current)==null?void 0:L.config)==null?void 0:q.customConfig)==null?void 0:V.interactions),be=!En(d);return(U=ie==null?void 0:ie.rules)!=null&&U.filter(se=>se.event===wt.Right).length&&be?ie:void 0},[(Et=(An=e==null?void 0:e.config)==null?void 0:An.chartConfig)==null?void 0:Et.interactions,R,d]),H=c.useCallback(()=>{if(G)return ie=>{Y(Se({selectedItems:d},wt.Right,ie))}},[G,d,Y,Se]),le=c.useMemo(()=>{var be,ue,ae,L,q;const ie=Z((ue=(be=e==null?void 0:e.config)==null?void 0:be.chartConfig)==null?void 0:ue.interactions,(q=(L=(ae=E==null?void 0:E.current)==null?void 0:ae.config)==null?void 0:L.customConfig)==null?void 0:q.interactions);return(ie==null?void 0:ie.event)===wt.Right?ie:void 0},[(cr=(Nn=e==null?void 0:e.config)==null?void 0:Nn.chartConfig)==null?void 0:cr.interactions,Z]),te=c.useCallback(()=>{if(le)return()=>{xe(Me({selectedItems:d},wt.Right),m(E.current))}},[le,d,xe,Me,m]),Q=c.useMemo(()=>{var ue,ae,L,q,V;const ie=K((ae=(ue=e==null?void 0:e.config)==null?void 0:ue.chartConfig)==null?void 0:ae.interactions,(V=(q=(L=E==null?void 0:E.current)==null?void 0:L.config)==null?void 0:q.customConfig)==null?void 0:V.interactions),be=!En(d);return(ie==null?void 0:ie.event)===wt.Right&&be?ie:void 0},[(Bn=(dr=e==null?void 0:e.config)==null?void 0:dr.chartConfig)==null?void 0:Bn.interactions,K,d]),de=c.useCallback(()=>{if(Q)return()=>{ee(B({selectedItems:d},wt.Right))}},[Q,d,ee,B]),ye=c.useMemo(()=>{var ie;if(!e)return null;if((ie=e==null?void 0:e.config)!=null&&ie.chartGraphId)try{const be=Fa.instance().getById(e.config.chartGraphId);return be&&be.registerMouseEvents([{name:"click",callback:ue=>{if(ue){if((ue==null?void 0:ue.interactionType)===Zn.PagingOrSort){T(E.current,ue);return}Y(Se(ue,wt.Left)),xe(Me(ue,wt.Left),m(E.current)),ee(B(ue,wt.Left)),Zm(D==null?void 0:D.current,ue,ae=>{D.current=ae,oe==null||oe(ae)}),Qm(ue,ae=>{oe(ae)}),ev(ue,ae=>{bx(r,s,ae,x)})}}},{name:"contextmenu",callback:ue=>{}}]),be}catch{return null}else return null},[e,r,x,s,oe,T,xe,Me,Y,Se,ee,B,m]),N=c.useMemo(()=>!(ye!=null&&ye.config)||!(e!=null&&e.config)?void 0:Kn(ye.config,be=>{Ho(be,Kn(e==null?void 0:e.config,ue=>{qo(ue)}))}),[ye==null?void 0:ye.config,e==null?void 0:e.config]);c.useEffect(()=>{const ie=Wp(N==null?void 0:N.datas,D.current);D.current=ie,Jl.setWidgetDrill({bid:S,wid:x,drillOption:ie})},[S,N==null?void 0:N.datas,x]);const Ye=c.useMemo(()=>{var ie,be;return e?ye?null:e!=null&&e.config?(ie=e==null?void 0:e.config)!=null&&ie.chartGraphId?`not found chart by ${(be=e==null?void 0:e.config)==null?void 0:be.chartGraphId}`:"not found chartGraphId":"not found chart config":"not found dataChart"},[ye,e]),De=c.useMemo(()=>{if(!N||k<=1||_<=1)return null;if(Ye)return Ye;const ie=D.current;return f.jsx(Xm,{dataset:o,chart:ye,config:N,width:_,height:k,drillOption:ie,selectedItems:d,containerId:w,widgetSpecialConfig:ge,scale:a})},[N,k,_,Ye,ye,o,d,w,ge,a]),Re={drillOption:D.current,availableSourceFunctions:t,crossFilteringSetting:le,viewDetailSetting:Q,drillThroughSetting:G,onDrillOptionChange:oe,onDateLevelChange:pe,onDrillThroughChange:H(),onCrossFilteringChange:te(),onViewDataChange:de()};return f.jsx(ii.Provider,{value:Re,children:f.jsx(qm,{chartConfig:(ur=e==null?void 0:e.config)==null?void 0:ur.chartConfig,metas:n==null?void 0:n.meta,children:f.jsxs(y3,{children:[f.jsx(b3,{ref:v,children:De}),f.jsx(Vm,{chartConfig:(Wn=e==null?void 0:e.config)==null?void 0:Wn.chartConfig}),f.jsx("div",{children:I},"viewDetailPanelContextHolder"),f.jsx("div",{children:M},"jumpDialogContextHolder"),f.jsx("div",{children:P},"openJumpVizDialogModalContextHolder")]})})})}),y3=$.div.withConfig({displayName:"DataChartWidgetCore__StyledWrapper",componentId:"sc-1lj9meb-0"})(["position:relative;display:flex;flex:1;flex-direction:column;width:100%;height:100%;.chart-drill-menu-container{height:100%;}"]),b3=$.div.withConfig({displayName:"DataChartWidgetCore__ChartFrameBox",componentId:"sc-1lj9meb-1"})(["display:flex;flex:1;flex-direction:column;overflow:hidden;"]),C3=c.memo(({hideTitle:e})=>{var d,p,g,C;const t=c.useContext(je),{rendered:n}=c.useContext(Pt),{renderMode:r,boardType:a}=c.useContext(ze),{cacheWhRef:o}=Wv(t,r,a,n);Fv(t,r,o,n);const i=tn((p=(d=t==null?void 0:t.config)==null?void 0:d.customConfig)==null?void 0:p.props);i.title=t.config.name;const{background:s,border:l,padding:u}=Lt((C=(g=t==null?void 0:t.config)==null?void 0:g.customConfig)==null?void 0:C.props);return f.jsxs(sn,{background:s,border:l,padding:u,children:[f.jsxs("div",{ref:o,style:rn,children:[!e&&f.jsx(Cn,{title:i}),f.jsx("div",{style:nn,children:f.jsx(v3,{})})]}),r==="edit"&&f.jsx(ln,{}),f.jsx(WI,{})]})}),x3=()=>{const e=ne(Cx),t=c.useContext(je),{editing:n}=c.useContext(Pt),{onEditFreeWidgetRect:r}=c.useContext(ot),a=ne(xx),o=c.useContext(au),i=c.useMemo(()=>n&&t.config.originalType===Be.group,[t.config.originalType,n]),{x:s,y:l,width:u,height:d}=t.config.rect,[p,g]=c.useState([t.config.rect.x,t.config.rect.y]),C=c.useRef([0,0]),[x,S]=c.useState(t.config.rect.width),[w,T]=c.useState(t.config.rect.height);c.useEffect(()=>{g([s,l]),C.current=[s,l],S(u),T(d)},[d,u,s,l]);const m=c.useCallback((O,P,A)=>{O.includes(t.id)&&g(M=>[M[0]+P,M[1]+A])},[t.id]),h=c.useCallback(()=>{if(!e.includes(t.id))return;const O={...t.config.rect,x:Number(p[0].toFixed(1)),y:Number(p[1].toFixed(1))};r(O,t.id,!1)},[p,r,e,t.config.rect,t.id]);c.useEffect(()=>(Ps.on(m),Ls.on(h),()=>{Ps.off(m),Ls.off(h)}),[m,h]);const b=c.useCallback((O,P)=>{if(O.stopPropagation(),O.target===P.node.lastElementChild||typeof O.button=="number"&&O.button!==0)return!1},[]),y=c.useCallback((O,P)=>{O.stopPropagation();const{deltaX:A,deltaY:M}=P;Ps.emit(e?`${e},${t.id}`:t.id,A,M)},[e,t.id]),v=(O,P)=>{C.current[0]===p[0]&&C.current[1]===p[1]||(Ls.emit(),O.stopPropagation())},_=c.useCallback((O,P)=>{O.stopPropagation(),S(A=>P.size.width),T(A=>P.size.height)},[]),k=c.useCallback((O,{size:P})=>{O.stopPropagation();const A={...t.config.rect,width:Number(P.width.toFixed(1)),height:Number(P.height.toFixed(1))};r(A,t.id,!1)},[r,t.config.rect,t.id]),D={...Ap(t),left:po(p[0]),top:po(p[1]),width:po(x),height:po(w)},j=t.config.lock,I=O=>{O.stopPropagation()};return a.includes(t==null?void 0:t.id)&&(D.zIndex=$0+1),f.jsx(Kd,{children:f.jsx(OC,{allowAnyClick:!0,grid:[1,1],scale:o[0],onStart:b,onDrag:y,onStop:v,handle:`.${Mp}`,disabled:j,children:f.jsx(DC,{axis:"both",width:x,height:w,onResize:_,onResizeStop:k,draggableOpts:{grid:[1,1],scale:o[0],disabled:j},minConstraints:[50,50],handleSize:void 0,resizeHandles:void 0,lockAspectRatio:!1,children:f.jsx(S3,{style:D,onClick:I,hideHandle:i,children:f.jsx(kr,{boardEditing:!0,hideTitle:!1})})})})})},S3=$.div.withConfig({displayName:"WidgetOfFreeEdit__ItemWrap",componentId:"sc-1cn7ddn-0"})(["box-sizing:border-box;& > span:last-child{z-index:999999;}.react-resizable{position:relative;}& > .react-resizable-handle{position:absolute;box-sizing:border-box;display:",';width:20px;height:20px;padding:0 3px 3px 0;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+");background-repeat:no-repeat;background-position:bottom right;background-origin:content-box;}&:hover .react-resizable-handle{background-color:',";}.react-resizable-handle-se{right:0;bottom:0;cursor:se-resize;}"],e=>e.hideHandle?"none":"block",L0),py=c.memo(({widgetIds:e})=>{const{editing:t,boardId:n}=c.useContext(ze);return f.jsx(f.Fragment,{children:e.map(r=>f.jsx(w3,{children:f.jsx(_r,{id:r,boardEditing:t,boardId:n,children:t?f.jsx(x3,{}):f.jsx(ly,{})})},r))})}),w3=$.div.withConfig({displayName:"GroupWidgetCore1__Wrapper",componentId:"sc-1xhqm36-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;"]),T3=c.memo(()=>{const e=c.useContext(je),t=e.id,{editing:n,boardType:r}=c.useContext(ze),{onChangeGroupRect:a}=c.useContext(ot),{cacheWhRef:o,cacheW:i,cacheH:s}=no({refreshRate:60});return c.useEffect(()=>{i>1&&s>1&&a({wid:t,w:i,h:s,isAutoGroupWidget:!0})},[i,s,t,a,n,r]),f.jsxs(E3,{className:"group-wrapper",ref:o,children:[f.jsx(_3,{className:"group-absolute",x:0,y:0,children:f.jsx(k3,{className:"group-relative",children:f.jsx(py,{widgetIds:e.config.children||[]})})}),n&&f.jsx(ln,{})]})}),_3=$.div.withConfig({displayName:"AutoGroupWidget__AbsoluteWrapper",componentId:"sc-11naa0y-0"})(["position:absolute;top:",";left:",";z-index:",";flex:1;"],e=>-e.y+"px",e=>-e.x+"px",Wa),k3=$.div.withConfig({displayName:"AutoGroupWidget__RelativeWrapper",componentId:"sc-11naa0y-1"})(["position:relative;flex:1;"]),E3=$.div.withConfig({displayName:"AutoGroupWidget__StyleWrapper",componentId:"sc-11naa0y-2"})(["display:flex;flex:1;&:hover .widget-tool-dropdown{visibility:visible;}"]),O3=c.memo(()=>{const e=c.useContext(je),t=e.id,{editing:n,boardType:r}=c.useContext(ze),a=e.config.rect,{onChangeGroupRect:o}=c.useContext(ot),{cacheWhRef:i,cacheW:s,cacheH:l}=no({refreshRate:60});return c.useEffect(()=>{s>1&&l>1&&o({wid:t,w:s,h:l,isAutoGroupWidget:!1})},[s,l,t,o,r]),f.jsxs(I3,{className:"group-wrapper",ref:i,children:[f.jsx(D3,{className:"group-absolute",x:a.x,y:a.y,children:f.jsx(R3,{className:"group-relative",children:f.jsx(py,{widgetIds:e.config.children||[]})})}),n&&f.jsx(ln,{})]})}),D3=$.div.withConfig({displayName:"FreeGroupWidget__AbsoluteWrapper",componentId:"sc-fxmppl-0"})(["position:absolute;top:",";left:",";z-index:",";flex:1;"],e=>-e.y+"px",e=>-e.x+"px",Wa),R3=$.div.withConfig({displayName:"FreeGroupWidget__RelativeWrapper",componentId:"sc-fxmppl-1"})(["position:relative;flex:1;"]),I3=$.div.withConfig({displayName:"FreeGroupWidget__StyleWrapper",componentId:"sc-fxmppl-2"})(["display:flex;flex:1;&:hover .widget-tool-dropdown{visibility:visible;}"]),j3=c.memo(()=>{var o,i;const e=c.useContext(je),{onEditDeleteActiveWidgets:t}=c.useContext(ot),r=e.config.boardType==="auto"&&!e.parentId,a=qe();return c.useEffect(()=>{var s;a(mt.adjustGroupWidgets({groupIds:[e.id],isAutoGroupWidget:r})),(s=e.config.children)!=null&&s.length||t([e.id])},[a,r,t,(o=e.config.children)==null?void 0:o.length,(i=e.config)==null?void 0:i.name,e.id]),r?f.jsx(T3,{}):f.jsx(O3,{})}),M3=c.memo(()=>{const e=c.useContext(je),t=RC.getIframe(e.config.customConfig.props);return f.jsx(P3,{children:f.jsx("iframe",{title:" ",src:t.src,frameBorder:"0",allow:"autoplay",style:{width:"100%",height:"100%"}})})}),P3=$.div.withConfig({displayName:"IframeWidgetCore__Wrapper",componentId:"sc-1mkmjp5-0"})(["display:flex;flex-direction:column;width:100%;.wrap-form{padding:4px;margin-bottom:4px;background-color:",";}"],e=>e.theme.emphasisBackground),L3=c.memo(({hideTitle:e})=>{var s;const t=c.useContext(je),{editing:n}=c.useContext(ze),r=tn(t.config.customConfig.props);r.title=t.config.name;const{background:a,border:o,padding:i}=Lt(t.config.customConfig.props);return f.jsxs(sn,{background:a,border:o,padding:i,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:r}),f.jsx("div",{style:nn,children:f.jsx(M3,{})})]}),n&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(s=t.config)==null?void 0:s.lock}),f.jsx(en,{widget:t})]})})]})}),$3=()=>f.jsx(z3,{}),z3=$.div.withConfig({displayName:"ImageWidgetCore__Wrapper",componentId:"sc-1cwyy3h-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;"]),A3=c.forwardRef(({onChange:e},t)=>{const n=qe(),r=c.useRef(),{boardId:a}=c.useContext(ze);c.useImperativeHandle(t,()=>{var i;return(i=r.current)==null?void 0:i.upload.uploader});const o=c.useCallback(async i=>{const s=new FormData;return s.append("file",i),n(Sx({boardId:a,fileName:i.name,formData:s,resolve:e})),!1},[a,n,e]);return f.jsx(wx,{accept:".jpg,.jpeg,.png,.gif,.svg",beforeUpload:o,multiple:!1,showUploadList:!1,style:{display:"none"},ref:r})});function N3(){const e=Ce("viz.board.setting");return f.jsxs(B3,{viewBox:"0 0 1029 1128",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M944.148 94.925H235.336c-46.853 0-84.972 38.118-84.972 84.971v39.87H93.46c-46.064 0-83.537 37.473-83.537 83.538v508.81c0 46.065 37.473 83.538 83.537 83.538h696.07c46.064 0 83.538-37.473 83.538-83.538v-41.298h71.08c46.854 0 84.972-38.113 84.972-84.972V179.896c0-46.858-38.113-84.971-84.972-84.971zM61.61 651.372V303.299c0-17.562 14.29-31.847 31.851-31.847h696.07A31.887 31.887 0 0 1 821.38 303.3v479.098L631.43 619.577 477.932 711.68 255.493 457.482 61.61 651.372zM789.53 843.96H93.46a31.887 31.887 0 0 1-31.85-31.85v-87.65l191.365-191.375 214.508 245.15 158.602-95.15L807.29 838.39a31.135 31.135 0 0 1-17.761 5.57z m154.62-124.84h-71.081V303.298c0-46.065-37.474-83.538-83.538-83.538H202.056v-39.87c0-18.35 14.93-33.28 33.28-33.28h708.812c18.35 0 33.28 14.93 33.28 33.28v505.943a33.321 33.321 0 0 1-33.28 33.285zM644.361 552.34c57.278 0 103.87-46.597 103.87-103.869 0-57.277-46.597-103.87-103.87-103.87s-103.87 46.598-103.87 103.87c-0.004 57.272 46.593 103.87 103.87 103.87z m0-156.047c28.77 0 52.178 23.409 52.178 52.178s-23.408 52.178-52.178 52.178-52.178-23.409-52.178-52.178 23.404-52.178 52.178-52.178z"}),f.jsx("text",{x:"500",y:"1096",textAnchor:"middle",children:e("dbClickToUpload")})]})}const B3=$.svg.withConfig({displayName:"Picture__Svg",componentId:"sc-1knjp5h-0"})(["width:60%;height:60%;path{fill:",";}text{font-size:120px;fill:",";}"],e=>e.theme.borderColorEmphasis,e=>e.theme.borderColorBase),W3=c.memo(({hideTitle:e})=>{var g;const t=qe(),n=c.useContext(je),r=c.useContext(Pt),{editing:a}=c.useContext(ze),o=tn(n.config.customConfig.props);o.title=n.config.name;const{background:i,border:s,padding:l}=Lt(n.config.customConfig.props),u=!i.image&&i.color==="transparent",d=c.useRef();c.useEffect(()=>{var C;r.editing&&((C=d.current)==null||C.onClick())},[r.editing]);const p=c.useCallback(C=>{t(mt.updateWidgetStyleConfigByPath({ancestors:[0,0],configItem:{key:"background",comType:"background",label:"background.background",value:{...i,image:C}},wid:n.id})),t(ja.closeWidgetEditing(n.id))},[t,n.id,i]);return f.jsxs(f.Fragment,{children:[f.jsxs(sn,{background:i,border:s,padding:l,children:[f.jsxs("div",{style:rn,children:[!e&&f.jsx(Cn,{title:o}),f.jsx("div",{style:nn,children:f.jsx($3,{})})]}),a&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:a,wid:n.id,lock:(g=n.config)==null?void 0:g.lock}),f.jsx(en,{widget:n})]})})]}),a&&f.jsx(A3,{onChange:p,ref:d}),a&&u&&f.jsx(F3,{children:f.jsx(N3,{})})]})}),F3=$.div.withConfig({displayName:"ImageWidget__ImageWidgetBackground",componentId:"sc-5meu5u-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;display:flex;flex-direction:column;align-items:center;justify-content:center;"]),H3=c.memo(()=>{const e=c.useContext(je),{onWidgetsQuery:t}=c.useContext(ot),n=o=>{o.stopPropagation(),t()},r=tn(e.config.customConfig.props);r.title=e.config.name;const{background:a}=Lt(e.config.customConfig.props);return f.jsx(q3,{color:a.color,onClick:n,children:f.jsx("span",{style:{color:r.font.color,fontSize:r.font.fontSize,fontWeight:r.font.fontWeight,fontFamily:r.font.fontFamily},children:r.title})})}),q3=$.div.withConfig({displayName:"QueryBtnWidgetCore__Wrapper",componentId:"sc-1dn49bg-0"})(["display:flex;flex:1;align-items:center;justify-content:center;cursor:pointer;&:hover{background:",";}"],e=>bp(e.color)>.5?Cp(.05,e.color):xp(.05,e.color)),V3=c.memo(()=>{var o,i,s;const e=c.useContext(je),{editing:t}=c.useContext(ze),{background:n,border:r,padding:a}=Lt((i=(o=e==null?void 0:e.config)==null?void 0:o.customConfig)==null?void 0:i.props);return f.jsxs(sn,{background:n,border:r,padding:a,children:[f.jsx("div",{style:rn,children:f.jsx("div",{style:nn,children:f.jsx(H3,{})})}),t&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:t,wid:e.id,lock:(s=e.config)==null?void 0:s.lock}),f.jsx(en,{widget:e})]})})]})}),G3=()=>{const e=c.useContext(je),{onWidgetsReset:t}=c.useContext(ot),n=o=>{o.stopPropagation(),t()},r=tn(e.config.customConfig.props);r.title=e.config.name;const{background:a}=Lt(e.config.customConfig.props);return f.jsx(U3,{color:a.color,onClick:n,children:f.jsx("span",{style:{color:r.font.color,fontSize:r.font.fontSize,fontWeight:r.font.fontWeight,fontFamily:r.font.fontFamily},children:r.title})})},U3=$.div.withConfig({displayName:"ResetBtnWidgetCore__Wrapper",componentId:"sc-zb6yig-0"})(["display:flex;flex:1;align-items:center;justify-content:center;cursor:pointer;&:hover{background:",";}"],e=>bp(e.color)>.5?Cp(.05,e.color):xp(.05,e.color)),K3=c.memo(()=>{var o;const e=c.useContext(je),{editing:t}=c.useContext(ze),{background:n,border:r,padding:a}=Lt(e.config.customConfig.props);return f.jsxs(sn,{background:n,border:r,padding:a,children:[f.jsx("div",{style:rn,children:f.jsx("div",{style:nn,children:f.jsx(G3,{})})}),t&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:t,wid:e.id,lock:(o=e.config)==null?void 0:o.lock}),f.jsx(en,{widget:e})]})})]})}),Zf=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","color","tag","mention","image","size","background","font","align","code-block"],Y3={},Zs={background:"transparent",color:"#000"},X3=({widget:e,widgetInfo:t,boardEditing:n})=>{const r=Ce(),a=qe(),{onEditClearActiveWidgets:o}=c.useContext(ot),i=c.useMemo(()=>{var I;return(I=e.config.content.richText)==null?void 0:I.content},[e.config.content]),[s,l]=c.useState(i),[u,d]=c.useState(),[p,g]=c.useState(null),[C,x]=c.useState(!1),[S,w]=c.useState({...ga.RICH_TEXT_CUSTOM_COLOR_INIT}),[T,m]=c.useState("color"),[h,b]=c.useState(!1);c.useEffect(()=>{t.editing&&l(i)},[i,t.editing]),c.useEffect(()=>{var I;if(t.editing===!1&&h&&n&&y.current){const O=(I=y.current)==null?void 0:I.getEditor().getContents(),P=JSON.stringify(O);if(P!==JSON.stringify(i)){const A=Kn(e.config.content,M=>{M.richText={content:JSON.parse(P||"{}")}});a(mt.changeMediaWidgetConfig({id:e.id,mediaWidgetContent:A})),b(!1)}}},[n,a,i,h,e.config.content,e.id,t.editing]),c.useEffect(()=>{const I=`rich-text-${t.id+new Date().getTime()}`;d(I);const O={toolbar:{container:`#${I}`,handlers:{color:function(P){P===ga.RICH_TEXT_CUSTOM_COLOR&&(m("color"),x(!0)),y.current.getEditor().format("color",P)},background:function(P){P===ga.RICH_TEXT_CUSTOM_COLOR&&(m("background"),x(!0)),y.current.getEditor().format("background",P)}}},imageDrop:!0};g(O)},[t.id]);const y=c.useRef(null);c.useLayoutEffect(()=>{y.current&&(y.current.getEditor().on("selection-change",I=>{var O,P;if(I!=null&&I.index)try{const A=I.length===0?I.index-1:I.index,M=I.length===0?1:I.length,R=y.current.getEditor().getContents(A,M);if(((O=R.ops)==null?void 0:O.length)===1&&((P=R.ops[0])!=null&&P.attributes)){const{background:Z,color:K}=R.ops[0].attributes;w({background:Z||Zs.background,color:K||Zs.color});const Y=document.querySelector(".ql-color .ql-color-label"),xe=document.querySelector(".ql-background .ql-color-label");K&&!(Y!=null&&Y.getAttribute("style"))&&Y.setAttribute("style",`stroke: ${K}`),Z&&!(xe!=null&&xe.getAttribute("style"))&&xe.setAttribute("style",`fill: ${Z}`)}else w({...Zs})}catch{}}),new IC(y.current.getEditor(),Y3))},[p]),c.useEffect(()=>{let I=null;return y.current&&u&&(I=new ga(y.current,{toolbarId:u,onChange:w})),()=>{I==null||I.destroy()}},[u]);const v=I=>{I.stopPropagation()},_=c.useCallback(()=>{var I;if(y.current&&((I=y.current)!=null&&I.getEditor())){const O=y.current.getEditor().getContents();l(O)}},[]),k=c.useMemo(()=>ga.getToolbar({id:u,t:r}),[u,r]),E=I=>{I&&y.current.getEditor().format(T,I),x(!1)},D=c.useCallback(()=>{o()},[o]),j=c.useCallback(()=>{b(!0),D()},[D]);return f.jsxs(J3,{onClick:v,children:[f.jsx(_u,{className:"react-quill",value:i,modules:{toolbar:null},formats:Zf,readOnly:!0}),f.jsx(jC,{visible:C,onCancel:()=>x(!1),color:S==null?void 0:S[T],colorChange:E}),f.jsx(Rr,{width:992,closable:!1,maskClosable:!1,keyboard:!1,open:t.editing,onOk:j,onCancel:D,children:p&&f.jsxs(Z3,{children:[k,f.jsx(_u,{ref:y,className:"react-quill",placeholder:r("viz.board.setting.enterHere"),value:s,onChange:_,modules:p,formats:Zf,readOnly:!1})]})})]})},J3=$.div.withConfig({displayName:"RichTextWidgetCore__TextWrap",componentId:"sc-vj0r5i-0"})(["position:relative;width:100%;height:100%;overflow:hidden;& .react-quill{width:100%;height:100%;}& .ql-snow{border:none;}& .ql-container.ql-snow{border:none;}& .ql-editor{position:absolute;top:50%;left:0;width:100%;height:auto;max-height:100%;transform:translate(0,-50%);}"]),Z3=$.div.withConfig({displayName:"RichTextWidgetCore__ModalBody",componentId:"sc-vj0r5i-1"})(["& .ql-editor{min-height:",";}"],Fo(60)),Q3=c.memo(({hideTitle:e})=>{var l;const t=c.useContext(je),{editing:n}=c.useContext(ze),r=c.useContext(Pt),a=tn(t.config.customConfig.props);a.title=t.config.name;const{background:o,border:i,padding:s}=Lt(t.config.customConfig.props);return f.jsxs(sn,{background:o,border:i,padding:s,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:a}),f.jsx("div",{style:nn,children:f.jsx(X3,{widget:t,widgetInfo:r,boardEditing:n})})]}),n&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(l=t.config)==null?void 0:l.lock}),f.jsx(en,{widget:t})]})})]})}),e4=({className:e,...t})=>{const{attributes:n,listeners:r,setNodeRef:a,transform:o,transition:i}=GT({id:t["data-node-key"]}),s={...t.style,transform:za.Transform.toString(o&&{...o,scaleX:1}),transition:i,cursor:"move"};return X.cloneElement(t.children,{ref:a,style:s,...n,...r})},t4=c.memo(()=>{var b;const e=qe(),t=c.useContext(je),{align:n,position:r}=MC.toolkit.getCustomConfig(t.config.customConfig.props),{editing:a}=c.useContext(Pt),{onEditSelectWidget:o}=c.useContext(ot),{boardType:i,editing:s,boardId:l}=c.useContext(ze),{itemMap:u}=t.config.content,d=Object.values(u).sort((y,v)=>y.index-v.index),[p,g]=c.useState(((b=d[0])==null?void 0:b.index)||0);c.useEffect(()=>{const y=d==null?void 0:d.find(v=>String(v.index)===String(p));y&&a&&o({multipleKey:!1,id:y.childWidgetId,selected:!0})},[p,a,o,d]);const C=c.useCallback((y,v)=>{g(y)},[]),x=c.useCallback(()=>{var k;const y=`tab_${Gt()}`,_=(((k=d[d.length-1])==null?void 0:k.index)||0)+1;e(mt.tabsWidgetAddTab({parentId:t.id,tabItem:{index:_,name:"tab",tabId:y,childWidgetId:""}})),setImmediate(()=>{g(_)})},[e,d,t.id]),S=c.useCallback(y=>{var _;const v=((_=d.find(k=>String(k.index)===y))==null?void 0:_.tabId)||"";e(mt.tabsWidgetRemoveTab({parentId:t.id,sourceTabId:v,mode:i})),setImmediate(()=>{g(d[0].index)})},[e,t.id,i,d]),w=c.useCallback((y,v)=>{v==="add"?x():S(y)},[x,S]),T=d.map(y=>({key:y.index.toString(),label:y.name||"tab",className:"TabPane",forceRender:!0,children:f.jsx(f.Fragment,{children:y.childWidgetId?f.jsx(_r,{id:y.childWidgetId,boardEditing:s,boardId:l,children:f.jsx(n4,{children:f.jsx(kr,{boardEditing:s,hideTitle:!0})})}):s&&f.jsx(Bv,{tabItem:y,tabWidgetId:t.id})})})),m=_w(ld,{activationConstraint:{distance:10}}),h=c.useCallback(({active:y,over:v})=>{if(y.id!==(v==null?void 0:v.id)){const _=d.map(j=>j.index),k=d.findIndex(j=>j.index.toString()===y.id),E=d.findIndex(j=>j.index.toString()===(v==null?void 0:v.id));let D=cd(d,k,E);D=D.map((j,I)=>({...j,index:_[I],key:_[I]})),e(mt.tabsWidgetSortTab({parentId:t.id,tabItems:D}))}},[e,t.id,i,d]);return f.jsx(r4,{className:"TabsBoxWrap",tabsAlign:n,children:f.jsx(ci,{onTabClick:a?C:void 0,size:"small",tabBarGutter:1,tabPosition:r,activeKey:a?String(p):void 0,tabBarStyle:{fontSize:"16px"},type:a?"editable-card":void 0,onEdit:a?w:void 0,destroyInactiveTabPane:!0,items:T,renderTabBar:(y,v)=>a?f.jsx(kT,{sensors:[m],onDragEnd:h,children:f.jsx(NT,{items:T.map(_=>_.key),strategy:zT,children:f.jsx(v,{...y,children:_=>c.createElement(e4,{..._.props,key:_.key},_)})})}):f.jsx(v,{...y})})})}),n4=$.div.withConfig({displayName:"TabWidgetCore__MapWrapper",componentId:"sc-5n692p-0"})(["position:relative;box-sizing:border-box;display:flex;flex:1;width:100%;height:100%;"]),r4=$.div.withConfig({displayName:"TabWidgetCore__TabsBoxWrap",componentId:"sc-5n692p-1"})(["width:100%;height:100%;& .ant-tabs{width:100%;height:100%;background:#fff;}& .ant-tabs-content{width:100%;height:100%;}.ant-tabs-nav{margin:0;}.ant-tabs-tab{padding:0 !important;margin-right:32px !important;}& .ant-tabs.ant-tabs-card.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab{margin:0 10px;}& .TabPane{width:100%;height:100%;}& .ant-tabs-tab-remove{}& .ant-tabs > .ant-tabs-nav .ant-tabs-nav-add{padding:0;margin:0 20px;border:none;}& .ant-tabs .ant-tabs-nav-wrap{justify-content:",";& > .ant-tabs-nav-list{flex:none;}}"],e=>e.tabsAlign),a4=c.memo(({hideTitle:e})=>{var l;const t=c.useContext(je),{editing:n}=c.useContext(ze),r=c.useContext(Pt),{background:a,border:o,padding:i}=Lt(t.config.customConfig.props),s=tn(t.config.customConfig.props);return s.title=t.config.name,f.jsxs(sn,{background:a,border:o,padding:i,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:s}),f.jsx("div",{style:nn,children:f.jsx(t4,{})})]}),n&&f.jsx(Xd,{widget:t,widgetInfo:r}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(l=t.config)==null?void 0:l.lock}),f.jsx(en,{widget:t})]})})]})}),o4=c.memo(()=>{const e=c.useContext(je),{time:t,font:n}=PC.getTimer(e.config.customConfig.props),[r,a]=c.useState(vt().format((t==null?void 0:t.format)||Rn));return c.useEffect(()=>{const o=setInterval(()=>{a(vt().format((t==null?void 0:t.format)||Rn))},t==null?void 0:t.duration);return()=>{clearInterval(o)}},[t]),f.jsx(i4,{...n,children:f.jsx("div",{className:"time-text",children:r})})}),i4=$.div.withConfig({displayName:"TimerWidgetCore__Wrapper",componentId:"sc-kp9uxv-0"})(["display:flex;flex:1;align-items:center;justify-content:center;width:100%;overflow-y:hidden;.time-text{display:flex;flex:1;justify-content:center;font-family:",";font-size:","px;font-style:",";font-weight:",";color:",";text-align:center;}"],e=>e==null?void 0:e.fontFamily,e=>e==null?void 0:e.fontSize,e=>e==null?void 0:e.fontStyle,e=>e==null?void 0:e.fontWeight,e=>e==null?void 0:e.color),s4=c.memo(({hideTitle:e})=>{var s;const t=c.useContext(je),{editing:n}=c.useContext(ze),{background:r,border:a,padding:o}=Lt(t.config.customConfig.props),i=tn(t.config.customConfig.props);return i.title=t.config.name,f.jsxs(sn,{background:r,border:a,padding:o,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:i}),f.jsx("div",{style:nn,children:f.jsx(o4,{})})]}),n&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(s=t.config)==null?void 0:s.lock}),f.jsx(en,{widget:t})]})})]})});var gy={},Qs={},el={exports:{}},Qf;function ir(){return Qf||(Qf=1,function(e){var t=Bc;function n(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(o).filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),i.forEach(function(s){t(r,s,o[s])})}return r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(el)),el.exports}var tl={exports:{}},nl={exports:{}},eh;function l4(){return eh||(eh=1,function(e){function t(n,r){if(n==null)return{};var a={},o=Object.keys(n),i,s;for(s=0;s<o.length;s++)i=o[s],!(r.indexOf(i)>=0)&&(a[i]=n[i]);return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(nl)),nl.exports}var th;function iu(){return th||(th=1,function(e){var t=l4();function n(r,a){if(r==null)return{};var o=t(r,a),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(s=0;s<l.length;s++)i=l[s],!(a.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(o[i]=r[i])}return o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(tl)),tl.exports}var rl={exports:{}},nh;function Ue(){return nh||(nh=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(rl)),rl.exports}var al={exports:{}},rh;function Ke(){return rh||(rh=1,function(e){var t=z0;function n(a,o){for(var i=0;i<o.length;i++){var s=o[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,t(s.key),s)}}function r(a,o,i){return o&&n(a.prototype,o),i&&n(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(al)),al.exports}var ol={exports:{}},il={exports:{}},ah;function Je(){return ah||(ah=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(il)),il.exports}var oh;function Ze(){return oh||(oh=1,function(e){var t=ip.default,n=Je();function r(a,o){if(o&&(t(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(a)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(ol)),ol.exports}var sl={exports:{}},ih;function Qe(){return ih||(ih=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(sl)),sl.exports}var ll={exports:{}},cl={exports:{}},sh;function c4(){return sh||(sh=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(cl)),cl.exports}var lh;function et(){return lh||(lh=1,function(e){var t=c4();function n(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&t(r,a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ll)),ll.exports}var dl={};const d4=aa(A0);var ul={},fl={},W={},ch;function su(){if(ch)return W;ch=1,Object.defineProperty(W,"__esModule",{value:!0}),W.handleLoadStart=D,W.handleCanPlay=j,W.handleWaiting=I,W.handleCanPlayThrough=O,W.handlePlaying=P,W.handlePlay=A,W.handlePause=M,W.handleEnd=R,W.handleSeeking=Z,W.handleSeeked=K,W.handleDurationChange=Y,W.handleTimeUpdate=xe,W.handleVolumeChange=ee,W.handleProgressChange=pe,W.handleRateChange=oe,W.handleSuspend=ge,W.handleAbort=Se,W.handleEmptied=Me,W.handleStalled=B,W.handleLoadedMetaData=G,W.handleLoadedData=H,W.handleResize=le,W.handleError=te,W.handleSeekingTime=Q,W.handleEndSeeking=de,W.activateTextTrack=ye,W.ACTIVATE_TEXT_TRACK=W.ERROR=W.RESIZE=W.LOADED_DATA=W.LOADED_META_DATA=W.STALLED=W.EMPTIED=W.ABORT=W.SUSPEND=W.RATE_CHANGE=W.PROGRESS_CHANGE=W.VOLUME_CHANGE=W.TIME_UPDATE=W.DURATION_CHANGE=W.END_SEEKING=W.SEEKING_TIME=W.SEEKED=W.SEEKING=W.END=W.PAUSE=W.PLAY=W.PLAYING=W.CAN_PLAY_THROUGH=W.WAITING=W.CAN_PLAY=W.LOAD_START=void 0;var e="video-react/LOAD_START";W.LOAD_START=e;var t="video-react/CAN_PLAY";W.CAN_PLAY=t;var n="video-react/WAITING";W.WAITING=n;var r="video-react/CAN_PLAY_THROUGH";W.CAN_PLAY_THROUGH=r;var a="video-react/PLAYING";W.PLAYING=a;var o="video-react/PLAY";W.PLAY=o;var i="video-react/PAUSE";W.PAUSE=i;var s="video-react/END";W.END=s;var l="video-react/SEEKING";W.SEEKING=l;var u="video-react/SEEKED";W.SEEKED=u;var d="video-react/SEEKING_TIME";W.SEEKING_TIME=d;var p="video-react/END_SEEKING";W.END_SEEKING=p;var g="video-react/DURATION_CHANGE";W.DURATION_CHANGE=g;var C="video-react/TIME_UPDATE";W.TIME_UPDATE=C;var x="video-react/VOLUME_CHANGE";W.VOLUME_CHANGE=x;var S="video-react/PROGRESS_CHANGE";W.PROGRESS_CHANGE=S;var w="video-react/RATE_CHANGE";W.RATE_CHANGE=w;var T="video-react/SUSPEND";W.SUSPEND=T;var m="video-react/ABORT";W.ABORT=m;var h="video-react/EMPTIED";W.EMPTIED=h;var b="video-react/STALLED";W.STALLED=b;var y="video-react/LOADED_META_DATA";W.LOADED_META_DATA=y;var v="video-react/LOADED_DATA";W.LOADED_DATA=v;var _="video-react/RESIZE";W.RESIZE=_;var k="video-react/ERROR";W.ERROR=k;var E="video-react/ACTIVATE_TEXT_TRACK";W.ACTIVATE_TEXT_TRACK=E;function D(N){return{type:e,videoProps:N}}function j(N){return{type:t,videoProps:N}}function I(N){return{type:n,videoProps:N}}function O(N){return{type:r,videoProps:N}}function P(N){return{type:a,videoProps:N}}function A(N){return{type:o,videoProps:N}}function M(N){return{type:i,videoProps:N}}function R(N){return{type:s,videoProps:N}}function Z(N){return{type:l,videoProps:N}}function K(N){return{type:u,videoProps:N}}function Y(N){return{type:g,videoProps:N}}function xe(N){return{type:C,videoProps:N}}function ee(N){return{type:x,videoProps:N}}function pe(N){return{type:S,videoProps:N}}function oe(N){return{type:w,videoProps:N}}function ge(N){return{type:T,videoProps:N}}function Se(N){return{type:m,videoProps:N}}function Me(N){return{type:h,videoProps:N}}function B(N){return{type:b,videoProps:N}}function G(N){return{type:y,videoProps:N}}function H(N){return{type:v,videoProps:N}}function le(N){return{type:_,videoProps:N}}function te(N){return{type:k,videoProps:N}}function Q(N){return{type:d,time:N}}function de(N){return{type:p,time:N}}function ye(N){return{type:E,textTrack:N}}return W}var Ve={},hl={},dh;function my(){return dh||(dh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ue()),r=t(Ke()),a=function(){function i(){(0,n.default)(this,i)}return(0,r.default)(i,[{key:"request",value:function(l){l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen()}},{key:"exit",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"addEventListener",value:function(l){document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l)}},{key:"removeEventListener",value:function(l){document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},{key:"isFullscreen",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),i}(),o=new a;e.default=o}(hl)),hl}var uh;function Zi(){if(uh)return Ve;uh=1;var e=F;Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.handleFullscreenChange=i,Ve.activate=s,Ve.userActivate=l,Ve.play=u,Ve.pause=d,Ve.togglePlay=p,Ve.seek=g,Ve.forward=C,Ve.replay=x,Ve.changeRate=S,Ve.changeVolume=w,Ve.mute=T,Ve.toggleFullscreen=m,Ve.USER_ACTIVATE=Ve.PLAYER_ACTIVATE=Ve.FULLSCREEN_CHANGE=Ve.OPERATE=void 0;var t=e(my()),n="video-react/OPERATE";Ve.OPERATE=n;var r="video-react/FULLSCREEN_CHANGE";Ve.FULLSCREEN_CHANGE=r;var a="video-react/PLAYER_ACTIVATE";Ve.PLAYER_ACTIVATE=a;var o="video-react/USER_ACTIVATE";Ve.USER_ACTIVATE=o;function i(h){return{type:r,isFullscreen:h}}function s(h){return{type:a,activity:h}}function l(h){return{type:o,activity:h}}function u(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"play",source:""};return this.video.play(),{type:n,operation:h}}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"pause",source:""};return this.video.pause(),{type:n,operation:h}}function p(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"toggle-play",source:""};return this.video.togglePlay(),{type:n,operation:h}}function g(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"seek",source:""};return this.video.seek(h),{type:n,operation:b}}function C(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"forward-".concat(h),source:""};return this.video.forward(h),{type:n,operation:b}}function x(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"replay-".concat(h),source:""};return this.video.replay(h),{type:n,operation:b}}function S(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"change-rate",source:""};return this.video.playbackRate=h,{type:n,operation:b}}function w(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"change-volume",source:""},y=h;return h<0&&(y=0),h>1&&(y=1),this.video.volume=y,{type:n,operation:b}}function T(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:h?"muted":"unmuted",source:""};return this.video.muted=h,{type:n,operation:b}}function m(h){return t.default.enabled?(t.default.isFullscreen?t.default.exit():t.default.request(this.rootElement),{type:n,operation:{action:"toggle-fullscreen",source:""}}):{type:r,isFullscreen:!h.isFullscreen}}return Ve}var fh;function u4(){return fh||(fh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=t(ir()),r=su(),a=Zi(),o={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null};function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case a.USER_ACTIVATE:return(0,n.default)({},s,{userActivity:l.activity});case a.PLAYER_ACTIVATE:return(0,n.default)({},s,{isActive:l.activity});case a.FULLSCREEN_CHANGE:return(0,n.default)({},s,{isFullscreen:!!l.isFullscreen});case r.SEEKING_TIME:return(0,n.default)({},s,{seekingTime:l.time});case r.END_SEEKING:return(0,n.default)({},s,{seekingTime:0});case r.LOAD_START:return(0,n.default)({},s,l.videoProps,{hasStarted:!1,ended:!1});case r.CAN_PLAY:return(0,n.default)({},s,l.videoProps,{waiting:!1});case r.WAITING:return(0,n.default)({},s,l.videoProps,{waiting:!0});case r.CAN_PLAY_THROUGH:case r.PLAYING:return(0,n.default)({},s,l.videoProps,{waiting:!1});case r.PLAY:return(0,n.default)({},s,l.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case r.PAUSE:return(0,n.default)({},s,l.videoProps,{paused:!0});case r.END:return(0,n.default)({},s,l.videoProps,{ended:!0});case r.SEEKING:return(0,n.default)({},s,l.videoProps,{seeking:!0});case r.SEEKED:return(0,n.default)({},s,l.videoProps,{seeking:!1});case r.ERROR:return(0,n.default)({},s,l.videoProps,{error:"UNKNOWN ERROR",ended:!0});case r.DURATION_CHANGE:case r.TIME_UPDATE:case r.VOLUME_CHANGE:case r.PROGRESS_CHANGE:case r.RATE_CHANGE:case r.SUSPEND:case r.ABORT:case r.EMPTIED:case r.STALLED:case r.LOADED_META_DATA:case r.LOADED_DATA:case r.RESIZE:return(0,n.default)({},s,l.videoProps);case r.ACTIVATE_TEXT_TRACK:return(0,n.default)({},s,{activeTextTrack:l.textTrack});default:return s}}}(fl)),fl}var pl={},hh;function f4(){return hh||(hh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=t(ir()),r=Zi(),a={count:0,operation:{action:"",source:""}};function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case r.OPERATE:return(0,n.default)({},i,{count:i.count+1,operation:(0,n.default)({},i.operation,s.operation)});default:return i}}}(pl)),pl}var ph;function vy(){return ph||(ph=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.operationReducer=e.playerReducer=void 0;var n=t(u4()),r=t(f4());function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;return{player:(0,n.default)(s.player,l),operation:(0,r.default)(s.operation,l)}}var o=n.default;e.playerReducer=o;var i=r.default;e.operationReducer=i}(ul)),ul}var gh;function h4(){return gh||(gh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(ir()),a=n(Ue()),o=n(Ke()),i=d4,s=n(vy()),l=t(Zi()),u=t(su()),d=function(){function p(g){(0,a.default)(this,p),this.store=g||(0,i.createStore)(s.default),this.video=null,this.rootElement=null}return(0,o.default)(p,[{key:"getActions",value:function(){var C=this,x=this.store.dispatch,S=(0,r.default)({},l,u);function w(T){return function(){var h=T.apply(C,arguments);typeof h<"u"&&x(h)}}return Object.keys(S).filter(function(T){return typeof S[T]=="function"}).reduce(function(T,m){return T[m]=w(S[m]),T},{})}},{key:"getState",value:function(){return this.store.getState()}},{key:"subscribeToStateChange",value:function(C,x){x||(x=this.getState.bind(this));var S=x(),w=function(){var m=x();if(m!==S){var h=S;S=m,C(m,h)}};return this.store.subscribe(w)}},{key:"subscribeToOperationStateChange",value:function(C){var x=this;return this.subscribeToStateChange(C,function(){return x.getState().operation})}},{key:"subscribeToPlayerStateChange",value:function(C){var x=this;return this.subscribeToStateChange(C,function(){return x.getState().player})}}]),p}();e.default=d}(dl)),dl}var gl={},mh;function yy(){return mh||(mh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g={actions:u.default.object,player:u.default.object,position:u.default.string,className:u.default.string},C={position:"left"},x=function(S){(0,l.default)(w,S);function w(T,m){var h;return(0,r.default)(this,w),h=(0,o.default)(this,(0,i.default)(w).call(this,T,m)),h.handleClick=h.handleClick.bind((0,s.default)(h)),h}return(0,a.default)(w,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(){var m=this.props.actions;m.play()}},{key:"render",value:function(){var m=this.props,h=m.player,b=m.position;return d.default.createElement("button",{className:(0,p.default)("video-react-button","video-react-big-play-button","video-react-big-play-button-".concat(b),this.props.className,{"big-play-button-hide":h.hasStarted||!h.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},d.default.createElement("span",{className:"video-react-control-text"},"Play Video"))}}]),w}(d.Component);e.default=x,x.propTypes=g,x.defaultProps=C,x.displayName="BigPlayButton"}(gl)),gl}var ml={},vh;function by(){return vh||(vh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=t(Ee),r=t(c),a=t(ke),o={player:n.default.object,className:n.default.string};function i(s){var l=s.player,u=s.className;return l.error?null:r.default.createElement("div",{className:(0,a.default)("video-react-loading-spinner",u)})}i.propTypes=o,i.displayName="LoadingSpinner"}(ml)),ml}var vl={},yh;function Cy(){return yh||(yh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o={poster:n.default.string,player:n.default.object,actions:n.default.object,className:n.default.string};function i(l){var u=l.poster,d=l.player,p=l.actions,g=l.className;return!u||d.hasStarted?null:r.default.createElement("div",{className:(0,a.default)("video-react-poster",g),style:{backgroundImage:'url("'.concat(u,'")')},onClick:function(){d.paused&&p.play()}})}i.propTypes=o,i.displayName="PosterImage";var s=i;e.default=s}(vl)),vl}var yl={},un={},bh;function Tn(){if(bh)return un;bh=1;var e=F;Object.defineProperty(un,"__esModule",{value:!0}),un.formatTime=i,un.isVideoChild=s,un.mergeAndSortChildren=d,un.deprecatedWarning=p,un.throttle=g,un.mediaProperties=void 0;var t=e(er),n=e(ir()),r=e(iu()),a=e(c),o=Number.isNaN||function(x){return x!==x};function i(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,w=Math.floor(x%60),T=Math.floor(x/60%60),m=Math.floor(x/3600),h=Math.floor(S/60%60),b=Math.floor(S/3600);return(o(x)||x===1/0)&&(m="-",T="-",w="-"),m=m>0||b>0?"".concat(m,":"):"",T="".concat((m||h>=10)&&T<10?"0".concat(T):T,":"),w=w<10?"0".concat(w):w,m+T+w}function s(x){return x.props&&x.props.isVideoChild?!0:x.type==="source"||x.type==="track"}var l=function(S,w){return S.filter(w)[0]},u=function(S,w){var T=S.type,m=w.type;return typeof T=="string"||typeof m=="string"?T===m:typeof T=="function"&&typeof m=="function"?T.displayName===m.displayName:!1};function d(x,S,w){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,m=a.default.Children.toArray(S);w.order;var h=(0,r.default)(w,["order"]);return m.filter(function(b){return!b.props.disabled}).concat(x.filter(function(b){return!l(m,function(y){return u(y,b)})})).map(function(b){var y=l(x,function(E){return u(E,b)}),v=y?y.props:{},_=(0,n.default)({},h,v,b.props),k=a.default.cloneElement(b,_,b.props.children);return k}).sort(function(b,y){return(b.props.order||T)-(y.props.order||T)})}function p(x,S){}function g(x,S){var w=arguments,T=!1;return function(){T||(x.apply(void 0,(0,t.default)(w)),T=!0,setTimeout(function(){T=!1},S))}}var C=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"];return un.mediaProperties=C,un}var Ch;function xy(){return Ch||(Ch=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(ir()),a=n(Ue()),o=n(Ke()),i=n(Ze()),s=n(Qe()),l=n(Je()),u=n(et()),d=n(Ee),p=t(c),g=n(ke),C=Tn(),x={actions:d.default.object,player:d.default.object,children:d.default.any,startTime:d.default.number,loop:d.default.bool,muted:d.default.bool,autoPlay:d.default.bool,playsInline:d.default.bool,src:d.default.string,poster:d.default.string,className:d.default.string,preload:d.default.oneOf(["auto","metadata","none"]),crossOrigin:d.default.string,onLoadStart:d.default.func,onWaiting:d.default.func,onCanPlay:d.default.func,onCanPlayThrough:d.default.func,onPlaying:d.default.func,onEnded:d.default.func,onSeeking:d.default.func,onSeeked:d.default.func,onPlay:d.default.func,onPause:d.default.func,onProgress:d.default.func,onDurationChange:d.default.func,onError:d.default.func,onSuspend:d.default.func,onAbort:d.default.func,onEmptied:d.default.func,onStalled:d.default.func,onLoadedMetadata:d.default.func,onLoadedData:d.default.func,onTimeUpdate:d.default.func,onRateChange:d.default.func,onVolumeChange:d.default.func,onResize:d.default.func},S=function(w){(0,u.default)(T,w);function T(m){var h;return(0,a.default)(this,T),h=(0,i.default)(this,(0,s.default)(T).call(this,m)),h.video=null,h.play=h.play.bind((0,l.default)(h)),h.pause=h.pause.bind((0,l.default)(h)),h.seek=h.seek.bind((0,l.default)(h)),h.forward=h.forward.bind((0,l.default)(h)),h.replay=h.replay.bind((0,l.default)(h)),h.toggleFullscreen=h.toggleFullscreen.bind((0,l.default)(h)),h.getProperties=h.getProperties.bind((0,l.default)(h)),h.renderChildren=h.renderChildren.bind((0,l.default)(h)),h.handleLoadStart=h.handleLoadStart.bind((0,l.default)(h)),h.handleCanPlay=h.handleCanPlay.bind((0,l.default)(h)),h.handleCanPlayThrough=h.handleCanPlayThrough.bind((0,l.default)(h)),h.handlePlay=h.handlePlay.bind((0,l.default)(h)),h.handlePlaying=h.handlePlaying.bind((0,l.default)(h)),h.handlePause=h.handlePause.bind((0,l.default)(h)),h.handleEnded=h.handleEnded.bind((0,l.default)(h)),h.handleWaiting=h.handleWaiting.bind((0,l.default)(h)),h.handleSeeking=h.handleSeeking.bind((0,l.default)(h)),h.handleSeeked=h.handleSeeked.bind((0,l.default)(h)),h.handleFullscreenChange=h.handleFullscreenChange.bind((0,l.default)(h)),h.handleError=h.handleError.bind((0,l.default)(h)),h.handleSuspend=h.handleSuspend.bind((0,l.default)(h)),h.handleAbort=h.handleAbort.bind((0,l.default)(h)),h.handleEmptied=h.handleEmptied.bind((0,l.default)(h)),h.handleStalled=h.handleStalled.bind((0,l.default)(h)),h.handleLoadedMetaData=h.handleLoadedMetaData.bind((0,l.default)(h)),h.handleLoadedData=h.handleLoadedData.bind((0,l.default)(h)),h.handleTimeUpdate=h.handleTimeUpdate.bind((0,l.default)(h)),h.handleRateChange=h.handleRateChange.bind((0,l.default)(h)),h.handleVolumeChange=h.handleVolumeChange.bind((0,l.default)(h)),h.handleDurationChange=h.handleDurationChange.bind((0,l.default)(h)),h.handleProgress=(0,C.throttle)(h.handleProgress.bind((0,l.default)(h)),250),h.handleKeypress=h.handleKeypress.bind((0,l.default)(h)),h.handleTextTrackChange=h.handleTextTrackChange.bind((0,l.default)(h)),h}return(0,o.default)(T,[{key:"componentDidMount",value:function(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:"getProperties",value:function(){var h=this;return this.video?C.mediaProperties.reduce(function(b,y){return b[y]=h.video[y],b},{}):null}},{key:"handleTextTrackChange",value:function(){var h=this.props,b=h.actions,y=h.player;if(this.video&&this.video.textTracks){var v=Array.from(this.video.textTracks).find(function(_){return _.mode==="showing"});v!==y.activeTextTrack&&b.activateTextTrack(v)}}},{key:"play",value:function(){var h=this.video.play();h!==void 0&&h.catch(function(){}).then(function(){})}},{key:"pause",value:function(){var h=this.video.pause();h!==void 0&&h.catch(function(){}).then(function(){})}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var h;(h=this.video).addTextTrack.apply(h,arguments)}},{key:"canPlayType",value:function(){var h;(h=this.video).canPlayType.apply(h,arguments)}},{key:"togglePlay",value:function(){this.video.paused?this.play():this.pause()}},{key:"seek",value:function(h){try{this.video.currentTime=h}catch{}}},{key:"forward",value:function(h){this.seek(this.video.currentTime+h)}},{key:"replay",value:function(h){this.forward(-h)}},{key:"toggleFullscreen",value:function(){var h=this.props,b=h.player,y=h.actions;y.toggleFullscreen(b)}},{key:"handleLoadStart",value:function(){var h=this.props,b=h.actions,y=h.onLoadStart;b.handleLoadStart(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleCanPlay",value:function(){var h=this.props,b=h.actions,y=h.onCanPlay;b.handleCanPlay(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleCanPlayThrough",value:function(){var h=this.props,b=h.actions,y=h.onCanPlayThrough;b.handleCanPlayThrough(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handlePlaying",value:function(){var h=this.props,b=h.actions,y=h.onPlaying;b.handlePlaying(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handlePlay",value:function(){var h=this.props,b=h.actions,y=h.onPlay;b.handlePlay(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handlePause",value:function(){var h=this.props,b=h.actions,y=h.onPause;b.handlePause(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleDurationChange",value:function(){var h=this.props,b=h.actions,y=h.onDurationChange;b.handleDurationChange(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleProgress",value:function(){var h=this.props,b=h.actions,y=h.onProgress;this.video&&b.handleProgressChange(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleEnded",value:function(){var h=this.props,b=h.loop,y=h.player,v=h.actions,_=h.onEnded;b?(this.seek(0),this.play()):y.paused||this.pause(),v.handleEnd(this.getProperties()),_&&_.apply(void 0,arguments)}},{key:"handleWaiting",value:function(){var h=this.props,b=h.actions,y=h.onWaiting;b.handleWaiting(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleSeeking",value:function(){var h=this.props,b=h.actions,y=h.onSeeking;b.handleSeeking(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleSeeked",value:function(){var h=this.props,b=h.actions,y=h.onSeeked;b.handleSeeked(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleFullscreenChange",value:function(){}},{key:"handleSuspend",value:function(){var h=this.props,b=h.actions,y=h.onSuspend;b.handleSuspend(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleAbort",value:function(){var h=this.props,b=h.actions,y=h.onAbort;b.handleAbort(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleEmptied",value:function(){var h=this.props,b=h.actions,y=h.onEmptied;b.handleEmptied(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleStalled",value:function(){var h=this.props,b=h.actions,y=h.onStalled;b.handleStalled(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleLoadedMetaData",value:function(){var h=this.props,b=h.actions,y=h.onLoadedMetadata,v=h.startTime;v&&v>0&&(this.video.currentTime=v),b.handleLoadedMetaData(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleLoadedData",value:function(){var h=this.props,b=h.actions,y=h.onLoadedData;b.handleLoadedData(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleTimeUpdate",value:function(){var h=this.props,b=h.actions,y=h.onTimeUpdate;b.handleTimeUpdate(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleRateChange",value:function(){var h=this.props,b=h.actions,y=h.onRateChange;b.handleRateChange(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleVolumeChange",value:function(){var h=this.props,b=h.actions,y=h.onVolumeChange;b.handleVolumeChange(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleError",value:function(){var h=this.props,b=h.actions,y=h.onError;b.handleError(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleResize",value:function(){var h=this.props,b=h.actions,y=h.onResize;b.handleResize(this.getProperties()),y&&y.apply(void 0,arguments)}},{key:"handleKeypress",value:function(){}},{key:"renderChildren",value:function(){var h=this,b=(0,r.default)({},this.props,{video:this.video});return this.video?p.default.Children.toArray(this.props.children).filter(C.isVideoChild).map(function(y){var v;if(typeof y.type=="string"){if(y.type==="source"){v=(0,r.default)({},y.props);var _=v.onError;v.onError=function(){_&&_.apply(void 0,arguments),h.handleError.apply(h,arguments)}}}else v=b;return p.default.cloneElement(y,v)}):null}},{key:"render",value:function(){var h=this,b=this.props,y=b.loop,v=b.poster,_=b.preload,k=b.src,E=b.autoPlay,D=b.playsInline,j=b.muted,I=b.crossOrigin,O=b.videoId;return p.default.createElement("video",{className:(0,g.default)("video-react-video",this.props.className),id:O,crossOrigin:I,ref:function(A){h.video=A},muted:j,preload:_,loop:y,playsInline:D,autoPlay:E,poster:v,src:k,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(h){this.video.playbackRate=h}},{key:"muted",get:function(){return this.video.muted},set:function(h){this.video.muted=h}},{key:"volume",get:function(){return this.video.volume},set:function(h){h>1&&(h=1),h<0&&(h=0),this.video.volume=h}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),T}(p.Component);e.default=S,S.propTypes=x,S.displayName="Video"}(yl)),yl}var bl={},xh;function Sy(){return xh||(xh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g={manager:u.default.object,className:u.default.string},C=function(x){(0,l.default)(S,x);function S(w,T){var m;return(0,r.default)(this,S),m=(0,o.default)(this,(0,i.default)(S).call(this,w,T)),m.timer=null,w.manager.subscribeToOperationStateChange(m.handleStateChange.bind((0,s.default)(m))),m.state={hidden:!0,operation:{}},m}return(0,a.default)(S,[{key:"handleStateChange",value:function(T,m){var h=this;T.count!==m.count&&T.operation.source==="shortcut"&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:T.count,operation:T.operation}),this.timer=setTimeout(function(){h.setState({hidden:!0}),h.timer=null},500))}},{key:"render",value:function(){if(this.state.operation.source!=="shortcut")return null;var T=this.state.hidden?{display:"none"}:null;return d.default.createElement("div",{className:(0,p.default)({"video-react-bezel":!0,"video-react-bezel-animation":this.state.count%2===0,"video-react-bezel-animation-alt":this.state.count%2===1},this.props.className),style:T,role:"status","aria-label":this.state.operation.action},d.default.createElement("div",{className:(0,p.default)("video-react-bezel-icon","video-react-bezel-icon-".concat(this.state.operation.action))}))}}]),S}(d.Component);e.default=C,C.propTypes=g,C.displayName="Bezel"}(bl)),bl}var Cl={},qn={},Sh;function Qi(){if(Sh)return qn;Sh=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.findElPosition=e,qn.getPointerPosition=t,qn.blurNode=n,qn.focusNode=r,qn.hasClass=a;function e(o){var i;if(o.getBoundingClientRect&&o.parentNode&&(i=o.getBoundingClientRect()),!i)return{left:0,top:0};var s=document,l=s.body,u=s.documentElement,d=u.clientLeft||l.clientLeft||0,p=window.pageXOffset||l.scrollLeft,g=i.left+p-d,C=u.clientTop||l.clientTop||0,x=window.pageYOffset||l.scrollTop,S=i.top+x-C;return{left:Math.round(g),top:Math.round(S)}}function t(o,i){var s={},l=e(o),u=o.offsetWidth,d=o.offsetHeight,p=l.top,g=l.left,C=i.pageY,x=i.pageX;return i.changedTouches&&(x=i.changedTouches[0].pageX,C=i.changedTouches[0].pageY),s.y=Math.max(0,Math.min(1,(p-C+d)/d)),s.x=Math.max(0,Math.min(1,(x-g)/u)),s}function n(o){o&&o.blur&&o.blur()}function r(o){o&&o.focus&&o.focus()}function a(o,i){for(var s=o.className.split(" "),l=0;l<s.length;l++)if(s[l].toLowerCase()===i.toLowerCase())return!0;return!1}return qn}var wh;function wy(){return wh||(wh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Bc),r=t(er),a=t(Ue()),o=t(Ke()),i=t(Ze()),s=t(Qe()),l=t(Je()),u=t(et()),d=c,p=t(Ee),g=Qi(),C={clickable:p.default.bool,dblclickable:p.default.bool,manager:p.default.object,actions:p.default.object,player:p.default.object,shortcuts:p.default.array},x={clickable:!0,dblclickable:!0},S=function(w){(0,u.default)(T,w);function T(m,h){var b;return(0,a.default)(this,T),b=(0,i.default)(this,(0,s.default)(T).call(this,m,h)),b.defaultShortcuts=[{keyCode:32,handle:b.togglePlay},{keyCode:75,handle:b.togglePlay},{keyCode:70,handle:b.toggleFullscreen},{keyCode:37,handle:function(v,_){v.hasStarted&&_.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function(v,_){v.hasStarted&&_.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function(v,_){v.hasStarted&&_.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function(v,_){v.hasStarted&&_.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function(v,_){v.hasStarted&&_.seek(0)}},{keyCode:35,handle:function(v,_){v.hasStarted&&_.seek(v.duration)}},{keyCode:38,handle:function(v,_){var k=v.volume+.05;k>1&&(k=1),_.changeVolume(k,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function(v,_){var k=v.volume-.05;k<0&&(k=0);var E=k>0?"volume-down":"volume-off";_.changeVolume(k,{action:E,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function(v,_){var k=v.playbackRate;k>=1.5?k=2:k>=1.25?k=1.5:k>=1?k=1.25:k>=.5?k=1:k>=.25?k=.5:k>=0&&(k=.25),_.changeRate(k,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function(v,_){var k=v.playbackRate;k<=.5?k=.25:k<=1?k=.5:k<=1.25?k=1:k<=1.5?k=1.25:k<=2&&(k=1.5),_.changeRate(k,{action:"fast-rewind",source:"shortcut"})}}],b.shortcuts=(0,r.default)(b.defaultShortcuts),b.mergeShortcuts=b.mergeShortcuts.bind((0,l.default)(b)),b.handleKeyPress=b.handleKeyPress.bind((0,l.default)(b)),b.handleClick=b.handleClick.bind((0,l.default)(b)),b.handleDoubleClick=b.handleDoubleClick.bind((0,l.default)(b)),b}return(0,o.default)(T,[{key:"componentDidMount",value:function(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)}},{key:"componentDidUpdate",value:function(h){h.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)}},{key:"mergeShortcuts",value:function(){var h=function(k){var E=k.keyCode,D=E===void 0?0:E,j=k.ctrl,I=j===void 0?!1:j,O=k.shift,P=O===void 0?!1:O,A=k.alt,M=A===void 0?!1:A;return"".concat(D,":").concat(I,":").concat(P,":").concat(M)},b=this.defaultShortcuts.reduce(function(_,k){return Object.assign(_,(0,n.default)({},h(k),k))},{}),y=(this.props.shortcuts||[]).reduce(function(_,k){var E=k.keyCode,D=k.handle;return E&&typeof D=="function"?Object.assign(_,(0,n.default)({},h(k),k)):_},b),v=function(k){var E=0,D=["ctrl","shift","alt"];return D.forEach(function(j){k[j]&&E++}),E};this.shortcuts=Object.keys(y).map(function(_){return y[_]}).sort(function(_,k){return v(k)-v(_)})}},{key:"togglePlay",value:function(h,b){h.paused?b.play({action:"play",source:"shortcut"}):b.pause({action:"pause",source:"shortcut"})}},{key:"toggleFullscreen",value:function(h,b){b.toggleFullscreen(h)}},{key:"handleKeyPress",value:function(h){var b=this.props,y=b.player,v=b.actions;if(y.isActive&&!(document.activeElement&&((0,g.hasClass)(document.activeElement,"video-react-control")||(0,g.hasClass)(document.activeElement,"video-react-menu-button-active")||(0,g.hasClass)(document.activeElement,"video-react-big-play-button")))){var _=h.keyCode||h.which,k=h.ctrlKey||h.metaKey,E=h.shiftKey,D=h.altKey,j=this.shortcuts.filter(function(I){return!(!I.keyCode||I.keyCode-_!==0||I.ctrl!==void 0&&I.ctrl!==k||I.shift!==void 0&&I.shift!==E||I.alt!==void 0&&I.alt!==D)})[0];j&&(j.handle(y,v),h.preventDefault())}}},{key:"canBeClicked",value:function(h,b){return!(!h.isActive||b.target.nodeName!=="VIDEO"||h.readyState!==4)}},{key:"handleClick",value:function(h){var b=this.props,y=b.player,v=b.actions,_=b.clickable;!this.canBeClicked(y,h)||!_||this.togglePlay(y,v)}},{key:"handleDoubleClick",value:function(h){var b=this.props,y=b.player,v=b.actions,_=b.dblclickable;!this.canBeClicked(y,h)||!_||this.toggleFullscreen(y,v)}},{key:"render",value:function(){return null}}]),T}(d.Component);e.default=S,S.propTypes=C,S.defaultProps=x,S.displayName="Shortcut"}(Cl)),Cl}var xl={},Sl={};const uo=aa(N0);var wl={},Tl={},Th;function lu(){return Th||(Th=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g=t(Qi()),C={className:u.default.string,onMouseDown:u.default.func,onMouseMove:u.default.func,stepForward:u.default.func,stepBack:u.default.func,sliderActive:u.default.func,sliderInactive:u.default.func,onMouseUp:u.default.func,onFocus:u.default.func,onBlur:u.default.func,onClick:u.default.func,getPercent:u.default.func,vertical:u.default.bool,children:u.default.node,label:u.default.string,valuenow:u.default.string,valuetext:u.default.string},x=function(S){(0,l.default)(w,S);function w(T,m){var h;return(0,r.default)(this,w),h=(0,o.default)(this,(0,i.default)(w).call(this,T,m)),h.handleMouseDown=h.handleMouseDown.bind((0,s.default)(h)),h.handleMouseMove=h.handleMouseMove.bind((0,s.default)(h)),h.handleMouseUp=h.handleMouseUp.bind((0,s.default)(h)),h.handleFocus=h.handleFocus.bind((0,s.default)(h)),h.handleBlur=h.handleBlur.bind((0,s.default)(h)),h.handleClick=h.handleClick.bind((0,s.default)(h)),h.handleKeyPress=h.handleKeyPress.bind((0,s.default)(h)),h.stepForward=h.stepForward.bind((0,s.default)(h)),h.stepBack=h.stepBack.bind((0,s.default)(h)),h.calculateDistance=h.calculateDistance.bind((0,s.default)(h)),h.getProgress=h.getProgress.bind((0,s.default)(h)),h.renderChildren=h.renderChildren.bind((0,s.default)(h)),h.state={active:!1},h}return(0,a.default)(w,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"getProgress",value:function(){var m=this.props.getPercent;if(!m)return 0;var h=m();return(typeof h!="number"||h<0||h===1/0)&&(h=0),h}},{key:"handleMouseDown",value:function(m){var h=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(m),this.handleMouseMove(m),h&&h(m)}},{key:"handleMouseMove",value:function(m){var h=this.props.onMouseMove;h&&h(m)}},{key:"handleMouseUp",value:function(m){m.preventDefault();var h=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(m),h&&h(m)}},{key:"handleFocus",value:function(m){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(m)}},{key:"handleBlur",value:function(m){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(m)}},{key:"handleClick",value:function(m){m.preventDefault(),this.props.onClick&&this.props.onClick(m)}},{key:"handleKeyPress",value:function(m){m.which===37||m.which===40?(m.preventDefault(),m.stopPropagation(),this.stepBack()):(m.which===38||m.which===39)&&(m.preventDefault(),m.stopPropagation(),this.stepForward())}},{key:"stepForward",value:function(){this.props.stepForward&&this.props.stepForward()}},{key:"stepBack",value:function(){this.props.stepBack&&this.props.stepBack()}},{key:"calculateDistance",value:function(m){var h=this.slider,b=g.getPointerPosition(h,m);return this.props.vertical?b.y:b.x}},{key:"renderChildren",value:function(){var m=this.getProgress(),h="".concat((m*100).toFixed(2),"%");return d.default.Children.map(this.props.children,function(b){return d.default.cloneElement(b,{progress:m,percentage:h})})}},{key:"render",value:function(){var m=this,h=this.props,b=h.vertical,y=h.label,v=h.valuenow,_=h.valuetext;return d.default.createElement("div",{className:(0,p.default)(this.props.className,{"video-react-slider-vertical":b,"video-react-slider-horizontal":!b,"video-react-sliding":this.state.active},"video-react-slider"),ref:function(E){m.slider=E},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":y||"","aria-valuenow":v||"","aria-valuetext":_||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),w}(d.Component);e.default=x,x.propTypes=C,x.displayName="Slider"}(Tl)),Tl}var _l={},_h;function Ty(){return _h||(_h=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t(Ee),r=t(c),a=t(ke),o=Tn(),i={currentTime:n.default.number,duration:n.default.number,percentage:n.default.string,className:n.default.string};function s(l){var u=l.currentTime,d=l.duration,p=l.percentage,g=l.className;return r.default.createElement("div",{"data-current-time":(0,o.formatTime)(u,d),className:(0,a.default)("video-react-play-progress video-react-slider-bar",g),style:{width:p}},r.default.createElement("span",{className:"video-react-control-text"},"Progress: ".concat(p)))}s.propTypes=i,s.displayName="PlayProgressBar"}(_l)),_l}var kl={},kh;function _y(){return kh||(kh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=t(Ee),r=t(c),a=t(ke),o={duration:n.default.number,buffered:n.default.object,className:n.default.string};function i(s){var l=s.buffered,u=s.duration,d=s.className;if(!l||!l.length)return null;var p=l.end(l.length-1),g={};p>u&&(p=u);function C(h,b){var y=h/b||0;return"".concat((y>=1?1:y)*100,"%")}g.width=C(p,u);for(var x=[],S=0;S<l.length;S++){var w=l.start(S),T=l.end(S),m=r.default.createElement("div",{style:{left:C(w,p),width:C(T-w,p)},key:"part-".concat(S)});x.push(m)}return x.length===0&&(x=null),r.default.createElement("div",{style:g,className:(0,a.default)("video-react-load-progress",d)},r.default.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),x)}i.propTypes=o,i.displayName="LoadProgressBar"}(kl)),kl}var El={},Eh;function ky(){return Eh||(Eh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o=Tn();function i(l){var u=l.duration,d=l.mouseTime,p=l.className,g=l.text;if(!d.time)return null;var C=g||(0,o.formatTime)(d.time,u);return r.default.createElement("div",{className:(0,a.default)("video-react-mouse-display",p),style:{left:"".concat(d.position,"px")},"data-current-time":C})}i.propTypes={duration:n.default.number,mouseTime:n.default.object,className:n.default.string},i.displayName="MouseTimeDisplay";var s=i;e.default=s}(El)),El}var Oh;function Ey(){return Oh||(Oh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g=n(lu()),C=n(Ty()),x=n(_y()),S=n(ky()),w=Tn(),T={player:u.default.object,mouseTime:u.default.object,actions:u.default.object,className:u.default.string},m=function(h){(0,l.default)(b,h);function b(y,v){var _;return(0,r.default)(this,b),_=(0,o.default)(this,(0,i.default)(b).call(this,y,v)),_.getPercent=_.getPercent.bind((0,s.default)(_)),_.getNewTime=_.getNewTime.bind((0,s.default)(_)),_.stepForward=_.stepForward.bind((0,s.default)(_)),_.stepBack=_.stepBack.bind((0,s.default)(_)),_.handleMouseDown=_.handleMouseDown.bind((0,s.default)(_)),_.handleMouseMove=_.handleMouseMove.bind((0,s.default)(_)),_.handleMouseUp=_.handleMouseUp.bind((0,s.default)(_)),_}return(0,a.default)(b,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"getPercent",value:function(){var v=this.props.player,_=v.currentTime,k=v.seekingTime,E=v.duration,D=k||_,j=D/E;return j>=1?1:j}},{key:"getNewTime",value:function(v){var _=this.props.player.duration,k=this.slider.calculateDistance(v),E=k*_;return E===_?E-.1:E}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(v){var _=this.props.actions,k=this.getNewTime(v);_.seek(k),_.handleEndSeeking(k)}},{key:"handleMouseMove",value:function(v){var _=this.props.actions,k=this.getNewTime(v);_.handleSeekingTime(k)}},{key:"stepForward",value:function(){var v=this.props.actions;v.forward(5)}},{key:"stepBack",value:function(){var v=this.props.actions;v.replay(5)}},{key:"render",value:function(){var v=this,_=this.props,k=_.player,E=k.currentTime,D=k.seekingTime,j=k.duration,I=k.buffered,O=_.mouseTime,P=D||E;return d.default.createElement(g.default,{ref:function(M){v.slider=M},label:"video progress bar",className:(0,p.default)("video-react-progress-holder",this.props.className),valuenow:(this.getPercent()*100).toFixed(2),valuetext:(0,w.formatTime)(P,j),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},d.default.createElement(x.default,{buffered:I,currentTime:P,duration:j}),d.default.createElement(S.default,{duration:j,mouseTime:O}),d.default.createElement(C.default,{currentTime:P,duration:j}))}}]),b}(d.Component);e.default=m,m.propTypes=T,m.displayName="SeekBar"}(wl)),wl}var Dh;function Oy(){return Dh||(Dh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(uo),a=n(Ue()),o=n(Ke()),i=n(Ze()),s=n(Qe()),l=n(Je()),u=n(et()),d=n(Ee),p=t(c),g=n(ke),C=t(Qi()),x=n(Ey()),S={player:d.default.object,className:d.default.string},w=function(T){(0,u.default)(m,T);function m(h,b){var y;return(0,a.default)(this,m),y=(0,i.default)(this,(0,s.default)(m).call(this,h,b)),y.state={mouseTime:{time:null,position:0}},y.handleMouseMoveThrottle=y.handleMouseMove.bind((0,l.default)(y)),y}return(0,o.default)(m,[{key:"handleMouseMove",value:function(b){if(b.pageX){var y=this.props.player.duration,v=this.seekBar,_=C.getPointerPosition(v,b).x*y,k=b.pageX-C.findElPosition(v).left;this.setState({mouseTime:{time:_,position:k}})}}},{key:"render",value:function(){var b=this,y=this.props.className;return p.default.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:(0,g.default)("video-react-progress-control video-react-control",y)},p.default.createElement(x.default,(0,r.default)({mouseTime:this.state.mouseTime,ref:function(_){b.seekBar=_}},this.props)))}}]),m}(p.Component);e.default=w,w.propTypes=S,w.displayName="ProgressControl"}(Sl)),Sl}var Ol={},Rh;function Dy(){return Rh||(Rh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g={actions:u.default.object,player:u.default.object,className:u.default.string},C=function(x){(0,l.default)(S,x);function S(w,T){var m;return(0,r.default)(this,S),m=(0,o.default)(this,(0,i.default)(S).call(this,w,T)),m.handleClick=m.handleClick.bind((0,s.default)(m)),m}return(0,a.default)(S,[{key:"handleClick",value:function(){var T=this.props,m=T.actions,h=T.player;h.paused?m.play():m.pause()}},{key:"render",value:function(){var T=this,m=this.props,h=m.player,b=m.className,y=h.paused?"Play":"Pause";return d.default.createElement("button",{ref:function(_){T.button=_},className:(0,p.default)(b,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":h.paused,"video-react-playing":!h.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},d.default.createElement("span",{className:"video-react-control-text"},y))}}]),S}(d.Component);e.default=C,C.propTypes=g,C.displayName="PlayToggle"}(Ol)),Ol}var Dl={},Rl={},Ih;function Ry(){return Ih||(Ih=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p={actions:u.default.object,className:u.default.string,seconds:u.default.oneOf([5,10,30])},g={seconds:10},C=function(S){var w=function(T){(0,l.default)(m,T);function m(h,b){var y;return(0,r.default)(this,m),y=(0,o.default)(this,(0,i.default)(m).call(this,h,b)),y.handleClick=y.handleClick.bind((0,s.default)(y)),y}return(0,a.default)(m,[{key:"handleClick",value:function(){var b=this.props,y=b.actions,v=b.seconds;S==="forward"?y.forward(v):y.replay(v)}},{key:"render",value:function(){var b=this,y=this.props,v=y.seconds,_=y.className,k=["video-react-control","video-react-button","video-react-icon"];return k.push("video-react-icon-".concat(S,"-").concat(v),"video-react-".concat(S,"-control")),_&&k.push(_),d.default.createElement("button",{ref:function(D){b.button=D},className:k.join(" "),type:"button",onClick:this.handleClick},d.default.createElement("span",{className:"video-react-control-text"},"".concat(S," ").concat(v," seconds")))}}]),m}(d.Component);return w.propTypes=p,w.defaultProps=g,w};e.default=C}(Rl)),Rl}var jh;function Iy(){return jh||(jh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ry()),r=(0,n.default)("forward");r.displayName="ForwardControl";var a=r;e.default=a}(Dl)),Dl}var Il={},Mh;function jy(){return Mh||(Mh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ry()),r=(0,n.default)("replay");r.displayName="ReplayControl";var a=r;e.default=a}(Il)),Il}var jl={},Ph;function My(){return Ph||(Ph=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g={actions:u.default.object,player:u.default.object,className:u.default.string},C=function(x){(0,l.default)(S,x);function S(w,T){var m;return(0,r.default)(this,S),m=(0,o.default)(this,(0,i.default)(S).call(this,w,T)),m.handleClick=m.handleClick.bind((0,s.default)(m)),m}return(0,a.default)(S,[{key:"handleClick",value:function(){var T=this.props,m=T.player,h=T.actions;h.toggleFullscreen(m)}},{key:"render",value:function(){var T=this,m=this.props,h=m.player,b=m.className;return d.default.createElement("button",{className:(0,p.default)(b,{"video-react-icon-fullscreen-exit":h.isFullscreen,"video-react-icon-fullscreen":!h.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function(v){T.button=v},type:"button",tabIndex:"0",onClick:this.handleClick},d.default.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))}}]),S}(d.Component);e.default=C,C.propTypes=g,C.displayName="FullscreenToggle"}(jl)),jl}var Ml={},Lh;function Py(){return Lh||(Lh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o=Tn(),i={player:n.default.object,className:n.default.string};function s(u){var d=u.player,p=d.currentTime,g=d.duration,C=u.className,x=g-p,S=(0,o.formatTime)(x);return r.default.createElement("div",{className:(0,a.default)("video-react-remaining-time video-react-time-control video-react-control",C)},r.default.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-".concat(S)))}s.propTypes=i,s.displayName="RemainingTimeDisplay";var l=s;e.default=l}(Ml)),Ml}var Pl={},$h;function Ly(){return $h||($h=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o=Tn(),i={player:n.default.object,className:n.default.string};function s(u){var d=u.player,p=d.currentTime,g=d.duration,C=u.className,x=(0,o.formatTime)(p,g);return r.default.createElement("div",{className:(0,a.default)("video-react-current-time video-react-time-control video-react-control",C)},r.default.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Current Time "),x))}s.propTypes=i,s.displayName="CurrentTimeDisplay";var l=s;e.default=l}(Pl)),Pl}var Ll={},zh;function $y(){return zh||(zh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o=Tn(),i={player:n.default.object,className:n.default.string};function s(u){var d=u.player.duration,p=u.className,g=(0,o.formatTime)(d);return r.default.createElement("div",{className:(0,a.default)(p,"video-react-duration video-react-time-control video-react-control")},r.default.createElement("div",{className:"video-react-duration-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Duration Time "),g))}s.propTypes=i,s.displayName="DurationDisplay";var l=s;e.default=l}(Ll)),Ll}var $l={},Ah;function zy(){return Ah||(Ah=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=t(Ee),r=t(c),a=t(ke),o={separator:n.default.string,className:n.default.string};function i(s){var l=s.separator,u=s.className,d=l||"/";return r.default.createElement("div",{className:(0,a.default)("video-react-time-control video-react-time-divider",u),dir:"ltr"},r.default.createElement("div",null,r.default.createElement("span",null,d)))}i.propTypes=o,i.displayName="TimeDivider"}($l)),$l}var zl={},Al={},Nl={},Nh;function Ay(){return Nh||(Nh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(uo),a=n(ir()),o=n(Ue()),i=n(Ke()),s=n(Ze()),l=n(Qe()),u=n(Je()),d=n(et()),p=n(Ee),g=t(c),C=n(ke),x={tagName:p.default.string,onClick:p.default.func.isRequired,onFocus:p.default.func,onBlur:p.default.func,className:p.default.string},S={tagName:"div"},w=function(T){(0,d.default)(m,T);function m(h,b){var y;return(0,o.default)(this,m),y=(0,s.default)(this,(0,l.default)(m).call(this,h,b)),y.handleClick=y.handleClick.bind((0,u.default)(y)),y.handleFocus=y.handleFocus.bind((0,u.default)(y)),y.handleBlur=y.handleBlur.bind((0,u.default)(y)),y.handleKeypress=y.handleKeypress.bind((0,u.default)(y)),y}return(0,i.default)(m,[{key:"componentWillUnmount",value:function(b){this.handleBlur(b)}},{key:"handleKeypress",value:function(b){(b.which===32||b.which===13)&&(b.preventDefault(),this.handleClick(b))}},{key:"handleClick",value:function(b){var y=this.props.onClick;y(b)}},{key:"handleFocus",value:function(b){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(b)}},{key:"handleBlur",value:function(b){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(b)}},{key:"render",value:function(){var b=this.props.tagName,y=(0,a.default)({},this.props);return delete y.tagName,delete y.className,g.default.createElement(b,(0,r.default)({className:(0,C.default)(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},y))}}]),m}(g.Component);e.default=w,w.propTypes=x,w.defaultProps=S,w.displayName="ClickableComponent"}(Nl)),Nl}var Bl={},Bh;function p4(){return Bh||(Bh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p={player:u.default.object,children:u.default.any},g=function(C){(0,l.default)(x,C);function x(S,w){var T;return(0,r.default)(this,x),T=(0,o.default)(this,(0,i.default)(x).call(this,S,w)),T.handleClick=T.handleClick.bind((0,s.default)(T)),T}return(0,a.default)(x,[{key:"handleClick",value:function(w){w.preventDefault()}},{key:"render",value:function(){var w=this.props.children;return d.default.createElement("div",{className:"video-react-menu",onClick:this.handleClick},d.default.createElement("div",{className:"video-react-menu-content"},w))}}]),x}(d.Component);e.default=g,g.propTypes=p,g.displayName="Popup"}(Bl)),Bl}var Wh;function g4(){return Wh||(Wh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var n=t(uo),r=t(ir()),a=t(Ee),o=t(c),i=t(ke),s=t(Ay()),l=t(p4()),u={inline:a.default.bool,onClick:a.default.func.isRequired,onFocus:a.default.func,onBlur:a.default.func,className:a.default.string},d={inline:!0};function p(g){var C=g.inline,x=g.className,S=(0,r.default)({},g);return delete S.children,delete S.inline,delete S.className,o.default.createElement(s.default,(0,n.default)({className:(0,i.default)(x,{"video-react-menu-button-inline":!!C,"video-react-menu-button-popup":!C},"video-react-control video-react-button video-react-menu-button")},S),o.default.createElement(l.default,g))}p.propTypes=u,p.defaultProps=d,p.displayName="PopupButton"}(Al)),Al}var Wl={},Fl={},Fh;function m4(){return Fh||(Fh=1,function(e){var t=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ee),r=t(c),a=t(ke),o={percentage:n.default.string,vertical:n.default.bool,className:n.default.string},i={percentage:"100%",vertical:!1};function s(u){var d=u.percentage,p=u.vertical,g=u.className,C={};return p?C.height=d:C.width=d,r.default.createElement("div",{className:(0,a.default)(g,"video-react-volume-level"),style:C},r.default.createElement("span",{className:"video-react-control-text"}))}s.propTypes=o,s.defaultProps=i,s.displayName="VolumeLevel";var l=s;e.default=l}(Fl)),Fl}var Hh;function v4(){return Hh||(Hh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(uo),a=n(Ue()),o=n(Ke()),i=n(Ze()),s=n(Qe()),l=n(Je()),u=n(et()),d=n(Ee),p=t(c),g=n(ke),C=n(lu()),x=n(m4()),S={actions:d.default.object,player:d.default.object,className:d.default.string,onFocus:d.default.func,onBlur:d.default.func},w=function(m){(0,u.default)(h,m);function h(b,y){var v;return(0,a.default)(this,h),v=(0,i.default)(this,(0,s.default)(h).call(this,b,y)),v.state={percentage:"0%"},v.handleMouseMove=v.handleMouseMove.bind((0,l.default)(v)),v.handlePercentageChange=v.handlePercentageChange.bind((0,l.default)(v)),v.checkMuted=v.checkMuted.bind((0,l.default)(v)),v.getPercent=v.getPercent.bind((0,l.default)(v)),v.stepForward=v.stepForward.bind((0,l.default)(v)),v.stepBack=v.stepBack.bind((0,l.default)(v)),v.handleFocus=v.handleFocus.bind((0,l.default)(v)),v.handleBlur=v.handleBlur.bind((0,l.default)(v)),v.handleClick=v.handleClick.bind((0,l.default)(v)),v}return(0,o.default)(h,[{key:"componentDidMount",value:function(){}},{key:"getPercent",value:function(){var y=this.props.player;return y.muted?0:y.volume}},{key:"checkMuted",value:function(){var y=this.props,v=y.player,_=y.actions;v.muted&&_.mute(!1)}},{key:"handleMouseMove",value:function(y){var v=this.props.actions;this.checkMuted();var _=this.slider.calculateDistance(y);v.changeVolume(_)}},{key:"stepForward",value:function(){var y=this.props,v=y.player,_=y.actions;this.checkMuted(),_.changeVolume(v.volume+.1)}},{key:"stepBack",value:function(){var y=this.props,v=y.player,_=y.actions;this.checkMuted(),_.changeVolume(v.volume-.1)}},{key:"handleFocus",value:function(y){this.props.onFocus&&this.props.onFocus(y)}},{key:"handleBlur",value:function(y){this.props.onBlur&&this.props.onBlur(y)}},{key:"handlePercentageChange",value:function(y){y!==this.state.percentage&&this.setState({percentage:y})}},{key:"handleClick",value:function(y){y.stopPropagation()}},{key:"render",value:function(){var y=this,v=this.props,_=v.player,k=v.className,E=(_.volume*100).toFixed(2);return p.default.createElement(C.default,(0,r.default)({ref:function(j){y.slider=j},label:"volume level",valuenow:E,valuetext:"".concat(E,"%"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,g.default)(k,"video-react-volume-bar video-react-slider-bar")}),p.default.createElement(x.default,this.props))}}]),h}(p.Component);w.propTypes=S,w.displayName="VolumeBar";var T=w;e.default=T}(Wl)),Wl}var qh;function Ny(){return qh||(qh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(uo),a=n(Ue()),o=n(Ke()),i=n(Ze()),s=n(Qe()),l=n(Je()),u=n(et()),d=n(Ee),p=t(c),g=n(ke),C=n(g4()),x=n(v4()),S={player:d.default.object,actions:d.default.object,vertical:d.default.bool,className:d.default.string,alwaysShowVolume:d.default.bool},w={vertical:!1},T=function(h){(0,u.default)(b,h);function b(y,v){var _;return(0,a.default)(this,b),_=(0,i.default)(this,(0,s.default)(b).call(this,y,v)),_.state={active:!1},_.handleClick=_.handleClick.bind((0,l.default)(_)),_.handleFocus=_.handleFocus.bind((0,l.default)(_)),_.handleBlur=_.handleBlur.bind((0,l.default)(_)),_}return(0,o.default)(b,[{key:"handleClick",value:function(){var v=this.props,_=v.player,k=v.actions;k.mute(!_.muted)}},{key:"handleFocus",value:function(){this.setState({active:!0})}},{key:"handleBlur",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var v=this.props,_=v.vertical,k=v.player,E=v.className,D=!_,j=this.volumeLevel;return p.default.createElement(C.default,{className:(0,g.default)(E,{"video-react-volume-menu-button-vertical":_,"video-react-volume-menu-button-horizontal":!_,"video-react-vol-muted":k.muted,"video-react-vol-0":j===0&&!k.muted,"video-react-vol-1":j===1,"video-react-vol-2":j===2,"video-react-vol-3":j===3,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:D},p.default.createElement(x.default,(0,r.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:"volumeLevel",get:function(){var v=this.props.player,_=v.volume,k=v.muted,E=3;return _===0||k?E=0:_<.33?E=1:_<.67&&(E=2),E}}]),b}(p.Component);T.propTypes=S,T.defaultProps=w,T.displayName="VolumeMenuButton";var m=T;e.default=m}(zl)),zl}var Hl={},ql={},Vl={},Vh;function y4(){return Vh||(Vh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p={children:u.default.any},g=function(C){(0,l.default)(x,C);function x(S,w){var T;return(0,r.default)(this,x),T=(0,o.default)(this,(0,i.default)(x).call(this,S,w)),T.handleClick=T.handleClick.bind((0,s.default)(T)),T}return(0,a.default)(x,[{key:"handleClick",value:function(w){w.preventDefault()}},{key:"render",value:function(){return d.default.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},d.default.createElement("ul",{className:"video-react-menu-content"},this.props.children))}}]),x}(d.Component);e.default=g,g.propTypes=p,g.displayName="Menu"}(Vl)),Vl}var Gl={},Gh;function b4(){return Gh||(Gh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g={item:u.default.object,index:u.default.number,activateIndex:u.default.number,onSelectItem:u.default.func},C=function(x){(0,l.default)(S,x);function S(w,T){var m;return(0,r.default)(this,S),m=(0,o.default)(this,(0,i.default)(S).call(this,w,T)),m.handleClick=m.handleClick.bind((0,s.default)(m)),m}return(0,a.default)(S,[{key:"handleClick",value:function(){var T=this.props,m=T.index,h=T.onSelectItem;h(m)}},{key:"render",value:function(){var T=this.props,m=T.item,h=T.index,b=T.activateIndex;return d.default.createElement("li",{className:(0,p.default)({"video-react-menu-item":!0,"video-react-selected":h===b}),role:"menuitem",onClick:this.handleClick},m.label,d.default.createElement("span",{className:"video-react-control-text"}))}}]),S}(d.Component);e.default=C,C.propTypes=g,C.displayName="MenuItem"}(Gl)),Gl}var Uh;function cu(){return Uh||(Uh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g=n(y4()),C=n(b4()),x=n(Ay()),S={inline:u.default.bool,items:u.default.array,className:u.default.string,onSelectItem:u.default.func,children:u.default.any,selectedIndex:u.default.number},w=function(T){(0,l.default)(m,T);function m(h,b){var y;return(0,r.default)(this,m),y=(0,o.default)(this,(0,i.default)(m).call(this,h,b)),y.state={active:!1,activateIndex:h.selectedIndex||0},y.commitSelection=y.commitSelection.bind((0,s.default)(y)),y.activateMenuItem=y.activateMenuItem.bind((0,s.default)(y)),y.handleClick=y.handleClick.bind((0,s.default)(y)),y.renderMenu=y.renderMenu.bind((0,s.default)(y)),y.handleFocus=y.handleFocus.bind((0,s.default)(y)),y.handleBlur=y.handleBlur.bind((0,s.default)(y)),y.handleUpArrow=y.handleUpArrow.bind((0,s.default)(y)),y.handleDownArrow=y.handleDownArrow.bind((0,s.default)(y)),y.handleEscape=y.handleEscape.bind((0,s.default)(y)),y.handleReturn=y.handleReturn.bind((0,s.default)(y)),y.handleTab=y.handleTab.bind((0,s.default)(y)),y.handleKeyPress=y.handleKeyPress.bind((0,s.default)(y)),y.handleSelectItem=y.handleSelectItem.bind((0,s.default)(y)),y.handleIndexChange=y.handleIndexChange.bind((0,s.default)(y)),y}return(0,a.default)(m,[{key:"componentDidUpdate",value:function(b){b.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:"commitSelection",value:function(b){this.setState({activateIndex:b}),this.handleIndexChange(b)}},{key:"activateMenuItem",value:function(b){this.setState({activateIndex:b}),this.handleIndexChange(b)}},{key:"handleIndexChange",value:function(b){var y=this.props.onSelectItem;y(b)}},{key:"handleClick",value:function(){this.setState(function(b){return{active:!b.active}})}},{key:"handleFocus",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleBlur",value:function(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleUpArrow",value:function(b){var y=this.props.items;if(this.state.active){b.preventDefault();var v=this.state.activateIndex-1;v<0&&(v=y.length?y.length-1:0),this.activateMenuItem(v)}}},{key:"handleDownArrow",value:function(b){var y=this.props.items;if(this.state.active){b.preventDefault();var v=this.state.activateIndex+1;v>=y.length&&(v=0),this.activateMenuItem(v)}}},{key:"handleTab",value:function(b){this.state.active&&(b.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:"handleReturn",value:function(b){b.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:"handleEscape",value:function(){this.setState({active:!1,activateIndex:0})}},{key:"handleKeyPress",value:function(b){b.which===27?this.handleEscape(b):b.which===9?this.handleTab(b):b.which===13?this.handleReturn(b):b.which===38?this.handleUpArrow(b):b.which===40&&this.handleDownArrow(b)}},{key:"handleSelectItem",value:function(b){this.commitSelection(b)}},{key:"renderMenu",value:function(){var b=this;if(!this.state.active)return null;var y=this.props.items;return d.default.createElement(g.default,null,y.map(function(v,_){return d.default.createElement(C.default,{item:v,index:_,onSelectItem:b.handleSelectItem,activateIndex:b.state.activateIndex,key:"item-".concat(_++)})}))}},{key:"render",value:function(){var b=this,y=this.props,v=y.inline,_=y.className;return d.default.createElement(x.default,{className:(0,p.default)(_,{"video-react-menu-button-inline":!!v,"video-react-menu-button-popup":!v,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function(E){b.menuButton=E},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),m}(d.Component);e.default=w,w.propTypes=S,w.displayName="MenuButton"}(ql)),ql}var Kh;function du(){return Kh||(Kh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g=n(cu()),C={player:u.default.object,actions:u.default.object,rates:u.default.array,className:u.default.string},x={rates:[2,1.5,1.25,1,.5,.25]},S=function(T){(0,l.default)(m,T);function m(h,b){var y;return(0,r.default)(this,m),y=(0,o.default)(this,(0,i.default)(m).call(this,h,b)),y.handleSelectItem=y.handleSelectItem.bind((0,s.default)(y)),y}return(0,a.default)(m,[{key:"handleSelectItem",value:function(b){var y=this.props,v=y.rates,_=y.actions;b>=0&&b<v.length&&_.changeRate(v[b])}},{key:"render",value:function(){var b=this.props,y=b.rates,v=b.player,_=y.map(function(E){return{label:"".concat(E,"x"),value:E}}),k=y.indexOf(v.playbackRate)||0;return d.default.createElement(g.default,{className:(0,p.default)("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:_,selectedIndex:k},d.default.createElement("span",{className:"video-react-control-text"},"Playback Rate"),d.default.createElement("div",{className:"video-react-playback-rate-value"},"".concat(v.playbackRate.toFixed(2),"x")))}}]),m}(d.Component);S.propTypes=C,S.defaultProps=x,S.displayName="PlaybackRateMenuButton";var w=S;e.default=w}(Hl)),Hl}var Yh;function By(){return Yh||(Yh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(iu()),a=n(Ue()),o=n(Ke()),i=n(Ze()),s=n(Qe()),l=n(Je()),u=n(et()),d=n(Ee),p=t(c),g=n(ke),C=n(Oy()),x=n(Dy()),S=n(Iy()),w=n(jy()),T=n(My()),m=n(Py()),h=n(Ly()),b=n($y()),y=n(zy()),v=n(Ny()),_=n(du()),k=Tn(),E={children:d.default.any,autoHide:d.default.bool,autoHideTime:d.default.number,disableDefaultControls:d.default.bool,disableCompletely:d.default.bool,className:d.default.string},D={autoHide:!0,disableCompletely:!1},j=function(I){(0,u.default)(O,I);function O(P){var A;return(0,a.default)(this,O),A=(0,i.default)(this,(0,s.default)(O).call(this,P)),A.getDefaultChildren=A.getDefaultChildren.bind((0,l.default)(A)),A.getFullChildren=A.getFullChildren.bind((0,l.default)(A)),A}return(0,o.default)(O,[{key:"getDefaultChildren",value:function(){return[p.default.createElement(x.default,{key:"play-toggle",order:1}),p.default.createElement(v.default,{key:"volume-menu-button",order:4}),p.default.createElement(h.default,{key:"current-time-display",order:5.1}),p.default.createElement(y.default,{key:"time-divider",order:5.2}),p.default.createElement(b.default,{key:"duration-display",order:5.3}),p.default.createElement(C.default,{key:"progress-control",order:6}),p.default.createElement(T.default,{key:"fullscreen-toggle",order:8})]}},{key:"getFullChildren",value:function(){return[p.default.createElement(x.default,{key:"play-toggle",order:1}),p.default.createElement(w.default,{key:"replay-control",order:2}),p.default.createElement(S.default,{key:"forward-control",order:3}),p.default.createElement(v.default,{key:"volume-menu-button",order:4}),p.default.createElement(h.default,{key:"current-time-display",order:5}),p.default.createElement(y.default,{key:"time-divider",order:6}),p.default.createElement(b.default,{key:"duration-display",order:7}),p.default.createElement(C.default,{key:"progress-control",order:8}),p.default.createElement(m.default,{key:"remaining-time-display",order:9}),p.default.createElement(_.default,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),p.default.createElement(T.default,{key:"fullscreen-toggle",order:11})]}},{key:"getChildren",value:function(){var A=p.default.Children.toArray(this.props.children),M=this.props.disableDefaultControls?[]:this.getDefaultChildren(),R=this.props;R.className;var Z=(0,r.default)(R,["className"]);return(0,k.mergeAndSortChildren)(M,A,Z)}},{key:"render",value:function(){var A=this.props,M=A.autoHide,R=A.className,Z=A.disableCompletely,K=this.getChildren();return Z?null:p.default.createElement("div",{className:(0,g.default)("video-react-control-bar",{"video-react-control-bar-auto-hide":M},R)},K)}}]),O}(p.Component);e.default=j,j.propTypes=E,j.defaultProps=D,j.displayName="ControlBar"}(xl)),xl}var Vt={},Xh;function C4(){if(Xh)return Vt;Xh=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.IS_IOS=Vt.IS_IPOD=Vt.IS_IPHONE=Vt.IS_IPAD=void 0;var e=typeof window<"u"&&window.navigator?window.navigator.userAgent:"",t=/iPad/i.test(e);Vt.IS_IPAD=t;var n=/iPhone/i.test(e)&&!t;Vt.IS_IPHONE=n;var r=/iPod/i.test(e);Vt.IS_IPOD=r;var a=n||t||r;return Vt.IS_IOS=a,Vt}var Jh;function x4(){return Jh||(Jh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(ir()),a=n(Bc),o=n(iu()),i=n(Ue()),s=n(Ke()),l=n(Ze()),u=n(Qe()),d=n(Je()),p=n(et()),g=n(Ee),C=t(c),x=n(ke),S=n(h4()),w=n(yy()),T=n(by()),m=n(Cy()),h=n(xy()),b=n(Sy()),y=n(wy()),v=n(By()),_=t(C4()),k=Qi(),E=Tn(),D=n(my()),j={children:g.default.any,width:g.default.oneOfType([g.default.string,g.default.number]),height:g.default.oneOfType([g.default.string,g.default.number]),fluid:g.default.bool,muted:g.default.bool,playsInline:g.default.bool,aspectRatio:g.default.string,className:g.default.string,videoId:g.default.string,startTime:g.default.number,loop:g.default.bool,autoPlay:g.default.bool,src:g.default.string,poster:g.default.string,preload:g.default.oneOf(["auto","metadata","none"]),onLoadStart:g.default.func,onWaiting:g.default.func,onCanPlay:g.default.func,onCanPlayThrough:g.default.func,onPlaying:g.default.func,onEnded:g.default.func,onSeeking:g.default.func,onSeeked:g.default.func,onPlay:g.default.func,onPause:g.default.func,onProgress:g.default.func,onDurationChange:g.default.func,onError:g.default.func,onSuspend:g.default.func,onAbort:g.default.func,onEmptied:g.default.func,onStalled:g.default.func,onLoadedMetadata:g.default.func,onLoadedData:g.default.func,onTimeUpdate:g.default.func,onRateChange:g.default.func,onVolumeChange:g.default.func,store:g.default.object},I={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},O=function(P){(0,p.default)(A,P);function A(M){var R;return(0,i.default)(this,A),R=(0,l.default)(this,(0,u.default)(A).call(this,M)),R.controlsHideTimer=null,R.video=null,R.manager=new S.default(M.store),R.actions=R.manager.getActions(),R.manager.subscribeToPlayerStateChange(R.handleStateChange.bind((0,d.default)(R))),R.getStyle=R.getStyle.bind((0,d.default)(R)),R.handleResize=R.handleResize.bind((0,d.default)(R)),R.getChildren=R.getChildren.bind((0,d.default)(R)),R.handleMouseMove=(0,E.throttle)(R.handleMouseMove.bind((0,d.default)(R)),250),R.handleMouseDown=R.handleMouseDown.bind((0,d.default)(R)),R.startControlsTimer=R.startControlsTimer.bind((0,d.default)(R)),R.handleFullScreenChange=R.handleFullScreenChange.bind((0,d.default)(R)),R.handleKeyDown=R.handleKeyDown.bind((0,d.default)(R)),R.handleFocus=R.handleFocus.bind((0,d.default)(R)),R.handleBlur=R.handleBlur.bind((0,d.default)(R)),R}return(0,s.default)(A,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize),D.default.addEventListener(this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),D.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"getDefaultChildren",value:function(R){var Z=this;return[C.default.createElement(h.default,{ref:function(Y){Z.video=Y,Z.manager.video=Z.video},key:"video",order:0},R),C.default.createElement(m.default,{key:"poster-image",order:1}),C.default.createElement(T.default,{key:"loading-spinner",order:2}),C.default.createElement(b.default,{key:"bezel",order:3}),C.default.createElement(w.default,{key:"big-play-button",order:4}),C.default.createElement(v.default,{key:"control-bar",order:5}),C.default.createElement(y.default,{key:"shortcut",order:99})]}},{key:"getChildren",value:function(R){R.className;var Z=R.children,K=(0,o.default)(R,["className","children"]),Y=C.default.Children.toArray(this.props.children).filter(function(ee){return!(0,E.isVideoChild)(ee)}),xe=this.getDefaultChildren(Z);return(0,E.mergeAndSortChildren)(xe,Y,K)}},{key:"setWidthOrHeight",value:function(R,Z,K){var Y;typeof K=="string"?K==="auto"?Y="auto":K.match(/\d+%/)&&(Y=K):typeof K=="number"&&(Y="".concat(K,"px")),Object.assign(R,(0,a.default)({},Z,Y))}},{key:"getStyle",value:function(){var R=this.props,Z=R.fluid,K=R.aspectRatio,Y=R.height,xe=R.width,ee=this.manager.getState(),pe=ee.player,oe={},ge,Se,Me;K!==void 0&&K!=="auto"?Me=K:pe.videoWidth?Me="".concat(pe.videoWidth,":").concat(pe.videoHeight):Me="16:9";var B=Me.split(":"),G=B[1]/B[0];return xe!==void 0?ge=xe:Y!==void 0?ge=Y/G:ge=pe.videoWidth||400,Y!==void 0?Se=Y:Se=ge*G,Z?oe.paddingTop="".concat(G*100,"%"):(this.setWidthOrHeight(oe,"width",ge),this.setWidthOrHeight(oe,"height",Se)),oe}},{key:"getState",value:function(){return this.manager.getState()}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var R;(R=this.video).addTextTrack.apply(R,arguments)}},{key:"canPlayType",value:function(){var R;(R=this.video).canPlayType.apply(R,arguments)}},{key:"seek",value:function(R){this.video.seek(R)}},{key:"forward",value:function(R){this.video.forward(R)}},{key:"replay",value:function(R){this.video.replay(R)}},{key:"toggleFullscreen",value:function(){this.video.toggleFullscreen()}},{key:"subscribeToStateChange",value:function(R){return this.manager.subscribeToPlayerStateChange(R)}},{key:"handleResize",value:function(){}},{key:"handleFullScreenChange",value:function(R){R.target===this.manager.rootElement&&this.actions.handleFullscreenChange(D.default.isFullscreen)}},{key:"handleMouseDown",value:function(){this.startControlsTimer()}},{key:"handleMouseMove",value:function(){this.startControlsTimer()}},{key:"handleKeyDown",value:function(){this.startControlsTimer()}},{key:"startControlsTimer",value:function(){var R=this,Z=3e3;C.default.Children.forEach(this.props.children,function(K){if(!(!C.default.isValidElement(K)||K.type!==v.default)){var Y=K.props.autoHideTime;typeof Y=="number"&&(Z=Y)}}),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){R.actions.userActivate(!1)},Z)}},{key:"handleStateChange",value:function(R,Z){R.isFullscreen!==Z.isFullscreen&&(this.handleResize(),(0,k.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:"handleFocus",value:function(){this.actions.activate(!0)}},{key:"handleBlur",value:function(){this.actions.activate(!1)}},{key:"render",value:function(){var R=this,Z=this.props.fluid,K=this.manager.getState(),Y=K.player,xe=Y.paused,ee=Y.hasStarted,pe=Y.waiting,oe=Y.seeking,ge=Y.isFullscreen,Se=Y.userActivity,Me=(0,r.default)({},this.props,{player:Y,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),B=this.getChildren(Me);return C.default.createElement("div",{className:(0,x.default)({"video-react-controls-enabled":!0,"video-react-has-started":ee,"video-react-paused":xe,"video-react-playing":!xe,"video-react-waiting":pe,"video-react-seeking":oe,"video-react-fluid":Z,"video-react-fullscreen":ge,"video-react-user-inactive":!Se,"video-react-user-active":Se,"video-react-workinghover":!_.IS_IOS},"video-react",this.props.className),style:this.getStyle(),ref:function(H){R.manager.rootElement=H},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},B)}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(R){this.video.playbackRate=R}},{key:"muted",get:function(){return this.video.muted},set:function(R){this.video.muted=R}},{key:"volume",get:function(){return this.video.volume},set:function(R){this.video.volume=R}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),A}(C.Component);e.default=O,O.contextTypes={store:g.default.object},O.propTypes=j,O.defaultProps=I,O.displayName="Player"}(Qs)),Qs}var Ul={},Zh;function S4(){return Zh||(Zh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(et()),l=t(c),u=n(du()),d=Tn(),p=function(g){(0,s.default)(C,g);function C(x,S){var w;return(0,r.default)(this,C),w=(0,o.default)(this,(0,i.default)(C).call(this,x,S)),(0,d.deprecatedWarning)("PlaybackRate","PlaybackRateMenuButton"),w}return(0,a.default)(C,[{key:"render",value:function(){return l.default.createElement(u.default,this.props)}}]),C}(l.Component);e.default=p,p.displayName="PlaybackRate"}(Ul)),Ul}var Kl={},Qh;function w4(){return Qh||(Qh=1,function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Ue()),a=n(Ke()),o=n(Ze()),i=n(Qe()),s=n(Je()),l=n(et()),u=n(Ee),d=t(c),p=n(ke),g=n(cu()),C={player:u.default.object,actions:u.default.object,className:u.default.string,offMenuText:u.default.string,showOffMenu:u.default.bool,kinds:u.default.array},x={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},S=function(T){(0,l.default)(m,T);function m(h,b){var y;return(0,r.default)(this,m),y=(0,o.default)(this,(0,i.default)(m).call(this,h,b)),y.getTextTrackItems=y.getTextTrackItems.bind((0,s.default)(y)),y.updateState=y.updateState.bind((0,s.default)(y)),y.handleSelectItem=y.handleSelectItem.bind((0,s.default)(y)),y.state=y.getTextTrackItems(),y}return(0,a.default)(m,[{key:"componentDidUpdate",value:function(){this.updateState()}},{key:"getTextTrackItems",value:function(){var b=this.props,y=b.kinds,v=b.player,_=b.offMenuText,k=b.showOffMenu,E=v.textTracks,D=v.activeTextTrack,j={items:[],selectedIndex:0},I=Array.from(E||[]);return I.length===0||(k&&j.items.push({label:_||"Off",value:null}),I.forEach(function(O){y.length&&!y.includes(O.kind)||j.items.push({label:O.label,value:O.language})}),j.selectedIndex=j.items.findIndex(function(O){return D&&D.language===O.value}),j.selectedIndex===-1&&(j.selectedIndex=0)),j}},{key:"updateState",value:function(){var b=this.getTextTrackItems();(b.selectedIndex!==this.state.selectedIndex||!this.textTrackItemsAreEqual(b.items,this.state.items))&&this.setState(b)}},{key:"textTrackItemsAreEqual",value:function(b,y){if(b.length!==y.length)return!1;for(var v=0;v<b.length;v++)if(!y[v]||b[v].label!==y[v].label||b[v].value!==y[v].value)return!1;return!0}},{key:"handleSelectItem",value:function(b){var y=this.props,v=y.player,_=y.actions,k=y.showOffMenu,E=v.textTracks;Array.from(E).forEach(function(D,j){b===(k?j+1:j)?(D.mode="showing",_.activateTextTrack(D)):D.mode="hidden"})}},{key:"render",value:function(){var b=this.state,y=b.items,v=b.selectedIndex;return d.default.createElement(g.default,{className:(0,p.default)("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:y,selectedIndex:v},d.default.createElement("span",{className:"video-react-control-text"},"Closed Caption"))}}]),m}(d.Component);S.propTypes=C,S.defaultProps=x,S.displayName="ClosedCaptionButton";var w=S;e.default=w}(Kl)),Kl}(function(e){var t=he,n=F;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Player",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Video",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BigPlayButton",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"LoadingSpinner",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"PosterImage",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Bezel",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Shortcut",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"ControlBar",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"PlayToggle",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ForwardControl",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"ReplayControl",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"FullscreenToggle",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"ProgressControl",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"SeekBar",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"PlayProgressBar",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"LoadProgressBar",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"MouseTimeDisplay",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"VolumeMenuButton",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"PlaybackRateMenuButton",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"PlaybackRate",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"ClosedCaptionButton",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"RemainingTimeDisplay",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"CurrentTimeDisplay",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"DurationDisplay",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"TimeDivider",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"MenuButton",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"playerReducer",{enumerable:!0,get:function(){return M.playerReducer}}),Object.defineProperty(e,"operationReducer",{enumerable:!0,get:function(){return M.operationReducer}}),e.videoActions=e.playerActions=void 0;var r=n(x4()),a=n(xy()),o=n(yy()),i=n(by()),s=n(Cy()),l=n(lu()),u=n(Sy()),d=n(wy()),p=n(By()),g=n(Dy()),C=n(Iy()),x=n(jy()),S=n(My()),w=n(Oy()),T=n(Ey()),m=n(Ty()),h=n(_y()),b=n(ky()),y=n(Ny()),v=n(du()),_=n(S4()),k=n(w4()),E=n(Py()),D=n(Ly()),j=n($y()),I=n(zy()),O=n(cu()),P=t(Zi());e.playerActions=P;var A=t(su());e.videoActions=A;var M=vy()})(gy);const T4=c.memo(()=>{const e=c.useContext(je),t=LC.getVideo(e.config.customConfig.props),n=t.src;return t.width,t.height,f.jsx(_4,{children:f.jsx(gy.Player,{autoPlay:t.autoPlay,children:f.jsx("source",{src:n,width:t.width,height:t.height})})})}),_4=$.div.withConfig({displayName:"VideoWidgetCore__WrapVideo",componentId:"sc-lkc1k6-0"})(["width:100%;height:100%;overflow-y:auto;.wrap-form{padding:6px;margin-bottom:4px;background-color:",";}"],e=>e.theme.emphasisBackground),k4=c.memo(({hideTitle:e})=>{var s;const t=c.useContext(je),{editing:n}=c.useContext(ze),{background:r,border:a,padding:o}=Lt(t.config.customConfig.props),i=tn(t.config.customConfig.props);return i.title=t.config.name,f.jsxs(sn,{background:r,border:a,padding:o,children:[f.jsxs("div",{style:rn,children:[e?null:f.jsx(Cn,{title:i}),f.jsx("div",{style:nn,children:f.jsx(T4,{})})]}),n&&f.jsx(ln,{}),f.jsx(on,{children:f.jsxs(ut,{size:0,children:[f.jsx(an,{boardEditing:n,wid:t.id,lock:(s=t.config)==null?void 0:s.lock}),f.jsx(en,{widget:t})]})})]})}),kr=c.memo(({boardEditing:e,hideTitle:t})=>{const n=c.useContext(je),r=n.config.originalType||Be.ownedChart;switch(r){case Be.group:return f.jsx(j3,{});case Be.linkedChart:case Be.ownedChart:return f.jsx(kf,{widgetId:n.id,boardId:n.dashboardId,boardEditing:e,children:f.jsx(C3,{hideTitle:t})});case Be.richText:return f.jsx(Q3,{hideTitle:t});case Be.image:return f.jsx(W3,{hideTitle:t});case Be.video:return f.jsx(k4,{hideTitle:t});case Be.iframe:return f.jsx(L3,{hideTitle:t});case Be.timer:return f.jsx(s4,{hideTitle:t});case Be.tab:return f.jsx(a4,{hideTitle:t});case Be.carousel:return f.jsx(H2,{hideTitle:t});case Be.queryBtn:return f.jsx(V3,{});case Be.resetBtn:return f.jsx(K3,{});case Be.dropdownList:case Be.multiDropdownList:case Be.checkboxGroup:case Be.radioGroup:case Be.text:case Be.time:case Be.rangeTime:case Be.rangeValue:case Be.value:case Be.slider:case Be.dropDownTree:return f.jsx(kf,{widgetId:n.id,boardId:n.dashboardId,boardEditing:e,children:f.jsx(BI,{})});default:return f.jsxs("div",{children:[" unknown widget ?",r," "]})}});export{G4 as $,Un as A,RS as B,Kt as C,uO as D,Xm as E,l1 as F,f1 as G,q4 as H,PD as I,qm as J,Vm as K,Mi as L,A4 as M,N4 as N,zg as O,e8 as P,o8 as Q,l8 as R,u_ as S,c8 as T,mi as U,g8 as V,z4 as W,B4 as X,F4 as Y,H4 as Z,lw as _,V4 as a,Bs as a$,t_ as a0,j4 as a1,ug as a2,ac as a3,Zm as a4,Jm as a5,v8 as a6,M4 as a7,Qm as a8,ev as a9,tL as aA,YP as aB,x3 as aC,rL as aD,pI as aE,Dc as aF,w8 as aG,T8 as aH,C8 as aI,S8 as aJ,x8 as aK,QD as aL,YD as aM,yP as aN,_8 as aO,k8 as aP,Ao as aQ,Ns as aR,bP as aS,R8 as aT,No as aU,SP as aV,CP as aW,E8 as aX,O8 as aY,D8 as aZ,M8 as a_,P4 as aa,Od as ab,ot as ac,nv as ad,tv as ae,a_ as af,tR as ag,_r as ah,je as ai,nR as aj,en as ak,Vu as al,JD as am,rv as an,ov as ao,Kd as ap,kr as aq,Ev as ar,u2 as as,da as at,S2 as au,C2 as av,x2 as aw,q2 as ax,Ov as ay,QP as az,W4 as b,A8 as b$,Ws as b0,Fs as b1,Hs as b2,Ks as b3,Ys as b4,uy as b5,xP as b6,j8 as b7,I8 as b8,Us as b9,ka as bA,xs as bB,ay as bC,Cs as bD,a8 as bE,r8 as bF,d8 as bG,u8 as bH,gs as bI,ms as bJ,s8 as bK,bs as bL,t8 as bM,n8 as bN,f8 as bO,vs as bP,ys as bQ,Xi as bR,P8 as bS,dy as bT,OL as bU,uL as bV,N8 as bW,$8 as bX,TL as bY,z8 as bZ,kL as b_,Vs as ba,qs as bb,Gs as bc,aw as bd,ps as be,PS as bf,YT as bg,wL as bh,K4 as bi,Qc as bj,P1 as bk,R1 as bl,Q4 as bm,i8 as bn,fg as bo,ig as bp,ud as bq,XT as br,JT as bs,ZT as bt,h8 as bu,$g as bv,jg as bw,h3 as bx,X4 as by,J4 as bz,p_ as c,gL as c0,xL as c1,U4 as c2,Mg as c3,fy as c4,hy as c5,tu as c6,o3 as c7,ei as c8,GP as c9,oL as ca,BP as cb,L8 as cc,hd as d,Tr as e,cg as f,Io as g,yi as h,Si as i,tr as j,$4 as k,L4 as l,qg as m,a1 as n,vi as o,e1 as p,sw as q,nr as r,p8 as s,md as t,iw as u,hs as v,Y4 as w,r_ as x,ow as y,ic as z};
