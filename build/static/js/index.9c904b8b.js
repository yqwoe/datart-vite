import{e as m,h as u,Y as x,j as e,q as g,u as d,s as j,Z as f,$ as v}from"./entryPointFactory.769a35d1.js";import{L as z}from"./index.e6917ec6.js";import{F,P as S,T as w,D as C}from"./AuthLayout.7c6c8571.js";import{V as $}from"./Version.1b6b7fa0.js";import{g as b}from"./validators.78252eaf.js";import{F as a,I as c,B as p}from"./index.1ca238f3.js";import{u as q}from"./index.3e5f4c4f.js";import{C as y}from"./CheckCircleOutlined.6326d88b.js";const P=({loading:l})=>{const r=q(),[n]=a.useForm(),s=m("setup"),i=m("global"),t=u.useCallback(o=>{r(x({params:o,resolve:()=>{}}))},[r]);return e.jsx(F,{children:e.jsxs(a,{form:n,onFinish:t,children:[e.jsx(a.Item,{name:"username",rules:[{required:!0,message:`${s("username")}${i("validation.required")}`}],children:e.jsx(c,{placeholder:s("username"),size:"large"})}),e.jsx(a.Item,{name:"email",rules:[{required:!0,message:`${s("email")}${i("validation.required")}`},{type:"email"}],children:e.jsx(c,{placeholder:s("email"),type:"email",size:"large"})}),e.jsx(a.Item,{name:"password",rules:[{required:!0,message:`${s("password")}${i("validation.required")}`},{validator:b(i("validation.invalidPassword"))}],children:e.jsx(c.Password,{placeholder:s("password"),size:"large"})}),e.jsx(a.Item,{name:"name",children:e.jsx(c,{placeholder:s("name"),size:"large"})}),e.jsx(a.Item,{className:"last",shouldUpdate:!0,children:()=>e.jsx(p,{type:"primary",htmlType:"submit",size:"large",loading:l,disabled:l||!!n.getFieldsError().filter(({errors:o})=>o.length).length,block:!0,children:s("initialize")})})]})})};function V(){const l=g(),r=d(j),n=d(f),s=m("setup"),i=u.useCallback(()=>{l("/login")},[l]),t=!!(r!=null&&r.initialized),o=s(t?"success":"welcome"),h=t?e.jsxs(e.Fragment,{children:[s("successDesc"),e.jsx(p,{type:"link",size:"small",className:"btn",onClick:i,children:s("goLogin")})]}):s("welcomeDesc");return e.jsxs(z,{className:"alert",children:[t&&e.jsx(S,{children:e.jsx(y,{style:{color:v}})}),e.jsx(w,{children:o}),e.jsx(C,{children:h}),t||e.jsx(P,{loading:n}),e.jsx($,{version:r==null?void 0:r.version})]})}export{V as SetupPage};
