var xN=Object.defineProperty;var UN=(e,t,n)=>t in e?xN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kt=(e,t,n)=>(UN(e,typeof t!="symbol"?t+"":t,n),n);import{ax as VS,ay as wN,az as Bf,aG as BN,aj as Ff,ak as Gf,al as Hf,h as c,am as jf,aD as Ke,ag as $e,aE as fc,b5 as FN,aB as GN,aS as Da,b9 as HN,ba as jN,b8 as VN,b7 as YN,K as fe,M as te,eN as $l,j as o,t as Ne,e as V,u as U,w as F,eh as It,U as ye,X as Le,eO as rs,dJ as nn,eP as yu,o as at,dn as Ic,aP as Oc,bZ as Mu,el as En,eQ as Zn,cd as qe,eR as In,eS as rn,F as Ha,V as me,eq as ot,en as WN,eT as hn,$ as Vf,dp as mc,eU as xu,eG as Yf,ep as st,eV as hc,eW as St,eB as ct,eX as kN,eY as $N,eZ as or,e_ as No,e$ as Wf,f0 as vn,f1 as as,f2 as XN,f3 as kf,f4 as zN,ci as tr,f5 as $f,f6 as YS,f7 as WS,f8 as Uu,dY as yt,cb as kt,f9 as os,fa as KN,q as Ve,fb as wu,fc as Xf,m as Ie,fd as zf,ei as ba,ej as ao,y as je,fe as Nc,ea as JN,cj as qN,eK as ue,ff as $t,fg as Kf,d_ as gn,fh as ja,fi as Wn,ex as Jf,fj as QN,fk as ZN,fl as Ro,eL as Cc,fm as qf,ca as kS,cc as Pa,eD as eC,eE as tC,s as gc,fn as mt,L as Zt,fo as nC,fp as is,dL as _c,dN as Bu,fq as Fu,g as Gu,dZ as we,d$ as ss,e0 as ls,ah as Re,fr as rC,e1 as zd,fs as aC,ft as $S,dK as Qf,fu as ze,fv as ht,fw as cs,dP as ya,A as oC,fx as Hu,fy as ju,a$ as XS,fz as Xl,eI as Zf,eg as iC,dz as ds,fA as sC,b as eI,dE as lC,bE as cC,fB as dC,cm as EC,fC as zl,fD as zS,bq as uC,ez as TC,fE as SC,fF as RC,dA as pC,fG as AC,dy as fC,a as tI,dI as IC,eo as OC,dB as mC,dC as hC,x as NC,W as CC,fH as nI,N as ml,fI as gC,E as Vu,fJ as _C,fK as LC,fL as vC,fM as DC,fN as bC,fO as rI,dD as PC,fP as yC,fQ as MC,fR as xC,fS as UC,l as wC,dq as BC,f as FC,R as GC,n as nt}from"./entryPointFactory.769a35d1.js";import{L as aI,b as KS,h as HC,cW as jC,S as Se,t as VC,ay as JS,a2 as YC,cX as WC,cY as kC,cZ as $C,b4 as Es,c_ as XC,aX as Ge,c$ as oI,B as oe,ax as an,aj as Mt,ci as zC,cb as be,a0 as iI,aq as Me,bj as ZE,cQ as At,d0 as sI,d1 as qS,cf as eu,cz as Ee,au as it,d2 as KC,cw as He,cy as JC,cd as Gn,d3 as qC,d4 as Oi,aU as lt,ar as Kl,d5 as Jl,d6 as lI,R as Pe,d7 as QS,d8 as ZS,d9 as Zo,da as QC,db as ZC,cv as cI,cT as eR,dc as Yu,dd as tu,bi as Wu,de as eg,bp as Fn,bm as po,b7 as Dn,bw as Wt,df as tg,dg as ga,b1 as Yn,al as Co,I as Ae,ag as pt,dh as ng,di as rg,dj as ag,dk as ku,dl as le,dm as _e,aT as Lc,dn as dI,P as ql,aw as Dr,dp as _a,dq as og,ba as go,b8 as ir,dr as ig,F as $,ds as Be,dt as pn,du as Va,dv as sr,dw as tR,dx as Ka,dy as nR,dz as rR,dA as sg,dB as lg,dC as cg,dD as dg,c1 as Eg,dE as ug,dF as Tg,ae as EI,bA as _o,cP as et,bv as aR,bC as Ir,dG as $u,dH as Sg,dI as Rg,dJ as pg,bb as qr,dK as Xu,dL as Ag,dM as uI,dN as fg,dO as Ig,dP as oR,cK as sn,dQ as TI,dR as SI,dS as Og,cF as mg,dT as iR,dU as hg,b9 as Ng,dV as Cg,dW as gg,dX as _g,dY as Lg,dZ as vg,cj as Dg,d_ as sR,d$ as lR,e0 as bg,c0 as Pg,c2 as yg,av as bn,e1 as zu,b6 as nr,e2 as Ln,e3 as Ku,e4 as Mg,e5 as xg,e6 as vc,e7 as RI,e8 as Ug,e9 as La,ea as cR,eb as wg,ec as We,ed as pI,ee as Bg,ef as Fg,eg as dR,eh as AI,ei as Gg,ej as Hg,ek as dn,el as ke,em as Rt,en as jg,eo as fI,ep as Vg,eq as Yg,er as Wg,es as kg,et as Dc,eu as $g,ev as Ju,ew as Xg,ex as zg,ey as Kg,ez as Jg,eA as qg,eB as Qg,eC as Kd,eD as Tt,eE as er,eF as Qn,eG as so,eH as qu,eI as Zg,eJ as Ql,af as e_,b3 as t_,eK as n_,eL as r_,eM as Ci,eN as a_,eO as gi,eP as Jn,eQ as o_,eR as i_,eS as ER,eT as Qu,eU as Zu,eV as lo,eW as s_,eX as l_,eY as II,eZ as c_,e_ as d_,e$ as OI,f0 as E_,f1 as u_,f2 as T_,f3 as S_,f4 as R_,f5 as p_}from"./index.1ca238f3.js";import{s as A_,b as mI,a as f_,u as eT,F as I_,B as hI,S as O_,g as kr,c as m_,d as h_,o as Lo,m as tT,e as NI,r as us,C as bc,t as CI,f as nT,h as N_,i as C_,D as g_,G as __,j as na,k as gI,l as L_,n as Ts,p as Ss,q as v_,v as rT,w as Pc,x as Nt,y as Jd,z as qd,A as D_,E as b_,H as P_,I as y_,J as M_,K as x_,L as yc,M as U_,N as w_,O as ra,P as B_,Q as F_,R as G_,T as H_,U as Ya,V as _I,W as j_,X as V_,Y as Y_,Z as W_,_ as k_,$ as $_,a0 as LI,a1 as Qd,a2 as X_,a3 as Qs,a4 as z_,a5 as K_,a6 as J_,a7 as Zs,a8 as q_,a9 as Q_,aa as uR,ab as aT,ac as br,ad as vI,ae as Z_,af as oT,ag as Gt,ah as Mc,ai as iT,aj as eL,ak as tL,al as hl,am as nL,an as rL,ao as aL,ap as oL,aq as iL,ar as sL,as as lL,at as DI,au as cL,av as dL,aw as EL,ax as uL,ay as TL,az as SL,aA as RL,aB as pL,aC as AL,aD as fL,aE as IL,aF as OL,aG as TR,aH as mL,aI as SR,aJ as hL,aK as RR,aL as NL,aM as CL,aN as xc,aO as sT,aP as gL,aQ as $r,aR as _L,aS as vo,aT as lT,aU as hr,aV as Do,aW as LL,aX as vL,aY as DL,aZ as bL,a_ as PL,a$ as yL,b0 as ML,b1 as xL,b2 as UL,b3 as wL,b4 as BL,b5 as Uc,b6 as FL,b7 as GL,b8 as HL,b9 as jL,ba as VL,bb as YL,bc as WL,bd as bI,be as _i,bf as kL,bg as Rs,bh as bo,bi as wc,bj as $L,bk as Lr,bl as ps,bm as PI,bn as yI,bo as XL,bp as cT,bq as dT,br as zL,bs as KL,bt as JL,bu as qL,bv as QL,bw as Wi,bx as ZL,by as ev,bz as tv,bA as ET,bB as nv,bC as rv,bD as pR,bE as av,bF as ov,bG as iv,bH as sv,bI as lv,bJ as cv,bK as dv,bL as AR,bM as Ev,bN as uv,bO as Tv,bP as Sv,bQ as fR,bR as Bc,bS as Rv,bT as uT,bU as pv,bV as TT,bW as Av,bX as MI,bY as xI,bZ as fv,b_ as UI,b$ as Iv,c0 as Ov,c1 as wI,c2 as BI,c3 as mv}from"./WidgetMapper.1c4fa18b.js";import{s as co,i as ft,D as FI,r as hv,S as Nv,a as Cv,b as gv,c as _v,T as Lv,E as vv,d as Dv,u as As,e as bv,M as Xt,f as GI,I as Qr,C as Po,g as rt,h as Zr,j as Rn,k as ki,l as Hn,m as xn,F as Ca,n as Pv,o as yv,A as Mv,p as xv,q as Uv,t as wv,v as Bv,G as ST,w as HI,x as RT,y as Hr,z as gt,B as vr,H as De,J as jI,P as dt,K as Fc,N as Gc,U as Hc,O as aa,Q as Wa,R as VI,V as Fv,W as Gv,X as Hv,Y as pT,Z as jv,_ as Vv,$ as Yv,a0 as jc,a1 as Wv,a2 as kv,a3 as $v,a4 as Vc,a5 as Xv,a6 as zv,a7 as Kv,a8 as Jv,a9 as qv,aa as Qv,ab as AT,ac as Zv,ad as en,ae as YI,af as $i,ag as IR,ah as bt,ai as eD,aj as WI,ak as kI,al as Zl,am as $I,an as ec,ao as tD,ap as mR,aq as oa,ar as Yc,as as nD,at as rD,au as aD,av as oD,aw as iD,ax as sD,ay as lD,az as cD,aA as fs,aB as Is,aC as Ma,aD as fT,aE as Wc,aF as dD,aG as kn,aH as tn,aI as rr,aJ as ar,aK as Os,aL as IT,aM as hR,aN as ED,aO as uD,aP as TD,aQ as el,aR as SD}from"./index.e6917ec6.js";import{D as XI}from"./index.5bed3aad.js";import{u as de,gy as zI,l as OT,gn as NR,gm as CR}from"./index.3e5f4c4f.js";import{E as RD}from"./ExclamationCircleOutlined.f52c2310.js";import{g as nu,a as pD}from"./validators.78252eaf.js";import{language as AD}from"./sql.55f30962.js";import{G as fD}from"./GithubOutlined.a187f62f.js";import{_ as KI,R as JI}from"./plugin.22835875.js";import"./selectors.caa0f834.js";function gR(e){let t;const n=a=>()=>{t=null,e.apply(void 0,wN(a))},r=function(){if(t==null){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];t=VS(n(i))}};return r.cancel=()=>{VS.cancel(t),t=null},r}const ID=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},OD=Bf("Affix",e=>{const t=BN(e,{zIndexPopup:e.zIndexBase+10});return[ID(t)]});function tl(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function _R(e,t,n){if(n!==void 0&&t.top>e.top-n)return n+t.top}function LR(e,t,n){if(n!==void 0&&t.bottom<e.bottom+n){const r=window.innerHeight-t.bottom;return n+r}}const vR=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function mD(){return typeof window<"u"?window:null}var oo;(function(e){e[e.None=0]="None",e[e.Prepare=1]="Prepare"})(oo||(oo={}));let qI=function(e){Ff(n,e);var t=Gf(n);function n(){var r;return Hf(this,n),r=t.apply(this,arguments),r.state={status:oo.None,lastAffix:!1,prevTarget:null},r.placeholderNodeRef=c.createRef(),r.fixedNodeRef=c.createRef(),r.addListeners=()=>{const a=r.getTargetFunc(),i=a==null?void 0:a(),{prevTarget:s}=r.state;s!==i&&(vR.forEach(l=>{s==null||s.removeEventListener(l,r.lazyUpdatePosition),i==null||i.addEventListener(l,r.lazyUpdatePosition)}),r.updatePosition(),r.setState({prevTarget:i}))},r.removeListeners=()=>{r.timer&&(clearTimeout(r.timer),r.timer=null);const{prevTarget:a}=r.state,i=r.getTargetFunc(),s=i==null?void 0:i();vR.forEach(l=>{s==null||s.removeEventListener(l,r.lazyUpdatePosition),a==null||a.removeEventListener(l,r.lazyUpdatePosition)}),r.updatePosition.cancel(),r.lazyUpdatePosition.cancel()},r.getOffsetTop=()=>{const{offsetBottom:a,offsetTop:i}=r.props;return a===void 0&&i===void 0?0:i},r.getOffsetBottom=()=>r.props.offsetBottom,r.measure=()=>{const{status:a,lastAffix:i}=r.state,{onChange:s}=r.props,l=r.getTargetFunc();if(a!==oo.Prepare||!r.fixedNodeRef.current||!r.placeholderNodeRef.current||!l)return;const d=r.getOffsetTop(),u=r.getOffsetBottom(),T=l();if(T){const R={status:oo.None},A=tl(r.placeholderNodeRef.current);if(A.top===0&&A.left===0&&A.width===0&&A.height===0)return;const E=tl(T),S=_R(A,E,d),p=LR(A,E,u);S!==void 0?(R.affixStyle={position:"fixed",top:S,width:A.width,height:A.height},R.placeholderStyle={width:A.width,height:A.height}):p!==void 0&&(R.affixStyle={position:"fixed",bottom:p,width:A.width,height:A.height},R.placeholderStyle={width:A.width,height:A.height}),R.lastAffix=!!R.affixStyle,s&&i!==R.lastAffix&&s(R.lastAffix),r.setState(R)}},r.prepareMeasure=()=>{r.setState({status:oo.Prepare,affixStyle:void 0,placeholderStyle:void 0})},r.updatePosition=gR(()=>{r.prepareMeasure()}),r.lazyUpdatePosition=gR(()=>{const a=r.getTargetFunc(),{affixStyle:i}=r.state;if(a&&i){const s=r.getOffsetTop(),l=r.getOffsetBottom(),d=a();if(d&&r.placeholderNodeRef.current){const u=tl(d),T=tl(r.placeholderNodeRef.current),R=_R(T,u,s),A=LR(T,u,l);if(R!==void 0&&i.top===R||A!==void 0&&i.bottom===A)return}}r.prepareMeasure()}),r}return jf(n,[{key:"getTargetFunc",value:function(){const{getTargetContainer:a}=this.context,{target:i}=this.props;return i!==void 0?i:a??mD}},{key:"componentDidMount",value:function(){this.timer=setTimeout(this.addListeners)}},{key:"componentDidUpdate",value:function(a){this.addListeners(),(a.offsetTop!==this.props.offsetTop||a.offsetBottom!==this.props.offsetBottom)&&this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){const{affixStyle:a,placeholderStyle:i}=this.state,{affixPrefixCls:s,rootClassName:l,children:d}=this.props,u=Ke(a&&l,{[s]:!!a});let T=aI(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls","rootClassName"]);return $e.createElement(KS,{onResize:this.updatePosition},$e.createElement("div",Object.assign({},T,{ref:this.placeholderNodeRef}),a&&$e.createElement("div",{style:i,"aria-hidden":"true"}),$e.createElement("div",{className:u,ref:this.fixedNodeRef,style:a},$e.createElement(KS,{onResize:this.updatePosition},d))))}}]),n}($e.Component);qI.contextType=fc;const hD=c.forwardRef((e,t)=>{const{prefixCls:n,rootClassName:r}=e,{getPrefixCls:a}=c.useContext(fc),i=a("affix",n),[s,l]=OD(i),d=Object.assign(Object.assign({},e),{affixPrefixCls:i,rootClassName:Ke(r,l)});return s($e.createElement(qI,Object.assign({},d,{ref:t})))}),ND=hD,nl=(e,t,n,r,a)=>({backgroundColor:e,border:`${r.lineWidth}px ${r.lineType} ${t}`,[`${a}-icon`]:{color:n}}),CD=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:a,fontSize:i,fontSizeLG:s,lineHeight:l,borderRadiusLG:d,motionEaseInOutCirc:u,withDescriptionIconSize:T,colorText:R,colorTextHeading:A,withDescriptionPadding:E,defaultPadding:S}=e;return{[t]:Object.assign(Object.assign({},FN(e)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:d,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:l},"&-message":{color:A},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${u}, opacity ${n} ${u},
        padding-top ${n} ${u}, padding-bottom ${n} ${u},
        margin-bottom ${n} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:E,[`${t}-icon`]:{marginInlineEnd:a,fontSize:T,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:A,fontSize:s},[`${t}-description`]:{display:"block",color:R}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},gD=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:a,colorWarning:i,colorWarningBorder:s,colorWarningBg:l,colorError:d,colorErrorBorder:u,colorErrorBg:T,colorInfo:R,colorInfoBorder:A,colorInfoBg:E}=e;return{[t]:{"&-success":nl(a,r,n,e,t),"&-info":nl(E,A,R,e,t),"&-warning":nl(l,s,i,e,t),"&-error":Object.assign(Object.assign({},nl(T,u,d,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},_D=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:a,fontSizeIcon:i,colorIcon:s,colorIconHover:l}=e;return{[t]:{"&-action":{marginInlineStart:a},[`${t}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:i,lineHeight:`${i}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:s,transition:`color ${r}`,"&:hover":{color:l}}},"&-close-text":{color:s,transition:`color ${r}`,"&:hover":{color:l}}}}},LD=e=>[CD(e),gD(e),_D(e)],vD=Bf("Alert",e=>[LD(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}));var DD=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bD={success:HN,info:jN,error:VN,warning:YN},PD=e=>{const{icon:t,prefixCls:n,type:r}=e,a=bD[r]||null;return t?jC(t,c.createElement("span",{className:`${n}-icon`},t),()=>({className:Ke(`${n}-icon`,{[t.props.className]:t.props.className})})):c.createElement(a,{className:`${n}-icon`})},yD=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:a}=e,i=r===!0||r===void 0?c.createElement(Da,null):r;return t?c.createElement("button",{type:"button",onClick:a,className:`${n}-close-icon`,tabIndex:0},i):null},MD=e=>{const{description:t,prefixCls:n,message:r,banner:a,className:i,rootClassName:s,style:l,onMouseEnter:d,onMouseLeave:u,onClick:T,afterClose:R,showIcon:A,closable:E,closeText:S,closeIcon:p,action:f}=e,I=DD(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[O,N]=c.useState(!1),h=c.useRef(null),{getPrefixCls:m,direction:g,alert:_}=c.useContext(fc),L=m("alert",n),[P,v]=vD(L),D=M=>{var B;N(!0),(B=e.onClose)===null||B===void 0||B.call(e,M)},b=c.useMemo(()=>e.type!==void 0?e.type:a?"warning":"info",[e.type,a]),C=c.useMemo(()=>S?!0:typeof E=="boolean"?E:p!==!1&&p!==null&&p!==void 0,[S,p,E]),y=a&&A===void 0?!0:A,w=Ke(L,`${L}-${b}`,{[`${L}-with-description`]:!!t,[`${L}-no-icon`]:!y,[`${L}-banner`]:!!a,[`${L}-rtl`]:g==="rtl"},_==null?void 0:_.className,i,s,v),x=HC(I,{aria:!0,data:!0});return P(c.createElement(GN,{visible:!O,motionName:`${L}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:M=>({maxHeight:M.offsetHeight}),onLeaveEnd:R},M=>{let{className:B,style:H}=M;return c.createElement("div",Object.assign({ref:h,"data-show":!O,className:Ke(w,B),style:Object.assign(Object.assign(Object.assign({},_==null?void 0:_.style),l),H),onMouseEnter:d,onMouseLeave:u,onClick:T,role:"alert"},x),y?c.createElement(PD,{description:t,icon:e.icon,prefixCls:L,type:b}):null,c.createElement("div",{className:`${L}-content`},r?c.createElement("div",{className:`${L}-message`},r):null,t?c.createElement("div",{className:`${L}-description`},t):null),f?c.createElement("div",{className:`${L}-action`},f):null,c.createElement(yD,{isClosable:C,prefixCls:L,closeIcon:S||p,handleClose:D}))}))},QI=MD;let xD=function(e){Ff(n,e);var t=Gf(n);function n(){var r;return Hf(this,n),r=t.apply(this,arguments),r.state={error:void 0,info:{componentStack:""}},r}return jf(n,[{key:"componentDidCatch",value:function(a,i){this.setState({error:a,info:i})}},{key:"render",value:function(){const{message:a,description:i,children:s}=this.props,{error:l,info:d}=this.state,u=d&&d.componentStack?d.componentStack:null,T=typeof a>"u"?(l||"").toString():a,R=typeof i>"u"?u:i;return l?c.createElement(QI,{type:"error",message:T,description:c.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},R)}):s}}]),n}(c.Component);const UD=xD,ZI=QI;ZI.ErrorBoundary=UD;const wD=ZI,{Option:ru}=Se;function DR(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const BD=(e,t)=>{const{prefixCls:n,className:r,popupClassName:a,dropdownClassName:i,children:s,dataSource:l}=e,d=VC(s);let u;d.length===1&&JS(d[0])&&!DR(d[0])&&([u]=d);const T=u?()=>u:void 0;let R;d.length&&DR(d[0])?R=s:R=l?l.map(S=>{if(JS(S))return S;switch(typeof S){case"string":return c.createElement(ru,{key:S,value:S},S);case"object":{const{value:p}=S;return c.createElement(ru,{key:p,value:p},S.text)}default:return}}):[];const{getPrefixCls:A}=c.useContext(fc),E=A("select",n);return c.createElement(Se,Object.assign({ref:t,suffixIcon:null},aI(e,["dataSource","dropdownClassName"]),{prefixCls:E,popupClassName:a||i,className:Ke(`${E}-auto-complete`,r),mode:Se.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:T}),R)},kc=c.forwardRef(BD),FD=YC(kc);kc.Option=ru;kc._InternalPanelDoNotUseOrYouWillBeFired=FD;const GD=kc,HD=Object.freeze(Object.defineProperty({__proto__:null,Popup:kC,default:WC},Symbol.toStringTag,{value:"Module"})),jD=Object.freeze(Object.defineProperty({__proto__:null,default:$C},Symbol.toStringTag,{value:"Module"}));var VD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-center",theme:"outlined"};const YD=VD;var WD=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:YD}))};const kD=c.forwardRef(WD);var $D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"}}]},name:"apartment",theme:"outlined"};const XD=$D;var zD=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:XD}))};const KD=c.forwardRef(zD);var JD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const qD=JD;var QD=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:qD}))};const eO=c.forwardRef(QD);var ZD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"};const eb=ZD;var tb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:eb}))};const nb=c.forwardRef(tb);var rb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const ab=rb;var ob=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:ab}))};const ib=c.forwardRef(ob);var sb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M894 462c30.9 0 43.8-39.7 18.7-58L530.8 126.2a31.81 31.81 0 00-37.6 0L111.3 404c-25.1 18.2-12.2 58 18.8 58H192v374h-72c-4.4 0-8 3.6-8 8v52c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-52c0-4.4-3.6-8-8-8h-72V462h62zM381 836H264V462h117v374zm189 0H453V462h117v374zm190 0H642V462h118v374z"}}]},name:"bank",theme:"filled"};const lb=sb;var cb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:lb}))};const db=c.forwardRef(cb);var Eb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zm-377.1-44.1c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-.6-.6-1.3-1.2-2-1.7l-78.2-78.2a9.11 9.11 0 00-12.8 0l-48 48a9.11 9.11 0 000 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256zm12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"}}]},name:"bg-colors",theme:"outlined"};const ub=Eb;var Tb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:ub}))};const Sb=c.forwardRef(Tb);var Rb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M856 376H648V168c0-8.8-7.2-16-16-16H168c-8.8 0-16 7.2-16 16v464c0 8.8 7.2 16 16 16h208v208c0 8.8 7.2 16 16 16h464c8.8 0 16-7.2 16-16V392c0-8.8-7.2-16-16-16zm-480 16v188H220V220h360v156H392c-8.8 0-16 7.2-16 16zm204 52v136H444V444h136zm224 360H444V648h188c8.8 0 16-7.2 16-16V444h156v360z"}}]},name:"block",theme:"outlined"};const pb=Rb;var Ab=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:pb}))};const fb=c.forwardRef(Ab);var Ib={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};const Ob=Ib;var mb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Ob}))};const Eo=c.forwardRef(mb);var hb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM513.1 518.1l-192 161c-5.2 4.4-13.1.7-13.1-6.1v-62.7c0-2.3 1.1-4.6 2.9-6.1L420.7 512l-109.8-92.2a7.63 7.63 0 01-2.9-6.1V351c0-6.8 7.9-10.5 13.1-6.1l192 160.9c3.9 3.2 3.9 9.1 0 12.3zM716 673c0 4.4-3.4 8-7.5 8h-185c-4.1 0-7.5-3.6-7.5-8v-48c0-4.4 3.4-8 7.5-8h185c4.1 0 7.5 3.6 7.5 8v48z"}}]},name:"code",theme:"filled"};const Nb=hb;var Cb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Nb}))};const gb=c.forwardRef(Cb);var _b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M301.3 496.7c-23.8 0-40.2-10.5-41.6-26.9H205c.9 43.4 36.9 70.3 93.9 70.3 59.1 0 95-28.4 95-75.5 0-35.8-20-55.9-64.5-64.5l-29.1-5.6c-23.8-4.7-33.8-11.9-33.8-24.2 0-15 13.3-24.5 33.4-24.5 20.1 0 35.3 11.1 36.6 27h53c-.9-41.7-37.5-70.3-90.3-70.3-54.4 0-89.7 28.9-89.7 73 0 35.5 21.2 58 62.5 65.8l29.7 5.9c25.8 5.2 35.6 11.9 35.6 24.4.1 14.7-14.5 25.1-36 25.1z"}},{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}},{tag:"path",attrs:{d:"M828.5 486.7h-95.8V308.5h-57.4V534h153.2zm-298.6 53.4c14.1 0 27.2-2 39.1-5.8l13.3 20.3h53.3L607.9 511c21.1-20 33-51.1 33-89.8 0-73.3-43.3-118.8-110.9-118.8s-111.2 45.3-111.2 118.8c-.1 73.7 43 118.9 111.1 118.9zm0-190c31.6 0 52.7 27.7 52.7 71.1 0 16.7-3.6 30.6-10 40.5l-5.2-6.9h-48.8L542 491c-3.9.9-8 1.4-12.2 1.4-31.7 0-52.8-27.5-52.8-71.2.1-43.6 21.2-71.1 52.9-71.1z"}}]},name:"console-sql",theme:"outlined"};const Lb=_b;var vb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Lb}))};const $c=c.forwardRef(vb);var Db={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"};const bb=Db;var Pb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:bb}))};const yb=c.forwardRef(Pb);var Mb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"}}]},name:"control",theme:"outlined"};const xb=Mb;var Ub=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:xb}))};const wb=c.forwardRef(Ub);var Bb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};const Fb=Bb;var Gb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Fb}))};const Hb=c.forwardRef(Gb);var jb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};const Vb=jb;var Yb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Vb}))};const Xi=c.forwardRef(Yb);var Wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"};const kb=Wb;var $b=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:kb}))};const bR=c.forwardRef($b);var Xb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z"}}]},name:"diff",theme:"outlined"};const zb=Xb;var Kb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:zb}))};const Jb=c.forwardRef(Kb);var qb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M573.7 252.5C422.5 197.4 201.3 96.7 201.3 96.7c-15.7-4.1-17.9 11.1-17.9 11.1-5 61.1 33.6 160.5 53.6 182.8 19.9 22.3 319.1 113.7 319.1 113.7S326 357.9 270.5 341.9c-55.6-16-37.9 17.8-37.9 17.8 11.4 61.7 64.9 131.8 107.2 138.4 42.2 6.6 220.1 4 220.1 4s-35.5 4.1-93.2 11.9c-42.7 5.8-97 12.5-111.1 17.8-33.1 12.5 24 62.6 24 62.6 84.7 76.8 129.7 50.5 129.7 50.5 33.3-10.7 61.4-18.5 85.2-24.2L565 743.1h84.6L603 928l205.3-271.9H700.8l22.3-38.7c.3.5.4.8.4.8S799.8 496.1 829 433.8l.6-1h-.1c5-10.8 8.6-19.7 10-25.8 17-71.3-114.5-99.4-265.8-154.5z"}}]},name:"dingtalk",theme:"outlined"};const Qb=qb;var Zb=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Qb}))};const eP=c.forwardRef(Zb);var tP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"};const nP=tP;var rP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:nP}))};const aP=c.forwardRef(rP);var oP={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};const iP=oP;var sP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:iP}))};const PR=c.forwardRef(sP);var lP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M875.6 515.9c2.1.8 4.4-.3 5.2-2.4.2-.4.2-.9.2-1.4v-58.3c0-1.8-1.1-3.3-2.8-3.8-6-1.8-17.2-3-27.2-3-32.9 0-61.7 16.7-73.5 41.2v-28.6c0-4.4-3.6-8-8-8H717c-4.4 0-8 3.6-8 8V729c0 4.4 3.6 8 8 8h54.8c4.4 0 8-3.6 8-8V572.7c0-36.2 26.1-60.2 65.1-60.2 10.4.1 26.6 1.8 30.7 3.4zm-537-40.5l-54.7-12.6c-61.2-14.2-87.7-34.8-87.7-70.7 0-44.6 39.1-73.5 96.9-73.5 52.8 0 91.4 26.5 99.9 68.9h70C455.9 311.6 387.6 259 293.4 259c-103.3 0-171 55.5-171 139 0 68.6 38.6 109.5 122.2 128.5l61.6 14.3c63.6 14.9 91.6 37.1 91.6 75.1 0 44.1-43.5 75.2-102.5 75.2-60.6 0-104.5-27.2-112.8-70.5H111c7.2 79.9 75.6 130.4 179.1 130.4C402.3 751 471 695.2 471 605.3c0-70.2-38.6-108.5-132.4-129.9zM841 729a36 36 0 1072 0 36 36 0 10-72 0zM653 457.8h-51.4V396c0-4.4-3.6-8-8-8h-54.7c-4.4 0-8 3.6-8 8v61.8H495c-4.4 0-8 3.6-8 8v42.3c0 4.4 3.6 8 8 8h35.9v147.5c0 56.2 27.4 79.4 93.1 79.4 11.7 0 23.6-1.2 33.8-3.1 1.9-.3 3.2-2 3.2-3.9v-49.3c0-2.2-1.8-4-4-4h-.4c-4.9.5-6.2.6-8.3.8-4.1.3-7.8.5-12.6.5-24.1 0-34.1-10.3-34.1-35.6V516.1H653c4.4 0 8-3.6 8-8v-42.3c0-4.4-3.6-8-8-8z"}}]},name:"field-string",theme:"outlined"};const cP=lP;var dP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:cP}))};const ms=c.forwardRef(dP);var EP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};const uP=EP;var TP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:uP}))};const SP=c.forwardRef(TP);var RP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M644.7 669.2a7.92 7.92 0 00-6.5-3.3H594c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.8-5.3 0-12.7-6.5-12.7h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-22.9-31.9zM688 306v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 458H208V148h560v296c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h312c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm402.6-320.8l-192-66.7c-.9-.3-1.7-.4-2.6-.4s-1.8.1-2.6.4l-192 66.7a7.96 7.96 0 00-5.4 7.5v251.1c0 2.5 1.1 4.8 3.1 6.3l192 150.2c1.4 1.1 3.2 1.7 4.9 1.7s3.5-.6 4.9-1.7l192-150.2c1.9-1.5 3.1-3.8 3.1-6.3V538.7c0-3.4-2.2-6.4-5.4-7.5zM826 763.7L688 871.6 550 763.7V577l138-48 138 48v186.7z"}}]},name:"file-protect",theme:"outlined"};const pP=RP;var AP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:pP}))};const fP=c.forwardRef(AP);var IP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"}}]},name:"file-unknown",theme:"outlined"};const OP=IP;var mP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:OP}))};const tc=c.forwardRef(mP);var hP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM632 577c0 3.8-3.4 7-7.5 7H540v84.9c0 3.9-3.2 7.1-7 7.1h-42c-3.8 0-7-3.2-7-7.1V584h-84.5c-4.1 0-7.5-3.2-7.5-7v-42c0-3.8 3.4-7 7.5-7H484v-84.9c0-3.9 3.2-7.1 7-7.1h42c3.8 0 7 3.2 7 7.1V528h84.5c4.1 0 7.5 3.2 7.5 7v42z"}}]},name:"folder-add",theme:"filled"};const NP=hP;var CP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:NP}))};const gP=c.forwardRef(CP);var _P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"};const LP=_P;var vP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:LP}))};const DP=c.forwardRef(vP);var bP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 416H616c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-56h60v320h-46c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h164c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8h-46V480h60v56c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V424c0-4.4-3.6-8-8-8zM656 296V168c0-4.4-3.6-8-8-8H104c-4.4 0-8 3.6-8 8v128c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-64h168v560h-92c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-92V232h168v64c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8z"}}]},name:"font-size",theme:"outlined"};const PP=bP;var yP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:PP}))};const MP=c.forwardRef(yP);var xP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const UP=xP;var wP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:UP}))};const tO=c.forwardRef(wP);var BP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M840 192h-56v-72c0-13.3-10.7-24-24-24H168c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h592c13.3 0 24-10.7 24-24V256h32v200H465c-22.1 0-40 17.9-40 40v136h-44c-4.4 0-8 3.6-8 8v228c0 .6.1 1.3.2 1.9A83.99 83.99 0 00457 960c46.4 0 84-37.6 84-84 0-2.1-.1-4.1-.2-6.1.1-.6.2-1.2.2-1.9V640c0-4.4-3.6-8-8-8h-44V520h351c22.1 0 40-17.9 40-40V232c0-22.1-17.9-40-40-40zM720 352H208V160h512v192zM477 876c0 11-9 20-20 20s-20-9-20-20V696h40v180z"}}]},name:"format-painter",theme:"outlined"};const FP=BP;var GP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:FP}))};const HP=c.forwardRef(GP);var jP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M841 370c3-3.3 2.7-8.3-.6-11.3a8.24 8.24 0 00-5.3-2.1h-72.6c-2.4 0-4.6 1-6.1 2.8L633.5 504.6a7.96 7.96 0 01-13.4-1.9l-63.5-141.3a7.9 7.9 0 00-7.3-4.7H380.7l.9-4.7 8-42.3c10.5-55.4 38-81.4 85.8-81.4 18.6 0 35.5 1.7 48.8 4.7l14.1-66.8c-22.6-4.7-35.2-6.1-54.9-6.1-103.3 0-156.4 44.3-175.9 147.3l-9.4 49.4h-97.6c-3.8 0-7.1 2.7-7.8 6.4L181.9 415a8.07 8.07 0 007.8 9.7H284l-89 429.9a8.07 8.07 0 007.8 9.7H269c3.8 0 7.1-2.7 7.8-6.4l89.7-433.1h135.8l68.2 139.1c1.4 2.9 1 6.4-1.2 8.8l-180.6 203c-2.9 3.3-2.6 8.4.7 11.3 1.5 1.3 3.4 2 5.3 2h72.7c2.4 0 4.6-1 6.1-2.8l123.7-146.7c2.8-3.4 7.9-3.8 11.3-1 .9.8 1.6 1.7 2.1 2.8L676.4 784c1.3 2.8 4.1 4.7 7.3 4.7h64.6a8.02 8.02 0 007.2-11.5l-95.2-198.9c-1.4-2.9-.9-6.4 1.3-8.8L841 370z"}}]},name:"function",theme:"outlined"};const VP=jP;var YP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:VP}))};const nO=c.forwardRef(YP);var WP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M312.1 591.5c3.1 3.1 8.2 3.1 11.3 0l101.8-101.8 86.1 86.2c3.1 3.1 8.2 3.1 11.3 0l226.3-226.5c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8a8.03 8.03 0 00-11.3 0L517 485.3l-86.1-86.2a8.03 8.03 0 00-11.3 0L275.3 543.4a8.03 8.03 0 000 11.3l36.8 36.8z"}},{tag:"path",attrs:{d:"M904 160H548V96c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H120c-17.7 0-32 14.3-32 32v520c0 17.7 14.3 32 32 32h356.4v32L311.6 884.1a7.92 7.92 0 00-2.3 11l30.3 47.2v.1c2.4 3.7 7.4 4.7 11.1 2.3L512 838.9l161.3 105.8c3.7 2.4 8.7 1.4 11.1-2.3v-.1l30.3-47.2a8 8 0 00-2.3-11L548 776.3V744h356c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 512H160V232h704v440z"}}]},name:"fund-projection-screen",theme:"outlined"};const kP=WP;var $P=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:kP}))};const rO=c.forwardRef($P);var XP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"};const zP=XP;var KP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:zP}))};const JP=c.forwardRef(KP);var qP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};const QP=qP;var ZP=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:QP}))};const ey=c.forwardRef(ZP);var ty={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"};const ny=ty;var ry=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:ny}))};const yR=c.forwardRef(ry);var ay={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M692.8 412.7l.2-.2-34.6-44.3a7.97 7.97 0 00-11.2-1.4l-50.4 39.3-70.5-90.1a7.97 7.97 0 00-11.2-1.4l-37.9 29.7a7.97 7.97 0 00-1.4 11.2l70.5 90.2-.2.1 34.6 44.3c2.7 3.5 7.7 4.1 11.2 1.4l50.4-39.3 64.1 82c2.7 3.5 7.7 4.1 11.2 1.4l37.9-29.6c3.5-2.7 4.1-7.7 1.4-11.2l-64.1-82.1zM608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5L114.3 856.1a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6C473 696.1 537.7 720 608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644s-118.2-23.7-161.2-66.8C403.7 534.2 380 476.9 380 416s23.7-118.2 66.8-161.2c43-43.1 100.3-66.8 161.2-66.8s118.2 23.7 161.2 66.8c43.1 43 66.8 100.3 66.8 161.2s-23.7 118.2-66.8 161.2z"}}]},name:"monitor",theme:"outlined"};const oy=ay;var iy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:oy}))};const aO=c.forwardRef(iy);var sy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7 3.3-27.3 19.8-41.9 50.1-49 18.4-4.3 38.8-4.9 57.3-3.2 1.7.2 3.5.3 5.2.5 11.3 2.7 22.8 5 34.3 6.8 34.1 5.6 68.8 8.4 101.8 6.6 92.8-5 156-45.9 159.2-132.7 3.1-84.1-54.7-143.7-147.9-183.6-29.9-12.8-61.6-22.7-93.3-30.2-14.3-3.4-26.3-5.7-35.2-7.2-7.9-75.9-71.5-133.8-147.8-134.4-76.3-.6-140.9 56.1-150.1 131.9s40 146.3 114.2 163.9c74.2 17.6 149.9-23.3 175.7-95.1 9.4 1.7 18.7 3.6 28 5.8 28.2 6.6 56.4 15.4 82.4 26.6 70.7 30.2 109.3 70.1 107.5 119.9-1.6 44.6-33.6 65.2-96.2 68.6-27.5 1.5-57.6-.9-87.3-5.8-8.3-1.4-15.9-2.8-22.6-4.3-3.9-.8-6.6-1.5-7.8-1.8l-3.1-.6c-2.2-.3-5.9-.8-10.7-1.3-25-2.3-52.1-1.5-78.5 4.6-55.2 12.9-93.9 47.2-101.1 105.8-15.7 126.2 78.6 184.7 276 188.9 29.1 70.4 106.4 107.9 179.6 87 73.3-20.9 119.3-93.4 106.9-168.6zM329.1 345.2a83.3 83.3 0 11.01-166.61 83.3 83.3 0 01-.01 166.61zM695.6 845a83.3 83.3 0 11.01-166.61A83.3 83.3 0 01695.6 845z"}}]},name:"node-index",theme:"outlined"};const ly=sy;var cy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:ly}))};const dy=c.forwardRef(cy);var Ey={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"};const uy=Ey;var Ty=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:uy}))};const hs=c.forwardRef(Ty);var Sy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M640.6 429.8h257.1c7.9 0 14.3-6.4 14.3-14.3V158.3c0-7.9-6.4-14.3-14.3-14.3H640.6c-7.9 0-14.3 6.4-14.3 14.3v92.9H490.6c-3.9 0-7.1 3.2-7.1 7.1v221.5h-85.7v-96.5c0-7.9-6.4-14.3-14.3-14.3H126.3c-7.9 0-14.3 6.4-14.3 14.3v257.2c0 7.9 6.4 14.3 14.3 14.3h257.1c7.9 0 14.3-6.4 14.3-14.3V544h85.7v221.5c0 3.9 3.2 7.1 7.1 7.1h135.7v92.9c0 7.9 6.4 14.3 14.3 14.3h257.1c7.9 0 14.3-6.4 14.3-14.3v-257c0-7.9-6.4-14.3-14.3-14.3h-257c-7.9 0-14.3 6.4-14.3 14.3v100h-78.6v-393h78.6v100c0 7.9 6.4 14.3 14.3 14.3zm53.5-217.9h150V362h-150V211.9zM329.9 587h-150V437h150v150zm364.2 75.1h150v150.1h-150V662.1z"}}]},name:"partition",theme:"outlined"};const Ry=Sy;var py=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Ry}))};const Ay=c.forwardRef(py);var fy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"};const Iy=fy;var Oy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Iy}))};const oO=c.forwardRef(Oy);var my={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"};const hy=my;var Ny=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:hy}))};const Cy=c.forwardRef(Ny);var gy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM694.5 340.7L481.9 633.4a16.1 16.1 0 01-26 0l-126.4-174c-3.8-5.3 0-12.7 6.5-12.7h55.2c5.1 0 10 2.5 13 6.6l64.7 89 150.9-207.8c3-4.1 7.8-6.6 13-6.6H688c6.5.1 10.3 7.5 6.5 12.8z"}}]},name:"safety-certificate",theme:"filled"};const _y=gy;var Ly=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:_y}))};const vy=c.forwardRef(Ly);var Dy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"};const by=Dy;var Py=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:by}))};const iO=c.forwardRef(Py);var yy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z"}}]},name:"save",theme:"filled"};const My=yy;var xy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:My}))};const Uy=c.forwardRef(xy);var wy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};const By=wy;var Fy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:By}))};const Gy=c.forwardRef(Fy);var Hy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 00-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 009.3-35.2l-.9-2.6a442.5 442.5 0 00-79.6-137.7l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.3a353.44 353.44 0 00-98.9 57.3l-81.8-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a445.93 445.93 0 00-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0025.8 25.7l2.7.5a448.27 448.27 0 00158.8 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"}}]},name:"setting",theme:"filled"};const jy=Hy;var Vy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:jy}))};const sO=c.forwardRef(Vy);var Yy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 432c-120.3 0-219.9 88.5-237.3 204H320c-15.5 0-28-12.5-28-28V244h291c14.2 35.2 48.7 60 89 60 53 0 96-43 96-96s-43-96-96-96c-40.3 0-74.8 24.8-89 60H112v72h108v364c0 55.2 44.8 100 100 100h114.7c17.4 115.5 117 204 237.3 204 132.5 0 240-107.5 240-240S804.5 432 672 432zm128 266c0 4.4-3.6 8-8 8h-86v86c0 4.4-3.6 8-8 8h-52c-4.4 0-8-3.6-8-8v-86h-86c-4.4 0-8-3.6-8-8v-52c0-4.4 3.6-8 8-8h86v-86c0-4.4 3.6-8 8-8h52c4.4 0 8 3.6 8 8v86h86c4.4 0 8 3.6 8 8v52z"}}]},name:"sisternode",theme:"outlined"};const Wy=Yy;var ky=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Wy}))};const $y=c.forwardRef(ky);var Xy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7a37.93 37.93 0 00-37-29.3H154a44 44 0 00-44 44v252a44 44 0 0044 44h75v388a44 44 0 0044 44h478a44 44 0 0044-44V466h75a44 44 0 0044-44V170a44 44 0 00-44-44zm-28 268H723v432H301V394H182V198h153.3c28.2 71.2 97.5 120 176.7 120s148.5-48.8 176.7-120H842v196z"}}]},name:"skin",theme:"outlined"};const zy=Xy;var Ky=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:zy}))};const Jy=c.forwardRef(Ky);var qy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"};const Qy=qy;var Zy=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:Qy}))};const eM=c.forwardRef(Zy);var tM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"};const nM=tM;var rM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:nM}))};const aM=c.forwardRef(rM);var oM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z"}}]},name:"sort-descending",theme:"outlined"};const iM=oM;var sM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:iM}))};const lM=c.forwardRef(sM);var cM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};const dM=cM;var EM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:dM}))};const Ao=c.forwardRef(EM);var uM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"};const TM=uM;var SM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:TM}))};const Xc=c.forwardRef(SM);var RM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};const pM=RM;var AM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:pM}))};const fM=c.forwardRef(AM);var IM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"};const OM=IM;var mM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:OM}))};const hM=c.forwardRef(mM);var NM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const CM=NM;var gM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:CM}))};const lO=c.forwardRef(gM);var _M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};const LM=_M;var vM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:LM}))};const MR=c.forwardRef(vM);var DM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const bM=DM;var PM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:bM}))};const nc=c.forwardRef(PM);var yM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 019.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 006.4-2.6 9 9 0 002.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 01-36 35.9z"}}]},name:"wechat",theme:"outlined"};const MM=yM;var xM=function(t,n){return c.createElement(fe,te({},t,{ref:n,icon:MM}))};const UM=c.forwardRef(xM),zc=c.createContext({aggregation:!1,onChangeAggregation:()=>{}}),mT=c.createContext({dataset:{},onRefreshDataset:void 0}),ka=c.createContext({dataView:{},expensiveQuery:!1,availableSourceFunctions:void 0}),wM=c.createContext({locale:"en",format:"LLL"});function Li(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Li=function(n){return typeof n}:Li=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Li(e)}function cO(e){var t=e.current;return t==null?null:t.decoratedRef?t.decoratedRef.current:t}function BM(e){return e&&e.prototype&&typeof e.prototype.render=="function"}function FM(e){var t,n=e;return(n==null||(t=n.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}function dO(e){return BM(e)||FM(e)}function xR(e){return typeof e=="function"}function EO(){}function GM(e){return Li(e)==="object"&&e!==null}function zi(e){if(!GM(e))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function hT(e,t){return typeof e=="string"||Li(e)==="symbol"||!!t&&Array.isArray(e)&&e.every(function(n){return hT(n,!1)})}function NT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CT(e,t,n){return t&&UR(e.prototype,t),n&&UR(e,n),e}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var au=function(){function e(t){NT(this,e),xa(this,"isDisposed",!1),xa(this,"action",void 0),this.action=xR(t)?t:EO}return CT(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(n){return!!(n&&xR(n.dispose))}},{key:"_fixup",value:function(n){return e.isDisposable(n)?n:e.empty}},{key:"create",value:function(n){return new e(n)}}]),e}();xa(au,"empty",{dispose:EO});var HM=function(){function e(){NT(this,e),xa(this,"isDisposed",!1),xa(this,"disposables",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return CT(e,[{key:"add",value:function(n){this.isDisposed?n.dispose():this.disposables.push(n)}},{key:"remove",value:function(n){var r=!1;if(!this.isDisposed){var a=this.disposables.indexOf(n);a!==-1&&(r=!0,this.disposables.splice(a,1),n.dispose())}return r}},{key:"clear",value:function(){if(!this.isDisposed){for(var n=this.disposables.length,r=new Array(n),a=0;a<n;a++)r[a]=this.disposables[a];this.disposables=[];for(var i=0;i<n;i++)r[i].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var n=this.disposables.length,r=new Array(n),a=0;a<n;a++)r[a]=this.disposables[a];this.disposables=[];for(var i=0;i<n;i++)r[i].dispose()}}}]),e}(),wR=function(){function e(){NT(this,e),xa(this,"isDisposed",!1),xa(this,"current",void 0)}return CT(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(n){var r=this.isDisposed;if(!r){var a=this.current;this.current=n,a&&a.dispose()}r&&n&&n.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var n=this.current;this.current=void 0,n&&n.dispose()}}}]),e}();function Nl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(n){return typeof n}:Nl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nl(e)}function jM(e,t){return kM(e)||WM(e,t)||YM(e,t)||VM()}function VM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YM(e,t){if(e){if(typeof e=="string")return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(e);!(a=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));a=!0);}catch(d){i=!0,l=d}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function kM(e){if(Array.isArray(e))return e}function $M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XM(e,t,n){return t&&FR(e.prototype,t),n&&FR(e,n),e}function zM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ou(e,t)}function ou(e,t){return ou=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},ou(e,t)}function KM(e){var t=qM();return function(){var r=rc(e),a;if(t){var i=rc(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return JM(this,a)}}function JM(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rc(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uO(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,a=e.createConnector,i=e.registerHandler,s=e.containerDisplayName,l=e.getType,d=e.collect,u=e.options,T=u.arePropsEqual,R=T===void 0?co:T,A=t,E=t.displayName||t.name||"Component",S=function(p){zM(I,p);var f=KM(I);function I(O){var N;return $M(this,I),N=f.call(this,O),Un(qn(N),"decoratedRef",c.createRef()),Un(qn(N),"handlerId",void 0),Un(qn(N),"manager",void 0),Un(qn(N),"handlerMonitor",void 0),Un(qn(N),"handlerConnector",void 0),Un(qn(N),"handler",void 0),Un(qn(N),"disposable",void 0),Un(qn(N),"currentType",void 0),Un(qn(N),"handleChange",function(){var h=N.getCurrentState();co(h,N.state)||N.setState(h)}),N.disposable=new wR,N.receiveProps(O),N.dispose(),N}return XM(I,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return ft(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(N,h){return!R(N,this.props)||!co(h,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new wR,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(N){R(this.props,N)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(N){this.handler&&(this.handler.receiveProps(N),this.receiveType(l(N)))}},{key:"receiveType",value:function(N){if(!(!this.handlerMonitor||!this.manager||!this.handlerConnector)&&N!==this.currentType){this.currentType=N;var h=i(N,this.handler,this.manager),m=jM(h,2),g=m[0],_=m[1];this.handlerId=g,this.handlerMonitor.receiveHandlerId(g),this.handlerConnector.receiveHandlerId(g);var L=this.manager.getMonitor(),P=L.subscribeToStateChange(this.handleChange,{handlerIds:[g]});this.disposable.setDisposable(new HM(new au(P),new au(_)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){if(!this.handlerConnector)return{};var N=d(this.handlerConnector.hooks,this.handlerMonitor,this.props);return N}},{key:"render",value:function(){var N=this;return o.jsx(FI.Consumer,{children:function(m){var g=m.dragDropManager;return N.receiveDragDropManager(g),typeof requestAnimationFrame<"u"&&requestAnimationFrame(function(){var _;return(_=N.handlerConnector)===null||_===void 0?void 0:_.reconnect()}),o.jsx(A,Object.assign({},N.props,N.getCurrentState(),{ref:dO(A)?N.decoratedRef:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(N){this.manager===void 0&&(ft(N!==void 0,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",E,E),N!==void 0&&(this.manager=N,this.handlerMonitor=r(N),this.handlerConnector=a(N.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}]),I}(c.Component);return Un(S,"DecoratedComponent",t),Un(S,"displayName","".concat(s,"(").concat(E,")")),$l(S,t)}function QM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZM(e,t,n){return t&&GR(e.prototype,t),n&&GR(e,n),e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HR=["canDrag","beginDrag","isDragging","endDrag"],ex=["beginDrag"],tx=function(){function e(t,n,r){var a=this;QM(this,e),ei(this,"props",null),ei(this,"spec",void 0),ei(this,"monitor",void 0),ei(this,"ref",void 0),ei(this,"beginDrag",function(){if(a.props){var i=a.spec.beginDrag(a.props,a.monitor,a.ref.current);return i}}),this.spec=t,this.monitor=n,this.ref=r}return ZM(e,[{key:"receiveProps",value:function(n){this.props=n}},{key:"canDrag",value:function(){return this.props?this.spec.canDrag?this.spec.canDrag(this.props,this.monitor):!0:!1}},{key:"isDragging",value:function(n,r){return this.props?this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):r===n.getSourceId():!1}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,cO(this.ref))}}]),e}();function nx(e){return Object.keys(e).forEach(function(t){ft(HR.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',HR.join(", "),t),ft(typeof e[t]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),ex.forEach(function(t){ft(typeof e[t]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),function(n,r){return new tx(e,n,r)}}function rx(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=e;typeof e!="function"&&(ft(hT(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),a=function(){return e}),ft(zi(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var i=nx(t);return ft(typeof n=="function",'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),ft(zi(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(l){return uO({containerDisplayName:"DragSource",createHandler:i,registerHandler:hv,createConnector:function(u){return new Nv(u)},createMonitor:function(u){return new Cv(u)},DecoratedComponent:l,getType:a,collect:n,options:r})}}function ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ox(e,t,n){return t&&jR(e.prototype,t),n&&jR(e,n),e}function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VR=["canDrop","hover","drop"],ix=function(){function e(t,n,r){ax(this,e),rl(this,"props",null),rl(this,"spec",void 0),rl(this,"monitor",void 0),rl(this,"ref",void 0),this.spec=t,this.monitor=n,this.ref=r}return ox(e,[{key:"receiveProps",value:function(n){this.props=n}},{key:"receiveMonitor",value:function(n){this.monitor=n}},{key:"canDrop",value:function(){return this.spec.canDrop?this.spec.canDrop(this.props,this.monitor):!0}},{key:"hover",value:function(){!this.spec.hover||!this.props||this.spec.hover(this.props,this.monitor,cO(this.ref))}},{key:"drop",value:function(){if(this.spec.drop){var n=this.spec.drop(this.props,this.monitor,this.ref.current);return n}}}]),e}();function sx(e){return Object.keys(e).forEach(function(t){ft(VR.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',VR.join(", "),t),ft(typeof e[t]=="function","Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])}),function(n,r){return new ix(e,n,r)}}function lx(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=e;typeof e!="function"&&(ft(hT(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),a=function(){return e}),ft(zi(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var i=sx(t);return ft(typeof n=="function",'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),ft(zi(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(l){return uO({containerDisplayName:"DropTarget",createHandler:i,registerHandler:gv,createMonitor:function(u){return new _v(u)},createConnector:function(u){return new Lv(u)},DecoratedComponent:l,getType:a,collect:n,options:r})}}function vi(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vi=function(n){return typeof n}:vi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vi(e)}function cx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dx(e,t,n){return t&&YR(e.prototype,t),n&&YR(e,n),e}function Ex(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iu(e,t)}function iu(e,t){return iu=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},iu(e,t)}function ux(e){var t=Sx();return function(){var r=ac(e),a;if(t){var i=ac(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Tx(this,a)}}function Tx(e,t){if(t&&(vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sx(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ac(e)}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ft(typeof e=="function",'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),ft(zi(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(r){var a=r,i=t.arePropsEqual,s=i===void 0?co:i,l=a.displayName||a.name||"Component",d=function(u){Ex(R,u);var T=ux(R);function R(){var A;cx(this,R);for(var E=arguments.length,S=new Array(E),p=0;p<E;p++)S[p]=arguments[p];return A=T.call.apply(T,[this].concat(S)),Br(Oa(A),"manager",void 0),Br(Oa(A),"isCurrentlyMounted",!1),Br(Oa(A),"unsubscribeFromOffsetChange",void 0),Br(Oa(A),"unsubscribeFromStateChange",void 0),Br(Oa(A),"ref",c.createRef()),Br(Oa(A),"handleChange",function(){if(A.isCurrentlyMounted){var f=A.getCurrentState();co(f,A.state)||A.setState(f)}}),A}return dx(R,[{key:"getDecoratedComponentInstance",value:function(){return ft(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(E,S){return!s(E,this.props)||!co(S,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var E=this;return o.jsx(FI.Consumer,{children:function(p){var f=p.dragDropManager;return f===void 0||(E.receiveDragDropManager(f),!E.isCurrentlyMounted)?null:o.jsx(a,Object.assign({},E.props,E.state,{ref:dO(a)?E.ref:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(E){if(this.manager===void 0){this.manager=E,ft(vi(E)==="object","Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",l,l);var S=this.manager.getMonitor();this.unsubscribeFromOffsetChange=S.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=S.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var E=this.manager.getMonitor();return e(E,this.props)}}]),R}(c.Component);return Br(d,"displayName","DragLayer(".concat(l,")")),Br(d,"DecoratedComponent",r),$l(d,r)}}function TO({mode:e="editor",...t}){return o.jsxs(o.Fragment,{children:[o.jsx(Es,{...t}),e==="editor"?o.jsx(vv,{}):o.jsx(Dv,{})]})}const SO=async()=>{const{data:e}=await Ne({url:"/download/tasks",method:"GET"});return{isNeedStopPolling:!(e||[]).some(n=>n.status===XC.CREATED),data:e||[]}},px=c.memo(({chartName:e,orgId:t,container:n,onSaveChart:r,onGoBack:a,onSaveChartToDashBoard:i})=>{const s=V("viz.workbench.header"),l=U(A_),[d,u]=c.useState(!1),T=U(mI),R=U(f_),A=de(),{actions:E}=eT(),S=c.useCallback((h,m)=>{i==null||i(h,m),u(!0)},[i]),p=c.useCallback(()=>{u(!1)},[]),f=c.useCallback(h=>{switch(h.key){case"save":r==null||r();break;case"saveToDashboard":u(!0);break}},[r]),I={items:[{key:"save",label:`${s("save")}${s("chart")}`,icon:o.jsx(I_,{})},{key:"saveToDashboard",label:s("saveToDashboard"),icon:o.jsx(hI,{})}],key:"menu",onClick:f},O=c.useCallback(()=>{u(!0)},[]),N=c.useCallback(h=>{A(E.setChartEditorDownloadPolling(h))},[A,E]);return As(()=>{l||A(kr(t))}),o.jsxs(Ax,{children:[o.jsx("h1",{children:e}),o.jsxs(Ge,{children:[o.jsx(XI,{polling:R,setPolling:N,onLoadTasks:SO,onDownloadFile:h=>{h.id&&oI(h.id).then(()=>{A(E.setChartEditorDownloadPolling(!0))})},renderDom:o.jsx(oe,{icon:o.jsx(bv,{}),children:s("downloadList")})}),o.jsx(oe,{type:"primary",ghost:!0,onClick:a,children:s("cancel")}),n!=="widget"?o.jsx(an.Button,{type:"primary",onClick:r,menu:I,icon:o.jsx(Xt,{}),children:s("save")}):o.jsx(oe,{type:"primary",onClick:r,children:s("save")}),o.jsx(O_,{orgId:t,title:s("saveToDashboard"),isModalVisible:d,backendChartId:T==null?void 0:T.id,handleOk:S,handleCancel:p,handleOpen:O})]})]})}),Ax=F.div.withConfig({displayName:"ChartHeaderPanel__Wrapper",componentId:"sc-u1em8e-0"})(["display:flex;flex-shrink:0;align-items:center;padding:"," "," "," ",";background-color:",";border-bottom:1px solid ",";color:",";h1{flex:1;padding:0 ",";font-size:",";font-weight:",";line-height:",";}"],It,ye,It,It,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit,e=>e.theme.textColorSnd,Le,rs,nn,yu);var Zd={},lr={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});var fx=function(){function e(t){this._name=t}return e.flip=function(t){return t===e.HORZ?e.VERT:e.HORZ},e.prototype.getName=function(){return this._name},e.prototype.toString=function(){return this._name},e.HORZ=new e("horz"),e.VERT=new e("vert"),e}();Ht.default=fx;var on={};Object.defineProperty(on,"__esModule",{value:!0});var Ix=Ht,Ox=function(){function e(t,n,r,a){this.x=t,this.y=n,this.width=r,this.height=a}return e.empty=function(){return new e(0,0,0,0)},e.fromElement=function(t){var n=t.getBoundingClientRect(),r=n.x,a=n.y,i=n.width,s=n.height;return new e(r,a,i,s)},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},e.prototype.getBottom=function(){return this.y+this.height},e.prototype.getRight=function(){return this.x+this.width},e.prototype.getCenter=function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},e.prototype.positionElement=function(t,n){this.styleWithPosition(t.style,n)},e.prototype.styleWithPosition=function(t,n){return n===void 0&&(n="absolute"),t.left=this.x+"px",t.top=this.y+"px",t.width=Math.max(0,this.width)+"px",t.height=Math.max(0,this.height)+"px",t.position=n,t},e.prototype.contains=function(t,n){return this.x<=t&&t<=this.getRight()&&this.y<=n&&n<=this.getBottom()},e.prototype.removeInsets=function(t){return new e(this.x+t.left,this.y+t.top,Math.max(0,this.width-t.left-t.right),Math.max(0,this.height-t.top-t.bottom))},e.prototype.centerInRect=function(t){this.x=(t.width-this.width)/2,this.y=(t.height-this.height)/2},e.prototype._getSize=function(t){var n=this.width;return t===Ix.default.VERT&&(n=this.height),n},e.prototype.toString=function(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},e}();on.default=Ox;Object.defineProperty(lr,"__esModule",{value:!0});var ti=Ht,An=on,mx=function(){function e(t,n,r){this._name=t,this._orientation=n,this._indexPlus=r,e.values[this._name]=this}return e.getByName=function(t){return e.values[t]},e.getLocation=function(t,n,r){if(n=(n-t.x)/t.width,r=(r-t.y)/t.height,n>=.25&&n<.75&&r>=.25&&r<.75)return e.CENTER;var a=r>=n,i=r>=1-n;return a?i?e.BOTTOM:e.LEFT:i?e.RIGHT:e.TOP},e.prototype.getName=function(){return this._name},e.prototype.getOrientation=function(){return this._orientation},e.prototype.getDockRect=function(t){return this===e.TOP?new An.default(t.x,t.y,t.width,t.height/2):this===e.BOTTOM?new An.default(t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===e.LEFT?new An.default(t.x,t.y,t.width/2,t.height):this===e.RIGHT?new An.default(t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()},e.prototype.split=function(t,n){if(this===e.TOP){var r=new An.default(t.x,t.y,t.width,n),a=new An.default(t.x,t.y+n,t.width,t.height-n);return{start:r,end:a}}else if(this===e.LEFT){var r=new An.default(t.x,t.y,n,t.height),a=new An.default(t.x+n,t.y,t.width-n,t.height);return{start:r,end:a}}if(this===e.RIGHT){var r=new An.default(t.getRight()-n,t.y,n,t.height),a=new An.default(t.x,t.y,t.width-n,t.height);return{start:r,end:a}}else{var r=new An.default(t.x,t.getBottom()-n,t.width,n),a=new An.default(t.x,t.y,t.width,t.height-n);return{start:r,end:a}}},e.prototype.reflect=function(){return this===e.TOP?e.BOTTOM:this===e.LEFT?e.RIGHT:this===e.RIGHT?e.LEFT:e.TOP},e.prototype.toString=function(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"},e.values={},e.TOP=new e("top",ti.default.VERT,0),e.BOTTOM=new e("bottom",ti.default.VERT,1),e.LEFT=new e("left",ti.default.HORZ,0),e.RIGHT=new e("right",ti.default.HORZ,1),e.CENTER=new e("center",ti.default.VERT,0),e}();lr.default=mx;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});var hx=on,Nx=!!(typeof window<"u"&&window.document&&window.document.createElement),Cx=function(){function e(){this._manualGlassManagement=!1,this._startX=0,this._startY=0,this._dragDepth=0,this._glassShowing=!1,this._dragging=!1,this._active=!1,Nx&&(this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.backgroundColor="transparent",this._glass.style.outline="none"),this._defaultGlassCursor="default",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._onDragCancel=this._onDragCancel.bind(this),this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this.resizeGlass=this.resizeGlass.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}return e.prototype.addGlass=function(t){var n;this._glassShowing?this._manualGlassManagement=!0:(this._document||(this._document=window.document),this._rootElement||(this._rootElement=this._document.body),this.resizeGlass(),(n=this._document.defaultView)===null||n===void 0||n.addEventListener("resize",this.resizeGlass),this._document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glass.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._glass.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._glass.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._glassShowing=!0,this._fDragCancel=t,this._manualGlassManagement=!1)},e.prototype.resizeGlass=function(){var t=hx.default.fromElement(this._rootElement);t.positionElement(this._glass,"fixed")},e.prototype.hideGlass=function(){var t;this._glassShowing&&(this._document.body.removeChild(this._glass),(t=this._document.defaultView)===null||t===void 0||t.removeEventListener("resize",this.resizeGlass),this._glassShowing=!1,this._document=void 0,this._rootElement=void 0,this.setGlassCursorOverride(void 0))},e.prototype._updateGlassCursor=function(){var t;this._glass.style.cursor=(t=this._glassCursorOverride)!==null&&t!==void 0?t:this._defaultGlassCursor},e.prototype._setDefaultGlassCursor=function(t){this._defaultGlassCursor=t,this._updateGlassCursor()},e.prototype.setGlassCursorOverride=function(t){this._glassCursorOverride=t,this._updateGlassCursor()},e.prototype.startDrag=function(t,n,r,a,i,s,l,d,u){if(!(t&&this._lastEvent&&this._lastEvent.type.startsWith("touch")&&t.type.startsWith("mouse")&&t.timeStamp-this._lastEvent.timeStamp<500)){this._lastEvent=t,d?this._document=d:this._document=window.document,u?this._rootElement=u:this._rootElement=this._document.body;var T=this._getLocationEvent(t);this.addGlass(i),this._dragging,t?(this._startX=T.clientX,this._startY=T.clientY,(!window.matchMedia||window.matchMedia("(pointer: fine)").matches)&&this._setDefaultGlassCursor(getComputedStyle(t.target).cursor),this._stopPropagation(t),this._preventDefault(t)):(this._startX=0,this._startY=0,this._setDefaultGlassCursor("default")),this._dragging=!1,this._fDragStart=n,this._fDragMove=r,this._fDragEnd=a,this._fDragCancel=i,this._fClick=s,this._fDblClick=l,this._active=!0,(t==null?void 0:t.type)==="dragenter"?(this._dragDepth=1,this._rootElement.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._rootElement.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._rootElement.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._document.addEventListener("dragend",this._onDragCancel,{passive:!1}),this._document.addEventListener("drop",this._onMouseUp,{passive:!1})):(this._document.addEventListener("mouseup",this._onMouseUp,{passive:!1}),this._document.addEventListener("mousemove",this._onMouseMove,{passive:!1}),this._document.addEventListener("touchend",this._onMouseUp,{passive:!1}),this._document.addEventListener("touchmove",this._onMouseMove,{passive:!1}))}},e.prototype.isDragging=function(){return this._dragging},e.prototype.isActive=function(){return this._active},e.prototype.toString=function(){var t="(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")";return t},e.prototype._onKeyPress=function(t){t.keyCode===27&&this._onDragCancel()},e.prototype._onDragCancel=function(){this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this.hideGlass(),this._fDragCancel!==void 0&&this._fDragCancel(this._dragging),this._dragging=!1,this._active=!1},e.prototype._getLocationEvent=function(t){var n=t;return t&&t.touches&&(n=t.touches[0]),n},e.prototype._getLocationEventEnd=function(t){var n=t;return t.changedTouches&&(n=t.changedTouches[0]),n},e.prototype._stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},e.prototype._preventDefault=function(t){return t.preventDefault&&t.cancelable&&t.preventDefault(),t},e.prototype._onMouseMove=function(t){this._lastEvent=t;var n=this._getLocationEvent(t);return this._stopPropagation(t),this._preventDefault(t),!this._dragging&&(Math.abs(this._startX-n.clientX)>5||Math.abs(this._startY-n.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._setDefaultGlassCursor("move"),this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(n),!1},e.prototype._onMouseUp=function(t){this._lastEvent=t;var n=this._getLocationEventEnd(t);if(this._stopPropagation(t),this._preventDefault(t),this._active=!1,this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this._manualGlassManagement||this.hideGlass(),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(t);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-n.clientX)<=5&&Math.abs(this._startY-n.clientY)<=5){var r=new Date().getTime();Math.abs(this._clickX-n.clientX)<=5&&Math.abs(this._clickY-n.clientY)<=5&&r-this._lastClick<500&&this._fDblClick&&this._fDblClick(t),this._fClick&&this._fClick(t),this._lastClick=r,this._clickX=n.clientX,this._clickY=n.clientY}return!1},e.prototype._onDragEnter=function(t){return this._preventDefault(t),this._stopPropagation(t),this._dragDepth++,!1},e.prototype._onDragLeave=function(t){return this._preventDefault(t),this._stopPropagation(t),this._dragDepth--,this._dragDepth<=0&&this._onDragCancel(),!1},e.instance=new e,e}();Ns.default=Cx;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});var gx=function(){function e(t,n,r,a,i){this.node=t,this.rect=n,this.location=r,this.index=a,this.className=i}return e}();yo.default=gx;var ia={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.I18nLabel=void 0,function(t){t.Close_Tab="Close",t.Close_Tabset="Close tabset",t.Move_Tab="Move: ",t.Move_Tabset="Move tabset",t.Maximize="Maximize tabset",t.Restore="Restore tabset",t.Float_Tab="Show selected tab in floating window",t.Overflow_Menu_Tooltip="Hidden tabs",t.Floating_Window_Message="This panel is shown in a floating window",t.Floating_Window_Show_Window="Show window",t.Floating_Window_Dock_Window="Dock window",t.Error_rendering_component="Error rendering component"}(e.I18nLabel||(e.I18nLabel={}))})(ia);var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});var _x=function(){function e(t,n){this.type=t,this.data=n}return e}();Kc.default=_x;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});var Jt=Kc,Lx=function(){function e(){}return e.addNode=function(t,n,r,a,i){return new Jt.default(e.ADD_NODE,{json:t,toNode:n,location:r.getName(),index:a,select:i})},e.moveNode=function(t,n,r,a,i){return new Jt.default(e.MOVE_NODE,{fromNode:t,toNode:n,location:r.getName(),index:a,select:i})},e.deleteTab=function(t){return new Jt.default(e.DELETE_TAB,{node:t})},e.deleteTabset=function(t){return new Jt.default(e.DELETE_TABSET,{node:t})},e.renameTab=function(t,n){return new Jt.default(e.RENAME_TAB,{node:t,text:n})},e.selectTab=function(t){return new Jt.default(e.SELECT_TAB,{tabNode:t})},e.setActiveTabset=function(t){return new Jt.default(e.SET_ACTIVE_TABSET,{tabsetNode:t})},e.adjustSplit=function(t){var n=t.node1Id,r=t.node2Id;return new Jt.default(e.ADJUST_SPLIT,{node1:n,weight1:t.weight1,pixelWidth1:t.pixelWidth1,node2:r,weight2:t.weight2,pixelWidth2:t.pixelWidth2})},e.adjustBorderSplit=function(t,n){return new Jt.default(e.ADJUST_BORDER_SPLIT,{node:t,pos:n})},e.maximizeToggle=function(t){return new Jt.default(e.MAXIMIZE_TOGGLE,{node:t})},e.updateModelAttributes=function(t){return new Jt.default(e.UPDATE_MODEL_ATTRIBUTES,{json:t})},e.updateNodeAttributes=function(t,n){return new Jt.default(e.UPDATE_NODE_ATTRIBUTES,{node:t,json:n})},e.floatTab=function(t){return new Jt.default(e.FLOAT_TAB,{node:t})},e.unFloatTab=function(t){return new Jt.default(e.UNFLOAT_TAB,{node:t})},e.ADD_NODE="FlexLayout_AddNode",e.MOVE_NODE="FlexLayout_MoveNode",e.DELETE_TAB="FlexLayout_DeleteTab",e.DELETE_TABSET="FlexLayout_DeleteTabset",e.RENAME_TAB="FlexLayout_RenameTab",e.SELECT_TAB="FlexLayout_SelectTab",e.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",e.ADJUST_SPLIT="FlexLayout_AdjustSplit",e.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",e.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",e.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",e.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",e.FLOAT_TAB="FlexLayout_FloatTab",e.UNFLOAT_TAB="FlexLayout_UnFloatTab",e}();Pn.default=Lx;var al={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});var vx=function(){function e(t,n,r,a){this.name=t,this.modelName=n,this.defaultValue=r,this.alwaysWriteJson=a,this.required=!1,this.fixed=!1,this.type="any"}return e.prototype.setType=function(t){return this.type=t,this},e.prototype.setRequired=function(){return this.required=!0,this},e.prototype.setFixed=function(){return this.fixed=!0,this},e.NUMBER="number",e.STRING="string",e.BOOLEAN="boolean",e}();sa.default=vx;var la={};Object.defineProperty(la,"__esModule",{value:!0});var Dx=sa,bx=function(){function e(){this.attributes=[],this.nameToAttribute={}}return e.prototype.addWithAll=function(t,n,r,a){var i=new Dx.default(t,n,r,a);return this.attributes.push(i),this.nameToAttribute[t]=i,i},e.prototype.addInherited=function(t,n){return this.addWithAll(t,n,void 0,!1)},e.prototype.add=function(t,n,r){return this.addWithAll(t,void 0,n,r)},e.prototype.getAttributes=function(){return this.attributes},e.prototype.getModelName=function(t){var n=this.nameToAttribute[t];if(n!==void 0)return n.modelName},e.prototype.toJson=function(t,n){this.attributes.forEach(function(r){var a=n[r.name];(r.alwaysWriteJson||a!==r.defaultValue)&&(t[r.name]=a)})},e.prototype.fromJson=function(t,n){this.attributes.forEach(function(r){var a=t[r.name];a===void 0?n[r.name]=r.defaultValue:n[r.name]=a})},e.prototype.update=function(t,n){this.attributes.forEach(function(r){var a=t[r.name];a!==void 0&&(n[r.name]=a)})},e.prototype.setDefaults=function(t){this.attributes.forEach(function(n){t[n.name]=n.defaultValue})},e.prototype.toTypescriptInterface=function(t,n){var r=[],a=this.attributes.sort(function(S,p){return S.name.localeCompare(p.name)});r.push("export interface I"+t+"Attributes {");for(var i=0;i<a.length;i++){var s=a[i],l=s.type,d=void 0,u=s,T=void 0;u.defaultValue!==void 0?d=u.defaultValue:u.modelName!==void 0&&n!==void 0&&n.nameToAttribute[u.modelName]!==void 0&&(T=u.modelName,u=n.nameToAttribute[u.modelName],d=u.defaultValue,l=u.type);var R=JSON.stringify(d),A=u.required||u.fixed?"":"?";if(s.fixed)r.push("	"+s.name+": "+R+";");else{var E=(d!==void 0?"default: "+R:"")+(T!==void 0?" - inherited from global "+T:"");r.push("	"+s.name+A+": "+l+";"+(E.length>0?" // "+E:""))}}return r.push("}"),r.join(`
`)},e}();la.default=bx;var jt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CLASSES=void 0,function(t){t.FLEXLAYOUT__BORDER="flexlayout__border",t.FLEXLAYOUT__BORDER_="flexlayout__border_",t.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",t.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",t.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",t.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",t.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",t.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",t.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",t.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",t.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",t.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",t.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",t.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",t.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",t.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",t.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",t.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",t.FLEXLAYOUT__LAYOUT="flexlayout__layout",t.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",t.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",t.FLEXLAYOUT__SPLITTER="flexlayout__splitter",t.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",t.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",t.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",t.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",t.FLEXLAYOUT__TAB="flexlayout__tab",t.FLEXLAYOUT__TABSET="flexlayout__tabset",t.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",t.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",t.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",t.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",t.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",t.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",t.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",t.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",t.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",t.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",t.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",t.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",t.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",t.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",t.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",t.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",t.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",t.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",t.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",t.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",t.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",t.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",t.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",t.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",t.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(e.CLASSES||(e.CLASSES={}))})(jt);var ca={};Object.defineProperty(ca,"__esModule",{value:!0});var eE=lr,tE=Ht,Px=on,yx=function(){function e(t){this._dirty=!1,this._tempSize=0,this._model=t,this._attributes={},this._children=[],this._fixed=!1,this._rect=Px.default.empty(),this._visible=!1,this._listeners={}}return e.prototype.getId=function(){var t=this._attributes.id;return t!==void 0||(t=this._model._nextUniqueId(),this._setId(t)),t},e.prototype.getModel=function(){return this._model},e.prototype.getType=function(){return this._attributes.type},e.prototype.getParent=function(){return this._parent},e.prototype.getChildren=function(){return this._children},e.prototype.getRect=function(){return this._rect},e.prototype.isVisible=function(){return this._visible},e.prototype.getOrientation=function(){return this._parent===void 0?this._model.isRootOrientationVertical()?tE.default.VERT:tE.default.HORZ:tE.default.flip(this._parent.getOrientation())},e.prototype.setEventListener=function(t,n){this._listeners[t]=n},e.prototype.removeEventListener=function(t){delete this._listeners[t]},e.prototype._setId=function(t){this._attributes.id=t},e.prototype._fireEvent=function(t,n){this._listeners[t]!==void 0&&this._listeners[t](n)},e.prototype._getAttr=function(t){var n=this._attributes[t];if(n===void 0){var r=this._getAttributeDefinitions().getModelName(t);r!==void 0&&(n=this._model._getAttribute(r))}return n},e.prototype._forEachNode=function(t,n){t(this,n),n++,this._children.forEach(function(r){r._forEachNode(t,n)})},e.prototype._setVisible=function(t){t!==this._visible&&(this._fireEvent("visibility",{visible:t}),this._visible=t)},e.prototype._getDrawChildren=function(){return this._children},e.prototype._setParent=function(t){this._parent=t},e.prototype._setRect=function(t){this._rect=t},e.prototype._setWeight=function(t){this._attributes.weight=t},e.prototype._setSelected=function(t){this._attributes.selected=t},e.prototype._isFixed=function(){return this._fixed},e.prototype._layout=function(t,n){this._rect=t},e.prototype._findDropTargetNode=function(t,n,r){var a;if(this._rect.contains(n,r)&&(a=this.canDrop(t,n,r),a===void 0&&this._children.length!==0))for(var i=0,s=this._children;i<s.length;i++){var l=s[i];if(a=l._findDropTargetNode(t,n,r),a!==void 0)break}return a},e.prototype.canDrop=function(t,n,r){},e.prototype._canDockInto=function(t,n){if(n!=null){if(n.location===eE.default.CENTER&&n.node.isEnableDrop()===!1||n.location===eE.default.CENTER&&t.getType()==="tabset"&&t.getName()!==void 0||n.location!==eE.default.CENTER&&n.node.isEnableDivide()===!1)return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(t,n)}return!0},e.prototype._removeChild=function(t){var n=this._children.indexOf(t);return n!==-1&&this._children.splice(n,1),this._dirty=!0,n},e.prototype._addChild=function(t,n){return n!=null?this._children.splice(n,0,t):(this._children.push(t),n=this._children.length-1),t._parent=this,this._dirty=!0,n},e.prototype._removeAll=function(){this._children=[],this._dirty=!0},e.prototype._styleWithPosition=function(t){return t==null&&(t={}),this._rect.styleWithPosition(t)},e.prototype._getTempSize=function(){return this._tempSize},e.prototype._setTempSize=function(t){this._tempSize=t},e.prototype.isEnableDivide=function(){return!0},e.prototype._toAttributeString=function(){return JSON.stringify(this._attributes,void 0,"	")},e}();ca.default=yx;var Mo={},Mx=at&&at.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Mo,"__esModule",{value:!0});var xx=la,nE=Ht,Ux=ca,wx=function(e){Mx(t,e);function t(n){var r=e.call(this,n)||this;return r._fixed=!0,r._attributes.type=t.TYPE,n._addNode(r),r}return t.prototype.getWidth=function(){return this._model.getSplitterSize()},t.prototype.getMinWidth=function(){return this.getOrientation()===nE.default.VERT?this._model.getSplitterSize():0},t.prototype.getHeight=function(){return this._model.getSplitterSize()},t.prototype.getMinHeight=function(){return this.getOrientation()===nE.default.HORZ?this._model.getSplitterSize():0},t.prototype.getMinSize=function(n){return n===nE.default.HORZ?this.getMinWidth():this.getMinHeight()},t.prototype.getWeight=function(){return 0},t.prototype._setWeight=function(n){},t.prototype._getPrefSize=function(n){return this._model.getSplitterSize()},t.prototype._updateAttrs=function(n){},t.prototype._getAttributeDefinitions=function(){return new xx.default},t.prototype.toJson=function(){},t.TYPE="splitter",t}(Ux.default);Mo.default=wx;var $a={},Bx=at&&at.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty($a,"__esModule",{value:!0});var Vt=sa,Fx=la,Gx=ca,Hx=function(e){Bx(t,e);function t(n,r,a){a===void 0&&(a=!0);var i=e.call(this,n)||this;return i._extra={},t._attributeDefinitions.fromJson(r,i._attributes),a===!0&&n._addNode(i),i}return t._fromJson=function(n,r,a){a===void 0&&(a=!0);var i=new t(r,n,a);return i},t._createAttributeDefinitions=function(){var n=new Fx.default;return n.add("type",t.TYPE,!0).setType(Vt.default.STRING),n.add("id",void 0).setType(Vt.default.STRING),n.add("name","[Unnamed Tab]").setType(Vt.default.STRING),n.add("helpText",void 0).setType(Vt.default.STRING),n.add("component",void 0).setType(Vt.default.STRING),n.add("config",void 0).setType("any"),n.add("floating",!1).setType(Vt.default.BOOLEAN),n.addInherited("enableClose","tabEnableClose").setType(Vt.default.BOOLEAN),n.addInherited("closeType","tabCloseType").setType("ICloseType"),n.addInherited("enableDrag","tabEnableDrag").setType(Vt.default.BOOLEAN),n.addInherited("enableRename","tabEnableRename").setType(Vt.default.BOOLEAN),n.addInherited("className","tabClassName").setType(Vt.default.STRING),n.addInherited("icon","tabIcon").setType(Vt.default.STRING),n.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(Vt.default.BOOLEAN),n.addInherited("enableFloat","tabEnableFloat").setType(Vt.default.BOOLEAN),n.addInherited("borderWidth","tabBorderWidth").setType(Vt.default.NUMBER),n.addInherited("borderHeight","tabBorderHeight").setType(Vt.default.NUMBER),n},t.prototype.getWindow=function(){return this._window},t.prototype.getTabRect=function(){return this._tabRect},t.prototype._setTabRect=function(n){this._tabRect=n},t.prototype._setRenderedName=function(n){this._renderedName=n},t.prototype._getRenderedName=function(){return this._renderedName},t.prototype.getName=function(){return this._getAttr("name")},t.prototype.getHelpText=function(){return this._getAttr("helpText")},t.prototype.getComponent=function(){return this._getAttr("component")},t.prototype.getConfig=function(){return this._attributes.config},t.prototype.getExtraData=function(){return this._extra},t.prototype.isFloating=function(){return this._getAttr("floating")},t.prototype.getIcon=function(){return this._getAttr("icon")},t.prototype.isEnableClose=function(){return this._getAttr("enableClose")},t.prototype.getCloseType=function(){return this._getAttr("closeType")},t.prototype.isEnableFloat=function(){return this._getAttr("enableFloat")},t.prototype.isEnableDrag=function(){return this._getAttr("enableDrag")},t.prototype.isEnableRename=function(){return this._getAttr("enableRename")},t.prototype.getClassName=function(){return this._getAttr("className")},t.prototype.isEnableRenderOnDemand=function(){return this._getAttr("enableRenderOnDemand")},t.prototype._setName=function(n){this._attributes.name=n,this._window&&this._window.document&&(this._window.document.title=n)},t.prototype._setFloating=function(n){this._attributes.floating=n},t.prototype._layout=function(n,r){n.equals(this._rect)||this._fireEvent("resize",{rect:n}),this._rect=n},t.prototype._delete=function(){this._parent._remove(this),this._fireEvent("close",{})},t.prototype.toJson=function(){var n={};return t._attributeDefinitions.toJson(n,this._attributes),n},t.prototype._updateAttrs=function(n){t._attributeDefinitions.update(n,this._attributes)},t.prototype._getAttributeDefinitions=function(){return t._attributeDefinitions},t.prototype._setWindow=function(n){this._window=n},t.prototype._setBorderWidth=function(n){this._attributes.borderWidth=n},t.prototype._setBorderHeight=function(n){this._attributes.borderHeight=n},t.getAttributeDefinitions=function(){return t._attributeDefinitions},t.TYPE="tab",t._attributeDefinitions=t._createAttributeDefinitions(),t}(Gx.default);$a.default=Hx;var Er={},ol={},il={},WR;function gT(){if(WR)return il;WR=1;var e=at&&at.__extends||function(){var S=function(p,f){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&(I[N]=O[N])},S(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");S(p,f);function I(){this.constructor=p}p.prototype=f===null?Object.create(f):(I.prototype=f.prototype,new I)}}(),t=at&&at.__assign||function(){return t=Object.assign||function(S){for(var p,f=1,I=arguments.length;f<I;f++){p=arguments[f];for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(S[O]=p[O])}return S},t.apply(this,arguments)};Object.defineProperty(il,"__esModule",{value:!0});var n=sa,r=la,a=lr,i=yo,s=Ht,l=on,d=jt,u=Xa(),T=ca,R=Mo,A=da(),E=function(S){e(p,S);function p(f,I){var O=S.call(this,f)||this;return O._dirty=!0,O._drawChildren=[],O.minHeight=0,O.minWidth=0,p._attributeDefinitions.fromJson(I,O._attributes),f._addNode(O),O}return p._fromJson=function(f,I){var O=new p(I,f);if(f.children!=null)for(var N=0,h=f.children;N<h.length;N++){var m=h[N];if(m.type===A.default.TYPE){var g=A.default._fromJson(m,I);O._addChild(g)}else{var g=p._fromJson(m,I);O._addChild(g)}}return O},p._createAttributeDefinitions=function(){var f=new r.default;return f.add("type",p.TYPE,!0).setType(n.default.STRING).setFixed(),f.add("id",void 0).setType(n.default.STRING),f.add("weight",100).setType(n.default.NUMBER),f.add("width",void 0).setType(n.default.NUMBER),f.add("height",void 0).setType(n.default.NUMBER),f},p.prototype.getWeight=function(){return this._attributes.weight},p.prototype.getWidth=function(){return this._getAttr("width")},p.prototype.getHeight=function(){return this._getAttr("height")},p.prototype._setWeight=function(f){this._attributes.weight=f},p.prototype._layout=function(f,I){S.prototype._layout.call(this,f,I);for(var O=this._rect._getSize(this.getOrientation()),N=0,h=0,m=0,g=0,_=this._getDrawChildren(),L=0,P=_;L<P.length;L++){var v=P[L],D=v._getPrefSize(this.getOrientation());v._isFixed()?D!==void 0&&(h+=D):D===void 0?N+=v.getWeight():(m+=D,g+=v.getWeight())}var b=!1,C=O-h-m;C<0&&(C=O-h,b=!0,N+=g);for(var y=0,w=0,x=0,M=_;x<M.length;x++){var v=M[x],D=v._getPrefSize(this.getOrientation());if(v._isFixed())D!==void 0&&v._setTempSize(D);else if(D==null||b){if(N===0)v._setTempSize(0);else{var B=v.getMinSize(this.getOrientation()),H=Math.floor(C*(v.getWeight()/N));v._setTempSize(Math.max(B,H))}w+=v._getTempSize()}else v._setTempSize(D);y+=v._getTempSize()}if(w>0){for(;y<O;)for(var j=0,X=_;j<X.length;j++){var v=X[j];if(!(v instanceof R.default)){var D=v._getPrefSize(this.getOrientation());!v._isFixed()&&(D===void 0||b)&&y<O&&(v._setTempSize(v._getTempSize()+1),y++)}}for(;y>O;){for(var W=!1,J=0,q=_;J<q.length;J++){var v=q[J];if(!(v instanceof R.default)){var B=v.getMinSize(this.getOrientation()),H=v._getTempSize();H>B&&y>O&&(v._setTempSize(v._getTempSize()-1),y--,W=!0)}}if(!W)break}for(;y>O;){for(var W=!1,Z=0,ce=_;Z<ce.length;Z++){var v=ce[Z];if(!(v instanceof R.default)){var H=v._getTempSize();H>0&&y>O&&(v._setTempSize(v._getTempSize()-1),y--,W=!0)}}if(!W)break}}for(var Ce=0,k=0,ne=_;k<ne.length;k++){var v=ne[k];this.getOrientation()===s.default.HORZ?v._layout(new l.default(this._rect.x+Ce,this._rect.y,v._getTempSize(),this._rect.height),I):v._layout(new l.default(this._rect.x,this._rect.y+Ce,this._rect.width,v._getTempSize()),I),Ce+=v._getTempSize()}return!0},p.prototype._getSplitterBounds=function(f,I){I===void 0&&(I=!1);var O=[0,0],N=this._getDrawChildren(),h=N.indexOf(f),m=N[h-1],g=N[h+1];if(this.getOrientation()===s.default.HORZ){var _=I?m.getMinWidth():0,L=I?g.getMinWidth():0;O[0]=m.getRect().x+_,O[1]=g.getRect().getRight()-f.getWidth()-L}else{var _=I?m.getMinHeight():0,L=I?g.getMinHeight():0;O[0]=m.getRect().y+_,O[1]=g.getRect().getBottom()-f.getHeight()-L}return O},p.prototype._calculateSplit=function(f,I){var O,N=this._getDrawChildren(),h=N.indexOf(f),m=this._getSplitterBounds(f),g=N[h-1].getWeight()+N[h+1].getWeight(),_=Math.max(0,I-m[0]),L=Math.max(0,m[1]-I);if(_+L>0){var P=_*g/(_+L),v=L*g/(_+L);O={node1Id:N[h-1].getId(),weight1:P,pixelWidth1:_,node2Id:N[h+1].getId(),weight2:v,pixelWidth2:L}}return O},p.prototype._getDrawChildren=function(){if(this._dirty){this._drawChildren=[];for(var f=0;f<this._children.length;f++){var I=this._children[f];if(f!==0){var O=new R.default(this._model);O._setParent(this),this._drawChildren.push(O)}this._drawChildren.push(I)}this._dirty=!1}return this._drawChildren},p.prototype.getMinSize=function(f){return f===s.default.HORZ?this.getMinWidth():this.getMinHeight()},p.prototype.getMinWidth=function(){return this.minWidth},p.prototype.getMinHeight=function(){return this.minHeight},p.prototype.calcMinSize=function(){var f=this;this.minHeight=0,this.minWidth=0;var I=!0;this._children.forEach(function(O){var N=O;N instanceof p&&N.calcMinSize(),f.getOrientation()===s.default.VERT?(f.minHeight+=N.getMinHeight(),I||(f.minHeight+=f._model.getSplitterSize()),f.minWidth=Math.max(f.minWidth,N.getMinWidth())):(f.minWidth+=N.getMinWidth(),I||(f.minWidth+=f._model.getSplitterSize()),f.minHeight=Math.max(f.minHeight,N.getMinHeight())),I=!1})},p.prototype._tidy=function(){for(var f=0;f<this._children.length;){var I=this._children[f];if(I instanceof p){I._tidy();var O=I.getChildren();if(O.length===0)this._removeChild(I);else if(O.length===1){var N=O[0];if(this._removeChild(I),N instanceof p){for(var h=0,m=N.getChildren(),g=0,_=m;g<_.length;g++){var L=_[g],P=L;h+=P.getWeight()}for(var v=0;v<m.length;v++){var P=m[v];P._setWeight(I.getWeight()*P.getWeight()/h),this._addChild(P,f+v)}}else N._setWeight(I.getWeight()),this._addChild(N,f)}else f++}else I instanceof A.default&&I.getChildren().length===0&&I.isEnableDeleteWhenEmpty()?(this._removeChild(I),I===this._model.getMaximizedTabset()&&this._model._setMaximizedTabset(void 0)):f++}if(this===this._model.getRoot()&&this._children.length===0){var D=this._model._getOnCreateTabSet(),b=D?D():{};b=t(t({},b),{selected:-1});var I=new A.default(this._model,b);this._model._setActiveTabset(I),this._addChild(I)}},p.prototype.canDrop=function(f,I,O){var N=O-this._rect.y,h=I-this._rect.x,m=this._rect.width,g=this._rect.height,_=10,L=50,P;if(this._model.isEnableEdgeDock()&&this._parent===void 0){if(I<this._rect.x+_&&N>g/2-L&&N<g/2+L){var v=a.default.LEFT,D=v.getDockRect(this._rect);D.width=D.width/2,P=new i.default(this,D,v,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(I>this._rect.getRight()-_&&N>g/2-L&&N<g/2+L){var v=a.default.RIGHT,D=v.getDockRect(this._rect);D.width=D.width/2,D.x+=D.width,P=new i.default(this,D,v,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(O<this._rect.y+_&&h>m/2-L&&h<m/2+L){var v=a.default.TOP,D=v.getDockRect(this._rect);D.height=D.height/2,P=new i.default(this,D,v,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(O>this._rect.getBottom()-_&&h>m/2-L&&h<m/2+L){var v=a.default.BOTTOM,D=v.getDockRect(this._rect);D.height=D.height/2,D.y+=D.height,P=new i.default(this,D,v,-1,d.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(P!==void 0&&!f._canDockInto(f,P))return}return P},p.prototype.drop=function(f,I,O){var N=I,h=f.getParent();h&&h._removeChild(f),h!==void 0&&h.getType()===A.default.TYPE&&h._setSelected(0),h!==void 0&&h.getType()===u.default.TYPE&&h._setSelected(-1);var m;if(f instanceof A.default)m=f;else{var g=this._model._getOnCreateTabSet();m=new A.default(this._model,g?g(f):{}),m._addChild(f)}var _=this._children.reduce(function(b,C){return b+C.getWeight()},0);_===0&&(_=100),m._setWeight(_/3);var L=!this._model.isRootOrientationVertical();if(L&&N===a.default.LEFT||!L&&N===a.default.TOP)this._addChild(m,0);else if(L&&N===a.default.RIGHT||!L&&N===a.default.BOTTOM)this._addChild(m);else if(L&&N===a.default.TOP||!L&&N===a.default.LEFT){var P=new p(this._model,{}),v=new p(this._model,{});v._setWeight(75),m._setWeight(25),this._children.forEach(function(b){v._addChild(b)}),this._removeAll(),P._addChild(m),P._addChild(v),this._addChild(P)}else if(L&&N===a.default.BOTTOM||!L&&N===a.default.RIGHT){var P=new p(this._model,{}),D=new p(this._model,{});D._setWeight(75),m._setWeight(25),this._children.forEach(function(C){D._addChild(C)}),this._removeAll(),P._addChild(D),P._addChild(m),this._addChild(P)}this._model._setActiveTabset(m),this._model._tidy()},p.prototype.toJson=function(){var f={};return p._attributeDefinitions.toJson(f,this._attributes),f.children=[],this._children.forEach(function(I){f.children.push(I.toJson())}),f},p.prototype.isEnableDrop=function(){return!0},p.prototype._getPrefSize=function(f){var I=this.getWidth();return f===s.default.VERT&&(I=this.getHeight()),I},p.prototype._getAttributeDefinitions=function(){return p._attributeDefinitions},p.prototype._updateAttrs=function(f){p._attributeDefinitions.update(f,this._attributes)},p.getAttributeDefinitions=function(){return p._attributeDefinitions},p.TYPE="row",p._attributeDefinitions=p._createAttributeDefinitions(),p}(T.default);return il.default=E,il}var kR;function da(){if(kR)return ol;kR=1;var e=at&&at.__extends||function(){var E=function(S,p){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,I){f.__proto__=I}||function(f,I){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(f[O]=I[O])},E(S,p)};return function(S,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");E(S,p);function f(){this.constructor=S}S.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(ol,"__esModule",{value:!0});var t=sa,n=la,r=lr,a=yo,i=Ht,s=on,l=jt,d=ca,u=gT(),T=$a,R=_T(),A=function(E){e(S,E);function S(p,f){var I=E.call(this,p)||this;return S._attributeDefinitions.fromJson(f,I._attributes),p._addNode(I),I.calculatedTabBarHeight=0,I.calculatedHeaderBarHeight=0,I}return S._fromJson=function(p,f){var I=new S(f,p);return p.children!=null&&p.children.forEach(function(O){var N=T.default._fromJson(O,f);I._addChild(N)}),I._children.length===0&&I._setSelected(-1),p.maximized&&p.maximized===!0&&f._setMaximizedTabset(I),p.active&&p.active===!0&&f._setActiveTabset(I),I},S._createAttributeDefinitions=function(){var p=new n.default;return p.add("type",S.TYPE,!0).setType(t.default.STRING).setFixed(),p.add("id",void 0).setType(t.default.STRING),p.add("weight",100).setType(t.default.NUMBER),p.add("width",void 0).setType(t.default.NUMBER),p.add("height",void 0).setType(t.default.NUMBER),p.add("selected",0).setType(t.default.NUMBER),p.add("name",void 0).setType(t.default.STRING),p.add("config",void 0).setType("any"),p.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),p.addInherited("enableDrop","tabSetEnableDrop"),p.addInherited("enableDrag","tabSetEnableDrag"),p.addInherited("enableDivide","tabSetEnableDivide"),p.addInherited("enableMaximize","tabSetEnableMaximize"),p.addInherited("enableClose","tabSetEnableClose"),p.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),p.addInherited("classNameHeader","tabSetClassNameHeader"),p.addInherited("enableTabStrip","tabSetEnableTabStrip"),p.addInherited("borderInsets","tabSetBorderInsets"),p.addInherited("marginInsets","tabSetMarginInsets"),p.addInherited("minWidth","tabSetMinWidth"),p.addInherited("minHeight","tabSetMinHeight"),p.addInherited("headerHeight","tabSetHeaderHeight"),p.addInherited("tabStripHeight","tabSetTabStripHeight"),p.addInherited("tabLocation","tabSetTabLocation"),p.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(t.default.BOOLEAN),p},S.prototype.getName=function(){return this._getAttr("name")},S.prototype.getSelected=function(){var p=this._attributes.selected;return p!==void 0?p:-1},S.prototype.getSelectedNode=function(){var p=this.getSelected();if(p!==-1)return this._children[p]},S.prototype.getWeight=function(){return this._getAttr("weight")},S.prototype.getWidth=function(){return this._getAttr("width")},S.prototype.getMinWidth=function(){return this._getAttr("minWidth")},S.prototype.getHeight=function(){return this._getAttr("height")},S.prototype.getMinHeight=function(){return this._getAttr("minHeight")},S.prototype.getMinSize=function(p){return p===i.default.HORZ?this.getMinWidth():this.getMinHeight()},S.prototype.getConfig=function(){return this._attributes.config},S.prototype.isMaximized=function(){return this._model.getMaximizedTabset()===this},S.prototype.isActive=function(){return this._model.getActiveTabset()===this},S.prototype.isEnableDeleteWhenEmpty=function(){return this._getAttr("enableDeleteWhenEmpty")},S.prototype.isEnableDrop=function(){return this._getAttr("enableDrop")},S.prototype.isEnableDrag=function(){return this._getAttr("enableDrag")},S.prototype.isEnableDivide=function(){return this._getAttr("enableDivide")},S.prototype.isEnableMaximize=function(){return this._getAttr("enableMaximize")},S.prototype.isEnableClose=function(){return this._getAttr("enableClose")},S.prototype.canMaximize=function(){return this.isEnableMaximize()?this.getModel().getMaximizedTabset()===this?!0:!(this.getParent()===this.getModel().getRoot()&&this.getModel().getRoot().getChildren().length===1):!1},S.prototype.isEnableTabStrip=function(){return this._getAttr("enableTabStrip")},S.prototype.isAutoSelectTab=function(){return this._getAttr("autoSelectTab")},S.prototype.getClassNameTabStrip=function(){return this._getAttr("classNameTabStrip")},S.prototype.getClassNameHeader=function(){return this._getAttr("classNameHeader")},S.prototype.calculateHeaderBarHeight=function(p){var f=this._getAttr("headerHeight");f!==0?this.calculatedHeaderBarHeight=f:this.calculatedHeaderBarHeight=p.headerBarSize},S.prototype.calculateTabBarHeight=function(p){var f=this._getAttr("tabStripHeight");f!==0?this.calculatedTabBarHeight=f:this.calculatedTabBarHeight=p.tabBarSize},S.prototype.getHeaderHeight=function(){return this.calculatedHeaderBarHeight},S.prototype.getTabStripHeight=function(){return this.calculatedTabBarHeight},S.prototype.getTabLocation=function(){return this._getAttr("tabLocation")},S.prototype._setWeight=function(p){this._attributes.weight=p},S.prototype._setSelected=function(p){this._attributes.selected=p},S.prototype.canDrop=function(p,f,I){var O;if(p===this){var N=r.default.CENTER,h=this._tabHeaderRect;O=new a.default(this,h,N,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._contentRect.contains(f,I)){var N=r.default.getLocation(this._contentRect,f,I),h=N.getDockRect(this._rect);O=new a.default(this,h,N,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._tabHeaderRect!=null&&this._tabHeaderRect.contains(f,I)){var m=void 0,g=void 0,_=void 0;if(this._children.length===0)m=this._tabHeaderRect.clone(),g=m.y+3,_=m.height-4,m.width=2;else{var L=this._children[0];m=L.getTabRect(),g=m.y,_=m.height;for(var P=this._tabHeaderRect.x,v=0,D=0;D<this._children.length;D++){if(L=this._children[D],m=L.getTabRect(),v=m.x+m.width/2,f>=P&&f<v){var N=r.default.CENTER,h=new s.default(m.x-2,g,3,_);O=new a.default(this,h,N,D,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}P=v}}if(O==null){var N=r.default.CENTER,h=new s.default(m.getRight()-2,g,3,_);O=new a.default(this,h,N,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}if(p._canDockInto(p,O))return O},S.prototype._layout=function(p,f){var I=this;this.calculateHeaderBarHeight(f),this.calculateTabBarHeight(f),this.isMaximized()&&(p=this._model.getRoot().getRect()),p=p.removeInsets(this._getAttr("marginInsets")),this._rect=p,p=p.removeInsets(this._getAttr("borderInsets"));var O=this.getName()!==void 0,N=0,h=0;O&&(N+=this.calculatedHeaderBarHeight,h+=this.calculatedHeaderBarHeight),this.isEnableTabStrip()&&(this.getTabLocation()==="top"?this._tabHeaderRect=new s.default(p.x,p.y+N,p.width,this.calculatedTabBarHeight):this._tabHeaderRect=new s.default(p.x,p.y+p.height-this.calculatedTabBarHeight,p.width,this.calculatedTabBarHeight),h+=this.calculatedTabBarHeight,this.getTabLocation()==="top"&&(N+=this.calculatedTabBarHeight)),this._contentRect=new s.default(p.x,p.y+N,p.width,p.height-h),this._children.forEach(function(m,g){m._layout(I._contentRect,f),m._setVisible(g===I.getSelected())})},S.prototype._delete=function(){this._parent._removeChild(this)},S.prototype._remove=function(p){var f=this._removeChild(p);this._model._tidy(),R.adjustSelectedIndex(this,f)},S.prototype.drop=function(p,f,I,O){var N=this,h=f;if(this!==p){var m=p.getParent(),g=0;if(m!==void 0&&(g=m._removeChild(p),R.adjustSelectedIndex(m,g)),p.getType()===T.default.TYPE&&m===this&&g<I&&I>0&&I--,h===r.default.CENTER){var _=I;_===-1&&(_=this._children.length),p.getType()===T.default.TYPE?(this._addChild(p,_),(O||O!==!1&&this.isAutoSelectTab())&&this._setSelected(_)):p.getChildren().forEach(function(C,y){N._addChild(C,_),_++}),this._model._setActiveTabset(this)}else{var L=void 0;if(p instanceof T.default){var P=this._model._getOnCreateTabSet();L=new S(this._model,P?P(p):{}),L._addChild(p),m=L}else L=p;var v=this._parent,D=v.getChildren().indexOf(this);if(v.getOrientation()===h._orientation)L._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),v._addChild(L,D+h._indexPlus);else{var b=new u.default(this._model,{});b._setWeight(this.getWeight()),b._addChild(this),this._setWeight(50),L._setWeight(50),b._addChild(L,h._indexPlus),v._removeChild(this),v._addChild(b,D)}this._model._setActiveTabset(L)}this._model._tidy()}},S.prototype.toJson=function(){var p={};return S._attributeDefinitions.toJson(p,this._attributes),p.children=this._children.map(function(f){return f.toJson()}),this.isActive()&&(p.active=!0),this.isMaximized()&&(p.maximized=!0),p},S.prototype._updateAttrs=function(p){S._attributeDefinitions.update(p,this._attributes)},S.prototype._getAttributeDefinitions=function(){return S._attributeDefinitions},S.prototype._getPrefSize=function(p){var f=this.getWidth();return p===i.default.VERT&&(f=this.getHeight()),f},S.getAttributeDefinitions=function(){return S._attributeDefinitions},S.TYPE="tabset",S._attributeDefinitions=S._createAttributeDefinitions(),S}(d.default);return ol.default=A,ol}var $R;function _T(){if($R)return Er;$R=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.adjustSelectedIndex=Er.adjustSelectedIndexAfterDock=Er.adjustSelectedIndexAfterFloat=void 0;var e=da(),t=Xa();function n(i){var s=i.getParent();if(s!==null)if(s instanceof e.default){for(var l=!1,d=0,u=s.getChildren(),T=0;T<u.length;T++){var R=u[T];if(R===i)l=!0;else if(!R.isFloating()&&(d=T,l))break}s._setSelected(d)}else s instanceof t.default&&s._setSelected(-1)}Er.adjustSelectedIndexAfterFloat=n;function r(i){var s=i.getParent();if(s!==null&&(s instanceof e.default||s instanceof t.default))for(var l=s.getChildren(),d=0;d<l.length;d++){var u=l[d];if(u===i){s._setSelected(d);return}}}Er.adjustSelectedIndexAfterDock=r;function a(i,s){if(i!==void 0&&(i.getType()===e.default.TYPE||i.getType()===t.default.TYPE)){var l=i.getSelected();l!==-1&&(s===l&&i.getChildren().length>0?s>=i.getChildren().length&&i._setSelected(i.getChildren().length-1):s<l?i._setSelected(l-1):s>l||i._setSelected(-1))}}return Er.adjustSelectedIndex=a,Er}var XR;function Xa(){if(XR)return al;XR=1;var e=at&&at.__extends||function(){var E=function(S,p){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,I){f.__proto__=I}||function(f,I){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(f[O]=I[O])},E(S,p)};return function(S,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");E(S,p);function f(){this.constructor=S}S.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(al,"__esModule",{value:!0});var t=sa,n=la,r=lr,a=yo,i=Ht,s=on,l=jt,d=ca,u=Mo,T=$a,R=_T(),A=function(E){e(S,E);function S(p,f,I){var O=E.call(this,I)||this;return O._adjustedSize=0,O._calculatedBorderBarSize=0,O._location=p,O._drawChildren=[],O._attributes.id="border_"+p.getName(),S._attributeDefinitions.fromJson(f,O._attributes),I._addNode(O),O}return S._fromJson=function(p,f){var I=r.default.getByName(p.location),O=new S(I,p,f);return p.children&&(O._children=p.children.map(function(N){var h=T.default._fromJson(N,f);return h._setParent(O),h})),O},S._createAttributeDefinitions=function(){var p=new n.default;return p.add("type",S.TYPE,!0).setType(t.default.STRING).setFixed(),p.add("selected",-1).setType(t.default.NUMBER),p.add("show",!0).setType(t.default.BOOLEAN),p.add("config",void 0).setType("any"),p.addInherited("barSize","borderBarSize").setType(t.default.NUMBER),p.addInherited("enableDrop","borderEnableDrop").setType(t.default.BOOLEAN),p.addInherited("className","borderClassName").setType(t.default.STRING),p.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(t.default.BOOLEAN),p.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(t.default.BOOLEAN),p.addInherited("size","borderSize").setType(t.default.NUMBER),p.addInherited("minSize","borderMinSize").setType(t.default.NUMBER),p.addInherited("enableAutoHide","borderEnableAutoHide").setType(t.default.BOOLEAN),p},S.prototype.getLocation=function(){return this._location},S.prototype.getTabHeaderRect=function(){return this._tabHeaderRect},S.prototype.getRect=function(){return this._tabHeaderRect},S.prototype.getContentRect=function(){return this._contentRect},S.prototype.isEnableDrop=function(){return this._getAttr("enableDrop")},S.prototype.isAutoSelectTab=function(p){return p==null&&(p=this.getSelected()!==-1),p?this._getAttr("autoSelectTabWhenOpen"):this._getAttr("autoSelectTabWhenClosed")},S.prototype.getClassName=function(){return this._getAttr("className")},S.prototype.calcBorderBarSize=function(p){var f=this._getAttr("barSize");f!==0?this._calculatedBorderBarSize=f:this._calculatedBorderBarSize=p.borderBarSize},S.prototype.getBorderBarSize=function(){return this._calculatedBorderBarSize},S.prototype.getSize=function(){var p=this._getAttr("size"),f=this.getSelected();if(f===-1)return p;var I=this._children[f],O=this._location._orientation===i.default.HORZ?I._getAttr("borderWidth"):I._getAttr("borderHeight");return O===-1?p:O},S.prototype.getMinSize=function(){return this._getAttr("minSize")},S.prototype.getSelected=function(){return this._attributes.selected},S.prototype.getSelectedNode=function(){if(this.getSelected()!==-1)return this._children[this.getSelected()]},S.prototype.getOrientation=function(){return this._location.getOrientation()},S.prototype.getConfig=function(){return this._attributes.config},S.prototype.isMaximized=function(){return!1},S.prototype.isShowing=function(){var p=this._attributes.show;return p?!(this._model._getShowHiddenBorder()!==this._location&&this.isAutoHide()&&this._children.length===0):!1},S.prototype.isAutoHide=function(){return this._getAttr("enableAutoHide")},S.prototype._setSelected=function(p){this._attributes.selected=p},S.prototype._setSize=function(p){var f=this.getSelected();if(f===-1)this._attributes.size=p;else{var I=this._children[f],O=this._location._orientation===i.default.HORZ?I._getAttr("borderWidth"):I._getAttr("borderHeight");O===-1?this._attributes.size=p:this._location._orientation===i.default.HORZ?I._setBorderWidth(p):I._setBorderHeight(p)}},S.prototype._updateAttrs=function(p){S._attributeDefinitions.update(p,this._attributes)},S.prototype._getDrawChildren=function(){return this._drawChildren},S.prototype._setAdjustedSize=function(p){this._adjustedSize=p},S.prototype._getAdjustedSize=function(){return this._adjustedSize},S.prototype._layoutBorderOuter=function(p,f){this.calcBorderBarSize(f);var I=this._location.split(p,this.getBorderBarSize());return this._tabHeaderRect=I.start,I.end},S.prototype._layoutBorderInner=function(p,f){var I=this;this._drawChildren=[];var O=this._location,N=O.split(p,this._adjustedSize+this._model.getSplitterSize()),h=O.reflect().split(N.start,this._model.getSplitterSize());if(this._contentRect=h.end,this._children.forEach(function(g,_){g._layout(I._contentRect,f),g._setVisible(_===I.getSelected()),I._drawChildren.push(g)}),this.getSelected()===-1)return p;var m=new u.default(this._model);return m._setParent(this),m._setRect(h.start),this._drawChildren.push(m),N.end},S.prototype._remove=function(p){var f=this._removeChild(p);this.getSelected()!==-1&&R.adjustSelectedIndex(this,f)},S.prototype.canDrop=function(p,f,I){if(p.getType()===T.default.TYPE){var O,N=r.default.CENTER;if(this._tabHeaderRect.contains(f,I)){if(this._location._orientation===i.default.VERT)if(this._children.length>0){for(var h=this._children[0],m=h.getTabRect(),g=m.y,_=m.height,L=this._tabHeaderRect.x,P=0,v=0;v<this._children.length;v++){if(h=this._children[v],m=h.getTabRect(),P=m.x+m.width/2,f>=L&&f<P){var D=new s.default(m.x-2,g,3,_);O=new a.default(this,D,N,v,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}L=P}if(O==null){var D=new s.default(m.getRight()-2,g,3,_);O=new a.default(this,D,N,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{var D=new s.default(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);O=new a.default(this,D,N,0,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._children.length>0){for(var h=this._children[0],m=h.getTabRect(),b=m.x,C=m.width,L=this._tabHeaderRect.y,P=0,v=0;v<this._children.length;v++){if(h=this._children[v],m=h.getTabRect(),P=m.y+m.height/2,I>=L&&I<P){var D=new s.default(b,m.y-2,C,3);O=new a.default(this,D,N,v,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}L=P}if(O==null){var D=new s.default(b,m.getBottom()-2,C,3);O=new a.default(this,D,N,this._children.length,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{var D=new s.default(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);O=new a.default(this,D,N,0,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}if(!p._canDockInto(p,O))return}else if(this.getSelected()!==-1&&this._contentRect.contains(f,I)){var D=this._contentRect;if(O=new a.default(this,D,N,-1,l.CLASSES.FLEXLAYOUT__OUTLINE_RECT),!p._canDockInto(p,O))return}return O}},S.prototype.drop=function(p,f,I,O){var N=0,h=p.getParent();h!==void 0&&(N=h._removeChild(p),R.adjustSelectedIndex(h,N)),p.getType()===T.default.TYPE&&h===this&&N<I&&I>0&&I--;var m=I;m===-1&&(m=this._children.length),p.getType()===T.default.TYPE&&this._addChild(p,m),(O||O!==!1&&this.isAutoSelectTab())&&this._setSelected(m),this._model._tidy()},S.prototype.toJson=function(){var p={};return S._attributeDefinitions.toJson(p,this._attributes),p.location=this._location.getName(),p.children=this._children.map(function(f){return f.toJson()}),p},S.prototype._getSplitterBounds=function(p,f){f===void 0&&(f=!1);var I=[0,0],O=f?this.getMinSize():0,N=this._model._getOuterInnerRects().outer,h=this._model._getOuterInnerRects().inner,m=this._model.getRoot();return this._location===r.default.TOP?(I[0]=N.y+O,I[1]=Math.max(I[0],h.getBottom()-p.getHeight()-m.getMinHeight())):this._location===r.default.LEFT?(I[0]=N.x+O,I[1]=Math.max(I[0],h.getRight()-p.getWidth()-m.getMinWidth())):this._location===r.default.BOTTOM?(I[1]=N.getBottom()-p.getHeight()-O,I[0]=Math.min(I[1],h.y+m.getMinHeight())):this._location===r.default.RIGHT&&(I[1]=N.getRight()-p.getWidth()-O,I[0]=Math.min(I[1],h.x+m.getMinWidth())),I},S.prototype._calculateSplit=function(p,f){var I=this._getSplitterBounds(p);return this._location===r.default.BOTTOM||this._location===r.default.RIGHT?Math.max(0,I[1]-f):Math.max(0,f-I[0])},S.prototype._getAttributeDefinitions=function(){return S._attributeDefinitions},S.getAttributeDefinitions=function(){return S._attributeDefinitions},S.TYPE="border",S._attributeDefinitions=S._createAttributeDefinitions(),S}(d.default);return al.default=A,al}var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});var rE=Ht,jx=Xa(),Vx=function(){function e(t){this._model=t,this._borders=[]}return e._fromJson=function(t,n){var r=new e(n);return r._borders=t.map(function(a){return jx.default._fromJson(a,n)}),r},e.prototype.getBorders=function(){return this._borders},e.prototype._forEachNode=function(t){this._borders.forEach(function(n){t(n,0),n.getChildren().forEach(function(r){r._forEachNode(t,1)})})},e.prototype._toJson=function(){return this._borders.map(function(t){return t.toJson()})},e.prototype._layoutBorder=function(t,n){for(var r=t.outer,a=this._model.getRoot(),i=Math.max(0,r.height-a.getMinHeight()),s=Math.max(0,r.width-a.getMinWidth()),l=0,d=0,u=0,T=0,R=this._borders.filter(function(N){return N.isShowing()}),A=0,E=R;A<E.length;A++){var S=E[A];S._setAdjustedSize(S.getSize());var p=S.getSelected()!==-1;S.getLocation().getOrientation()===rE.default.HORZ?(d+=S.getBorderBarSize(),p&&(s-=this._model.getSplitterSize(),d+=S.getSize(),T+=S.getSize())):(l+=S.getBorderBarSize(),p&&(i-=this._model.getSplitterSize(),l+=S.getSize(),u+=S.getSize()))}for(var f=0,I=!1;d>s&&T>0||l>i&&u>0;){var S=R[f];if(S.getSelected()!==-1){var O=S._getAdjustedSize();d>s&&T>0&&S.getLocation().getOrientation()===rE.default.HORZ&&O>0&&O>S.getMinSize()?(S._setAdjustedSize(O-1),d--,T--,I=!0):l>i&&u>0&&S.getLocation().getOrientation()===rE.default.VERT&&O>0&&O>S.getMinSize()&&(S._setAdjustedSize(O-1),l--,u--,I=!0)}if(f=(f+1)%R.length,f===0)if(I)I=!1;else break}return R.forEach(function(N){t.outer=N._layoutBorderOuter(t.outer,n)}),t.inner=t.outer,R.forEach(function(N){t.inner=N._layoutBorderInner(t.inner,n)}),t},e.prototype._findDropTargetNode=function(t,n,r){for(var a=0,i=this._borders;a<i.length;a++){var s=i[a];if(s.isShowing()){var l=s.canDrop(t,n,r);if(l!==void 0)return l}}},e}();Jc.default=Vx;var LT={},sl,Yx=new Uint8Array(16);function RO(){if(!sl&&(sl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sl(Yx)}const Wx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qc(e){return typeof e=="string"&&Wx.test(e)}var vt=[];for(var aE=0;aE<256;++aE)vt.push((aE+256).toString(16).substr(1));function Qc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase();if(!qc(n))throw TypeError("Stringified UUID is invalid");return n}var zR,oE,iE=0,sE=0;function kx(e,t,n){var r=t&&n||0,a=t||new Array(16);e=e||{};var i=e.node||zR,s=e.clockseq!==void 0?e.clockseq:oE;if(i==null||s==null){var l=e.random||(e.rng||RO)();i==null&&(i=zR=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),s==null&&(s=oE=(l[6]<<8|l[7])&16383)}var d=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:sE+1,T=d-iE+(u-sE)/1e4;if(T<0&&e.clockseq===void 0&&(s=s+1&16383),(T<0||d>iE)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");iE=d,sE=u,oE=s,d+=122192928e5;var R=((d&268435455)*1e4+u)%4294967296;a[r++]=R>>>24&255,a[r++]=R>>>16&255,a[r++]=R>>>8&255,a[r++]=R&255;var A=d/4294967296*1e4&268435455;a[r++]=A>>>8&255,a[r++]=A&255,a[r++]=A>>>24&15|16,a[r++]=A>>>16&255,a[r++]=s>>>8|128,a[r++]=s&255;for(var E=0;E<6;++E)a[r+E]=i[E];return t||Qc(a)}function pO(e){if(!qc(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function $x(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var Xx="6ba7b810-9dad-11d1-80b4-00c04fd430c8",zx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function AO(e,t,n){function r(a,i,s,l){if(typeof a=="string"&&(a=$x(a)),typeof i=="string"&&(i=pO(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+a.length);if(d.set(i),d.set(a,i.length),d=n(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){l=l||0;for(var u=0;u<16;++u)s[l+u]=d[u];return s}return Qc(d)}try{r.name=e}catch{}return r.DNS=Xx,r.URL=zx,r}function Kx(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Jx(qx(Qx(e),e.length*8))}function Jx(e){for(var t=[],n=e.length*32,r="0123456789abcdef",a=0;a<n;a+=8){var i=e[a>>5]>>>a%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(s)}return t}function fO(e){return(e+64>>>9<<4)+14+1}function qx(e,t){e[t>>5]|=128<<t%32,e[fO(t)-1]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,s=0;s<e.length;s+=16){var l=n,d=r,u=a,T=i;n=Ut(n,r,a,i,e[s],7,-680876936),i=Ut(i,n,r,a,e[s+1],12,-389564586),a=Ut(a,i,n,r,e[s+2],17,606105819),r=Ut(r,a,i,n,e[s+3],22,-1044525330),n=Ut(n,r,a,i,e[s+4],7,-176418897),i=Ut(i,n,r,a,e[s+5],12,1200080426),a=Ut(a,i,n,r,e[s+6],17,-1473231341),r=Ut(r,a,i,n,e[s+7],22,-45705983),n=Ut(n,r,a,i,e[s+8],7,1770035416),i=Ut(i,n,r,a,e[s+9],12,-1958414417),a=Ut(a,i,n,r,e[s+10],17,-42063),r=Ut(r,a,i,n,e[s+11],22,-1990404162),n=Ut(n,r,a,i,e[s+12],7,1804603682),i=Ut(i,n,r,a,e[s+13],12,-40341101),a=Ut(a,i,n,r,e[s+14],17,-1502002290),r=Ut(r,a,i,n,e[s+15],22,1236535329),n=wt(n,r,a,i,e[s+1],5,-165796510),i=wt(i,n,r,a,e[s+6],9,-1069501632),a=wt(a,i,n,r,e[s+11],14,643717713),r=wt(r,a,i,n,e[s],20,-373897302),n=wt(n,r,a,i,e[s+5],5,-701558691),i=wt(i,n,r,a,e[s+10],9,38016083),a=wt(a,i,n,r,e[s+15],14,-660478335),r=wt(r,a,i,n,e[s+4],20,-405537848),n=wt(n,r,a,i,e[s+9],5,568446438),i=wt(i,n,r,a,e[s+14],9,-1019803690),a=wt(a,i,n,r,e[s+3],14,-187363961),r=wt(r,a,i,n,e[s+8],20,1163531501),n=wt(n,r,a,i,e[s+13],5,-1444681467),i=wt(i,n,r,a,e[s+2],9,-51403784),a=wt(a,i,n,r,e[s+7],14,1735328473),r=wt(r,a,i,n,e[s+12],20,-1926607734),n=Bt(n,r,a,i,e[s+5],4,-378558),i=Bt(i,n,r,a,e[s+8],11,-2022574463),a=Bt(a,i,n,r,e[s+11],16,1839030562),r=Bt(r,a,i,n,e[s+14],23,-35309556),n=Bt(n,r,a,i,e[s+1],4,-1530992060),i=Bt(i,n,r,a,e[s+4],11,1272893353),a=Bt(a,i,n,r,e[s+7],16,-155497632),r=Bt(r,a,i,n,e[s+10],23,-1094730640),n=Bt(n,r,a,i,e[s+13],4,681279174),i=Bt(i,n,r,a,e[s],11,-358537222),a=Bt(a,i,n,r,e[s+3],16,-722521979),r=Bt(r,a,i,n,e[s+6],23,76029189),n=Bt(n,r,a,i,e[s+9],4,-640364487),i=Bt(i,n,r,a,e[s+12],11,-421815835),a=Bt(a,i,n,r,e[s+15],16,530742520),r=Bt(r,a,i,n,e[s+2],23,-995338651),n=Ft(n,r,a,i,e[s],6,-198630844),i=Ft(i,n,r,a,e[s+7],10,1126891415),a=Ft(a,i,n,r,e[s+14],15,-1416354905),r=Ft(r,a,i,n,e[s+5],21,-57434055),n=Ft(n,r,a,i,e[s+12],6,1700485571),i=Ft(i,n,r,a,e[s+3],10,-1894986606),a=Ft(a,i,n,r,e[s+10],15,-1051523),r=Ft(r,a,i,n,e[s+1],21,-2054922799),n=Ft(n,r,a,i,e[s+8],6,1873313359),i=Ft(i,n,r,a,e[s+15],10,-30611744),a=Ft(a,i,n,r,e[s+6],15,-1560198380),r=Ft(r,a,i,n,e[s+13],21,1309151649),n=Ft(n,r,a,i,e[s+4],6,-145523070),i=Ft(i,n,r,a,e[s+11],10,-1120210379),a=Ft(a,i,n,r,e[s+2],15,718787259),r=Ft(r,a,i,n,e[s+9],21,-343485551),n=jr(n,l),r=jr(r,d),a=jr(a,u),i=jr(i,T)}return[n,r,a,i]}function Qx(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(fO(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function jr(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function Zx(e,t){return e<<t|e>>>32-t}function Zc(e,t,n,r,a,i){return jr(Zx(jr(jr(t,e),jr(r,i)),a),n)}function Ut(e,t,n,r,a,i,s){return Zc(t&n|~t&r,e,t,a,i,s)}function wt(e,t,n,r,a,i,s){return Zc(t&r|n&~r,e,t,a,i,s)}function Bt(e,t,n,r,a,i,s){return Zc(t^n^r,e,t,a,i,s)}function Ft(e,t,n,r,a,i,s){return Zc(n^(t|~r),e,t,a,i,s)}var e1=AO("v3",48,Kx);const t1=e1;function n1(e,t,n){e=e||{};var r=e.random||(e.rng||RO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Qc(r)}function r1(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function lE(e,t){return e<<t|e>>>32-t}function a1(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,s=Math.ceil(i/16),l=new Array(s),d=0;d<s;++d){for(var u=new Uint32Array(16),T=0;T<16;++T)u[T]=e[d*64+T*4]<<24|e[d*64+T*4+1]<<16|e[d*64+T*4+2]<<8|e[d*64+T*4+3];l[d]=u}l[s-1][14]=(e.length-1)*8/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=(e.length-1)*8&4294967295;for(var R=0;R<s;++R){for(var A=new Uint32Array(80),E=0;E<16;++E)A[E]=l[R][E];for(var S=16;S<80;++S)A[S]=lE(A[S-3]^A[S-8]^A[S-14]^A[S-16],1);for(var p=n[0],f=n[1],I=n[2],O=n[3],N=n[4],h=0;h<80;++h){var m=Math.floor(h/20),g=lE(p,5)+r1(m,f,I,O)+N+t[m]+A[h]>>>0;N=O,O=I,I=lE(f,30)>>>0,f=p,p=g}n[0]=n[0]+p>>>0,n[1]=n[1]+f>>>0,n[2]=n[2]+I>>>0,n[3]=n[3]+O>>>0,n[4]=n[4]+N>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var o1=AO("v5",80,a1);const i1=o1,s1="00000000-0000-0000-0000-000000000000";function l1(e){if(!qc(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const c1=Object.freeze(Object.defineProperty({__proto__:null,NIL:s1,parse:pO,stringify:Qc,v1:kx,v3:t1,v4:n1,v5:i1,validate:qc,version:l1},Symbol.toStringTag,{value:"Module"})),d1=Ic(c1);var E1=at&&at.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};Object.defineProperty(LT,"__esModule",{value:!0});var Fe=sa,u1=la,cE=lr,KR=Ht,JR=on,qt=Pn,ll=Xa(),qR=Jc,ni=gT(),Ra=$a,ur=da(),QR=_T(),T1=d1,S1=function(){function e(){this._borderRects={inner:JR.default.empty(),outer:JR.default.empty()},this._attributes={},this._idMap={},this._borders=new qR.default(this),this._pointerFine=!0,this._showHiddenBorder=cE.default.CENTER}return e.fromJson=function(t){var n=new e;return e._attributeDefinitions.fromJson(t.global,n._attributes),t.borders&&(n._borders=qR.default._fromJson(t.borders,n)),n._root=ni.default._fromJson(t.layout,n),n._tidy(),n},e._createAttributeDefinitions=function(){var t=new u1.default;return t.add("splitterSize",-1).setType(Fe.default.NUMBER),t.add("splitterExtra",0).setType(Fe.default.NUMBER),t.add("enableEdgeDock",!0).setType(Fe.default.BOOLEAN),t.add("rootOrientationVertical",!1).setType(Fe.default.BOOLEAN),t.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("enableUseVisibility",!1).setType(Fe.default.BOOLEAN),t.add("tabEnableClose",!0).setType(Fe.default.BOOLEAN),t.add("tabCloseType",1).setType("ICloseType"),t.add("tabEnableFloat",!1).setType(Fe.default.BOOLEAN),t.add("tabEnableDrag",!0).setType(Fe.default.BOOLEAN),t.add("tabEnableRename",!0).setType(Fe.default.BOOLEAN),t.add("tabClassName",void 0).setType(Fe.default.STRING),t.add("tabIcon",void 0).setType(Fe.default.STRING),t.add("tabEnableRenderOnDemand",!0).setType(Fe.default.BOOLEAN),t.add("tabDragSpeed",.3).setType(Fe.default.NUMBER),t.add("tabBorderWidth",-1).setType(Fe.default.NUMBER),t.add("tabBorderHeight",-1).setType(Fe.default.NUMBER),t.add("tabSetEnableDeleteWhenEmpty",!0).setType(Fe.default.BOOLEAN),t.add("tabSetEnableDrop",!0).setType(Fe.default.BOOLEAN),t.add("tabSetEnableDrag",!0).setType(Fe.default.BOOLEAN),t.add("tabSetEnableDivide",!0).setType(Fe.default.BOOLEAN),t.add("tabSetEnableMaximize",!0).setType(Fe.default.BOOLEAN),t.add("tabSetEnableClose",!1).setType(Fe.default.BOOLEAN),t.add("tabSetAutoSelectTab",!0).setType(Fe.default.BOOLEAN),t.add("tabSetClassNameTabStrip",void 0).setType(Fe.default.STRING),t.add("tabSetClassNameHeader",void 0).setType(Fe.default.STRING),t.add("tabSetEnableTabStrip",!0).setType(Fe.default.BOOLEAN),t.add("tabSetHeaderHeight",0).setType(Fe.default.NUMBER),t.add("tabSetTabStripHeight",0).setType(Fe.default.NUMBER),t.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("tabSetTabLocation","top").setType("ITabLocation"),t.add("tabSetMinWidth",0).setType(Fe.default.NUMBER),t.add("tabSetMinHeight",0).setType(Fe.default.NUMBER),t.add("borderSize",200).setType(Fe.default.NUMBER),t.add("borderMinSize",0).setType(Fe.default.NUMBER),t.add("borderBarSize",0).setType(Fe.default.NUMBER),t.add("borderEnableDrop",!0).setType(Fe.default.BOOLEAN),t.add("borderAutoSelectTabWhenOpen",!0).setType(Fe.default.BOOLEAN),t.add("borderAutoSelectTabWhenClosed",!1).setType(Fe.default.BOOLEAN),t.add("borderClassName",void 0).setType(Fe.default.STRING),t.add("borderEnableAutoHide",!1).setType(Fe.default.BOOLEAN),t},e.prototype._setChangeListener=function(t){this._changeListener=t},e.prototype.getActiveTabset=function(){if(this._activeTabSet&&this.getNodeById(this._activeTabSet.getId()))return this._activeTabSet},e.prototype._getShowHiddenBorder=function(){return this._showHiddenBorder},e.prototype._setShowHiddenBorder=function(t){this._showHiddenBorder=t},e.prototype._setActiveTabset=function(t){this._activeTabSet=t},e.prototype.getMaximizedTabset=function(){return this._maximizedTabSet},e.prototype._setMaximizedTabset=function(t){this._maximizedTabSet=t},e.prototype.getRoot=function(){return this._root},e.prototype.isRootOrientationVertical=function(){return this._attributes.rootOrientationVertical},e.prototype.isUseVisibility=function(){return this._attributes.enableUseVisibility},e.prototype.getBorderSet=function(){return this._borders},e.prototype._getOuterInnerRects=function(){return this._borderRects},e.prototype._getPointerFine=function(){return this._pointerFine},e.prototype._setPointerFine=function(t){this._pointerFine=t},e.prototype.visitNodes=function(t){this._borders._forEachNode(t),this._root._forEachNode(t,0)},e.prototype.getNodeById=function(t){return this._idMap[t]},e.prototype.doAction=function(t){var n=void 0;switch(t.type){case qt.default.ADD_NODE:{var r=new Ra.default(this,t.data.json,!0),a=this._idMap[t.data.toNode];(a instanceof ur.default||a instanceof ll.default||a instanceof ni.default)&&(a.drop(r,cE.default.getByName(t.data.location),t.data.index,t.data.select),n=r);break}case qt.default.MOVE_NODE:{var i=this._idMap[t.data.fromNode];if(i instanceof Ra.default||i instanceof ur.default){var a=this._idMap[t.data.toNode];(a instanceof ur.default||a instanceof ll.default||a instanceof ni.default)&&a.drop(i,cE.default.getByName(t.data.location),t.data.index,t.data.select)}break}case qt.default.DELETE_TAB:{var s=this._idMap[t.data.node];s instanceof Ra.default&&s._delete();break}case qt.default.DELETE_TABSET:{var s=this._idMap[t.data.node];if(s instanceof ur.default){var l=E1([],s.getChildren());l.forEach(function(p,f){p.isEnableClose()&&p._delete()}),s.getChildren().length===0&&s._delete(),this._tidy()}break}case qt.default.FLOAT_TAB:{var s=this._idMap[t.data.node];s instanceof Ra.default&&(s._setFloating(!0),QR.adjustSelectedIndexAfterFloat(s));break}case qt.default.UNFLOAT_TAB:{var s=this._idMap[t.data.node];s instanceof Ra.default&&(s._setFloating(!1),QR.adjustSelectedIndexAfterDock(s));break}case qt.default.RENAME_TAB:{var s=this._idMap[t.data.node];s instanceof Ra.default&&s._setName(t.data.text);break}case qt.default.SELECT_TAB:{var d=this._idMap[t.data.tabNode];if(d instanceof Ra.default){var u=d.getParent(),T=u.getChildren().indexOf(d);u instanceof ll.default?u.getSelected()===T?u._setSelected(-1):u._setSelected(T):u instanceof ur.default&&(u.getSelected()!==T&&u._setSelected(T),this._activeTabSet=u)}break}case qt.default.SET_ACTIVE_TABSET:{var R=this._idMap[t.data.tabsetNode];R instanceof ur.default&&(this._activeTabSet=R);break}case qt.default.ADJUST_SPLIT:{var A=this._idMap[t.data.node1],E=this._idMap[t.data.node2];(A instanceof ur.default||A instanceof ni.default)&&(E instanceof ur.default||E instanceof ni.default)&&(this._adjustSplitSide(A,t.data.weight1,t.data.pixelWidth1),this._adjustSplitSide(E,t.data.weight2,t.data.pixelWidth2));break}case qt.default.ADJUST_BORDER_SPLIT:{var s=this._idMap[t.data.node];s instanceof ll.default&&s._setSize(t.data.pos);break}case qt.default.MAXIMIZE_TOGGLE:{var s=this._idMap[t.data.node];s instanceof ur.default&&(s===this._maximizedTabSet?this._maximizedTabSet=void 0:(this._maximizedTabSet=s,this._activeTabSet=s));break}case qt.default.UPDATE_MODEL_ATTRIBUTES:{this._updateAttrs(t.data.json);break}case qt.default.UPDATE_NODE_ATTRIBUTES:{var s=this._idMap[t.data.node];s._updateAttrs(t.data.json);break}}return this._updateIdMap(),this._changeListener!==void 0&&this._changeListener(),n},e.prototype._updateIdMap=function(){var t=this;this._idMap={},this.visitNodes(function(n){return t._idMap[n.getId()]=n})},e.prototype._adjustSplitSide=function(t,n,r){t._setWeight(n),t.getWidth()!=null&&t.getOrientation()===KR.default.VERT?t._updateAttrs({width:r}):t.getHeight()!=null&&t.getOrientation()===KR.default.HORZ&&t._updateAttrs({height:r})},e.prototype.toJson=function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),this.visitNodes(function(n){n._fireEvent("save",void 0)}),{global:t,borders:this._borders._toJson(),layout:this._root.toJson()}},e.prototype.getSplitterSize=function(){var t=this._attributes.splitterSize;return t===-1&&(t=this._pointerFine?8:12),t},e.prototype.getSplitterExtra=function(){return this._attributes.splitterExtra},e.prototype.isEnableEdgeDock=function(){return this._attributes.enableEdgeDock},e.prototype._addNode=function(t){var n=t.getId();if(this._idMap[n]!==void 0)throw new Error("Error: each node must have a unique id, duplicate id:"+t.getId());t.getType()!=="splitter"&&(this._idMap[n]=t)},e.prototype._layout=function(t,n){var r;return this._borderRects=this._borders._layoutBorder({outer:t,inner:t},n),t=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),(r=this._root)===null||r===void 0||r.calcMinSize(),this._root._layout(t,n),t},e.prototype._findDropTargetNode=function(t,n,r){var a=this._root._findDropTargetNode(t,n,r);return a===void 0&&(a=this._borders._findDropTargetNode(t,n,r)),a},e.prototype._tidy=function(){this._root._tidy()},e.prototype._updateAttrs=function(t){e._attributeDefinitions.update(t,this._attributes)},e.prototype._nextUniqueId=function(){return"#"+T1.v4()},e.prototype._getAttribute=function(t){return this._attributes[t]},e.prototype.setOnAllowDrop=function(t){this._onAllowDrop=t},e.prototype._getOnAllowDrop=function(){return this._onAllowDrop},e.prototype.setOnCreateTabSet=function(t){this._onCreateTabSet=t},e.prototype._getOnCreateTabSet=function(){return this._onCreateTabSet},e.toTypescriptInterfaces=function(){},e.prototype.toString=function(){return JSON.stringify(this.toJson())},e._attributeDefinitions=e._createAttributeDefinitions(),e}();LT.default=S1;var Ja={},ri={},ai={},vT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ICloseType=void 0,function(t){t[t.Visible=1]="Visible",t[t.Always=2]="Always",t[t.Selected=3]="Selected"}(e.ICloseType||(e.ICloseType={}))})(vT);var pa={},oi={},ZR;function IO(){if(ZR)return oi;ZR=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.showPopup=void 0;var e=c,t=Oc,n=_s(),r=jt;function a(s,l,d,u,T){var R=l.ownerDocument,A=l.getBoundingClientRect(),E=s.getBoundingClientRect(),S=R.createElement("div");S.className=T(r.CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER),A.left<E.left+E.width/2?S.style.left=A.left-E.left+"px":S.style.right=E.right-A.right+"px",A.top<E.top+E.height/2?S.style.top=A.top-E.top+"px":S.style.bottom=E.bottom-A.bottom+"px",n.DragDrop.instance.addGlass(function(){return p()}),n.DragDrop.instance.setGlassCursorOverride("default"),s.appendChild(S);var p=function(){n.DragDrop.instance.hideGlass(),s.removeChild(S),t.unmountComponentAtNode(S),S.removeEventListener("mousedown",f),R.removeEventListener("mousedown",I)},f=function(O){O.stopPropagation()},I=function(O){p()};S.addEventListener("mousedown",f),R.addEventListener("mousedown",I),t.render(e.createElement(i,{currentDocument:R,onSelect:u,onHide:p,items:d,classNameMapper:T}),S)}oi.showPopup=a;var i=function(s){var l=s.items,d=s.onHide,u=s.onSelect,T=s.classNameMapper,R=function(E,S){u(E),d(),S.stopPropagation()},A=l.map(function(E,S){return e.createElement("div",{key:E.index,className:T(r.CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+S,onClick:function(p){return R(E,p)},title:E.node.getHelpText()},E.node._getRenderedName())});return e.createElement("div",{className:T(r.CLASSES.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},A)};return oi}var ii={},ep;function R1(){if(ep)return ii;ep=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.TabButton=void 0;var e=c,t=ia,n=Pn,r=on,a=vT,i=jt,s=ed(),l=function(d){var u=d.layout,T=d.node,R=d.selected,A=d.iconFactory,E=d.titleFactory,S=d.icons,p=d.path,f=e.useRef(null),I=e.useRef(null),O=e.useRef(0),N=function(K){if(!s.isAuxMouseEvent(K)&&!u.getEditingTab()){var G=u.i18nName(t.I18nLabel.Move_Tab,T.getName());u.dragStart(K,G,T,T.isEnableDrag(),g,_)}},h=function(K){s.isAuxMouseEvent(K)&&u.auxMouseClick(T,K)},m=function(K){u.showContextMenu(T,K)},g=function(){u.doAction(n.default.selectTab(T.getId()))},_=function(K){T.isEnableRename()&&(u.setEditingTab(T),u.getCurrentDocument().body.addEventListener("mousedown",L),u.getCurrentDocument().body.addEventListener("touchstart",L))},L=function(K){K.target!==I.current&&(u.getCurrentDocument().body.removeEventListener("mousedown",L),u.getCurrentDocument().body.removeEventListener("touchstart",L),u.setEditingTab(void 0))},P=function(){var K=T.getCloseType();return!!(R||K===a.ICloseType.Always||K===a.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},v=function(K){P()?u.doAction(n.default.deleteTab(T.getId())):g()},D=function(K){K.stopPropagation()};e.useLayoutEffect(function(){b(),u.getEditingTab()===T&&I.current.select()});var b=function(){var K=u.getDomRect(),G=f.current.getBoundingClientRect();T._setTabRect(new r.default(G.left-K.left,G.top-K.top,G.width,G.height)),O.current=I.current.getBoundingClientRect().width},C=function(K){K.stopPropagation()},y=function(K){K.keyCode===27?u.setEditingTab(void 0):K.keyCode===13&&(u.setEditingTab(void 0),u.doAction(n.default.renameTab(T.getId(),K.target.value)))},w=u.getClassName,x=T.getParent(),M=i.CLASSES.FLEXLAYOUT__TAB_BUTTON,B=w(M);B+=" "+w(M+"_"+x.getTabLocation()),R?B+=" "+w(M+"--selected"):B+=" "+w(M+"--unselected"),T.getClassName()!==void 0&&(B+=" "+T.getClassName());var H=A?A(T):void 0,j=T.getName(),X=T.getName();function W(K){return K.titleContent!==void 0}if(E!==void 0){var J=E(T);J!==void 0&&(typeof J=="string"?(j=J,X=J):W(J)?(j=J.titleContent,X=J.name):j=J)}H===void 0&&T.getIcon()!==void 0&&(H=e.createElement("img",{src:T.getIcon(),alt:"leadingContent"}));var q=[],Z={leading:H,content:j,name:X,buttons:q};u.customizeTab(T,Z),T._setRenderedName(Z.name);var ce=e.createElement("div",{ref:I,className:w(i.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},Z.content),Ce=e.createElement("div",{className:w(i.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},Z.leading);if(u.getEditingTab()===T){var k={width:O+"px"};ce=e.createElement("input",{style:k,ref:I,className:w(i.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":p+"/textbox",type:"text",autoFocus:!0,defaultValue:T.getName(),onKeyDown:y,onMouseDown:C,onTouchStart:C})}if(T.isEnableClose()){var ne=u.i18nName(t.I18nLabel.Close_Tab);q.push(e.createElement("div",{key:"close","data-layout-path":p+"/button/close",title:ne,className:w(i.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING),onMouseDown:D,onClick:v,onTouchStart:D},S==null?void 0:S.close))}return e.createElement("div",{ref:f,"data-layout-path":p,className:B,onMouseDown:N,onClick:h,onAuxClick:h,onContextMenu:m,onTouchStart:N,title:T.getHelpText()},Ce,ce,q)};return ii.TabButton=l,ii}var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.useTabOverflow=void 0;var Kn=c,p1=on,tp=da(),cl=Ht,A1=function(e,t,n,r){var a=Kn.useRef(!0),i=Kn.useRef(!1),s=Kn.useRef(new p1.default(0,0,0,0)),l=Kn.useRef(null),d=Kn.useState(0),u=d[0],T=d[1],R=Kn.useRef(!1),A=Kn.useState([]),E=A[0],S=A[1];Kn.useLayoutEffect(function(){R.current=!1},[e.getSelectedNode(),e.getRect().width,e.getRect().height]),Kn.useLayoutEffect(function(){N()}),Kn.useEffect(function(){var m=l.current;return m.addEventListener("wheel",p),function(){m.removeEventListener("wheel",p)}},[]);var p=function(m){m.preventDefault()},f=function(m){return t===cl.default.HORZ?m.x:m.y},I=function(m){return t===cl.default.HORZ?m.getRight():m.getBottom()},O=function(m){return t===cl.default.HORZ?m.width:m.height},N=function(){var m=2;a.current===!0&&(i.current=!1);var g=e instanceof tp.default?e.getRect():e.getTabHeaderRect(),_=e.getChildren()[e.getChildren().length-1],L=r.current===null?0:O(r.current.getBoundingClientRect());if(a.current===!0||g.width!==s.current.width||g.height!==s.current.height){s.current=g;var P=e instanceof tp.default?e.isEnableTabStrip()===!0:!0,v=I(g)-L;if(n.current!==null&&(v-=O(n.current.getBoundingClientRect())),P&&e.getChildren().length>0){if(E.length===0&&u===0&&I(_.getTabRect())+m<v)return;v-=E.length>0?t===cl.default.HORZ?10:0:45;var D=0,b=e.getSelectedNode();if(b&&!R.current){var C=b.getTabRect(),y=f(C)-m,w=I(C)+m;O(C)+2*m>=v-f(g)?D=f(g)-y:(w>v||y<f(g))&&(y<f(g)&&(D=f(g)-y),w+D>v&&(D=v-w))}for(var x=Math.max(0,v-(I(_.getTabRect())+m+D)),M=Math.min(0,u+D+x),B=M-u,H=[],j=0;j<e.getChildren().length;j++){var X=e.getChildren()[j];(f(X.getTabRect())+B<f(g)||I(X.getTabRect())+B>v)&&H.push({node:X,index:j})}H.length>0&&(i.current=!0),a.current=!1,S(H),T(M)}}else a.current=!0},h=function(m){var g=0;Math.abs(m.deltaX)>Math.abs(m.deltaY)?g=-m.deltaX:g=-m.deltaY,m.deltaMode===1&&(g*=40),T(u+g),R.current=!0,m.stopPropagation()};return{selfRef:l,position:u,userControlledLeft:R,hiddenTabs:E,onMouseWheel:h,tabsTruncated:i.current}};Cs.useTabOverflow=A1;var Aa={},gs={},f1=at&&at.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(gs,"__esModule",{value:!0});gs.ErrorBoundary=void 0;var dE=c,np=jt,I1=function(e){f1(t,e);function t(n){var r=e.call(this,n)||this;return r.state={hasError:!1},r}return t.getDerivedStateFromError=function(n){return{hasError:!0}},t.prototype.componentDidCatch=function(n,r){},t.prototype.render=function(){return this.state.hasError?dE.createElement("div",{className:np.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},dE.createElement("div",{className:np.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children},t}(dE.Component);gs.ErrorBoundary=I1;var rp;function DT(){if(rp)return Aa;rp=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.hideElement=Aa.Tab=void 0;var e=c,t=c,n=Pn,r=da(),a=jt,i=gs,s=ia,l=_s(),d=function(T){var R=T.layout,A=T.selected,E=T.node,S=T.factory,p=T.path,f=e.useState(!T.node.isEnableRenderOnDemand()||T.selected),I=f[0],O=f[1];e.useLayoutEffect(function(){!I&&A&&O(!0)});var N=function(){var v=E.getParent();v.getType()===r.default.TYPE&&(v.isActive()||R.doAction(n.default.setActiveTabset(v.getId())))},h=R.getClassName,m=E.getModel().isUseVisibility(),g=E.getParent(),_=E._styleWithPosition();A||u(_,m),g instanceof r.default&&E.getModel().getMaximizedTabset()!==void 0&&!g.isMaximized()&&u(_,m);var L;I&&(L=S(E));var P=h(a.CLASSES.FLEXLAYOUT__TAB);return g instanceof l.BorderNode&&(P+=" "+h(a.CLASSES.FLEXLAYOUT__TAB_BORDER),P+=" "+h(a.CLASSES.FLEXLAYOUT__TAB_BORDER_+g.getLocation().getName())),e.createElement("div",{className:P,"data-layout-path":p,onMouseDown:N,onTouchStart:N,style:_},e.createElement(i.ErrorBoundary,{message:T.layout.i18nName(s.I18nLabel.Error_rendering_component)},e.createElement(t.Fragment,null,L)))};Aa.Tab=d;function u(T,R){R?T.visibility="hidden":T.display="none"}return Aa.hideElement=u,Aa}var ap;function ed(){if(ap)return pa;ap=1;var e=at&&at.__spreadArray||function(A,E){for(var S=0,p=E.length,f=A.length;S<p;S++,f++)A[f]=E[S];return A};Object.defineProperty(pa,"__esModule",{value:!0}),pa.isAuxMouseEvent=pa.TabSet=void 0;var t=c,n=ia,r=Pn,a=IO(),i=R1(),s=Cs,l=Ht,d=jt,u=DT(),T=function(A){var E=A.node,S=A.layout,p=A.iconFactory,f=A.titleFactory,I=A.icons,O=A.path,N=t.useRef(null),h=t.useRef(null),m=t.useRef(null),g=t.useRef(null),_=s.useTabOverflow(E,l.default.HORZ,N,g),L=_.selfRef,P=_.position,v=_.userControlledLeft,D=_.hiddenTabs,b=_.onMouseWheel,C=_.tabsTruncated,y=function(Ze){var Sa=h.current;a.showPopup(S.getRootDiv(),Sa,D,w,S.getClassName),Ze.stopPropagation()},w=function(Ze){S.doAction(r.default.selectTab(Ze.node.getId())),v.current=!1},x=function(Ze){if(!R(Ze)){var Sa=E.getName();if(Sa===void 0?Sa="":Sa=": "+Sa,S.doAction(r.default.setActiveTabset(E.getId())),!S.getEditingTab()){var MN=S.i18nName(n.I18nLabel.Move_Tabset,Sa);S.dragStart(Ze,MN,E,E.isEnableDrag(),function(GK){},J)}}},M=function(Ze){R(Ze)&&S.auxMouseClick(E,Ze)},B=function(Ze){S.showContextMenu(E,Ze)},H=function(Ze){Ze.stopPropagation()},j=function(Ze){E.canMaximize()&&S.maximize(E),Ze.stopPropagation()},X=function(Ze){S.doAction(r.default.deleteTabset(E.getId())),Ze.stopPropagation()},W=function(Ze){Z!==void 0&&S.doAction(r.default.floatTab(Z.getId())),Ze.stopPropagation()},J=function(Ze){E.canMaximize()&&S.maximize(E)},q=S.getClassName;m.current!==null&&m.current.scrollLeft!==0&&(m.current.scrollLeft=0);var Z=E.getSelectedNode(),ce=E._styleWithPosition();E.getModel().getMaximizedTabset()!==void 0&&!E.isMaximized()&&u.hideElement(ce,E.getModel().isUseVisibility());var Ce=[];if(E.isEnableTabStrip())for(var k=0;k<E.getChildren().length;k++){var ne=E.getChildren()[k],K=E.getSelected()===k;Ce.push(t.createElement(i.TabButton,{layout:S,node:ne,path:O+"/tb"+k,key:ne.getId(),selected:K,height:E.getTabStripHeight(),iconFactory:p,titleFactory:f,icons:I}))}var G=E.getName()!==void 0,Y=[],z=[],ee=[],se={headerContent:E.getName(),stickyButtons:Y,buttons:z,headerButtons:ee};S.customizeTabSet(E,se);var Te=se.headerContent;Y=se.stickyButtons,z=se.buttons,ee=se.headerButtons,Y.length>0&&(C?z=e(e([],Y),z):Ce.push(t.createElement("div",{ref:g,key:"sticky_buttons_container",onMouseDown:H,onTouchStart:H,onDragStart:function(Ze){Ze.preventDefault()},className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},Y)));var xe;if(D.length>0){var pe=S.i18nName(n.I18nLabel.Overflow_Menu_Tooltip);z.push(t.createElement("button",{key:"overflowbutton","data-layout-path":O+"/button/overflow",ref:h,className:q(d.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:pe,onClick:y,onMouseDown:H,onTouchStart:H},I==null?void 0:I.more,D.length))}if(Z!==void 0&&S.isSupportsPopout()&&Z.isEnableFloat()&&!Z.isFloating()){var Ue=S.i18nName(n.I18nLabel.Float_Tab);z.push(t.createElement("button",{key:"float","data-layout-path":O+"/button/float",title:Ue,className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:W,onMouseDown:H,onTouchStart:H},I==null?void 0:I.popout))}if(E.canMaximize()){var tt=S.i18nName(n.I18nLabel.Restore),xt=S.i18nName(n.I18nLabel.Maximize),qo=G?ee:z;qo.push(t.createElement("button",{key:"max","data-layout-path":O+"/button/max",title:E.isMaximized()?tt:xt,className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(E.isMaximized()?"max":"min")),onClick:j,onMouseDown:H,onTouchStart:H},E.isMaximized()?I==null?void 0:I.restore:I==null?void 0:I.maximize))}if(!E.isMaximized()&&E.isEnableClose()){var bN=S.i18nName(n.I18nLabel.Close_Tabset),qo=G?ee:z;qo.push(t.createElement("button",{key:"close","data-layout-path":O+"/button/close",title:bN,className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:X,onMouseDown:H,onTouchStart:H},I==null?void 0:I.closeTabset))}xe=t.createElement("div",{key:"toolbar",ref:N,className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:H,onTouchStart:H,onDragStart:function(Ze){Ze.preventDefault()}},z);var HS,jS,Qo=q(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(E.getClassNameTabStrip()!==void 0&&(Qo+=" "+E.getClassNameTabStrip()),Qo+=" "+d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_+E.getTabLocation(),E.isActive()&&!G&&(Qo+=" "+q(d.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),E.isMaximized()&&!G&&(Qo+=" "+q(d.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),G){var PN=t.createElement("div",{key:"toolbar",ref:N,className:q(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:H,onTouchStart:H,onDragStart:function(Ze){Ze.preventDefault()}},ee),qs=q(d.CLASSES.FLEXLAYOUT__TABSET_HEADER);E.isActive()&&(qs+=" "+q(d.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),E.isMaximized()&&(qs+=" "+q(d.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),E.getClassNameHeader()!==void 0&&(qs+=" "+E.getClassNameHeader()),HS=t.createElement("div",{className:qs,style:{height:E.getHeaderHeight()+"px"},"data-layout-path":O+"/header",onMouseDown:x,onContextMenu:B,onClick:M,onAuxClick:M,onTouchStart:x},t.createElement("div",{className:q(d.CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT)},Te),PN)}var Xd={height:E.getTabStripHeight()+"px"};if(E.getTabLocation()==="top"){var yN=G?E.getHeaderHeight()+"px":"0px";Xd.top=yN}else Xd.bottom="0px";return jS=t.createElement("div",{className:Qo,style:Xd,"data-layout-path":O+"/tabstrip",onMouseDown:x,onContextMenu:B,onClick:M,onAuxClick:M,onTouchStart:x},t.createElement("div",{ref:m,className:q(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+q(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_+E.getTabLocation())},t.createElement("div",{style:{left:P},className:q(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+q(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+E.getTabLocation())},Ce)),xe),ce=S.styleFont(ce),t.createElement("div",{ref:L,dir:"ltr","data-layout-path":O,style:ce,className:q(d.CLASSES.FLEXLAYOUT__TABSET),onWheel:b},HS,jS)};pa.TabSet=T;function R(A){var E=!1;return A.nativeEvent instanceof MouseEvent&&(A.nativeEvent.button!==0||A.ctrlKey||A.altKey||A.metaKey||A.shiftKey)&&(E=!0),E}return pa.isAuxMouseEvent=R,pa}var op;function O1(){if(op)return ai;op=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.BorderButton=void 0;var e=c,t=_s(),n=Pn,r=on,a=vT,i=jt,s=ed(),l=function(d){var u=d.layout,T=d.node,R=d.selected,A=d.border,E=d.iconFactory,S=d.titleFactory,p=d.icons,f=d.path,I=e.useRef(null),O=function(W){if(!s.isAuxMouseEvent(W)){var J=u.i18nName(t.I18nLabel.Move_Tab,T.getName());d.layout.dragStart(W,J,T,T.isEnableDrag(),m,function(q){})}},N=function(W){s.isAuxMouseEvent(W)&&u.auxMouseClick(T,W)},h=function(W){u.showContextMenu(T,W)},m=function(){u.doAction(n.default.selectTab(T.getId()))},g=function(){var W=T.getCloseType();return!!(R||W===a.ICloseType.Always||W===a.ICloseType.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)},_=function(W){g()?u.doAction(n.default.deleteTab(T.getId())):m()},L=function(W){W.stopPropagation()};e.useLayoutEffect(function(){P()});var P=function(){var W=u.getDomRect(),J=I.current.getBoundingClientRect();T._setTabRect(new r.default(J.left-W.left,J.top-W.top,J.width,J.height))},v=u.getClassName,D=v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON)+" "+v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON_+A);R?D+=" "+v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED):D+=" "+v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),T.getClassName()!==void 0&&(D+=" "+T.getClassName());var b=E?E(T):void 0,C=T.getName(),y=T.getName();function w(W){return W.titleContent!==void 0}if(S!==void 0){var x=S(T);x!==void 0&&(typeof x=="string"?(C=x,y=x):w(x)?(C=x.titleContent,y=x.name):C=x)}b===void 0&&T.getIcon()!==void 0&&(b=e.createElement("img",{src:T.getIcon(),alt:"leadingContent"}));var M=[],B={leading:b,content:C,name:y,buttons:M};u.customizeTab(T,B),T._setRenderedName(B.name);var H=e.createElement("div",{className:v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},B.content),j=e.createElement("div",{className:v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)},B.leading);if(T.isEnableClose()){var X=u.i18nName(t.I18nLabel.Close_Tab);M.push(e.createElement("div",{key:"close","data-layout-path":f+"/button/close",title:X,className:v(i.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onMouseDown:L,onClick:_,onTouchStart:L},p==null?void 0:p.close))}return e.createElement("div",{ref:I,style:{},className:D,"data-layout-path":f,onMouseDown:O,onClick:N,onAuxClick:N,onContextMenu:h,onTouchStart:O,title:T.getHelpText()},j,H,M)};return ai.BorderButton=l,ai}var ip;function m1(){if(ip)return ri;ip=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.BorderTabSet=void 0;var e=c,t=lr,n=O1(),r=IO(),a=Pn,i=ia,s=Cs,l=Ht,d=jt,u=ed(),T=function(R){for(var A=R.border,E=R.layout,S=R.iconFactory,p=R.titleFactory,f=R.icons,I=R.path,O=e.useRef(null),N=e.useRef(null),h=e.useRef(null),m=s.useTabOverflow(A,l.default.flip(A.getOrientation()),O,h),g=m.selfRef,_=m.position,L=m.userControlledLeft,P=m.hiddenTabs,v=m.onMouseWheel,D=function(Y){u.isAuxMouseEvent(Y)&&E.auxMouseClick(A,Y)},b=function(Y){E.showContextMenu(A,Y)},C=function(Y){Y.stopPropagation()},y=function(Y){var z=N.current;r.showPopup(E.getRootDiv(),z,P,w,E.getClassName),Y.stopPropagation()},w=function(Y){E.doAction(a.default.selectTab(Y.node.getId())),L.current=!1},x=function(Y){var z=A.getChildren()[A.getSelected()];z!==void 0&&E.doAction(a.default.floatTab(z.getId())),Y.stopPropagation()},M=E.getClassName,B=A.getTabHeaderRect().styleWithPosition({}),H=[],j=function(Y){var z=A.getSelected()===Y,ee=A.getChildren()[Y];H.push(e.createElement(n.BorderButton,{layout:E,border:A.getLocation().getName(),node:ee,path:I+"/tb"+Y,key:ee.getId(),selected:z,iconFactory:S,titleFactory:p,icons:f}))},X=0;X<A.getChildren().length;X++)j(X);var W=M(d.CLASSES.FLEXLAYOUT__BORDER)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_+A.getLocation().getName());A.getClassName()!==void 0&&(W+=" "+A.getClassName());var J=[],q={headerContent:{},buttons:J,stickyButtons:[],headerButtons:[]};E.customizeTabSet(A,q),J=q.buttons;var Z;if(P.length>0){var ce=E.i18nName(i.I18nLabel.Overflow_Menu_Tooltip);J.push(e.createElement("button",{key:"overflowbutton",ref:N,className:M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+A.getLocation().getName()),title:ce,onClick:y,onMouseDown:C,onTouchStart:C},f==null?void 0:f.more,P.length))}var Ce=A.getSelected();if(Ce!==-1){var k=A.getChildren()[Ce];if(k!==void 0&&E.isSupportsPopout()&&k.isEnableFloat()&&!k.isFloating()){var ne=E.i18nName(i.I18nLabel.Float_Tab);J.push(e.createElement("button",{key:"float",title:ne,className:M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:x,onMouseDown:C,onTouchStart:C}))}}Z=e.createElement("div",{key:"toolbar",ref:O,className:M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_+A.getLocation().getName())},J),B=E.styleFont(B);var K={},G=A.getBorderBarSize()-1;return A.getLocation()===t.default.LEFT?K={right:G,height:G,top:_}:A.getLocation()===t.default.RIGHT?K={left:G,height:G,top:_}:K={height:G,left:_},e.createElement("div",{ref:g,dir:"ltr",style:B,className:W,"data-layout-path":I,onClick:D,onAuxClick:D,onContextMenu:b,onWheel:v},e.createElement("div",{style:{height:G},className:M(d.CLASSES.FLEXLAYOUT__BORDER_INNER)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_INNER_+A.getLocation().getName())},e.createElement("div",{style:K,className:M(d.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+M(d.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+A.getLocation().getName())},H)),Z)};return ri.BorderTabSet=T,ri}var td={};Object.defineProperty(td,"__esModule",{value:!0});td.Splitter=void 0;var si=c,sp=Ns,lp=Pn,cp=Xa(),Tr=Ht,li=jt,h1=function(e){var t=e.layout,n=e.node,r=e.path,a=si.useRef([]),i=si.useRef(void 0),s=n.getParent(),l=function(g){sp.default.instance.setGlassCursorOverride(n.getOrientation()===Tr.default.HORZ?"ns-resize":"ew-resize"),sp.default.instance.startDrag(g,u,T,A,d,void 0,void 0,t.getCurrentDocument(),t.getRootDiv()),a.current=s._getSplitterBounds(n,!0);var _=t.getRootDiv();i.current=t.getCurrentDocument().createElement("div"),i.current.style.position="absolute",i.current.className=t.getClassName(li.CLASSES.FLEXLAYOUT__SPLITTER_DRAG),i.current.style.cursor=n.getOrientation()===Tr.default.HORZ?"ns-resize":"ew-resize";var L=n.getRect();n.getOrientation()===Tr.default.VERT&&L.width<2?L.width=2:n.getOrientation()===Tr.default.HORZ&&L.height<2&&(L.height=2),L.positionElement(i.current),_.appendChild(i.current)},d=function(g){var _=t.getRootDiv();_.removeChild(i.current)},u=function(){return!0},T=function(g){var _=t.getDomRect(),L={x:g.clientX-_.left,y:g.clientY-_.top};i&&(n.getOrientation()===Tr.default.HORZ?i.current.style.top=E(L.y-4)+"px":i.current.style.left=E(L.x-4)+"px"),t.isRealtimeResize()&&R()},R=function(){var g=0;if(i&&(n.getOrientation()===Tr.default.HORZ?g=i.current.offsetTop:g=i.current.offsetLeft),s instanceof cp.default){var _=s._calculateSplit(n,g);t.doAction(lp.default.adjustBorderSplit(n.getParent().getId(),_))}else{var L=s._calculateSplit(n,g);L!==void 0&&t.doAction(lp.default.adjustSplit(L))}},A=function(){R();var g=t.getRootDiv();g.removeChild(i.current)},E=function(g){var _=a.current,L=g;return g<_[0]&&(L=_[0]),g>_[1]&&(L=_[1]),L},S=t.getClassName,p=n.getRect(),f=p.styleWithPosition({cursor:n.getOrientation()===Tr.default.HORZ?"ns-resize":"ew-resize"}),I=S(li.CLASSES.FLEXLAYOUT__SPLITTER)+" "+S(li.CLASSES.FLEXLAYOUT__SPLITTER_+n.getOrientation().getName());s instanceof cp.default?I+=" "+S(li.CLASSES.FLEXLAYOUT__SPLITTER_BORDER):n.getModel().getMaximizedTabset()!==void 0&&(f.display="none");var O=n.getModel().getSplitterExtra();if(O===0)return si.createElement("div",{style:f,"data-layout-path":r,className:I,onTouchStart:l,onMouseDown:l});var N=p.clone();N.x=0,N.y=0,n.getOrientation()===Tr.default.VERT?N.width+=O:N.height+=O;var h=N.styleWithPosition({cursor:n.getOrientation()===Tr.default.HORZ?"ns-resize":"ew-resize"}),m=S(li.CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);return si.createElement("div",{style:f,"data-layout-path":r,className:I},si.createElement("div",{style:h,className:m,onTouchStart:l,onMouseDown:l}))};td.Splitter=h1;var nd={},dp=at&&at.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};Object.defineProperty(nd,"__esModule",{value:!0});nd.FloatingWindow=void 0;var EE=c,N1=Oc,C1=jt,g1=function(e){var t=e.title,n=e.id,r=e.url,a=e.rect,i=e.onCloseWindow,s=e.onSetWindow,l=e.children,d=EE.useRef(null),u=EE.useState(void 0),T=u[0],R=u[1];return EE.useLayoutEffect(function(){var A=a,E=Array.from(window.document.styleSheets).reduce(function(S,p){var f=void 0;try{f=p.cssRules}catch{}try{return dp(dp([],S),[{href:p.href,type:p.type,rules:f?Array.from(f).map(function(I){return I.cssText}):null}])}catch{return S}},[]);return d.current=window.open(r,n,"left="+A.x+",top="+A.y+",width="+A.width+",height="+A.height),d.current!==null?(s(n,d.current),window.addEventListener("beforeunload",function(){d.current&&(d.current.close(),d.current=null)}),d.current.addEventListener("load",function(){var S=d.current.document;S.title=t;var p=S.createElement("div");p.className=C1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,S.body.appendChild(p),_1(S,E).then(function(){R(p)}),d.current.addEventListener("beforeunload",function(){i(n)})})):i(n),function(){setTimeout(function(){d.current&&(d.current.close(),d.current=null)},0)}},[]),T!==void 0?N1.createPortal(l,T):null};nd.FloatingWindow=g1;function _1(e,t){var n=e.head,r=[];return t.forEach(function(a){if(a.href){var i=e.createElement("link");i.type=a.type,i.rel="stylesheet",i.href=a.href,n.appendChild(i),r.push(new Promise(function(l,d){i.onload=function(){return l(!0)}}))}else if(a.rules){var s=e.createElement("style");a.rules.forEach(function(l){return s.appendChild(e.createTextNode(l))}),n.appendChild(s)}}),Promise.all(r)}var rd={};Object.defineProperty(rd,"__esModule",{value:!0});rd.FloatingWindowTab=void 0;var uE=c,L1=gs,v1=ia,D1=c,b1=jt,P1=function(e){var t=e.layout,n=e.node,r=e.factory,a=t.getClassName,i=r(n);return uE.createElement("div",{className:a(b1.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_TAB)},uE.createElement(L1.ErrorBoundary,{message:e.layout.i18nName(v1.I18nLabel.Error_rendering_component)},uE.createElement(D1.Fragment,null,i)))};rd.FloatingWindowTab=P1;var ci={},Ep;function y1(){if(Ep)return ci;Ep=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.TabFloating=void 0;var e=c,t=Pn,n=da(),r=jt,a=ia,i=DT(),s=function(l){var d=l.layout,u=l.selected,T=l.node,R=l.path,A=function(){T.getWindow()&&T.getWindow().focus()},E=function(){d.doAction(t.default.unFloatTab(T.getId()))},S=function(){var _=T.getParent();_.getType()===n.default.TYPE&&(_.isActive()||d.doAction(t.default.setActiveTabset(_.getId())))},p=function(_){_.preventDefault(),A()},f=function(_){_.preventDefault(),E()},I=d.getClassName,O=T._styleWithPosition();u||i.hideElement(O,T.getModel().isUseVisibility());var N=d.i18nName(a.I18nLabel.Floating_Window_Message),h=d.i18nName(a.I18nLabel.Floating_Window_Show_Window),m=d.i18nName(a.I18nLabel.Floating_Window_Dock_Window),g=d.getOnRenderFloatingTabPlaceholder();return g?e.createElement("div",{className:I(r.CLASSES.FLEXLAYOUT__TAB_FLOATING),onMouseDown:S,onTouchStart:S,style:O},g(E,A)):e.createElement("div",{className:I(r.CLASSES.FLEXLAYOUT__TAB_FLOATING),"data-layout-path":R,onMouseDown:S,onTouchStart:S,style:O},e.createElement("div",{className:I(r.CLASSES.FLEXLAYOUT__TAB_FLOATING_INNER)},e.createElement("div",null,N),e.createElement("div",null,e.createElement("a",{href:"#",onClick:p},h)),e.createElement("div",null,e.createElement("a",{href:"#",onClick:f},m))))};return ci.TabFloating=s,ci}var up;function M1(){if(up)return Ja;up=1;var e=at&&at.__extends||function(){var v=function(D,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(C[w]=y[w])},v(D,b)};return function(D,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");v(D,b);function C(){this.constructor=D}D.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}}(),t=at&&at.__spreadArray||function(v,D){for(var b=0,C=D.length,y=v.length;b<C;b++,y++)v[y]=D[b];return v};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.Layout=void 0;var n=c,r=Oc,a=lr,i=Ns,s=Pn,l=Xa(),d=Mo,u=$a,T=da(),R=on,A=jt,E=m1(),S=td,p=DT(),f=ed(),I=nd,O=rd,N=y1(),h=_s(),m=typeof window<"u"&&(window.document.documentMode||/Edge\//.test(window.navigator.userAgent)),g=typeof window<"u"&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches,_=g&&!m,L=function(v){e(D,v);function D(b){var C=v.call(this,b)||this;return C.firstMove=!1,C.dragRectRendered=!0,C.dragDivText="",C.edgeRectLength=100,C.edgeRectWidth=10,C.edgesShown=!1,C.onModelChange=function(){C.forceUpdate(),C.props.onModelChange&&C.props.onModelChange(C.props.model)},C.updateRect=function(y){y===void 0&&(y=C.getDomRect());var w=new R.default(0,0,y.width,y.height);!w.equals(C.state.rect)&&w.width!==0&&w.height!==0&&C.setState({rect:w})},C.updateLayoutMetrics=function(){if(C.findHeaderBarSizeRef.current){var y=C.findHeaderBarSizeRef.current.getBoundingClientRect().height;y!==C.state.calculatedHeaderBarSize&&C.setState({calculatedHeaderBarSize:y})}if(C.findTabBarSizeRef.current){var w=C.findTabBarSizeRef.current.getBoundingClientRect().height;w!==C.state.calculatedTabBarSize&&C.setState({calculatedTabBarSize:w})}if(C.findBorderBarSizeRef.current){var x=C.findBorderBarSizeRef.current.getBoundingClientRect().height;x!==C.state.calculatedBorderBarSize&&C.setState({calculatedBorderBarSize:x})}},C.getClassName=function(y){return C.props.classNameMapper===void 0?y:C.props.classNameMapper(y)},C.onCloseWindow=function(y){C.doAction(s.default.unFloatTab(y));try{C.props.model.getNodeById(y)._setWindow(void 0)}catch{}},C.onSetWindow=function(y,w){C.props.model.getNodeById(y)._setWindow(w)},C.onCancelAdd=function(){var y,w,x=C.selfRef.current;x.removeChild(C.dragDiv),C.dragDiv=void 0,C.fnNewNodeDropped!=null&&(C.fnNewNodeDropped(),C.fnNewNodeDropped=void 0);try{(w=(y=C.customDrop)===null||y===void 0?void 0:y.invalidated)===null||w===void 0||w.call(y)}catch{}i.default.instance.hideGlass(),C.newTabJson=void 0,C.customDrop=void 0},C.onCancelDrag=function(y){var w,x;if(y){var M=C.selfRef.current;try{M.removeChild(C.outlineDiv)}catch{}try{M.removeChild(C.dragDiv)}catch{}C.dragDiv=void 0,C.hideEdges(M),C.fnNewNodeDropped!=null&&(C.fnNewNodeDropped(),C.fnNewNodeDropped=void 0);try{(x=(w=C.customDrop)===null||w===void 0?void 0:w.invalidated)===null||x===void 0||x.call(w)}catch{}i.default.instance.hideGlass(),C.newTabJson=void 0,C.customDrop=void 0}C.setState({showHiddenBorder:a.default.CENTER})},C.onDragDivMouseDown=function(y){y.preventDefault(),C.dragStart(y,C.dragDivText,u.default._fromJson(C.newTabJson,C.props.model,!1),!0,void 0,void 0)},C.dragStart=function(y,w,x,M,B,H){C.props.model.getMaximizedTabset()!==void 0||!M?i.default.instance.startDrag(y,void 0,void 0,void 0,void 0,B,H,C.currentDocument,C.selfRef.current):(C.dragNode=x,C.dragDivText=w,i.default.instance.startDrag(y,C.onDragStart,C.onDragMove,C.onDragEnd,C.onCancelDrag,B,H,C.currentDocument,C.selfRef.current))},C.dragRectRender=function(y,w,x,M){var B=n.createElement("div",{style:{whiteSpace:"pre"}},y.replace("<br>",`
`));if(C.props.onRenderDragRect!==void 0){var H=C.props.onRenderDragRect(y,w,x);H!==void 0&&(B=H)}C.dragDiv.style.visibility="hidden",C.dragRectRendered=!1,r.render(n.createElement(P,{onRendered:function(){C.dragRectRendered=!0,M==null||M()}},B),C.dragDiv)},C.onDragStart=function(){C.dropInfo=void 0,C.customDrop=void 0;var y=C.selfRef.current;return C.outlineDiv=C.currentDocument.createElement("div"),C.outlineDiv.className=C.getClassName(A.CLASSES.FLEXLAYOUT__OUTLINE_RECT),C.outlineDiv.style.visibility="hidden",y.appendChild(C.outlineDiv),C.dragDiv==null&&(C.dragDiv=C.currentDocument.createElement("div"),C.dragDiv.className=C.getClassName(A.CLASSES.FLEXLAYOUT__DRAG_RECT),C.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),C.dragRectRender(C.dragDivText,C.dragNode,C.newTabJson),y.appendChild(C.dragDiv)),C.showEdges(y),C.dragNode!==void 0&&C.dragNode instanceof u.default&&C.dragNode.getTabRect()!==void 0&&C.dragNode.getTabRect().positionElement(C.outlineDiv),C.firstMove=!0,!0},C.onDragMove=function(y){if(C.firstMove===!1){var w=C.props.model._getAttribute("tabDragSpeed");C.outlineDiv.style.transition="top "+w+"s, left "+w+"s, width "+w+"s, height "+w+"s"}C.firstMove=!1;var x=C.selfRef.current.getBoundingClientRect(),M={x:y.clientX-x.left,y:y.clientY-x.top};C.checkForBorderToShow(M.x,M.y);var B=C.dragDiv.getBoundingClientRect(),H=M.x-B.width/2;H+B.width>x.width&&(H=x.width-B.width),H=Math.max(0,H),C.dragDiv.style.left=H+"px",C.dragDiv.style.top=M.y+5+"px",C.dragRectRendered&&C.dragDiv.style.visibility==="hidden"&&(C.dragDiv.style.visibility="visible");var j=C.props.model._findDropTargetNode(C.dragNode,M.x,M.y);j&&(C.props.onTabDrag?C.handleCustomTabDrag(j,M,y):(C.dropInfo=j,C.outlineDiv.className=C.getClassName(j.className),j.rect.positionElement(C.outlineDiv),C.outlineDiv.style.visibility="visible"))},C.onDragEnd=function(y){var w=C.selfRef.current;if(w.removeChild(C.outlineDiv),w.removeChild(C.dragDiv),C.dragDiv=void 0,C.hideEdges(w),i.default.instance.hideGlass(),C.dropInfo)if(C.customDrop){C.newTabJson=void 0;try{var x=C.customDrop,M=x.callback,B=x.dragging,H=x.over,j=x.x,X=x.y,W=x.location;M(B,H,j,X,W),C.fnNewNodeDropped!=null&&(C.fnNewNodeDropped(),C.fnNewNodeDropped=void 0)}catch{}}else if(C.newTabJson!==void 0){var J=C.doAction(s.default.addNode(C.newTabJson,C.dropInfo.node.getId(),C.dropInfo.location,C.dropInfo.index));C.fnNewNodeDropped!=null&&(C.fnNewNodeDropped(J,y),C.fnNewNodeDropped=void 0),C.newTabJson=void 0}else C.dragNode!==void 0&&C.doAction(s.default.moveNode(C.dragNode.getId(),C.dropInfo.node.getId(),C.dropInfo.location,C.dropInfo.index));C.setState({showHiddenBorder:a.default.CENTER})},C.props.model._setChangeListener(C.onModelChange),C.tabIds=[],C.selfRef=n.createRef(),C.findHeaderBarSizeRef=n.createRef(),C.findTabBarSizeRef=n.createRef(),C.findBorderBarSizeRef=n.createRef(),C.supportsPopout=b.supportsPopout!==void 0?b.supportsPopout:_,C.popoutURL=b.popoutURL?b.popoutURL:"popout.html",C.icons=b.closeIcon?Object.assign({close:b.closeIcon},b.icons):b.icons,C.firstRender=!0,C.state={rect:new R.default(0,0,0,0),calculatedHeaderBarSize:25,calculatedTabBarSize:26,calculatedBorderBarSize:30,editingTab:void 0,showHiddenBorder:a.default.CENTER},C.onDragEnter=C.onDragEnter.bind(C),C}return D.prototype.styleFont=function(b){return this.props.font&&(this.props.font.size&&(b.fontSize=this.props.font.size),this.props.font.family&&(b.fontFamily=this.props.font.family),this.props.font.style&&(b.fontStyle=this.props.font.style),this.props.font.weight&&(b.fontWeight=this.props.font.weight)),b},D.prototype.doAction=function(b){if(this.props.onAction!==void 0){var C=this.props.onAction(b);return C!==void 0?this.props.model.doAction(C):void 0}else return this.props.model.doAction(b)},D.prototype.componentDidMount=function(){var b=this;this.updateRect(),this.updateLayoutMetrics(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.resizeObserver=new ResizeObserver(function(C){b.updateRect(C[0].contentRect)}),this.resizeObserver.observe(this.selfRef.current)},D.prototype.componentDidUpdate=function(){this.updateLayoutMetrics(),this.props.model!==this.previousModel&&(this.previousModel!==void 0&&this.previousModel._setChangeListener(void 0),this.props.model._setChangeListener(this.onModelChange),this.previousModel=this.props.model)},D.prototype.getCurrentDocument=function(){return this.currentDocument},D.prototype.getDomRect=function(){return this.selfRef.current.getBoundingClientRect()},D.prototype.getRootDiv=function(){return this.selfRef.current},D.prototype.isSupportsPopout=function(){return this.supportsPopout},D.prototype.isRealtimeResize=function(){var b;return(b=this.props.realtimeResize)!==null&&b!==void 0?b:!1},D.prototype.onTabDrag=function(){for(var b,C,y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return(C=(b=this.props).onTabDrag)===null||C===void 0?void 0:C.call.apply(C,t([b],y))},D.prototype.getPopoutURL=function(){return this.popoutURL},D.prototype.componentWillUnmount=function(){var b;(b=this.resizeObserver)===null||b===void 0||b.unobserve(this.selfRef.current)},D.prototype.setEditingTab=function(b){this.setState({editingTab:b})},D.prototype.getEditingTab=function(){return this.state.editingTab},D.prototype.render=function(){var b=this;if(this.firstRender)return this.firstRender=!1,n.createElement("div",{ref:this.selfRef,className:this.getClassName(A.CLASSES.FLEXLAYOUT__LAYOUT)},this.metricsElements());this.props.model._setPointerFine(window&&window.matchMedia&&window.matchMedia("(pointer: fine)").matches);var C=[],y=[],w=[],x={},M=[],B={headerBarSize:this.state.calculatedHeaderBarSize,tabBarSize:this.state.calculatedTabBarSize,borderBarSize:this.state.calculatedBorderBarSize};this.props.model._setShowHiddenBorder(this.state.showHiddenBorder),this.centerRect=this.props.model._layout(this.state.rect,B),this.renderBorder(this.props.model.getBorderSet(),C,x,w,M),this.renderChildren("",this.props.model.getRoot(),y,x,w,M),this.edgesShown&&this.repositionEdges(this.state.rect);var H=[],j={};return this.tabIds.forEach(function(X){x[X]&&(H.push(X),j[X]=X)}),this.tabIds=H,Object.keys(x).forEach(function(X){j[X]||b.tabIds.push(X)}),n.createElement("div",{ref:this.selfRef,className:this.getClassName(A.CLASSES.FLEXLAYOUT__LAYOUT),onDragEnter:this.props.onExternalDrag?this.onDragEnter:void 0},y,this.tabIds.map(function(X){return x[X]}),C,M,w,this.metricsElements())},D.prototype.metricsElements=function(){var b=this.styleFont({visibility:"hidden"});return n.createElement(n.Fragment,null,n.createElement("div",{key:"findHeaderBarSize",ref:this.findHeaderBarSizeRef,style:b,className:this.getClassName(A.CLASSES.FLEXLAYOUT__TABSET_HEADER_SIZER)},"FindHeaderBarSize"),n.createElement("div",{key:"findTabBarSize",ref:this.findTabBarSizeRef,style:b,className:this.getClassName(A.CLASSES.FLEXLAYOUT__TABSET_SIZER)},"FindTabBarSize"),n.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,style:b,className:this.getClassName(A.CLASSES.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize"))},D.prototype.renderBorder=function(b,C,y,w,x){for(var M=0,B=b.getBorders();M<B.length;M++){var H=B[M],j="/border/"+H.getLocation().getName();if(H.isShowing()){C.push(n.createElement(E.BorderTabSet,{key:"border_"+H.getLocation().getName(),path:j,border:H,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons}));for(var X=H._getDrawChildren(),W=0,J=0,q=0,Z=X;q<Z.length;q++){var ce=Z[q];if(ce instanceof d.default){var Ce=j+"/s";x.push(n.createElement(S.Splitter,{key:ce.getId(),layout:this,node:ce,path:Ce}))}else if(ce instanceof u.default){var Ce=j+"/t"+J++;if(this.supportsPopout&&ce.isFloating()){var k=this._getScreenRect(ce);w.push(n.createElement(I.FloatingWindow,{key:ce.getId(),url:this.popoutURL,rect:k,title:ce.getName(),id:ce.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},n.createElement(O.FloatingWindowTab,{layout:this,node:ce,factory:this.props.factory}))),y[ce.getId()]=n.createElement(N.TabFloating,{key:ce.getId(),layout:this,path:Ce,node:ce,selected:W===H.getSelected()})}else y[ce.getId()]=n.createElement(p.Tab,{key:ce.getId(),layout:this,path:Ce,node:ce,selected:W===H.getSelected(),factory:this.props.factory})}W++}}}},D.prototype.renderChildren=function(b,C,y,w,x,M){for(var B=C._getDrawChildren(),H=0,j=0,X=0,W=0,J=B;W<J.length;W++){var q=J[W];if(q instanceof d.default){var Z=b+"/s"+H++;M.push(n.createElement(S.Splitter,{key:q.getId(),layout:this,path:Z,node:q}))}else if(q instanceof T.default){var Z=b+"/ts"+X++;y.push(n.createElement(f.TabSet,{key:q.getId(),layout:this,path:Z,node:q,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons})),this.renderChildren(Z,q,y,w,x,M)}else if(q instanceof u.default){var Z=b+"/t"+j++,ce=q.getParent().getChildren()[q.getParent().getSelected()];if(this.supportsPopout&&q.isFloating()){var Ce=this._getScreenRect(q);x.push(n.createElement(I.FloatingWindow,{key:q.getId(),url:this.popoutURL,rect:Ce,title:q.getName(),id:q.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},n.createElement(O.FloatingWindowTab,{layout:this,node:q,factory:this.props.factory}))),w[q.getId()]=n.createElement(N.TabFloating,{key:q.getId(),layout:this,path:Z,node:q,selected:q===ce})}else w[q.getId()]=n.createElement(p.Tab,{key:q.getId(),layout:this,path:Z,node:q,selected:q===ce,factory:this.props.factory})}else{var Z=b+(q.getOrientation()===h.Orientation.HORZ?"/r":"/c")+X++;this.renderChildren(Z,q,y,w,x,M)}}},D.prototype._getScreenRect=function(b){var C=b.getRect().clone(),y=this.selfRef.current.getBoundingClientRect(),w=Math.min(80,this.currentWindow.outerHeight-this.currentWindow.innerHeight),x=Math.min(80,this.currentWindow.outerWidth-this.currentWindow.innerWidth);return C.x=C.x+y.x+this.currentWindow.screenX+x,C.y=C.y+y.y+this.currentWindow.screenY+w,C},D.prototype.addTabToTabSet=function(b,C){var y=this.props.model.getNodeById(b);y!==void 0&&this.doAction(s.default.addNode(C,b,a.default.CENTER,-1))},D.prototype.addTabToActiveTabSet=function(b){var C=this.props.model.getActiveTabset();C!==void 0&&this.doAction(s.default.addNode(b,C.getId(),a.default.CENTER,-1))},D.prototype.addTabWithDragAndDrop=function(b,C,y){this.fnNewNodeDropped=y,this.newTabJson=C,this.dragStart(void 0,b,u.default._fromJson(C,this.props.model,!1),!0,void 0,void 0)},D.prototype.addTabWithDragAndDropIndirect=function(b,C,y){var w=this;this.fnNewNodeDropped=y,this.newTabJson=C,i.default.instance.addGlass(this.onCancelAdd),this.dragDivText=b,this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(A.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown),this.dragRectRender(this.dragDivText,void 0,this.newTabJson,function(){if(w.dragDiv){w.dragDiv.style.visibility="visible";var M=w.dragDiv.getBoundingClientRect(),B=new R.default(0,0,M==null?void 0:M.width,M==null?void 0:M.height);B.centerInRect(w.state.rect),w.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),w.dragDiv.style.left=B.x+"px",w.dragDiv.style.top=B.y+"px"}});var x=this.selfRef.current;x.appendChild(this.dragDiv)},D.prototype.handleCustomTabDrag=function(b,C,y){var w=this,x,M,B,H=(x=this.customDrop)===null||x===void 0?void 0:x.invalidated,j=(M=this.customDrop)===null||M===void 0?void 0:M.callback;this.customDrop=void 0;var X=this.newTabJson||(this.dragNode instanceof u.default?this.dragNode:void 0);if(X&&(b.node instanceof T.default||b.node instanceof l.default)&&b.index===-1){var W=b.node.getSelectedNode(),J=W==null?void 0:W.getRect();if(W&&(J!=null&&J.contains(C.x,C.y))){var q=void 0;try{var Z=this.onTabDrag(X,W,C.x-J.x,C.y-J.y,b.location,function(){return w.onDragMove(y)});Z&&(q={rect:new R.default(Z.x+J.x,Z.y+J.y,Z.width,Z.height),callback:Z.callback,invalidated:Z.invalidated,dragging:X,over:W,x:C.x-J.x,y:C.y-J.y,location:b.location,cursor:Z.cursor})}catch{}(q==null?void 0:q.callback)===j&&(H=void 0),this.customDrop=q}}this.dropInfo=b,this.outlineDiv.className=this.getClassName(this.customDrop?A.CLASSES.FLEXLAYOUT__OUTLINE_RECT:b.className),this.customDrop?this.customDrop.rect.positionElement(this.outlineDiv):b.rect.positionElement(this.outlineDiv),i.default.instance.setGlassCursorOverride((B=this.customDrop)===null||B===void 0?void 0:B.cursor),this.outlineDiv.style.visibility="visible";try{H==null||H()}catch{}},D.prototype.onDragEnter=function(b){if(!i.default.instance.isDragging()){var C=this.props.onExternalDrag(b);C&&(this.fnNewNodeDropped=C.onDrop,this.newTabJson=C.json,this.dragStart(b,C.dragText,u.default._fromJson(C.json,this.props.model,!1),!0,void 0,void 0))}},D.prototype.checkForBorderToShow=function(b,C){var y=this.props.model._getOuterInnerRects().outer,w=y.getCenter(),x=this.edgeRectWidth,M=this.edgeRectLength/2,B=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===a.default.CENTER&&(C>w.y-M&&C<w.y+M||b>w.x-M&&b<w.x+M)&&(B=!0);var H=a.default.CENTER;B||(b<=y.x+x?H=a.default.LEFT:b>=y.getRight()-x?H=a.default.RIGHT:C<=y.y+x?H=a.default.TOP:C>=y.getBottom()-x&&(H=a.default.BOTTOM)),H!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:H})},D.prototype.showEdges=function(b){if(this.props.model.isEnableEdgeDock()){var C=this.edgeRectLength+"px",y="50px",w=this.edgeRectWidth+"px";this.edgeTopDiv=this.currentDocument.createElement("div"),this.edgeTopDiv.className=this.getClassName(A.CLASSES.FLEXLAYOUT__EDGE_RECT),this.edgeTopDiv.style.width=C,this.edgeTopDiv.style.height=w,this.edgeTopDiv.style.borderBottomLeftRadius=y,this.edgeTopDiv.style.borderBottomRightRadius=y,this.edgeLeftDiv=this.currentDocument.createElement("div"),this.edgeLeftDiv.className=this.getClassName(A.CLASSES.FLEXLAYOUT__EDGE_RECT),this.edgeLeftDiv.style.width=w,this.edgeLeftDiv.style.height=C,this.edgeLeftDiv.style.borderTopRightRadius=y,this.edgeLeftDiv.style.borderBottomRightRadius=y,this.edgeBottomDiv=this.currentDocument.createElement("div"),this.edgeBottomDiv.className=this.getClassName(A.CLASSES.FLEXLAYOUT__EDGE_RECT),this.edgeBottomDiv.style.width=C,this.edgeBottomDiv.style.height=w,this.edgeBottomDiv.style.borderTopLeftRadius=y,this.edgeBottomDiv.style.borderTopRightRadius=y,this.edgeRightDiv=this.currentDocument.createElement("div"),this.edgeRightDiv.className=this.getClassName(A.CLASSES.FLEXLAYOUT__EDGE_RECT),this.edgeRightDiv.style.width=w,this.edgeRightDiv.style.height=C,this.edgeRightDiv.style.borderTopLeftRadius=y,this.edgeRightDiv.style.borderBottomLeftRadius=y,this.repositionEdges(this.state.rect),b.appendChild(this.edgeTopDiv),b.appendChild(this.edgeLeftDiv),b.appendChild(this.edgeBottomDiv),b.appendChild(this.edgeRightDiv),this.edgesShown=!0}},D.prototype.repositionEdges=function(b){if(this.props.model.isEnableEdgeDock()){var C=this.centerRect;this.edgeTopDiv.style.top=C.y+"px",this.edgeTopDiv.style.left=C.x+(C.width-this.edgeRectLength)/2+"px",this.edgeLeftDiv.style.top=C.y+(C.height-this.edgeRectLength)/2+"px",this.edgeLeftDiv.style.left=C.x+"px",this.edgeBottomDiv.style.bottom=b.height-C.getBottom()+"px",this.edgeBottomDiv.style.left=C.x+(C.width-this.edgeRectLength)/2+"px",this.edgeRightDiv.style.top=C.y+(C.height-this.edgeRectLength)/2+"px",this.edgeRightDiv.style.right=b.width-C.getRight()+"px"}},D.prototype.hideEdges=function(b){if(this.props.model.isEnableEdgeDock())try{b.removeChild(this.edgeTopDiv),b.removeChild(this.edgeLeftDiv),b.removeChild(this.edgeBottomDiv),b.removeChild(this.edgeRightDiv)}catch{}this.edgesShown=!1},D.prototype.maximize=function(b){this.doAction(s.default.maximizeToggle(b.getId()))},D.prototype.customizeTab=function(b,C){this.props.onRenderTab&&this.props.onRenderTab(b,C)},D.prototype.customizeTabSet=function(b,C){this.props.onRenderTabSet&&this.props.onRenderTabSet(b,C)},D.prototype.i18nName=function(b,C){var y;return this.props.i18nMapper&&(y=this.props.i18nMapper(b,C)),y===void 0&&(y=b+(C===void 0?"":C)),y},D.prototype.getOnRenderFloatingTabPlaceholder=function(){return this.props.onRenderFloatingTabPlaceholder},D.prototype.showContextMenu=function(b,C){this.props.onContextMenu&&this.props.onContextMenu(b,C)},D.prototype.auxMouseClick=function(b,C){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(b,C)},D}(n.Component);Ja.Layout=L;var P=function(v){return n.useEffect(function(){var D;(D=v.onRendered)===null||D===void 0||D.call(v)},[v]),n.createElement(n.Fragment,null,v.children)};return Ja.default=L,Ja}var Tp;function _s(){return Tp||(Tp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=e.DropInfo=e.DragDrop=e.Orientation=e.DockLocation=e.BorderSet=e.BorderNode=e.TabSetNode=e.TabNode=e.SplitterNode=e.RowNode=e.Node=e.Model=e.Action=e.Actions=e.I18nLabel=e.Layout=void 0;var t=lr;e.DockLocation=t.default;var n=Ns;e.DragDrop=n.default;var r=yo;e.DropInfo=r.default;var a=ia;Object.defineProperty(e,"I18nLabel",{enumerable:!0,get:function(){return a.I18nLabel}});var i=Kc;e.Action=i.default;var s=Pn;e.Actions=s.default;var l=Xa();e.BorderNode=l.default;var d=Jc;e.BorderSet=d.default;var u=LT;e.Model=u.default;var T=ca;e.Node=T.default;var R=gT();e.RowNode=R.default;var A=Mo;e.SplitterNode=A.default;var E=$a;e.TabNode=E.default;var S=da();e.TabSetNode=S.default;var p=Ht;e.Orientation=p.default;var f=on;e.Rect=f.default;var I=M1();e.Layout=I.default,e.default={Layout:I.default,I18nLabel:a.I18nLabel,Actions:s.default,Action:i.default,Model:u.default,Node:T.default,RowNode:R.default,SplitterNode:A.default,TabNode:E.default,TabSetNode:S.default,BorderNode:l.default,BorderSet:d.default,DockLocation:t.default,Orientation:p.default,DragDrop:n.default,DropInfo:r.default,Rect:f.default}}(Zd)),Zd}var OO=_s();const x1=Mu(OO);const U1=(e,t,n,r)=>{const[a,i]=c.useState(),[s,l]=c.useState(r);return c.useEffect(()=>{if(t(a,n)){const d=e();i(n),l(d)}},[n]),[s,l]},mO=c.createContext({datas:[]}),hO=(e=!1)=>{const[t,n]=c.useState(e),r=c.useCallback(()=>n(a=>!a),[]);return[t,r]};function w1({onClearCheckedList:e,folderRole:t,item:n}){const[,r]=GI(()=>({type:In.DATASET_COLUMN,canDrag:!0,item:{field:n.field,colName:n==null?void 0:n.name,type:n==null?void 0:n.type,category:n==null?void 0:n.category,expression:n==null?void 0:n.expression},collect:a=>({isDragging:a.isDragging()}),end:e}),[]);return o.jsx(B1,{ref:r,children:o.jsxs(Mt,{children:[o.jsx(Qr,{fontSize:En,children:o.jsx(Po,{style:{color:Zn}})}),o.jsx("p",{children:t===qe.Hierarchy?zC(n):n==null?void 0:n.displayName})]})})}const B1=F.div.withConfig({displayName:"DateLevelFieldContainer__ItemWrapper",componentId:"sc-m7fma0-0"})(["color:",";"],e=>e.theme.textColorSnd),{Panel:F1}=Zr,NO=c.memo(function e({name:t,type:n,subType:r,category:a,selectedItemsIds:i,selectedItems:s,isActive:l,availableSourceFunctions:d,role:u,children:T,isViewComputedFields:R,viewType:A,displayName:E,folderRole:S,dateFormat:p,onDeleteComputedField:f,onEditComputedField:I,onSelectionChange:O,onClearCheckedList:N,comment:h}){const m=V("viz.workbench.dataview"),[g,_]=hO(!1),L=u===qe.Hierarchy||u===qe.Table,P=u===qe.Hierarchy,[,v]=GI(()=>({type:L?In.DATASET_COLUMN_GROUP:In.DATASET_COLUMN,canDrag:!0,item:s!=null&&s.length?s.map(y=>qS(y)):qS({type:n,subType:r,category:a,name:t,dateFormat:p},T),collect:y=>({isDragging:y.isDragging()}),end:N}),[s]),D=c.useMemo(()=>{const y=[];return l&&y.push("container-active"),y},[l]),b=c.useMemo(()=>{const y=(j,X)=>{j.key==="delete"?f==null||f(X):I==null||I(X)},w=()=>At.Field===a||At.Hierarchy===a,x=()=>{if(P)return hn;if(At.ComputedField===a||At.AggregateComputedField===a)return hn;switch(n){case be.NUMERIC:return Vf;default:return Zn}},M=()=>({items:[{label:m("editField"),key:"edit"},{label:m("deleteField"),key:"delete",disabled:R}],onClick:j=>y(j,t)});let B=o.jsx(tc,{});const H={style:{alignSelf:"center",color:x()}};if(P)g?B=o.jsx(sI,{...H,onClick:()=>{_(!g)}}):B=o.jsx(DP,{...H,onClick:()=>{_(!g)}});else if(u===qe.Table)B=o.jsx(Ao,{...H,onClick:()=>{_(!g)}});else switch(n){case be.STRING:B=o.jsx(ms,{...H});break;case be.NUMERIC:B=o.jsx(hs,{...H});break;case be.DATE:B=o.jsx(Po,{...H});break;default:B=o.jsx(tc,{...H})}return n==="DATE"&&a==="field"?o.jsx(Mt,{align:"middle",style:{width:"100%"},children:o.jsx(H1,{defaultActiveKey:[t],ghost:!0,expandIconPosition:"end",expandIcon:({isActive:j})=>o.jsx(iI,{rotate:j?-180:0}),children:o.jsx(F1,{header:o.jsxs("div",{ref:v,children:[o.jsx(Qr,{fontSize:En,children:B}),o.jsx("p",{children:!S||S===qe.Hierarchy?t:E})]}),children:(T||[]).map((j,X)=>o.jsx(w1,{item:j,folderRole:S,onClearCheckedList:N},X))},t)})}):o.jsxs(Mt,{align:"middle",style:{width:"100%"},onClick:j=>{O==null||O(t,j.metaKey||j.ctrlKey,j.shiftKey)},className:D.join(" "),children:[o.jsx(Qr,{fontSize:En,children:B}),h?o.jsx(Me,{title:h,placement:"right",arrow:!0,children:o.jsxs(Sp,{children:[" ",L||!S||S===qe.Hierarchy?t:E]})}):o.jsxs(Sp,{children:[" ",L||!S||S===qe.Hierarchy?t:E]}),o.jsx("div",{onClick:rn,children:o.jsx(an,{disabled:w(),menu:M(),trigger:["click"],children:o.jsx(rt,{icon:o.jsx(Xt,{}),iconSize:Ha,className:"setting",onClick:j=>j.preventDefault()})})})]})},[m,v,u,n,a,t,T,R,L,E,S,g,_,P,D,f,I,N,O]),C=c.useMemo(()=>(T||[]).filter(y=>!ZE(y.name)&&y.category!=="dateLevelComputedField").map(y=>o.jsx(e,{name:y.name,displayName:y.displayName,category:y.category,expression:y.expression,type:y.type,role:y.role,folderRole:u,children:y.children,viewType:A,isViewComputedFields:y.isViewComputedFields,isActive:i==null?void 0:i.includes(y.name),availableSourceFunctions:d,onDeleteComputedField:f,onClearCheckedList:N,onSelectionChange:O,selectedItems:s,dateFormat:y.dateFormat,comment:y.comment},y.name)),[u,T,f,N,s,A,d,O,i]);return c.useEffect(()=>{_(A==="STRUCT")},[A,_]),o.jsxs(G1,{flexDirection:T?"column":"row",onClick:y=>{L||O==null||O(t,y.metaKey||y.ctrlKey,y.shiftKey)},ref:n==="DATE"&&a==="field"?null:v,className:n==="DATE"&&a==="field"?"":D.join(" "),children:[b,g&&C]})}),G1=F.div.withConfig({displayName:"ChartDraggableSourceContainer__Container",componentId:"sc-1flvl2g-0"})(["display:flex;flex:1;flex-direction:",";padding:"," "," "," ",";font-size:",";font-weight:",";color:",";cursor:pointer;.container-active{background-color:",";}> p{flex:1;}.ant-collapse-header{display:flex;flex:1;align-items:center;> p{flex:1;}}.setting{visibility:hidden;}&:hover{color:",";.setting{visibility:visible;}}"],e=>e.flexDirection||"row",me(.5),ot,me(.5),me(2),WN,nn,e=>e.theme.textColorSnd,e=>e.theme.bodyBackground,e=>e.theme.textColor),H1=F(Zr).withConfig({displayName:"ChartDraggableSourceContainer__CollapseWrapper",componentId:"sc-1flvl2g-1"})([".ant-collapse-header{align-items:center;padding:0 !important;padding-inline-start:0px !important;> .ant-collapse-header-text > div{display:flex;align-items:center;}}.ant-collapse-content .ant-collapse-content-box{padding-top:0 !important;padding-right:8px;padding-bottom:0 !important;padding-left:8px;& > div{line-height:32px;}}&.ant-collapse{width:100%;.ant-collapse-header{> div{display:flex;align-items:center;}}}"]),Sp=F.p.withConfig({displayName:"ChartDraggableSourceContainer__StyledFieldContent",componentId:"sc-1flvl2g-2"})(["flex:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all;"]),j1=({dataItem:e})=>o.jsx("div",{children:e==null?void 0:e.slice(0,3).map((t,n)=>o.jsx(V1,{style:{zIndex:e.length-n,transform:`rotateZ(${-n*1.5}deg)`},children:o.jsx(NO,{type:t.type,name:t.colName})},t.colName))}),V1=F.div.withConfig({displayName:"ChartDragPreview__Preview",componentId:"sc-2kg7cv-0"})(["position:absolute;width:256px;background:#f2f2f2;border:1px solid ",";transform-origin:bottom left;backface-visibility:hidden;"],mc),Y1=e=>({item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}),W1=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t}px, ${n}px)`}};function k1(e){const{item:t,itemType:n,currentOffset:r,isDragging:a}=e;if(!a||!Array.isArray(t))return null;const i=(s,l)=>{switch(s){case"dataset_column":return o.jsx("div",{style:W1(r),children:o.jsx(j1,{dataItem:l})});default:return null}};return o.jsx(X1,{children:i(n,t)})}const $1=Rx(Y1)(k1),X1=F.div.withConfig({displayName:"ChartDragLayer__LayerStyles",componentId:"sc-u0gfov-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:",";pointer-events:none;"],xu),z1=c.memo(function({meta:t,onDeleteComputedField:n,onEditComputedField:r}){const[a,i]=c.useState([]),[s,l]=c.useState([]),[d,u]=c.useState(""),{availableSourceFunctions:T,dataView:R}=c.useContext(ka),A=(p,f,I)=>{let O=[],N="";const h=eu(t)||[],m=s.slice(),g=d;if(f)m.indexOf(p)>-1&&p!==g?O=m.filter(L=>L!==p):O=[...m,p];else if(I&&p!==g){const L=h.findIndex(b=>b.name===g),P=h.findIndex(b=>b.name===p),v=Math.min(L,P),D=Math.max(L,P);O=h.slice(v,D+1).map(b=>b.name)}else O=[p],N=p;const _=h.filter(L=>O.includes(L.name));l(O),u(N),i(_)},E=()=>{(a==null?void 0:a.length)>0&&(l([]),u(""),i([]))},S=c.useCallback(p=>{r(p),i([])},[r]);return o.jsxs(K1,{onClick:E,children:[o.jsx($1,{}),o.jsx(Rn,{dataSource:t,rowKey:p=>p.name,renderItem:p=>o.jsx(J1,{onClick:rn,children:o.jsx(NO,{name:p.name,displayName:p.displayName,category:p.category,expression:p.expression,type:p.type,selectedItems:a,selectedItemsIds:s,availableSourceFunctions:T,subType:p.subType,role:p.role,children:p.children,viewType:R==null?void 0:R.type,isViewComputedFields:p.isViewComputedFields,onDeleteComputedField:n,onEditComputedField:S,onSelectionChange:A,onClearCheckedList:E,isActive:s.includes(p.name),dateFormat:p.dateFormat,comment:p.comment},p.name)})})]})}),K1=F.div.withConfig({displayName:"ChartDraggableSourceGroupContainer__Container",componentId:"sc-pognk3-0"})(["flex:1;overflow-y:auto;"]),J1=F.div.withConfig({displayName:"ChartDraggableSourceGroupContainer__Item",componentId:"sc-pognk3-1"})(["display:flex;align-items:center;"]);function q1({i18nPrefix:e}){const t=V(e),[n,r]=ki({initState:{}}),a=(l,d,u,T,R,A,E,S)=>{if(!d)return null;const p={config:d,dataset:u,dataView:T,dataConfig:R,onConfigChange:A,aggregation:E,i18nPrefix:e,form:S};switch(l){case Ee.Sortable:return o.jsx(xn.SortAction,{...p});case Ee.Alias:return o.jsx(xn.AliasAction,{...p});case Ee.Format:return o.jsx(xn.NumberFormatAction,{...p});case Ee.Aggregate:return o.jsx(xn.AggregationAction,{...p});case Ee.AggregateLimit:return o.jsx(xn.AggregationLimitAction,{...p});case Ee.DateRatio:return o.jsx(xn.AggregationLimitAction,{...p});case Ee.Filter:return o.jsx(xn.FilterAction,{...p});case Ee.Colorize:return o.jsx(xn.AggregationColorizeAction,{...p});case Ee.Size:return o.jsx(xn.SizeOptionsAction,{...p});case Ee.ColorRange:return o.jsx(xn.ColorizeRangeAction,{...p});case Ee.ColorizeSingle:return o.jsx(xn.ColorizeSingleAction,{...p});default:return"Please use correct action key!"}},i=(l,d)=>(u,T)=>{l(d,u,T)};return[(l,d,u,T,R,A,E,S)=>{var I;const p=(I=u.rows)==null?void 0:I.find(O=>O.uid===l);let f=Hn.MIDDLE;return d===Ee.Colorize?f=Hn.XSMALL:d===Ee.ColorizeSingle&&(f=Hn.XSMALL),n({title:t(d),modalSize:E||f,content:(O,N)=>a(d,p,R,A,u,O,S,N),onOk:i(T,l),maskClosable:!0})},r]}const Q1=c.forwardRef(function({content:t,isDragging:n,config:r,connectDragSource:a,connectDropTarget:i,onDelete:s},l){const d=c.useRef(null);return a(d),i(d),c.useImperativeHandle(l,()=>({getNode:()=>d.current})),o.jsx(e0,{className:"draggable-element",ref:d,isDragging:n,type:r.type,children:typeof t=="string"?t:o.jsxs(t0,{children:[o.jsx("span",{className:"title",children:t()}),o.jsx(it,{className:"action",onClick:s})]})})}),Z1=lx([In.DATA_CONFIG_COLUMN],{hover(e,t,n){if(!n)return null;const r=n.getNode();if(!r)return null;const i=t.getItem().index,s=e.index;if(i===s)return;const l=r.getBoundingClientRect(),d=(l.bottom-l.top)/2,T=t.getClientOffset().y-l.top;i<s&&T<d||i>s&&T>d||(e.moveCard(i,s),t.getItem().index=s)}},e=>({connectDropTarget:e.dropTarget()}))(rx(In.DATA_CONFIG_COLUMN,{beginDrag:e=>({...e.config,index:e.index}),endDrag:(e,t)=>{const n=t.getDropResult();(!t.didDrop()&&!n||t.didDrop()&&(n!=null&&n.delete))&&(e==null||e.onDelete())}},(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(Q1)),e0=F.div.withConfig({displayName:"ChartDraggableElement__StyledChartDraggableElement",componentId:"sc-13yzdr2-0"})(["padding:"," ",";margin-bottom:",";font-size:",";color:",";cursor:move;background:",";border-radius:",";opacity:",";"],Le,ye,ot,Yf,e=>e.theme.componentBackground,e=>e.type===be.NUMERIC?e.theme.success:e.theme.info,st,e=>e.isDragging?.2:1),t0=F.div.withConfig({displayName:"ChartDraggableElement__Content",componentId:"sc-13yzdr2-1"})(["display:flex;align-items:center;.title{flex:1;color:",";}.action{flex-shrink:0;visibility:hidden;}&:hover{.action{visibility:visible;color:","}}"],e=>e.theme.white,e=>e.theme.textColorSnd);var bT={},Ls={},su={exports:{}},CO={},PT={};Object.defineProperty(PT,"__esModule",{value:!0});var n0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};PT.default=n0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return A}});var t=l(c),n=i(PT),r=i(hc);function a(E,S,p){return S in E?Object.defineProperty(E,S,{value:p,enumerable:!0,configurable:!0,writable:!0}):E[S]=p,E}function i(E){return E&&E.__esModule?E:{default:E}}function s(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,p=new WeakMap;return(s=function(f){return f?p:S})(E)}function l(E,S){if(!S&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var p=s(S);if(p&&p.has(E))return p.get(E);var f={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in E)if(O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)){var N=I?Object.getOwnPropertyDescriptor(E,O):null;N&&(N.get||N.set)?Object.defineProperty(f,O,N):f[O]=E[O]}return f.default=E,p&&p.set(E,f),f}function d(E){for(var S=1;S<arguments.length;S++){var p=arguments[S]!=null?arguments[S]:{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(I){return Object.getOwnPropertyDescriptor(p,I).enumerable}))),f.forEach(function(I){a(E,I,p[I])})}return E}function u(E,S){var p=Object.keys(E);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(E);S&&(f=f.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),p.push.apply(p,f)}return p}function T(E,S){return S=S??{},Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(p){Object.defineProperty(E,p,Object.getOwnPropertyDescriptor(S,p))}),E}var R=function(E,S){return t.createElement(r.default,T(d({},E),{ref:S,icon:n.default}))},A=t.forwardRef(R)})(CO);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(CO);function r(i){return i&&i.__esModule?i:{default:i}}const a=n;t.default=a,e.exports=a})(su,su.exports);var gO=su.exports;const r0=Ic(jD);var vs={},yT={},a0=St.default;Object.defineProperty(yT,"__esModule",{value:!0});yT.default=o0;var Rp=a0(c);function o0(e){var t=Rp.useRef();t.current=e;var n=Rp.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(i))},[]);return n}var fo={},i0=ct.default,s0=St.default;Object.defineProperty(fo,"__esModule",{value:!0});fo.useLayoutUpdateEffect=fo.default=void 0;var lu=s0(c),l0=i0(kN),pp=(0,l0.default)()?lu.useLayoutEffect:lu.useEffect,_O=function(t,n){var r=lu.useRef(!0);pp(function(){return t(r.current)},n),pp(function(){return r.current=!1,function(){r.current=!0}},[])},c0=function(t,n){_O(function(r){if(!r)return t()},n)};fo.useLayoutUpdateEffect=c0;var d0=_O;fo.default=d0;var MT=ct.default;Object.defineProperty(vs,"__esModule",{value:!0});vs.default=E0;var Ap=MT(m_),fp=MT(yT),Ip=fo,Op=MT(h_);function TE(e){return e!==void 0}function E0(e,t){var n=t||{},r=n.defaultValue,a=n.value,i=n.onChange,s=n.postState,l=(0,Op.default)(function(){return TE(a)?a:TE(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),d=(0,Ap.default)(l,2),u=d[0],T=d[1],R=a!==void 0?a:u,A=s?s(R):R,E=(0,fp.default)(i),S=(0,Op.default)([R]),p=(0,Ap.default)(S,2),f=p[0],I=p[1];(0,Ip.useLayoutUpdateEffect)(function(){var N=f[0];u!==N&&E(u,N)},[f]),(0,Ip.useLayoutUpdateEffect)(function(){TE(a)||T(a)},[a]);var O=(0,fp.default)(function(N,h){T(N,h),I([R],h)});return[A,O]}var Ds={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.MAX_VERTICAL_CONTENT_RADIUS=void 0;Ea.default=T0;Ea.getArrowOffset=vO;var u0=$N;const LO=8;Ea.MAX_VERTICAL_CONTENT_RADIUS=LO;function vO(e){const t=LO,{contentRadius:n,limitVerticalRadius:r}=e,a=n>12?n+2:12;return{dropdownArrowOffset:a,dropdownArrowOffsetVertical:r?t:a}}function dl(e,t){return e?t:{}}function T0(e,t){const{componentCls:n,sizePopupArrow:r,borderRadiusXS:a,borderRadiusOuter:i,boxShadowPopoverArrow:s}=e,{colorBg:l,contentRadius:d=e.borderRadiusLG,limitVerticalRadius:u,arrowDistance:T=0,arrowPlacement:R={left:!0,right:!0,top:!0,bottom:!0}}=t,{dropdownArrowOffsetVertical:A,dropdownArrowOffset:E}=vO({contentRadius:d,limitVerticalRadius:u});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,u0.roundedArrow)(r,a,i,l,s)),{"&:before":{background:l}})]},dl(!!R.top,{[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:T,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:E}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:E}}})),dl(!!R.bottom,{[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:T,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:E}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:E}}})),dl(!!R.left,{[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:T},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:A},[`&-placement-leftBottom ${n}-arrow`]:{bottom:A}})),dl(!!R.right,{[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:T},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:A},[`&-placement-rightBottom ${n}-arrow`]:{bottom:A}}))}}Object.defineProperty(Ds,"__esModule",{value:!0});Ds.default=A0;Ds.getOverflowOptions=DO;var S0=Ea;function DO(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=t.dropdownArrowOffset*2+n;break;case"left":case"right":i.shiftY=t.dropdownArrowOffsetVertical*2+n;break}const s=Object.assign(Object.assign({},i),a);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const mp={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},R0={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},p0=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function A0(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:a,borderRadius:i,visibleFirst:s}=e,l=t/2,d={};return Object.keys(mp).forEach(u=>{const T=r&&R0[u]||mp[u],R=Object.assign(Object.assign({},T),{offset:[0,0]});switch(d[u]=R,p0.has(u)&&(R.autoArrow=!1),u){case"top":case"topLeft":case"topRight":R.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":R.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":R.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":R.offset[0]=l+a;break}const A=(0,S0.getArrowOffset)({contentRadius:i,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":R.offset[0]=-A.dropdownArrowOffset-l;break;case"topRight":case"bottomRight":R.offset[0]=A.dropdownArrowOffset+l;break;case"leftTop":case"rightTop":R.offset[1]=-A.dropdownArrowOffset-l;break;case"leftBottom":case"rightBottom":R.offset[1]=A.dropdownArrowOffset+l;break}R.overflow=DO(u,A,t,n),s&&(R.htmlRegion="visibleFirst")}),d}var ad={},bO=St.default,f0=ct.default;Object.defineProperty(ad,"__esModule",{value:!0});ad.default=O0;ad.withPureRenderTheme=yO;var I0=f0(vs),Or=bO(c),PO=bO(or);function yO(e){return function(n){return Or.createElement(PO.default,{theme:{token:{motion:!1,zIndexPopupBase:0}}},Or.createElement(e,Object.assign({},n)))}}function O0(e,t,n,r){function a(i){const{prefixCls:s,style:l}=i,d=Or.useRef(null),[u,T]=Or.useState(0),[R,A]=Or.useState(0),[E,S]=(0,I0.default)(!1,{value:i.open}),{getPrefixCls:p}=Or.useContext(PO.ConfigContext),f=p(t||"select",s);Or.useEffect(()=>{if(S(!0),typeof ResizeObserver<"u"){const O=new ResizeObserver(h=>{const m=h[0].target;T(m.offsetHeight+8),A(m.offsetWidth)}),N=setInterval(()=>{var h;const m=n?`.${n(f)}`:`.${f}-dropdown`,g=(h=d.current)===null||h===void 0?void 0:h.querySelector(m);g&&(clearInterval(N),O.observe(g))},10);return()=>{clearInterval(N),O.disconnect()}}},[]);let I=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},l),{margin:0}),open:E,visible:E,getPopupContainer:()=>d.current});return r&&(I=r(I)),Or.createElement("div",{ref:d,style:{paddingBottom:u,position:"relative",minWidth:R}},Or.createElement(e,Object.assign({},I)))}return yO(a)}var od={};const xo=Ic(KC);var Ua={},cu={exports:{}},MO={},xT={};Object.defineProperty(xT,"__esModule",{value:!0});var m0={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};xT.default=m0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return A}});var t=l(c),n=i(xT),r=i(hc);function a(E,S,p){return S in E?Object.defineProperty(E,S,{value:p,enumerable:!0,configurable:!0,writable:!0}):E[S]=p,E}function i(E){return E&&E.__esModule?E:{default:E}}function s(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,p=new WeakMap;return(s=function(f){return f?p:S})(E)}function l(E,S){if(!S&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var p=s(S);if(p&&p.has(E))return p.get(E);var f={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in E)if(O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)){var N=I?Object.getOwnPropertyDescriptor(E,O):null;N&&(N.get||N.set)?Object.defineProperty(f,O,N):f[O]=E[O]}return f.default=E,p&&p.set(E,f),f}function d(E){for(var S=1;S<arguments.length;S++){var p=arguments[S]!=null?arguments[S]:{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(I){return Object.getOwnPropertyDescriptor(p,I).enumerable}))),f.forEach(function(I){a(E,I,p[I])})}return E}function u(E,S){var p=Object.keys(E);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(E);S&&(f=f.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),p.push.apply(p,f)}return p}function T(E,S){return S=S??{},Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(p){Object.defineProperty(E,p,Object.getOwnPropertyDescriptor(S,p))}),E}var R=function(E,S){return t.createElement(r.default,T(d({},E),{ref:S,icon:n.default}))},A=t.forwardRef(R)})(MO);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(MO);function r(i){return i&&i.__esModule?i:{default:i}}const a=n;t.default=a,e.exports=a})(cu,cu.exports);var h0=cu.exports,du={exports:{}},xO={},UT={};Object.defineProperty(UT,"__esModule",{value:!0});var N0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};UT.default=N0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return A}});var t=l(c),n=i(UT),r=i(hc);function a(E,S,p){return S in E?Object.defineProperty(E,S,{value:p,enumerable:!0,configurable:!0,writable:!0}):E[S]=p,E}function i(E){return E&&E.__esModule?E:{default:E}}function s(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,p=new WeakMap;return(s=function(f){return f?p:S})(E)}function l(E,S){if(!S&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var p=s(S);if(p&&p.has(E))return p.get(E);var f={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in E)if(O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)){var N=I?Object.getOwnPropertyDescriptor(E,O):null;N&&(N.get||N.set)?Object.defineProperty(f,O,N):f[O]=E[O]}return f.default=E,p&&p.set(E,f),f}function d(E){for(var S=1;S<arguments.length;S++){var p=arguments[S]!=null?arguments[S]:{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(I){return Object.getOwnPropertyDescriptor(p,I).enumerable}))),f.forEach(function(I){a(E,I,p[I])})}return E}function u(E,S){var p=Object.keys(E);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(E);S&&(f=f.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),p.push.apply(p,f)}return p}function T(E,S){return S=S??{},Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(p){Object.defineProperty(E,p,Object.getOwnPropertyDescriptor(S,p))}),E}var R=function(E,S){return t.createElement(r.default,T(d({},E),{ref:S,icon:n.default}))},A=t.forwardRef(R)})(xO);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(xO);function r(i){return i&&i.__esModule?i:{default:i}}const a=n;t.default=a,e.exports=a})(du,du.exports);var C0=du.exports,id={};Object.defineProperty(id,"__esModule",{value:!0});id.default=void 0;const g0=e=>!isNaN(parseFloat(e))&&isFinite(e);var _0=g0;id.default=_0;var mn={},sd={},ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.default=void 0;const L0=e=>{const{componentCls:t,bodyBg:n,lightSiderBg:r,lightTriggerBg:a,lightTriggerColor:i}=e;return{[`${t}-sider-light`]:{background:r,[`${t}-sider-trigger`]:{color:i,background:a},[`${t}-sider-zero-width-trigger`]:{color:i,background:a,border:`1px solid ${n}`,borderInlineStart:0}}}};var v0=L0;ld.default=v0;var D0=ct.default;Object.defineProperty(sd,"__esModule",{value:!0});sd.default=void 0;var b0=No,P0=D0(ld);const y0=e=>{const{antCls:t,componentCls:n,colorText:r,triggerColor:a,footerBg:i,triggerBg:s,headerHeight:l,headerPadding:d,headerColor:u,footerPadding:T,triggerHeight:R,zeroTriggerHeight:A,zeroTriggerWidth:E,motionDurationMid:S,motionDurationSlow:p,fontSize:f,borderRadius:I,bodyBg:O,headerBg:N,siderBg:h}=e;return{[n]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:O,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},[`${n}-sider`]:{position:"relative",minWidth:0,background:h,transition:`all ${S}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${t}-menu${t}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:R},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:R,color:a,lineHeight:`${R}px`,textAlign:"center",background:s,cursor:"pointer",transition:`all ${S}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:l,insetInlineEnd:-E,zIndex:1,width:E,height:A,color:a,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:h,borderStartStartRadius:0,borderStartEndRadius:I,borderEndEndRadius:I,borderEndStartRadius:0,cursor:"pointer",transition:`background ${p} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${p}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-E,borderStartStartRadius:I,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:I}}}}},(0,P0.default)(e)),{"&-rtl":{direction:"rtl"}}),[`${n}-header`]:{height:l,padding:d,color:u,lineHeight:`${l}px`,background:N,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:T,color:r,fontSize:f,background:i},[`${n}-content`]:{flex:"auto",minHeight:0}}};var M0=(0,b0.genComponentStyleHook)("Layout",e=>[y0(e)],e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:a,controlHeightSM:i,marginXXS:s,colorTextLightSolid:l,colorBgContainer:d}=e,u=r*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${u}px`,headerColor:a,footerPadding:`${i}px ${u}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+s*2,triggerBg:"#002140",triggerColor:l,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:d,lightTriggerBg:d,lightTriggerColor:a}},{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});sd.default=M0;var x0=St.default,cd=ct.default;Object.defineProperty(mn,"__esModule",{value:!0});mn.default=mn.LayoutContext=mn.Header=mn.Footer=mn.Content=void 0;var U0=cd(Wf),UO=cd(vn),w0=cd(Lo),cn=x0(c),Eu=or,wO=cd(sd),BO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const FO=cn.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});mn.LayoutContext=FO;function dd(e){let{suffixCls:t,tagName:n,displayName:r}=e;return a=>cn.forwardRef((s,l)=>cn.createElement(a,Object.assign({ref:l,suffixCls:t,tagName:n},s)))}const wT=cn.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:a,tagName:i}=e,s=BO(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:l}=cn.useContext(Eu.ConfigContext),d=l("layout",n),[u,T]=(0,wO.default)(d),R=r?`${d}-${r}`:d;return u(cn.createElement(i,Object.assign({className:(0,UO.default)(n||R,a,T),ref:t},s)))}),B0=cn.forwardRef((e,t)=>{const{direction:n}=cn.useContext(Eu.ConfigContext),[r,a]=cn.useState([]),{prefixCls:i,className:s,rootClassName:l,children:d,hasSider:u,tagName:T,style:R}=e,A=BO(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),E=(0,w0.default)(A,["suffixCls"]),{getPrefixCls:S,layout:p}=cn.useContext(Eu.ConfigContext),f=S("layout",i),[I,O]=(0,wO.default)(f),N=(0,UO.default)(f,{[`${f}-has-sider`]:typeof u=="boolean"?u:r.length>0,[`${f}-rtl`]:n==="rtl"},p==null?void 0:p.className,s,l,O),h=cn.useMemo(()=>({siderHook:{addSider:m=>{a(g=>[].concat((0,U0.default)(g),[m]))},removeSider:m=>{a(g=>g.filter(_=>_!==m))}}}),[]);return I(cn.createElement(FO.Provider,{value:h},cn.createElement(T,Object.assign({ref:t,className:N,style:Object.assign(Object.assign({},p==null?void 0:p.style),R)},E),d)))}),F0=dd({tagName:"div",displayName:"Layout"})(B0),G0=dd({suffixCls:"header",tagName:"header",displayName:"Header"})(wT);mn.Header=G0;const H0=dd({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(wT);mn.Footer=H0;const j0=dd({suffixCls:"content",tagName:"main",displayName:"Content"})(wT);mn.Content=j0;var V0=F0;mn.default=V0;var Y0=St.default,Uo=ct.default;Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=Ua.SiderContext=void 0;var W0=Uo(h0),hp=Uo(C0),Np=Uo(gO),Cp=Uo(vn),k0=Uo(Lo),fr=Y0(c),ln=fr,$0=Uo(id),X0=or,z0=mn,K0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const gp={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},GO=ln.createContext({});Ua.SiderContext=GO;const J0=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})(),q0=ln.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:a,children:i,defaultCollapsed:s=!1,theme:l="dark",style:d={},collapsible:u=!1,reverseArrow:T=!1,width:R=200,collapsedWidth:A=80,zeroWidthTriggerStyle:E,breakpoint:S,onCollapse:p,onBreakpoint:f}=e,I=K0(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:O}=(0,fr.useContext)(z0.LayoutContext),[N,h]=(0,fr.useState)("collapsed"in e?e.collapsed:s),[m,g]=(0,fr.useState)(!1);(0,fr.useEffect)(()=>{"collapsed"in e&&h(e.collapsed)},[e.collapsed]);const _=(C,y)=>{"collapsed"in e||h(C),p==null||p(C,y)},L=(0,fr.useRef)();L.current=C=>{g(C.matches),f==null||f(C.matches),N!==C.matches&&_(C.matches,"responsive")},(0,fr.useEffect)(()=>{function C(w){return L.current(w)}let y;if(typeof window<"u"){const{matchMedia:w}=window;if(w&&S&&S in gp){y=w(`(max-width: ${gp[S]})`);try{y.addEventListener("change",C)}catch{y.addListener(C)}C(y)}}return()=>{try{y==null||y.removeEventListener("change",C)}catch{y==null||y.removeListener(C)}}},[S]),(0,fr.useEffect)(()=>{const C=J0("ant-sider-");return O.addSider(C),()=>O.removeSider(C)},[]);const P=()=>{_(!N,"clickTrigger")},{getPrefixCls:v}=(0,fr.useContext)(X0.ConfigContext),D=()=>{const C=v("layout-sider",n),y=(0,k0.default)(I,["collapsed"]),w=N?A:R,x=(0,$0.default)(w)?`${w}px`:String(w),M=parseFloat(String(A||0))===0?ln.createElement("span",{onClick:P,className:(0,Cp.default)(`${C}-zero-width-trigger`,`${C}-zero-width-trigger-${T?"right":"left"}`),style:E},a||ln.createElement(W0.default,null)):null,j={expanded:T?ln.createElement(Np.default,null):ln.createElement(hp.default,null),collapsed:T?ln.createElement(hp.default,null):ln.createElement(Np.default,null)}[N?"collapsed":"expanded"],X=a!==null?M||ln.createElement("div",{className:`${C}-trigger`,onClick:P,style:{width:x}},a||j):null,W=Object.assign(Object.assign({},d),{flex:`0 0 ${x}`,maxWidth:x,minWidth:x,width:x}),J=(0,Cp.default)(C,`${C}-${l}`,{[`${C}-collapsed`]:!!N,[`${C}-has-trigger`]:u&&a!==null&&!M,[`${C}-below`]:!!m,[`${C}-zero-width`]:parseFloat(x)===0},r);return ln.createElement("aside",Object.assign({className:J},y,{style:W,ref:t}),ln.createElement("div",{className:`${C}-children`},i),u||m&&M?X:null)},b=ln.useMemo(()=>({siderCollapsed:N}),[N]);return ln.createElement(GO.Provider,{value:b},D())});var Q0=q0;Ua.default=Q0;var bs={},Z0=St.default,eU=ct.default;Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var tU=eU(vn),nU=xo,_p=Z0(c),rU=or,aU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const oU=e=>{const{prefixCls:t,className:n,dashed:r}=e,a=aU(e,["prefixCls","className","dashed"]),{getPrefixCls:i}=_p.useContext(rU.ConfigContext),s=i("menu",t),l=(0,tU.default)({[`${s}-item-divider-dashed`]:!!r},n);return _p.createElement(nU.Divider,Object.assign({className:l},a))};var iU=oU;bs.default=iU;var Ps={},Ed={};const HO=Ic(HD);var ud={},ys={},sU=St.default;Object.defineProperty(ys,"__esModule",{value:!0});ys.default=void 0;var lU=as,cU=tT,Lp=sU(Ea),oc=No;const dU=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:a,tooltipBorderRadius:i,zIndexPopup:s,controlHeight:l,boxShadowSecondary:d,paddingSM:u,paddingXS:T,tooltipRadiusOuter:R}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,lU.resetComponent)(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":a,[`${t}-inner`]:{minWidth:l,minHeight:l,padding:`${u/2}px ${T}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:i,boxShadow:d,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:Math.min(i,Lp.MAX_VERTICAL_CONTENT_RADIUS)}},[`${t}-content`]:{position:"relative"}}),(0,oc.genPresetColor)(e,(A,E)=>{let{darkColor:S}=E;return{[`&${t}-${A}`]:{[`${t}-inner`]:{backgroundColor:S},[`${t}-arrow`]:{"--antd-arrow-background-color":S}}}})),{"&-rtl":{direction:"rtl"}})},(0,Lp.default)((0,oc.mergeToken)(e,{borderRadiusOuter:R}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:i,limitVerticalRadius:!0}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]};var EU=(e,t)=>(0,oc.genComponentStyleHook)("Tooltip",r=>{if(t===!1)return[];const{borderRadius:a,colorTextLightSolid:i,colorBgDefault:s,borderRadiusOuter:l}=r,d=(0,oc.mergeToken)(r,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:a,tooltipBg:s,tooltipRadiusOuter:l>4?4:l});return[dU(d),(0,cU.initZoomMotion)(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:a,colorBgSpotlight:i}=r;return{zIndexPopup:a+70,colorBgDefault:i}},{resetStyle:!1})(e);ys.default=EU;var Td={},wo={},uU=ct.default;Object.defineProperty(wo,"__esModule",{value:!0});wo.PresetStatusColorTypes=void 0;wo.isPresetColor=SU;wo.isPresetStatusColor=RU;var vp=uU(Wf),uu=XN;const TU=uu.PresetColors.map(e=>`${e}-inverse`),jO=["success","processing","error","default","warning"];wo.PresetStatusColorTypes=jO;function SU(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,vp.default)(TU),(0,vp.default)(uu.PresetColors)).includes(e):uu.PresetColors.includes(e)}function RU(e){return jO.includes(e)}var pU=ct.default;Object.defineProperty(Td,"__esModule",{value:!0});Td.parseColor=IU;var AU=pU(vn),fU=wo;function IU(e,t){const n=(0,fU.isPresetColor)(t),r=(0,AU.default)({[`${e}-${t}`]:t&&n}),a={},i={};return t&&!n&&(a.background=t,i["--antd-arrow-background-color"]=t),{className:r,overlayStyle:a,arrowStyle:i}}var OU=St.default,VO=ct.default;Object.defineProperty(ud,"__esModule",{value:!0});ud.default=void 0;var mU=VO(vn),hU=HO,El=OU(c),NU=or,CU=VO(ys),gU=Td;const _U=e=>{const{prefixCls:t,className:n,placement:r="top",title:a,color:i,overlayInnerStyle:s}=e,{getPrefixCls:l}=El.useContext(NU.ConfigContext),d=l("tooltip",t),[u,T]=(0,CU.default)(d,!0),R=(0,gU.parseColor)(d,i),A=R.arrowStyle,E=Object.assign(Object.assign({},s),R.overlayStyle),S=(0,mU.default)(T,d,`${d}-pure`,`${d}-placement-${r}`,n,R.className);return u(El.createElement("div",{className:S,style:A},El.createElement("div",{className:`${d}-arrow`}),El.createElement(hU.Popup,Object.assign({},e,{className:T,prefixCls:d,overlayInnerStyle:E}),a)))};var LU=_U;ud.default=LU;var Bo=ct.default,vU=St.default;Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=void 0;var Bn=vU(c),Tu=Bo(vn),DU=Bo(HO),bU=Bo(vs),PU=NI,yU=Bo(Ds),Cl=us,MU=kf,xU=or,UU=bc,wU=No,BU=Bo(ud),FU=Bo(ys),GU=Td,HU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const jU=(e,t)=>{const n={},r=Object.assign({},e);return t.forEach(a=>{e&&a in e&&(n[a]=e[a],delete r[a])}),{picked:n,omitted:r}};function VU(e,t){const n=e.type;if((n.__ANT_BUTTON===!0||e.type==="button")&&e.props.disabled||n.__ANT_SWITCH===!0&&(e.props.disabled||e.props.loading)||n.__ANT_RADIO===!0&&e.props.disabled){const{picked:r,omitted:a}=jU(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=Object.assign(Object.assign({display:"inline-block"},r),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),s=Object.assign(Object.assign({},a),{pointerEvents:"none"}),l=(0,Cl.cloneElement)(e,{style:s,className:null});return Bn.createElement("span",{style:i,className:(0,Tu.default)(e.props.className,`${t}-disabled-compatible-wrapper`)},l)}return e}const YO=Bn.forwardRef((e,t)=>{var n,r;const{prefixCls:a,openClassName:i,getTooltipContainer:s,overlayClassName:l,color:d,overlayInnerStyle:u,children:T,afterOpenChange:R,afterVisibleChange:A,destroyTooltipOnHide:E,arrow:S=!0,title:p,overlay:f,builtinPlacements:I,arrowPointAtCenter:O=!1,autoAdjustOverflow:N=!0}=e,h=!!S,[,m]=(0,wU.useToken)(),{getPopupContainer:g,getPrefixCls:_,direction:L}=Bn.useContext(xU.ConfigContext),P=(0,MU.devUseWarning)("Tooltip"),v=Bn.useRef(null),D=()=>{var Ue;(Ue=v.current)===null||Ue===void 0||Ue.forceAlign()};Bn.useImperativeHandle(t,()=>({forceAlign:D,forcePopupAlign:()=>{P.deprecated(!1,"forcePopupAlign","forceAlign"),D()}}));const[b,C]=(0,bU.default)(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),y=!p&&!f&&p!==0,w=Ue=>{var tt,xt;C(y?!1:Ue),y||((tt=e.onOpenChange)===null||tt===void 0||tt.call(e,Ue),(xt=e.onVisibleChange)===null||xt===void 0||xt.call(e,Ue))},x=Bn.useMemo(()=>{var Ue,tt;let xt=O;return typeof S=="object"&&(xt=(tt=(Ue=S.pointAtCenter)!==null&&Ue!==void 0?Ue:S.arrowPointAtCenter)!==null&&tt!==void 0?tt:O),I||(0,yU.default)({arrowPointAtCenter:xt,autoAdjustOverflow:N,arrowWidth:h?m.sizePopupArrow:0,borderRadius:m.borderRadius,offset:m.marginXXS,visibleFirst:!0})},[O,S,I,m]),M=Bn.useMemo(()=>p===0?p:f||p||"",[f,p]),B=Bn.createElement(UU.NoCompactStyle,null,typeof M=="function"?M():M),{getPopupContainer:H,placement:j="top",mouseEnterDelay:X=.1,mouseLeaveDelay:W=.1,overlayStyle:J,rootClassName:q}=e,Z=HU(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),ce=_("tooltip",a),Ce=_(),k=e["data-popover-inject"];let ne=b;!("open"in e)&&!("visible"in e)&&y&&(ne=!1);const K=VU((0,Cl.isValidElement)(T)&&!(0,Cl.isFragment)(T)?T:Bn.createElement("span",null,T),ce),G=K.props,Y=!G.className||typeof G.className=="string"?(0,Tu.default)(G.className,i||`${ce}-open`):G.className,[z,ee]=(0,FU.default)(ce,!k),se=(0,GU.parseColor)(ce,d),Te=se.arrowStyle,xe=Object.assign(Object.assign({},u),se.overlayStyle),pe=(0,Tu.default)(l,{[`${ce}-rtl`]:L==="rtl"},se.className,q,ee);return z(Bn.createElement(DU.default,Object.assign({},Z,{showArrow:h,placement:j,mouseEnterDelay:X,mouseLeaveDelay:W,prefixCls:ce,overlayClassName:pe,overlayStyle:Object.assign(Object.assign({},Te),J),getTooltipContainer:H||s||g,ref:v,builtinPlacements:x,overlay:B,visible:ne,onVisibleChange:w,afterVisibleChange:R??A,overlayInnerStyle:xe,arrowContent:Bn.createElement("span",{className:`${ce}-arrow-content`}),motion:{motionName:(0,PU.getTransitionName)(Ce,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!E}),ne?(0,Cl.cloneElement)(K,{className:Y}):K))});YO._InternalPanelDoNotUseOrYouWillBeFired=BU.default;var YU=YO;Ed.default=YU;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var WU=c;const kU=(0,WU.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var $U=kU;Fo.default=$U;var XU=St.default,Ms=ct.default;Object.defineProperty(Ps,"__esModule",{value:!0});Ps.default=void 0;var Dp=Ms(vn),zU=xo,KU=Ms(CI),JU=Ms(Lo),qa=XU(c),qU=Ua,QU=Ms(Ed),SE=us,ZU=Ms(Fo);const ew=e=>{var t;const{className:n,children:r,icon:a,title:i,danger:s}=e,{prefixCls:l,firstLevel:d,direction:u,disableMenuItemTitleTooltip:T,inlineCollapsed:R}=qa.useContext(ZU.default),A=O=>{const N=qa.createElement("span",{className:`${l}-title-content`},r);return(!a||(0,SE.isValidElement)(r)&&r.type==="span")&&r&&O&&d&&typeof r=="string"?qa.createElement("div",{className:`${l}-inline-collapsed-noicon`},r.charAt(0)):N},{siderCollapsed:E}=qa.useContext(qU.SiderContext);let S=i;typeof i>"u"?S=d?r:"":i===!1&&(S="");const p={title:S};!E&&!R&&(p.title=null,p.open=!1);const f=(0,KU.default)(r).length;let I=qa.createElement(zU.Item,Object.assign({},(0,JU.default)(e,["title","icon","danger"]),{className:(0,Dp.default)({[`${l}-item-danger`]:s,[`${l}-item-only-child`]:(a?f+1:f)===1},n),title:typeof i=="string"?i:void 0}),(0,SE.cloneElement)(a,{className:(0,Dp.default)((0,SE.isValidElement)(a)?(t=a.props)===null||t===void 0?void 0:t.className:"",`${l}-item-icon`)}),A(R));return T||(I=qa.createElement(QU.default,Object.assign({},p,{placement:u==="rtl"?"left":"right",overlayClassName:`${l}-inline-collapsed-tooltip`}),I)),I};var tw=ew;Ps.default=tw;var xs={},nw=St.default,BT=ct.default;Object.defineProperty(xs,"__esModule",{value:!0});xs.default=void 0;var bp=BT(vn),Pp=xo,rw=BT(Lo),Sr=nw(c),RE=us,yp=BT(Fo);const aw=e=>{var t;const{popupClassName:n,icon:r,title:a,theme:i}=e,s=Sr.useContext(yp.default),{prefixCls:l,inlineCollapsed:d,theme:u}=s,T=(0,Pp.useFullPath)();let R;if(!r)R=d&&!T.length&&a&&typeof a=="string"?Sr.createElement("div",{className:`${l}-inline-collapsed-noicon`},a.charAt(0)):Sr.createElement("span",{className:`${l}-title-content`},a);else{const E=(0,RE.isValidElement)(a)&&a.type==="span";R=Sr.createElement(Sr.Fragment,null,(0,RE.cloneElement)(r,{className:(0,bp.default)((0,RE.isValidElement)(r)?(t=r.props)===null||t===void 0?void 0:t.className:"",`${l}-item-icon`)}),E?a:Sr.createElement("span",{className:`${l}-title-content`},a))}const A=Sr.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]);return Sr.createElement(yp.default.Provider,{value:A},Sr.createElement(Pp.SubMenu,Object.assign({},(0,rw.default)(e,["icon"]),{title:R,popupClassName:(0,bp.default)(l,n,`${l}-${i||u}`)})))};var ow=aw;xs.default=ow;var Sd={},Su={exports:{}},WO={},FT={};Object.defineProperty(FT,"__esModule",{value:!0});var iw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};FT.default=iw;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return A}});var t=l(c),n=i(FT),r=i(hc);function a(E,S,p){return S in E?Object.defineProperty(E,S,{value:p,enumerable:!0,configurable:!0,writable:!0}):E[S]=p,E}function i(E){return E&&E.__esModule?E:{default:E}}function s(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,p=new WeakMap;return(s=function(f){return f?p:S})(E)}function l(E,S){if(!S&&E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var p=s(S);if(p&&p.has(E))return p.get(E);var f={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in E)if(O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)){var N=I?Object.getOwnPropertyDescriptor(E,O):null;N&&(N.get||N.set)?Object.defineProperty(f,O,N):f[O]=E[O]}return f.default=E,p&&p.set(E,f),f}function d(E){for(var S=1;S<arguments.length;S++){var p=arguments[S]!=null?arguments[S]:{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(I){return Object.getOwnPropertyDescriptor(p,I).enumerable}))),f.forEach(function(I){a(E,I,p[I])})}return E}function u(E,S){var p=Object.keys(E);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(E);S&&(f=f.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),p.push.apply(p,f)}return p}function T(E,S){return S=S??{},Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(p){Object.defineProperty(E,p,Object.getOwnPropertyDescriptor(S,p))}),E}var R=function(E,S){return t.createElement(r.default,T(d({},E),{ref:S,icon:n.default}))},A=t.forwardRef(R)})(WO);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(WO);function r(i){return i&&i.__esModule?i:{default:i}}const a=n;t.default=a,e.exports=a})(Su,Su.exports);var kO=Su.exports,GT={},HT=ct.default,sw=St.default;Object.defineProperty(GT,"__esModule",{value:!0});GT.default=Tw;var lw=xo,mi=sw(c),cw=HT(bs),dw=HT(Ps),Ew=HT(xs),uw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Ru(e){return(e||[]).map((t,n)=>{if(t&&typeof t=="object"){const r=t,{label:a,children:i,key:s,type:l}=r,d=uw(r,["label","children","key","type"]),u=s??`tmp-${n}`;return i||l==="group"?l==="group"?mi.createElement(lw.ItemGroup,Object.assign({key:u},d,{title:a}),Ru(i)):mi.createElement(Ew.default,Object.assign({key:u},d,{title:a}),Ru(i)):l==="divider"?mi.createElement(cw.default,Object.assign({key:u},d)):mi.createElement(dw.default,Object.assign({key:u},d),a)}return null}).filter(t=>t)}function Tw(e){return mi.useMemo(()=>e&&Ru(e),[e])}var wa={},Sw=St.default;Object.defineProperty(wa,"__esModule",{value:!0});wa.default=wa.OverrideProvider=void 0;var ma=Sw(c),Rw=bc,pw=nT,Aw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const pu=ma.createContext(null),fw=ma.forwardRef((e,t)=>{const{children:n}=e,r=Aw(e,["children"]),a=ma.useContext(pu),i=ma.useMemo(()=>Object.assign(Object.assign({},a),r),[a,r.prefixCls,r.mode,r.selectable]);return ma.createElement(pu.Provider,{value:i},ma.createElement(Rw.NoCompactStyle,null,(0,pw.supportNodeRef)(n)?ma.cloneElement(n,{ref:t}):n))});wa.OverrideProvider=fw;var Iw=pu;wa.default=Iw;var Rd={},pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.default=void 0;const Ow=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:a,lineWidth:i,lineType:s,itemPaddingInline:l}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${i}px ${s} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}};var mw=Ow;pd.default=mw;var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=void 0;const hw=e=>{let{componentCls:t,menuArrowOffset:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}};var Nw=hw;Ad.default=Nw;var fd={};Object.defineProperty(fd,"__esModule",{value:!0});fd.default=void 0;var Cw=as;const Mp=e=>Object.assign({},(0,Cw.genFocusOutline)(e)),gw=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:a,groupTitleColor:i,itemBg:s,subMenuItemBg:l,itemSelectedBg:d,activeBarHeight:u,activeBarWidth:T,activeBarBorderWidth:R,motionDurationSlow:A,motionEaseInOut:E,motionEaseOut:S,itemPaddingInline:p,motionDurationMid:f,itemHoverColor:I,lineType:O,colorSplit:N,itemDisabledColor:h,dangerItemColor:m,dangerItemHoverColor:g,dangerItemSelectedColor:_,dangerItemActiveBg:L,dangerItemSelectedBg:P,itemHoverBg:v,itemActiveBg:D,menuSubMenuBg:b,horizontalItemSelectedColor:C,horizontalItemSelectedBg:y,horizontalItemBorderRadius:w,horizontalItemHoverBg:x,popupBg:M}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:s,[`&${n}-root:focus-visible`]:Object.assign({},Mp(e)),[`${n}-item-group-title`]:{color:i},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:a}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${h} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:I}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:v},"&:active":{backgroundColor:D}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:v},"&:active":{backgroundColor:D}}},[`${n}-item-danger`]:{color:m,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:g}},[`&${n}-item:active`]:{background:L}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:a,[`&${n}-item-danger`]:{color:_},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:d,[`&${n}-item-danger`]:{backgroundColor:P}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},Mp(e))},[`&${n}-submenu > ${n}`]:{backgroundColor:b},[`&${n}-popup > ${n}`]:{backgroundColor:M},[`&${n}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:R,marginTop:-R,marginBottom:0,borderRadius:w,"&::after":{position:"absolute",insetInline:p,bottom:0,borderBottom:`${u}px solid transparent`,transition:`border-color ${A} ${E}`,content:'""'},"&:hover, &-active, &-open":{background:x,"&::after":{borderBottomWidth:u,borderBottomColor:C}},"&-selected":{color:C,backgroundColor:y,"&:hover":{backgroundColor:y},"&::after":{borderBottomWidth:u,borderBottomColor:C}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${R}px ${O} ${N}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:l},[`${n}-item, ${n}-submenu-title`]:R&&T?{width:`calc(100% + ${R}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${T}px solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${f} ${S}`,`opacity ${f} ${S}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:_}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${f} ${E}`,`opacity ${f} ${E}`].join(",")}}}}}};var _w=gw;fd.default=_w;var Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.default=void 0;var Lw=as;const xp=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:a,menuArrowSize:i,marginXS:s,itemMarginBlock:l}=e,d=a+i+s;return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:a,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:l,width:`calc(100% - ${r*2}px)`},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:d}}},vw=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:a,dropdownWidth:i,controlHeightLG:s,motionDurationMid:l,motionEaseOut:d,paddingXL:u,itemMarginInline:T,fontSizeLG:R,motionDurationSlow:A,paddingXS:E,boxShadowSecondary:S,collapsedWidth:p,collapsedIconSize:f}=e,I={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},xp(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},xp(e)),{boxShadow:S})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:i,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${A}`,`background ${A}`,`padding ${l} ${d}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:I,[`& ${t}-item-group-title`]:{paddingInlineStart:u}},[`${t}-item`]:I}},{[`${t}-inline-collapsed`]:{width:p,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:R,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${R/2}px - ${T}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:f,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:a}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Lw.textEllipsis),{paddingInline:E})}}]};var Dw=vw;Id.default=Dw;var Od=ct.default;Object.defineProperty(Rd,"__esModule",{value:!0});Rd.default=void 0;var Up=zN,gl=as,ul=tT,pE=No,bw=Od(pd),Pw=Od(Ad),wp=Od(fd),yw=Od(Id);const Bp=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:i,iconCls:s,iconSize:l,iconMarginInlineEnd:d}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding ${n} ${a}`].join(","),[`${t}-item-icon, ${s}`]:{minWidth:l,fontSize:l,transition:[`font-size ${r} ${i}`,`margin ${n} ${a}`,`color ${n}`].join(","),"+ span":{marginInlineStart:d,opacity:1,transition:[`opacity ${n} ${a}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,gl.resetIcon)()),[`&${t}-item-only-child`]:{[`> ${s}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Fp=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:a,menuArrowSize:i,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:i*.6,height:i*.15,backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},Mw=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:a,motionDurationMid:i,motionEaseInOut:s,paddingXS:l,padding:d,colorSplit:u,lineWidth:T,zIndexPopup:R,borderRadiusLG:A,subMenuItemBorderRadius:E,menuArrowSize:S,menuArrowOffset:p,lineType:f,menuPanelMaskInset:I,groupTitleLineHeight:O,groupTitleFontSize:N}=e;return[{"":{[`${n}`]:Object.assign(Object.assign({},(0,gl.clearFix)()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,gl.resetComponent)(e)),(0,gl.clearFix)()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${l}px ${d}px`,fontSize:N,lineHeight:O,transition:`all ${a}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${a} ${s}`,`background ${a} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${a} ${s}`,`background ${a} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${a} ${s}`,`padding ${a} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${a}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:u,borderStyle:f,borderWidth:0,borderTopWidth:T,marginBlock:T,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Bp(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${d}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:R,borderRadius:A,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:`${I}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:I},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:A},Bp(e)),Fp(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:E},[`${n}-submenu-title::after`]:{transition:`transform ${a} ${s}`}})}}),Fp(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${p})`},"&::after":{transform:`rotate(45deg) translateX(-${p})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${S*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${p})`},"&::before":{transform:`rotate(45deg) translateX(${p})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]};var xw=(e,t)=>(0,pE.genComponentStyleHook)("Menu",r=>{if(t===!1)return[];const{colorBgElevated:a,colorPrimary:i,colorTextLightSolid:s,controlHeightLG:l,fontSize:d,darkItemColor:u,darkDangerItemColor:T,darkItemBg:R,darkSubMenuItemBg:A,darkItemSelectedColor:E,darkItemSelectedBg:S,darkDangerItemSelectedBg:p,darkItemHoverBg:f,darkGroupTitleColor:I,darkItemHoverColor:O,darkItemDisabledColor:N,darkDangerItemHoverColor:h,darkDangerItemSelectedColor:m,darkDangerItemActiveBg:g}=r,_=d/7*5,L=(0,pE.mergeToken)(r,{menuArrowSize:_,menuHorizontalHeight:l*1.15,menuArrowOffset:`${_*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:a}),P=(0,pE.mergeToken)(L,{itemColor:u,itemHoverColor:O,groupTitleColor:I,itemSelectedColor:E,itemBg:R,popupBg:R,subMenuItemBg:A,itemActiveBg:"transparent",itemSelectedBg:S,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:f,itemDisabledColor:N,dangerItemColor:T,dangerItemHoverColor:h,dangerItemSelectedColor:m,dangerItemActiveBg:g,dangerItemSelectedBg:p,menuSubMenuBg:A,horizontalItemSelectedColor:s,horizontalItemSelectedBg:i});return[Mw(L),(0,bw.default)(L),(0,yw.default)(L),(0,wp.default)(L,"light"),(0,wp.default)(P,"dark"),(0,Pw.default)(L),(0,ul.genCollapseMotion)(L),(0,ul.initSlideMotion)(L,"slide-up"),(0,ul.initSlideMotion)(L,"slide-down"),(0,ul.initZoomMotion)(L,"zoom-big")]},r=>{const{colorPrimary:a,colorError:i,colorTextDisabled:s,colorErrorBg:l,colorText:d,colorTextDescription:u,colorBgContainer:T,colorFillAlter:R,colorFillContent:A,lineWidth:E,lineWidthBold:S,controlItemBgActive:p,colorBgTextHover:f,controlHeightLG:I,lineHeight:O,colorBgElevated:N,marginXXS:h,padding:m,fontSize:g,controlHeightSM:_,fontSizeLG:L,colorTextLightSolid:P,colorErrorHover:v}=r,D=new Up.TinyColor(P).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,itemBorderRadius:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,subMenuItemBorderRadius:r.borderRadiusSM,colorItemText:d,itemColor:d,colorItemTextHover:d,itemHoverColor:d,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:u,groupTitleColor:u,colorItemTextSelected:a,itemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:T,itemBg:T,colorItemBgHover:f,itemHoverBg:f,colorItemBgActive:A,itemActiveBg:p,colorSubItemBg:R,subMenuItemBg:R,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:0,colorActiveBarHeight:S,activeBarHeight:S,colorActiveBarBorderSize:E,activeBarBorderWidth:E,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:l,dangerItemActiveBg:l,colorDangerItemBgSelected:l,dangerItemSelectedBg:l,itemMarginInline:r.marginXXS,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:I,groupTitleLineHeight:O,collapsedWidth:I*2,popupBg:N,itemMarginBlock:h,itemPaddingInline:m,horizontalLineHeight:`${I*1.15}px`,iconSize:g,iconMarginInlineEnd:_-g,collapsedIconSize:L,groupTitleFontSize:g,darkItemDisabledColor:new Up.TinyColor(P).setAlpha(.25).toRgbString(),darkItemColor:D,darkDangerItemColor:i,darkItemBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:P,darkItemSelectedBg:a,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:D,darkItemHoverColor:P,darkDangerItemHoverColor:v,darkDangerItemSelectedColor:P,darkDangerItemActiveBg:i}},{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]]})(e);Rd.default=xw;var Pr=ct.default,Uw=St.default;Object.defineProperty(Sd,"__esModule",{value:!0});Sd.default=void 0;var $O=Uw(c),Fr=$O,ww=Pr(kO),Tl=Pr(vn),Bw=Pr(xo),Fw=nT,Gw=Pr(Lo),Hw=Pr(NI),Gp=us,jw=or,Vw=Pr(GT),Yw=Pr(Fo),Hp=Pr(wa),Ww=Pr(Rd),kw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const $w=(0,$O.forwardRef)((e,t)=>{var n,r;const a=Fr.useContext(Hp.default),i=a||{},{getPrefixCls:s,getPopupContainer:l,direction:d,menu:u}=Fr.useContext(jw.ConfigContext),T=s(),{prefixCls:R,className:A,style:E,theme:S="light",expandIcon:p,_internalDisableMenuItemTitleTooltip:f,inlineCollapsed:I,siderCollapsed:O,items:N,children:h,rootClassName:m,mode:g,selectable:_,onClick:L,overflowedIndicatorPopupClassName:P}=e,v=kw(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),D=(0,Gw.default)(v,["collapsedWidth"]),b=(0,Vw.default)(N)||h;(n=i.validator)===null||n===void 0||n.call(i,{mode:g});const C=(0,Fw.useEvent)(function(){var q;L==null||L.apply(void 0,arguments),(q=i.onClick)===null||q===void 0||q.call(i)}),y=i.mode||g,w=_??i.selectable,x=Fr.useMemo(()=>O!==void 0?O:I,[I,O]),M={horizontal:{motionName:`${T}-slide-up`},inline:(0,Hw.default)(T),other:{motionName:`${T}-zoom-big`}},B=s("menu",R||i.prefixCls),[H,j]=(0,Ww.default)(B,!a),X=(0,Tl.default)(`${B}-${S}`,u==null?void 0:u.className,A);let W;if(typeof p=="function")W=p;else if(p===null||p===!1)W=null;else if(i.expandIcon===null||i.expandIcon===!1)W=null;else{const q=p??i.expandIcon;W=(0,Gp.cloneElement)(q,{className:(0,Tl.default)(`${B}-submenu-expand-icon`,(0,Gp.isValidElement)(q)?(r=q.props)===null||r===void 0?void 0:r.className:"")})}const J=Fr.useMemo(()=>({prefixCls:B,inlineCollapsed:x||!1,direction:d,firstLevel:!0,theme:S,mode:y,disableMenuItemTitleTooltip:f}),[B,x,d,f,S]);return H(Fr.createElement(Hp.default.Provider,{value:null},Fr.createElement(Yw.default.Provider,{value:J},Fr.createElement(Bw.default,Object.assign({getPopupContainer:l,overflowedIndicator:Fr.createElement(ww.default,null),overflowedIndicatorPopupClassName:(0,Tl.default)(B,`${B}-${S}`,P),mode:y,selectable:w,onClick:C},D,{inlineCollapsed:x,style:Object.assign(Object.assign({},u==null?void 0:u.style),E),className:X,prefixCls:B,direction:d,defaultMotions:M,expandIcon:W,ref:t,rootClassName:(0,Tl.default)(m,j)}),b))))});var Xw=$w;Sd.default=Xw;var md=ct.default,zw=St.default;Object.defineProperty(od,"__esModule",{value:!0});od.default=void 0;var Kw=xo,_l=zw(c),jp=_l,Jw=Ua,qw=md(bs),Qw=md(Ps),Zw=md(xs),eB=md(Sd);const Us=(0,_l.forwardRef)((e,t)=>{const n=(0,_l.useRef)(null),r=jp.useContext(Jw.SiderContext);return(0,_l.useImperativeHandle)(t,()=>({menu:n.current,focus:a=>{var i;(i=n.current)===null||i===void 0||i.focus(a)}})),jp.createElement(eB.default,Object.assign({ref:n},e,r))});Us.Item=Qw.default;Us.SubMenu=Zw.default;Us.Divider=qw.default;Us.ItemGroup=Kw.ItemGroup;var tB=Us;od.default=tB;var ws={},hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.default=void 0;const nB=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:a}=e,i=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${i}`]:{[`&${i}-danger:not(${i}-disabled)`]:{color:r,"&:hover":{color:a,backgroundColor:r}}}}}};var rB=nB;hd.default=rB;var aB=ct.default,oB=St.default;Object.defineProperty(ws,"__esModule",{value:!0});ws.default=void 0;var AE=as,Rr=tT,XO=oB(Ea),Vp=No,iB=aB(hd);const sB=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:a,sizePopupArrow:i,antCls:s,iconCls:l,motionDurationMid:d,dropdownPaddingVertical:u,fontSize:T,dropdownEdgeChildPadding:R,colorTextDisabled:A,fontSizeIcon:E,controlPaddingHorizontal:S,colorBgElevated:p}=e;return[{[t]:Object.assign(Object.assign({},(0,AE.resetComponent)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-a+i/2,zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${s}-btn`]:{[`& > ${l}-down, & > ${s}-btn-icon > ${l}-down`]:{fontSize:E}},[`${t}-wrap`]:{position:"relative",[`${s}-btn > ${l}-down`]:{fontSize:E},[`${l}-down::before`]:{transition:`transform ${d}`}},[`${t}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Rr.slideUpIn},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Rr.slideDownIn},[`&${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Rr.slideUpOut},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Rr.slideDownOut}})},(0,XO.default)(e,{colorBg:p,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:{[n]:Object.assign(Object.assign({padding:R,listStyleType:"none",backgroundColor:p,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,AE.genFocusStyle)(e)),{[`${n}-item-group-title`]:{padding:`${u}px ${S}px`,color:e.colorTextDescription,transition:`all ${d}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:T,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${d}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${u}px ${S}px`,color:e.colorText,fontWeight:"normal",fontSize:T,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${d}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,AE.genFocusStyle)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:A,cursor:"not-allowed","&:hover":{color:A,backgroundColor:p,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${e.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:E,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${e.marginXS}px`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:S+e.fontSizeSM},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:A,backgroundColor:p,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})}},[(0,Rr.initSlideMotion)(e,"slide-up"),(0,Rr.initSlideMotion)(e,"slide-down"),(0,Rr.initMoveMotion)(e,"move-up"),(0,Rr.initMoveMotion)(e,"move-down"),(0,Rr.initZoomMotion)(e,"zoom-big")]]};var lB=(0,Vp.genComponentStyleHook)("Dropdown",(e,t)=>{let{rootPrefixCls:n}=t;const{marginXXS:r,sizePopupArrow:a,controlHeight:i,fontSize:s,lineHeight:l,paddingXXS:d,componentCls:u,borderRadiusLG:T}=e,R=(i-s*l)/2,{dropdownArrowOffset:A}=(0,XO.getArrowOffset)({contentRadius:T}),E=(0,Vp.mergeToken)(e,{menuCls:`${u}-menu`,rootPrefixCls:n,dropdownArrowDistance:a/2+r,dropdownArrowOffset:A,dropdownPaddingVertical:R,dropdownEdgeChildPadding:d});return[sB(E),(0,iB.default)(E)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));ws.default=lB;var yr=ct.default,cB=St.default;Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=void 0;var Qt=cB(c),dB=yr(gO),Yp=yr(vn),EB=yr(r0),uB=nT,TB=yr(vs),SB=yr(Lo),RB=yr(Ds),pB=yr(ad),AB=us,fB=kf,IB=or,OB=yr(od),mB=wa,hB=No,NB=yr(ws);const jT=e=>{const{menu:t,arrow:n,prefixCls:r,children:a,trigger:i,disabled:s,dropdownRender:l,getPopupContainer:d,overlayClassName:u,rootClassName:T,open:R,onOpenChange:A,visible:E,onVisibleChange:S,mouseEnterDelay:p=.15,mouseLeaveDelay:f=.1,autoAdjustOverflow:I=!0,placement:O="",overlay:N,transitionName:h}=e,{getPopupContainer:m,getPrefixCls:g,direction:_}=Qt.useContext(IB.ConfigContext);(0,fB.devUseWarning)("Dropdown");const L=Qt.useMemo(()=>{const Z=g();return h!==void 0?h:O.includes("top")?`${Z}-slide-down`:`${Z}-slide-up`},[g,O,h]),P=Qt.useMemo(()=>O?O.includes("Center")?O.slice(0,O.indexOf("Center")):O:_==="rtl"?"bottomRight":"bottomLeft",[O,_]),v=g("dropdown",r),[D,b]=(0,NB.default)(v),[,C]=(0,hB.useToken)(),y=Qt.Children.only(a),w=(0,AB.cloneElement)(y,{className:(0,Yp.default)(`${v}-trigger`,{[`${v}-rtl`]:_==="rtl"},y.props.className),disabled:s}),x=s?[]:i;let M;x&&x.includes("contextMenu")&&(M=!0);const[B,H]=(0,TB.default)(!1,{value:R??E}),j=(0,uB.useEvent)(Z=>{A==null||A(Z),S==null||S(Z),H(Z)}),X=(0,Yp.default)(u,T,b,{[`${v}-rtl`]:_==="rtl"}),W=(0,RB.default)({arrowPointAtCenter:typeof n=="object"&&n.pointAtCenter,autoAdjustOverflow:I,offset:C.marginXXS,arrowWidth:n?C.sizePopupArrow:0,borderRadius:C.borderRadius}),J=Qt.useCallback(()=>{H(!1)},[]),q=()=>{let Z;return t!=null&&t.items?Z=Qt.createElement(OB.default,Object.assign({},t)):typeof N=="function"?Z=N():Z=N,l&&(Z=l(Z)),Z=Qt.Children.only(typeof Z=="string"?Qt.createElement("span",null,Z):Z),Qt.createElement(mB.OverrideProvider,{prefixCls:`${v}-menu`,expandIcon:Qt.createElement("span",{className:`${v}-menu-submenu-arrow`},Qt.createElement(dB.default,{className:`${v}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:J,validator:ce=>{}},Z)};return D(Qt.createElement(EB.default,Object.assign({alignPoint:M},(0,SB.default)(e,["rootClassName"]),{mouseEnterDelay:p,mouseLeaveDelay:f,visible:B,builtinPlacements:W,arrow:!!n,overlayClassName:X,prefixCls:v,getPopupContainer:d||m,transitionName:L,trigger:x,overlay:q,placement:P,onVisibleChange:j}),w))};function CB(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const gB=(0,pB.default)(jT,"dropdown",e=>e,CB),_B=e=>Qt.createElement(gB,Object.assign({},e),Qt.createElement("span",null));jT._InternalPanelDoNotUseOrYouWillBeFired=_B;var LB=jT;Ls.default=LB;var Nd={},zO={},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});Cd.isPresetSize=vB;Cd.isValidGapNumber=DB;function vB(e){return["small","middle","large"].includes(e)}function DB(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}var Ba={},bB=ct.default;Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SpaceContextProvider=Ba.SpaceContext=void 0;var PB=bB(c);const KO=PB.default.createContext({latestIndex:0});Ba.SpaceContext=KO;const yB=KO.Provider;Ba.SpaceContextProvider=yB;var gd={},MB=St.default;Object.defineProperty(gd,"__esModule",{value:!0});gd.default=void 0;var di=MB(c),xB=Ba;const UB=e=>{let{className:t,index:n,children:r,split:a,style:i}=e;const{latestIndex:s}=di.useContext(xB.SpaceContext);return r==null?null:di.createElement(di.Fragment,null,di.createElement("div",{className:t,style:i},r),n<s&&a&&di.createElement("span",{className:`${t}-split`},a))};var wB=UB;gd.default=wB;(function(e){"use client";var t=ct.default,n=St.default;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SpaceContext",{enumerable:!0,get:function(){return u.SpaceContext}}),e.default=void 0;var r=n(c),a=t(vn),i=t(CI),s=Cd,l=or,d=t(bc),u=Ba,T=t(gd),R=t(N_),A=function(f,I){var O={};for(var N in f)Object.prototype.hasOwnProperty.call(f,N)&&I.indexOf(N)<0&&(O[N]=f[N]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,N=Object.getOwnPropertySymbols(f);h<N.length;h++)I.indexOf(N[h])<0&&Object.prototype.propertyIsEnumerable.call(f,N[h])&&(O[N[h]]=f[N[h]]);return O};const S=r.forwardRef((f,I)=>{var O,N;const{getPrefixCls:h,space:m,direction:g}=r.useContext(l.ConfigContext),{size:_=(m==null?void 0:m.size)||"small",align:L,className:P,rootClassName:v,children:D,direction:b="horizontal",prefixCls:C,split:y,style:w,wrap:x=!1,classNames:M,styles:B}=f,H=A(f,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[j,X]=Array.isArray(_)?_:[_,_],W=(0,s.isPresetSize)(X),J=(0,s.isPresetSize)(j),q=(0,s.isValidGapNumber)(X),Z=(0,s.isValidGapNumber)(j),ce=(0,i.default)(D,{keepEmpty:!0}),Ce=L===void 0&&b==="horizontal"?"center":L,k=h("space",C),[ne,K]=(0,R.default)(k),G=(0,a.default)(k,m==null?void 0:m.className,K,`${k}-${b}`,{[`${k}-rtl`]:g==="rtl",[`${k}-align-${Ce}`]:Ce,[`${k}-gap-row-${X}`]:W,[`${k}-gap-col-${j}`]:J},P,v),Y=(0,a.default)(`${k}-item`,(O=M==null?void 0:M.item)!==null&&O!==void 0?O:(N=m==null?void 0:m.classNames)===null||N===void 0?void 0:N.item);let z=0;const ee=ce.map((xe,pe)=>{var Ue,tt;xe!=null&&(z=pe);const xt=xe&&xe.key||`${Y}-${pe}`;return r.createElement(T.default,{className:Y,key:xt,index:pe,split:y,style:(Ue=B==null?void 0:B.item)!==null&&Ue!==void 0?Ue:(tt=m==null?void 0:m.styles)===null||tt===void 0?void 0:tt.item},xe)}),se=r.useMemo(()=>({latestIndex:z}),[z]);if(ce.length===0)return null;const Te={};return x&&(Te.flexWrap="wrap"),!J&&Z&&(Te.columnGap=j),!W&&q&&(Te.rowGap=X),ne(r.createElement("div",Object.assign({ref:I,className:G,style:Object.assign(Object.assign(Object.assign({},Te),m==null?void 0:m.style),w)},H),r.createElement(u.SpaceContextProvider,{value:se},ee)))});S.Compact=d.default;var p=S;e.default=p})(zO);var BB=St.default,Go=ct.default;Object.defineProperty(Nd,"__esModule",{value:!0});Nd.default=void 0;var FB=Go(vn),Qa=BB(c),GB=Go(kO),Wp=Go(C_),HB=or,jB=Go(zO),VB=bc,YB=Go(Ls),WB=Go(ws),kB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const JO=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=Qa.useContext(HB.ConfigContext),{prefixCls:a,type:i="default",danger:s,disabled:l,loading:d,onClick:u,htmlType:T,children:R,className:A,menu:E,arrow:S,autoFocus:p,overlay:f,trigger:I,align:O,open:N,onOpenChange:h,placement:m,getPopupContainer:g,href:_,icon:L=Qa.createElement(GB.default,null),title:P,buttonsRender:v=K=>K,mouseEnterDelay:D,mouseLeaveDelay:b,overlayClassName:C,overlayStyle:y,destroyPopupOnHide:w,dropdownRender:x}=e,M=kB(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),B=n("dropdown",a),H=`${B}-button`,[j,X]=(0,WB.default)(B),W={menu:E,arrow:S,autoFocus:p,align:O,disabled:l,trigger:l?[]:I,onOpenChange:h,getPopupContainer:g||t,mouseEnterDelay:D,mouseLeaveDelay:b,overlayClassName:C,overlayStyle:y,destroyPopupOnHide:w,dropdownRender:x},{compactSize:J,compactItemClassnames:q}=(0,VB.useCompactItemContext)(B,r),Z=(0,FB.default)(H,q,A,X);"overlay"in e&&(W.overlay=f),"open"in e&&(W.open=N),"placement"in e?W.placement=m:W.placement=r==="rtl"?"bottomLeft":"bottomRight";const ce=Qa.createElement(Wp.default,{type:i,danger:s,disabled:l,loading:d,onClick:u,htmlType:T,href:_,title:P},R),Ce=Qa.createElement(Wp.default,{type:i,danger:s,icon:L}),[k,ne]=v([ce,Ce]);return j(Qa.createElement(jB.default.Compact,Object.assign({className:Z,size:J,block:!0},M),k,Qa.createElement(YB.default,Object.assign({},W),ne)))};JO.__ANT_BUTTON=!0;var $B=JO;Nd.default=$B;var qO=ct.default;Object.defineProperty(bT,"__esModule",{value:!0});var QO=bT.default=void 0,XB=qO(Ls),zB=qO(Nd);const ZO=XB.default;ZO.Button=zB.default;var KB=ZO;QO=bT.default=KB;const JB=({config:e,metas:t,onConfigChange:n,availableSourceFunctions:r})=>{const i=s=>{n==null||n(s,!0,e)};return o.jsx(g_,{availableSourceFunctions:r,config:e,metas:t,onChange:i})},VT=(e,t,n,r)=>Gn(t,a=>(a.rows=(a.rows||[]).map(i=>i.uid===e?n:i),r&&(a.replacedConfig=r),a)),hi=(e,t)=>{var n,r,a,i,s;if((t==null?void 0:t.type)===He.Aggregate||(t==null?void 0:t.type)===He.Size||(t==null?void 0:t.type)===He.Info||(t==null?void 0:t.type)===He.Mixed){if(t.disableAggregate||e.category===At.AggregateComputedField)return;if(e.aggregate)return e.aggregate;let l="";if((t==null?void 0:t.actions)instanceof Array?(n=t==null?void 0:t.actions)==null||n.find(d=>d===Ee.Aggregate||d===Ee.AggregateLimit):(t==null?void 0:t.actions)instanceof Object&&(l=(a=(r=t==null?void 0:t.actions)==null?void 0:r[e==null?void 0:e.type])==null?void 0:a.find(d=>d===Ee.Aggregate||d===Ee.AggregateLimit)),l)return(s=(i=JC)==null?void 0:i[l])==null?void 0:s[0]}},qB=({uid:e,config:t,onConfigChange:n,onOpenModal:r,metas:a,availableSourceFunctions:i,...s})=>{const l=V("viz.common.enum.calc"),d=!0,[u,T]=c.useState(t==null?void 0:t.calc),R=[];return a&&a.filter(A=>A.type===be.DATE).length>0&&i&&i.filter(A=>qC.includes(A)).length>0&&R.push(Oi.DateRatio),o.jsxs(o.Fragment,{children:[o.jsx(lt.Item,{eventKey:Oi.None,icon:u?"":o.jsx(Kl,{}),onClick:()=>{const A=Gn(t,E=>{E.calc=void 0});T(void 0),n==null||n(A,d)},children:l(Oi.None)},Oi.None),R.map(A=>o.jsx(lt.Item,{eventKey:A,icon:(u==null?void 0:u.type)===A?o.jsx(Kl,{}):"",onClick:()=>r(e)(A),children:l(A)},A))]})},QB=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"],ZB=[..."0123456789"],eF=[..."CDEHKMPRTUWXY012458"],tF=[..."!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"],nF=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"],rF=(e,t)=>e[t]+(e[t+1]<<8),aF=(e,t,n)=>{const r=t.length,a=Math.floor(65536/r)*r-1,i=2*Math.ceil(1.1*e);let s="",l=0;for(;l<e;){const d=n(i);let u=0;for(;u<i&&l<e;){const T=rF(d,u);u+=2,!(T>a)&&(s+=t[T%r],l++)}}return s},oF=new Set([void 0,"hex","base64","url-safe","numeric","distinguishable","ascii-printable","alphanumeric"]),iF=(e,t,n)=>({length:r,type:a,characters:i})=>{if(!(r>=0&&Number.isFinite(r)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(a!==void 0&&i!==void 0)throw new TypeError("Expected either `type` or `characters`");if(i!==void 0&&typeof i!="string")throw new TypeError("Expected `characters` to be string");if(!oF.has(a))throw new TypeError(`Unknown type: ${a}`);if(a===void 0&&i===void 0&&(a="hex"),a==="hex"||a===void 0&&i===void 0)return t(Math.ceil(r*.5),"hex",r);if(a==="base64")return t(Math.ceil(r*.75),"base64",r);if(a==="url-safe")return e(r,QB,n);if(a==="numeric")return e(r,ZB,n);if(a==="distinguishable")return e(r,eF,n);if(a==="ascii-printable")return e(r,tF,n);if(a==="alphanumeric")return e(r,nF,n);if(i.length===0)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(i.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return e(r,i,n)};function sF(e,t){return iF(aF,e,t)}const lF=e=>[...e].map(t=>t.toString(16).padStart(2,"0")).join(""),cF=e=>btoa(String.fromCodePoint(...e)),kp=65536;function em(e){const t=new Uint8Array(e);for(let n=0;n<e;n+=kp)t.set(crypto.getRandomValues(new Uint8Array(Math.min(kp,e-n))),n);return t}function dF(e,t,n){const r=em(e);return(t==="hex"?lF:cF)(r).slice(0,n)}const EF=sF(dF,em),uF=({config:e,onConfigChange:t})=>{var m,g,_;const n={labelCol:{offset:2,span:2},wrapperCol:{span:18}},r=V("viz.palette.data"),{dataView:a,availableSourceFunctions:i}=c.useContext(ka),{datas:s}=c.useContext(mO),{dateLevelFields:l}=Jl({sortType:"byNameSort",dataView:a,availableSourceFunctions:i}),d=s&&s.filter(L=>{var P;return(L.type===He.Group||L.type===He.Mixed)&&((P=L.rows)==null?void 0:P.findIndex(v=>v.type===be.DATE))!==-1}).length>0,u=!0,[T,R]=c.useState(((m=e==null?void 0:e.calc)==null?void 0:m.config)||{column:l[0].path}),A=l.findIndex(L=>lI(L.path,T.column)),[E,S]=c.useState(A>-1?A:0),p=l[E].children||[],f=L=>{var P;return L?tr(L,(P=I(T.snippet))==null?void 0:P.format):void 0},I=L=>{const P=i==null?void 0:i.find(v=>L==null?void 0:L.startsWith(v));if(P===Zo.AggDateYear)return{picker:"year",format:"YYYY"};if(P===Zo.AggDateQuarter)return{picker:"quarter",format:"YYYY-Q"};if(P===Zo.AggDateMonth)return{picker:"month",format:"YYYY-MM"};if(P===Zo.AggDateWeek)return{picker:"week",format:"YYYY-WW"};if(P===Zo.AggDateDay)return{picker:"date",format:"YYYY-MM-DD"}},O=L=>{const P=Gn(e,v=>{v.calc={key:EF(8),type:Oi.DateRatio,config:L}});R(L),t==null||t(P,u)},[N,h]=c.useState(f(T.select));return o.jsxs(TF,{direction:"vertical",children:[!d&&o.jsxs(o.Fragment,{children:[o.jsx(Ca,{...n,label:r("dateRatio.field"),children:o.jsx(Se,{allowClear:!0,defaultValue:E,onChange:L=>{const P=l[L];S(L),O(Object.assign({},T,{column:P.path}))},children:l.map((L,P)=>o.jsx(Se.Option,{value:P,children:L.name}))})}),o.jsx(Ca,{...n,label:r("dimension"),children:o.jsx(Pe.Group,{defaultValue:T.snippet,onChange:L=>{h(void 0),O(Object.assign({},T,{snippet:L.target.value}))},children:p.map(L=>o.jsx(Pe,{value:L.expression,children:L.name}))})}),o.jsx(Ca,{...n,label:r("dateRatio.select"),children:o.jsx(Pv,{value:N,format:(g=I(T.snippet))==null?void 0:g.format,picker:(_=I(T.snippet))==null?void 0:_.picker,onChange:(L,P)=>{h(f(P)),O(Object.assign({},T,{select:P}))}})})]}),o.jsx(Ca,{...n,label:r("dateRatio.ratioType"),children:o.jsxs(Pe.Group,{defaultValue:T.ratioType,onChange:L=>{O(Object.assign({},T,{ratioType:L.target.value}))},children:[o.jsx(Pe,{value:QS.Last,children:r("dateRatio.ratioLast")}),o.jsx(Pe,{value:QS.Year,children:r("dateRatio.ratioYear")})]})}),o.jsx(Ca,{...n,label:r("dateRatio.valueType"),children:o.jsxs(Pe.Group,{defaultValue:T.valueType,onChange:L=>{O(Object.assign({},T,{valueType:L.target.value}))},children:[o.jsx(Pe,{value:ZS.Percent,children:r("dateRatio.percent")}),o.jsx(Pe,{value:ZS.Diff,children:r("dateRatio.diff")})]})})]})},TF=F(Ge).withConfig({displayName:"DateRatioAction__StyledDateRatioAction",componentId:"sc-11mp0s4-0"})(["width:100%;"]),SF=({uid:e,type:t,onOpenModal:n,ancestors:r,config:a,availableSourceFunctions:i,category:s,metas:l,onConfigChanged:d})=>{const u=V("viz.palette.data.enum.actionType"),T=[Ee.Sortable,Ee.Aggregate,Ee.AggregateLimit,Ee.Calc,Ee.DateLevel],R=(f,I,O,N)=>{if(!I)return;const h=VT(f,a,I,N);d==null||d(r,h,O)},A=(f,I,O)=>{var N;return(N=S(f,I,O))==null?void 0:N.filter(h=>!T.includes(h))},E=(f,I,O)=>{var N;return(N=S(f,I,O))==null?void 0:N.filter(h=>T.includes(h))},S=(f,I,O)=>{let N=[];return Array.isArray(f)?N=f:I in f&&(N=f[I]),O===At.AggregateComputedField&&(N=N.filter(h=>![Ee.Aggregate,Ee.AggregateLimit,Ee.Calc].includes(h))),I==="DATE"&&![At.Field,At.DateLevelComputedField].includes(O)&&(N=N.filter(h=>![Ee.DateLevel].includes(h))),N},p=(f,I)=>{var h,m;const O=(h=a.rows)==null?void 0:h.find(g=>g.uid===I);if(!O)return;const N=(m=a==null?void 0:a.options)==null?void 0:m[f];if(f===Ee.Sortable)return o.jsx(yv,{config:O,onConfigChange:(g,_)=>{R(I,g,_)},options:N,mode:"menu"});if(f===Ee.Aggregate)return o.jsx(Mv,{config:O,onConfigChange:(g,_)=>{R(I,g,_)},mode:"menu"});if(f===Ee.AggregateLimit)return o.jsx(xv,{config:O,onConfigChange:(g,_)=>{R(I,g,_)},mode:"menu"});if(f===Ee.Calc)return o.jsx(qB,{uid:I,config:O,onConfigChange:(g,_)=>{R(I,g,_)},onOpenModal:n,metas:l,availableSourceFunctions:i});if(f===Ee.DateLevel)return o.jsx(JB,{metas:l,availableSourceFunctions:i,config:O,onConfigChange:(g,_,L)=>{R(I,g,_,L)},mode:"menu"});if(f===Ee.DateRatio)return o.jsx(uF,{config:O,onConfigChange:(g,_)=>{R(I,g,_)}})};return o.jsxs(lt,{children:[A(a==null?void 0:a.actions,t,s).map(f=>o.jsx(lt.Item,{onClick:()=>n(e)(f),children:u(f)},f)),E(a==null?void 0:a.actions,t,s).map(f=>o.jsx(lt.SubMenu,{title:u(f),children:p(f,e)},f))]})},RF=({uid:e,type:t,viewFields:n,ancestors:r,config:a,columnConfig:i,onConfigChanged:s})=>{const l=u=>{const T={...u,aggregate:void 0,category:u.category,colName:u.name,type:u.type,uid:i.uid};T.aggregate=hi(T,a);const R=VT(i.uid,a,T,i);s==null||s(r,R,!0)},d=u=>u.children&&u.children.length?o.jsx(lt.SubMenu,{title:u.name,children:u.children.map(T=>d(T))},u.name):o.jsx(lt.Item,{onClick:()=>l(u),children:u.name},u.name);return o.jsx(lt,{children:n.map(u=>d(u))})},tm=c.memo(({modalSize:e,config:t,columnConfig:n,ancestors:r,aggregation:a,availableSourceFunctions:i,onConfigChanged:s,handleOpenActionModal:l})=>{const{dataView:d}=c.useContext(ka),u=c.useMemo(()=>{const{hierarchyFields:E,stringFields:S,dateLevelFields:p,numericFields:f,stringComputedFields:I,numericComputedFields:O,dateComputedFields:N}=Jl({sortType:"byNameSort",dataView:d,availableSourceFunctions:i}),h=[...E,...S,...p,...f,...I,...O,...N];return QC(h,n)},[i,n,d]),T=c.useMemo(()=>!ZC(u,n),[u,n]),R=()=>T?o.jsx(RF,{uid:n.uid,viewFields:u,type:n.type,columnConfig:n,ancestors:r,config:t,onConfigChanged:s}):o.jsx(SF,{uid:n.uid,type:n.type,category:n.category,ancestors:r,config:t,modalSize:e,availableSourceFunctions:i,metas:d==null?void 0:d.meta,onConfigChanged:s,onOpenModal:l}),A=E=>{const S=[];return E.alias&&S.push(o.jsx(Jb,{},"alias")),E.sort&&(E.sort.type===eR.ASC&&S.push(o.jsx(aM,{},"sort")),E.sort.type===eR.DESC&&S.push(o.jsx(lM,{},"sort"))),E.format&&S.push(o.jsx(HP,{},"format")),E.aggregate&&S.push(o.jsx(__,{},"aggregate")),E.filter&&S.push(o.jsx(Uv,{},"filter")),E.color&&S.push(o.jsx(Sb,{},"color")),E.size&&S.push(o.jsx(MP,{},"size")),S};return o.jsx(QO,{disabled:!(t!=null&&t.actions),destroyPopupOnHide:!0,dropdownRender:()=>R(),overlayClassName:"datart-data-section-dropdown",trigger:["click"],children:o.jsxs(AF,{className:Ke({replace:T}),children:[(t==null?void 0:t.actions)&&o.jsx(iI,{style:{marginRight:"10px"}}),o.jsx("span",{children:a===!1?n.colName:cI(n)}),o.jsx("div",{style:{display:"inline-block",marginLeft:"5px"},children:A(n)})]})},n.uid)}),pF=$f(["0%{color:",";}25%{color:",";}50%{color:",";}100%{color:",";}"],YS,hn,mc,YS),AF=F.div.withConfig({displayName:"ChartDraggableElementField__StyledWrapper",componentId:"sc-1yva81f-0"})(["&.replace{animation:"," 2s linear infinite;}"],pF),fF=c.memo(({modalSize:e,config:t,columnConfig:n,ancestors:r,aggregation:a,availableSourceFunctions:i,onConfigChanged:s,handleOpenActionModal:l})=>{const d=()=>{var u;return(u=n==null?void 0:n.children)==null?void 0:u.map(T=>{const R={modalSize:e,config:t,columnConfig:T,ancestors:r,aggregation:a,availableSourceFunctions:i,onConfigChanged:s,handleOpenActionModal:l};return o.jsx(tm,{...R})})};return o.jsxs("div",{children:[o.jsx(IF,{children:n.colName}),o.jsx(Ge,{direction:"vertical",size:"small",children:d()})]},n.uid)}),IF=F.div.withConfig({displayName:"ChartDraggableElementHierarchy__StyledGroupName",componentId:"sc-14u5480-0"})(["text-align:left;"]),OF=c.memo(function({ancestors:t,modalSize:n,config:r,translate:a=(...s)=>s==null?void 0:s[0],onConfigChanged:i}){const{dataset:s}=c.useContext(mT),{drillOption:l}=c.useContext(Yu),{dataView:d,availableSourceFunctions:u}=c.useContext(ka),[T,R]=c.useState(r),[A,E]=q1({i18nPrefix:"viz.palette.data.enum.actionType"}),{aggregation:S}=c.useContext(zc);c.useEffect(()=>{R(r)},[r]);const[{isOver:p,canDrop:f},I]=wv(()=>({accept:[In.DATASET_COLUMN,In.DATASET_COLUMN_GROUP,In.DATA_CONFIG_COLUMN],drop(v,D){var y;const b=Array.isArray(v)?v:[v];let C=!0;if(D.getItemType()===In.DATASET_COLUMN){const w=(T.rows||[]).concat(b.map(x=>({uid:yt(),...x,aggregate:hi(x,T)})));O(T,w,!0)}else if(D.getItemType()===In.DATASET_COLUMN_GROUP){const w=((y=b==null?void 0:b[0])==null?void 0:y.children)||[],x=(T.rows||[]).concat(w.map(M=>({uid:yt(),...M,aggregate:hi(M,T)})));O(T,x,!0)}else if(D.getItemType()===In.DATA_CONFIG_COLUMN){const w=(T.rows||[]).findIndex(x=>x.uid===v.uid);if(w>-1){const x=(T==null?void 0:T.type)===He.Group;C=!1;const M=Gn((T==null?void 0:T.rows)||[],B=>(B.splice(w,1),v.aggregate=hi(v,T),B.splice(v==null?void 0:v.index,0,v)));O(T,M,x)}else{const x=Gn((T==null?void 0:T.rows)||[],M=>(v.aggregate=hi(v,T),M.splice(v==null?void 0:v.index,0,v)));O(T,x)}}return{delete:C}},canDrop:(v,D)=>{var w,x;const b=Array.isArray(v)?v:[v];if([In.DATASET_COLUMN_GROUP].includes(D.getItemType())&&![He.Group,He.Color,He.Mixed].includes(T.type)||T!=null&&T.disableAggregateComputedField&&v.category==="aggregateComputedField")return!1;if(T.allowSameField&&!S)return!0;if(typeof T.actions=="object"&&!b.every(M=>M.type in(T.actions||{})))return!1;const C=(x=(w=T.rows)==null?void 0:w.filter(M=>{var B,H;return!((H=(B=b==null?void 0:b.map(j=>j==null?void 0:j.uid))==null?void 0:B.filter(Boolean))!=null&&H.includes(M==null?void 0:M.uid))}))==null?void 0:x.map(M=>M.colName);return b[0].category===At.DateLevelComputedField?[He.Group,He.Color,He.Mixed].includes(T.type)?C?C.every(M=>!(M!=null&&M.includes(b[0].colName))):!0:!1:S&&b[0].type===be.NUMERIC?!0:b.every(M=>!(C!=null&&C.includes(M.colName)))},collect:v=>({isOver:v.isOver(),canDrop:v.canDrop()})}),[i,T,d,s]),O=(v,D,b=!1)=>{const C=Wu(v,"rows",D);R(C),i==null||i(t,C,b)},N=(v,D)=>{var C;if(!f)return;const b=(C=T.rows)==null?void 0:C[v];if(b){const y=Gn(T,w=>{const x=w.rows||[];x.splice(v,1),x.splice(D,0,b)});R(y)}},h=v=>()=>{if(v.uid){const D=Gn(T,b=>{var C;b.rows=(C=b.rows)==null?void 0:C.filter(y=>y.uid!==v.uid),v.category===At.DateLevelComputedField&&(b.replacedConfig=v)});R(D),i==null||i(t,D,!0)}},m=()=>{var v,D,b;if(!T.rows||!((D=(v=T==null?void 0:T.rows)==null?void 0:v.filter(Boolean))!=null&&D.length)){const C=tu(T==null?void 0:T.limit,0);return C>0?o.jsx($p,{children:a("dropCount",void 0,{count:C})}):o.jsx($p,{children:a("drop")})}return(b=T.rows)==null?void 0:b.map((C,y)=>o.jsx(Z1,{index:y,config:C,content:()=>{const w={modalSize:n,config:T,columnConfig:C,ancestors:t,aggregation:S,availableSourceFunctions:u,onConfigChanged:i,handleOpenActionModal:P};return C.category===At.Hierarchy?o.jsx(fF,{...w}):o.jsx(tm,{...w})},moveCard:N,onDelete:h(C)},C.uid))},g=()=>{var v;if((T==null?void 0:T.type)===He.Filter)return(v=_())==null?void 0:v.map((D,b)=>{const C=D.field;return o.jsx(hF,{type:C.type,children:cI(C)},b)})},_=()=>{var v;return(v=l==null?void 0:l.getAllDrillDownFields())==null?void 0:v.filter(D=>!!(D!=null&&D.condition))},L=(v,D,b)=>{if(!D)return;const C=VT(v,T,D);i==null||i(t,C,b)},P=v=>D=>{A(v,D,T,L,s,d,n,S)};return o.jsxs(mF,{ref:I,isOver:p,canDrop:f,children:[m(),g(),E]})}),mF=F.div.withConfig({displayName:"ChartDraggableTargetContainer__StyledContainer",componentId:"sc-ahyqu8-0"})(["padding:",";color:",";text-align:center;background-color:",";border-radius:",";.draggable-element:last-child{margin-bottom:0;}"],It,e=>e.theme.textColorLight,e=>e.canDrop?WS(e.theme.success,.25):e.isOver?WS(e.theme.error,.25):e.theme.emphasisBackground,st),hF=F.div.withConfig({displayName:"ChartDraggableTargetContainer__StyledDillFilter",componentId:"sc-ahyqu8-1"})(["padding:"," ",";margin-bottom:",";font-size:",";color:",";cursor:move;background:",";border-radius:",";"],Le,ye,ot,Yf,e=>e.theme.componentBackground,e=>e.type===be.NUMERIC?e.theme.success:e.theme.info,st),$p=F.p.withConfig({displayName:"ChartDraggableTargetContainer__DropPlaceholder",componentId:"sc-ahyqu8-2"})(["line-height:",";"],Uu);function Mr(e,t){return!(e.translate!==t.translate||e.config!==t.config||e.aggregation!==t.aggregation||e.expensiveQuery!==t.expensiveQuery)}function Ho(e,t){return kt(e,r=>{var i;const a={};(i=r.rows)==null||i.forEach((s,l)=>{r.rows[l].aggregate=void 0}),t===He.Aggregate&&delete r.actions.STRING,t===He.Group&&delete r.actions.NUMERIC;for(const s in r.actions)a[s]=r.actions[s].filter(l=>l!=="aggregate"&&l!=="aggregateLimit");r.actions=a})}const xr=c.memo(({modalSize:e,config:t,extra:n,translate:r=i=>i,...a})=>o.jsxs(NF,{children:[o.jsxs(CF,{children:[r(t.label||"")+(t!=null&&t.drillable?`(${r("drillable")})`:""),n==null?void 0:n()]}),o.jsx(OF,{...a,translate:r,modalSize:e,config:t})]}),Mr),NF=F.div.withConfig({displayName:"BaseDataConfigSection__StyledBaseDataConfigSection",componentId:"sc-1rfahap-0"})(["padding:"," 0;"],ot),CF=F.div.withConfig({displayName:"BaseDataConfigSection__StyledBaseDataConfigSectionTitle",componentId:"sc-1rfahap-1"})(["color:",";user-select:none;"],e=>e.theme.textColor),gF=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({allowSameField:!0},{actions:{[be.NUMERIC]:[Ee.Aggregate,Ee.Alias,Ee.Format,Ee.Sortable,Ee.ColorizeSingle],[be.STRING]:[Ee.AggregateLimit,Ee.Alias,Ee.Format,Ee.Sortable,Ee.ColorizeSingle]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),_F=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({},{actions:{[be.STRING]:[Ee.Alias,Ee.Colorize]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),LF=c.memo(({ancestors:e,config:t,translate:n=i=>i,onConfigChanged:r,aggregation:a})=>{const[i,s]=ki({}),[l,d]=c.useState(t),[u,T]=c.useState(t),[R]=c.useState(!1),A=Object.assign({allowSameField:!0,disableAggregate:!1,disableAggregateComputedField:!0},{actions:{[be.NUMERIC]:[Ee.Filter],[be.STRING]:[Ee.Filter],[be.DATE]:[Ee.Filter]}},t),E=f=>{d(Fn(f))},S=(f,I)=>{T(I),d(I),r(f,I,!0)},p=()=>{const f={config:l,onConfigChange:E},I=N=>{S(e,l),N==null||N()},O=N=>{d(u),N==null||N()};i({title:n("title"),width:1e3,style:{maxHeight:1e3,overflowY:"scroll",overflowX:"auto"},modalSize:Hn.SMALL,onOk:I,content:o.jsx(Bv.ArrangeFilterAction,{...f}),onCancel:O})};return o.jsxs(o.Fragment,{children:[o.jsx(xr,{ancestors:e,modalSize:Hn.MIDDLE,translate:n,config:A,onConfigChanged:S,extra:()=>R?o.jsx(oe,{size:"small",icon:o.jsx(eg,{}),onClick:p,children:n("arrange")}):null}),s]})},Mr),vF=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({},{actions:{[be.NUMERIC]:[Ee.Alias,Ee.Sortable],[be.STRING]:[Ee.Alias,Ee.Sortable],[be.DATE]:[Ee.Alias,Ee.Sortable,Ee.DateLevel]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),DF=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({allowSameField:!0},{actions:{[be.NUMERIC]:[Ee.Alias,Ee.Format,Ee.Aggregate]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),bF=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({},{actions:{[be.NUMERIC]:[Ee.Aggregate,Ee.Calc,Ee.Alias,Ee.Format,Ee.Sortable],[be.STRING]:[Ee.Alias,Ee.Sortable],[be.DATE]:[Ee.Alias,Ee.Sortable,Ee.DateLevel]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),PF=c.memo(({config:e,aggregation:t,...n})=>{let r=Object.assign({},{actions:{[be.NUMERIC]:[Ee.Aggregate,Ee.Format,Ee.Alias]}},e);return t===!1&&(r=Ho(r,e.type)),o.jsx(xr,{...n,config:r})},Mr),yF=c.memo(({config:e,...t})=>{const n=Object.assign({},{actions:{[be.NUMERIC]:[Ee.Sortable],[be.STRING]:[Ee.Sortable],[be.DATE]:[Ee.Sortable]}},e);return o.jsx(xr,{...t,config:n})},Mr),Gr={GroupTypeSection:vF,AggregateTypeSection:gF,BaseDataConfigSection:xr,MixedTypeSection:bF,FilterTypeSection:LF,SortTypeSection:yF,ColorTypeSection:_F,InfoTypeSection:DF,SizeTypeSection:PF},MF=c.memo(({dataConfigs:e,expensiveQuery:t,onChange:n})=>{const r=V("viz.palette.data"),{aggregation:a}=c.useContext(zc),i=(s,l)=>{var u;const d={key:(s==null?void 0:s.key)||l,ancestors:[l],config:s,translate:r,aggregation:a,expensiveQuery:t,onConfigChanged:(T,R,A)=>{n==null||n(T,R,A)}};switch((u=d.config)==null?void 0:u.type){case He.Group:return o.jsx(Gr.GroupTypeSection,{...d});case He.Aggregate:return o.jsx(Gr.AggregateTypeSection,{...d});case He.Mixed:return o.jsx(Gr.MixedTypeSection,{...d});case He.Filter:return o.jsx(Gr.FilterTypeSection,{...d});case He.Info:return o.jsx(Gr.InfoTypeSection,{...d});case He.Color:return o.jsx(Gr.ColorTypeSection,{...d});case He.Size:return o.jsx(Gr.SizeTypeSection,{...d});default:return o.jsx(Gr.BaseDataConfigSection,{...d})}};return o.jsx(xF,{children:(e||[]).map(i)})},(e,t)=>e.dataConfigs===t.dataConfigs&&e.expensiveQuery===t.expensiveQuery),xF=F.div.withConfig({displayName:"ChartDataConfigPanel__StyledChartDataConfigPanel",componentId:"sc-ro5iqh-0"})(["display:flex;flex:1;flex-direction:column;padding:"," 0;"],Le),fE=c.memo(({configs:e,dataConfigs:t,i18nPrefix:n,context:r,onChange:a})=>{var s;const i=V(n);return o.jsx(Zr,{className:"datart-config-panel",ghost:!0,children:(s=e==null?void 0:e.filter(l=>!l.hidden))==null?void 0:s.map((l,d)=>l.comType==="group"?o.jsx(Zr.Panel,{header:i(l.label,!0),children:o.jsx(ST,{ancestors:[d],mode:l.comType==="group"?po.INNER:po.OUTER,data:l,translate:i,dataConfigs:t,onChange:a,context:r,flatten:!0})},l.key):o.jsx(HI,{ancestors:[d],data:l,translate:i,dataConfigs:t,onChange:a,context:r},l.key))})},(e,t)=>e.configs===t.configs&&e.dataConfigs===t.dataConfigs),UF=c.memo(({defaultValue:e=!0,onChangeAggregation:t})=>{const n=c.useMemo(()=>e,[e]),r=V("viz.workbench.header"),{actions:a}=eT(),i=de(),s=d=>{Dn.confirm({icon:o.jsx(o.Fragment,{}),content:r("aggregationSwitchTip"),okText:r(n?"close":"open"),onOk(){t(),i(a.updateChartAggregation(d.target.value))}})},l=[{label:r("open"),value:!0},{label:r("close"),value:!1}];return o.jsx(wF,{children:o.jsx(Me,{title:r("aggregationSwitch"),color:"blue",placement:"bottom",children:o.jsx(Pe.Group,{options:l,value:n,onChange:s,optionType:"button",buttonStyle:"solid"})})})}),wF=F.div.withConfig({displayName:"Aggregation",componentId:"sc-12thn31-0"})(["color:",";"],e=>e.theme.textColor),BF=c.memo(()=>{const{aggregation:e,onChangeAggregation:t}=c.useContext(zc);return o.jsx(FF,{children:o.jsx(UF,{defaultValue:e,onChangeAggregation:()=>{t==null||t()}})})}),FF=F.div.withConfig({displayName:"ChartToolbar__Toolbar",componentId:"sc-slcjik-0"})(["display:flex;justify-content:center;background-color:",";padding:",";border-radius:",";"],e=>e.theme.componentBackground,ye,st),pr={DATA:"data",STYLE:"style",SETTING:"setting",INTERACTION:"interaction"},GF=c.memo(({chartId:e,chartConfig:t,expensiveQuery:n,onChange:r})=>{const a=V("viz.palette"),i=U(na),s=U(gI),[l,d]=U1(()=>tg([A=>!Wt(A==null?void 0:A.datas),pr.DATA],[A=>!Wt(A==null?void 0:A.styles),pr.STYLE],[A=>!Wt(A==null?void 0:A.settings),pr.SETTING],[A=>!Wt(A==null?void 0:A.interactions),pr.INTERACTION])(t,pr.DATA),(A,E)=>A!==E,e),u=(A,E,S)=>{r==null||r(ga.DATA,{ancestors:A,value:E,needRefresh:S})},T=A=>(E,S,p)=>{r==null||r(A,{ancestors:E,value:S,needRefresh:p})},R=[!Wt(t==null?void 0:t.datas)&&{key:pr.DATA,label:o.jsxs("span",{children:[o.jsx(Xi,{}),a("title.content")]}),children:o.jsx(MF,{dataConfigs:t==null?void 0:t.datas,expensiveQuery:n,onChange:u})},!Wt(t==null?void 0:t.styles)&&{key:pr.STYLE,label:o.jsxs("span",{children:[o.jsx(Hb,{}),a("title.design")]}),children:o.jsx(fE,{i18nPrefix:"viz.palette.style",configs:t==null?void 0:t.styles,dataConfigs:t==null?void 0:t.datas,onChange:T(ga.STYLE)},"viz.palette.style")},!Wt(t==null?void 0:t.settings)&&{key:pr.SETTING,label:o.jsxs("span",{children:[o.jsx(RT,{}),a("title.setting")]}),children:o.jsx(fE,{i18nPrefix:"viz.palette.setting",configs:t==null?void 0:t.settings,dataConfigs:t==null?void 0:t.datas,onChange:T(ga.SETTING)},"viz.palette.setting")},!Wt(t==null?void 0:t.interactions)&&{key:pr.INTERACTION,label:o.jsxs("span",{children:[o.jsx(fb,{}),a("title.interaction")]}),children:o.jsx(fE,{i18nPrefix:"viz.palette.interaction",configs:t==null?void 0:t.interactions,dataConfigs:t==null?void 0:t.datas,context:{vizs:i,dataview:s},onChange:T(ga.INTERACTION)},"viz.palette.interaction")}];return o.jsx(os.Provider,{value:{i18NConfigs:t==null?void 0:t.i18ns},children:o.jsx(mO.Provider,{value:{datas:t==null?void 0:t.datas},children:o.jsx(HF,{children:o.jsxs(jF,{children:[o.jsx(BF,{}),o.jsx(Es,{items:R,activeKey:l,className:"tabs",onChange:d,centered:!0})]})})})})},(e,t)=>e.chartConfig===t.chartConfig&&e.chartId===t.chartId&&e.expensiveQuery===t.expensiveQuery),HF=F.div.withConfig({displayName:"ChartConfigPanel__StyledChartDataViewPanel",componentId:"sc-1yp10gs-0"})(["display:flex;flex-direction:column;height:100%;padding:0 ",";background-color:",";"],ot,e=>e.theme.bodyBackground),jF=F.div.withConfig({displayName:"ChartConfigPanel__ConfigBlock",componentId:"sc-1yp10gs-1"})(["display:flex;flex:1;flex-direction:column;min-height:0;background-color:",";border-radius:",";.tabs{font-weight:",";color:",";.ant-tabs-content{padding:0 ",";overflow-y:auto;height:calc(100vh - 103px);}}"],e=>e.theme.componentBackground,st,nn,e=>e.theme.textColorSnd,ye),VF={base:"vs-dark",inherit:!0,rules:[{token:"dql-field",foreground:"007bff",fontStyle:"bold"},{token:"dql-variable",foreground:"28a745",fontStyle:"bold"},{token:"dql-function",foreground:"fd7e14"},{token:"dql-operator",foreground:"17a2b8"},{token:"dql-comment",foreground:"6c757d"}]},YF={tokenPostfix:".dql",ignoreCase:!0,keywords:["ABORT_AFTER_WAIT","ABSENT","ABSOLUTE","ACCENT_SENSITIVITY","ACTION","ACTIVATION","ACTIVE","ADD","ADDRESS","ADMIN","AES","AES_128","AES_192","AES_256","AFFINITY","AFTER","AGGREGATE","ALGORITHM","ALL_CONSTRAINTS","ALL_ERRORMSGS","ALL_INDEXES","ALL_LEVELS","ALL_SPARSE_COLUMNS","ALLOW_CONNECTIONS","ALLOW_MULTIPLE_EVENT_LOSS","ALLOW_PAGE_LOCKS","ALLOW_ROW_LOCKS","ALLOW_SINGLE_EVENT_LOSS","ALLOW_SNAPSHOT_ISOLATION","ALLOWED","ALTER","ANONYMOUS","ANSI_DEFAULTS","ANSI_NULL_DEFAULT","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_NULLS","ANSI_PADDING","ANSI_WARNINGS","APPEND","APPLICATION","APPLICATION_LOG","ARITHABORT","ARITHIGNORE","AS","ASC","ASSEMBLY","ASYMMETRIC","ASYNCHRONOUS_COMMIT","AT","ATOMIC","ATTACH","ATTACH_REBUILD_LOG","AUDIT","AUDIT_GUID","AUTHENTICATION","AUTHORIZATION","AUTO","AUTO_CLEANUP","AUTO_CLOSE","AUTO_CREATE_STATISTICS","AUTO_SHRINK","AUTO_UPDATE_STATISTICS","AUTO_UPDATE_STATISTICS_ASYNC","AUTOMATED_BACKUP_PREFERENCE","AUTOMATIC","AVAILABILITY","AVAILABILITY_MODE","BACKUP","BACKUP_PRIORITY","BASE64","BATCHSIZE","BEGIN","BEGIN_DIALOG","BIGINT","BINARY","BINDING","BIT","BLOCKERS","BLOCKSIZE","BOUNDING_BOX","BREAK","BROKER","BROKER_INSTANCE","BROWSE","BUCKET_COUNT","BUFFER","BUFFERCOUNT","BULK","BULK_LOGGED","BY","CACHE","CALL","CALLED","CALLER","CAP_CPU_PERCENT","CASCADE","CASE","CATALOG","CATCH","CELLS_PER_OBJECT","CERTIFICATE","CHANGE_RETENTION","CHANGE_TRACKING","CHANGES","CHAR","CHARACTER","CHECK","CHECK_CONSTRAINTS","CHECK_EXPIRATION","CHECK_POLICY","CHECKALLOC","CHECKCATALOG","CHECKCONSTRAINTS","CHECKDB","CHECKFILEGROUP","CHECKIDENT","CHECKPOINT","CHECKTABLE","CLASSIFIER_FUNCTION","CLEANTABLE","CLEANUP","CLEAR","CLOSE","CLUSTER","CLUSTERED","CODEPAGE","COLLATE","COLLECTION","COLUMN","COLUMN_SET","COLUMNS","COLUMNSTORE","COLUMNSTORE_ARCHIVE","COMMIT","COMMITTED","COMPATIBILITY_LEVEL","COMPRESSION","COMPUTE","CONCAT","CONCAT_NULL_YIELDS_NULL","CONFIGURATION","CONNECT","CONSTRAINT","CONTAINMENT","CONTENT","CONTEXT","CONTINUE","CONTINUE_AFTER_ERROR","CONTRACT","CONTRACT_NAME","CONTROL","CONVERSATION","COOKIE","COPY_ONLY","COUNTER","CPU","CREATE","CREATE_NEW","CREATION_DISPOSITION","CREDENTIAL","CRYPTOGRAPHIC","CUBE","CURRENT","CURRENT_DATE","CURSOR","CURSOR_CLOSE_ON_COMMIT","CURSOR_DEFAULT","CYCLE","DATA","DATA_COMPRESSION","DATA_PURITY","DATABASE","DATABASE_DEFAULT","DATABASE_MIRRORING","DATABASE_SNAPSHOT","DATAFILETYPE","DATE","DATE_CORRELATION_OPTIMIZATION","DATEFIRST","DATEFORMAT","DATETIME","DATETIME2","DATETIMEOFFSET","DAY","DAYOFYEAR","DAYS","DB_CHAINING","DBCC","DBREINDEX","DDL_DATABASE_LEVEL_EVENTS","DEADLOCK_PRIORITY","DEALLOCATE","DEC","DECIMAL","DECLARE","DECRYPTION","DEFAULT","DEFAULT_DATABASE","DEFAULT_FULLTEXT_LANGUAGE","DEFAULT_LANGUAGE","DEFAULT_SCHEMA","DEFINITION","DELAY","DELAYED_DURABILITY","DELETE","DELETED","DENSITY_VECTOR","DENY","DEPENDENTS","DES","DESC","DESCRIPTION","DESX","DHCP","DIAGNOSTICS","DIALOG","DIFFERENTIAL","DIRECTORY_NAME","DISABLE","DISABLE_BROKER","DISABLED","DISK","DISTINCT","DISTRIBUTED","DOCUMENT","DOUBLE","DROP","DROP_EXISTING","DROPCLEANBUFFERS","DUMP","DURABILITY","DYNAMIC","EDITION","ELEMENTS","ELSE","EMERGENCY","EMPTY","EMPTYFILE","ENABLE","ENABLE_BROKER","ENABLED","ENCRYPTION","END","ENDPOINT","ENDPOINT_URL","ERRLVL","ERROR","ERROR_BROKER_CONVERSATIONS","ERRORFILE","ESCAPE","ESTIMATEONLY","EVENT","EVENT_RETENTION_MODE","EXEC","EXECUTABLE","EXECUTE","EXIT","EXPAND","EXPIREDATE","EXPIRY_DATE","EXPLICIT","EXTENDED_LOGICAL_CHECKS","EXTENSION","EXTERNAL","EXTERNAL_ACCESS","FAIL_OPERATION","FAILOVER","FAILOVER_MODE","FAILURE_CONDITION_LEVEL","FALSE","FAN_IN","FAST","FAST_FORWARD","FETCH","FIELDTERMINATOR","FILE","FILEGROUP","FILEGROWTH","FILELISTONLY","FILENAME","FILEPATH","FILESTREAM","FILESTREAM_ON","FILETABLE_COLLATE_FILENAME","FILETABLE_DIRECTORY","FILETABLE_FULLPATH_UNIQUE_CONSTRAINT_NAME","FILETABLE_NAMESPACE","FILETABLE_PRIMARY_KEY_CONSTRAINT_NAME","FILETABLE_STREAMID_UNIQUE_CONSTRAINT_NAME","FILLFACTOR","FILTERING","FIRE_TRIGGERS","FIRST","FIRSTROW","FLOAT","FMTONLY","FOLLOWING","FOR","FORCE","FORCE_FAILOVER_ALLOW_DATA_LOSS","FORCE_SERVICE_ALLOW_DATA_LOSS","FORCED","FORCEPLAN","FORCESCAN","FORCESEEK","FOREIGN","FORMATFILE","FORMSOF","FORWARD_ONLY","FREE","FREEPROCCACHE","FREESESSIONCACHE","FREESYSTEMCACHE","FROM","FULL","FULLSCAN","FULLTEXT","FUNCTION","GB","GEOGRAPHY_AUTO_GRID","GEOGRAPHY_GRID","GEOMETRY_AUTO_GRID","GEOMETRY_GRID","GET","GLOBAL","GO","GOTO","GOVERNOR","GRANT","GRIDS","GROUP","GROUP_MAX_REQUESTS","HADR","HASH","HASHED","HAVING","HEADERONLY","HEALTH_CHECK_TIMEOUT","HELP","HIERARCHYID","HIGH","HINT","HISTOGRAM","HOLDLOCK","HONOR_BROKER_PRIORITY","HOUR","HOURS","IDENTITY","IDENTITY_INSERT","IDENTITY_VALUE","IDENTITYCOL","IF","IGNORE_CONSTRAINTS","IGNORE_DUP_KEY","IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX","IGNORE_TRIGGERS","IMAGE","IMMEDIATE","IMPERSONATE","IMPLICIT_TRANSACTIONS","IMPORTANCE","INCLUDE","INCREMENT","INCREMENTAL","INDEX","INDEXDEFRAG","INFINITE","INFLECTIONAL","INIT","INITIATOR","INPUT","INPUTBUFFER","INSENSITIVE","INSERT","INSERTED","INSTEAD","INT","INTEGER","INTO","IO","IP","ISABOUT","ISOLATION","JOB","KB","KEEP","KEEP_CDC","KEEP_NULLS","KEEP_REPLICATION","KEEPDEFAULTS","KEEPFIXED","KEEPIDENTITY","KEEPNULLS","KERBEROS","KEY","KEY_SOURCE","KEYS","KEYSET","KILL","KILOBYTES_PER_BATCH","LABELONLY","LANGUAGE","LAST","LASTROW","LEVEL","LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","LIFETIME","LIMIT","LINENO","LIST","LISTENER","LISTENER_IP","LISTENER_PORT","LOAD","LOADHISTORY","LOB_COMPACTION","LOCAL","LOCAL_SERVICE_NAME","LOCK_ESCALATION","LOCK_TIMEOUT","LOGIN","LOGSPACE","LOOP","LOW","MANUAL","MARK","MARK_IN_USE_FOR_REMOVAL","MASTER","MAX_CPU_PERCENT","MAX_DISPATCH_LATENCY","MAX_DOP","MAX_DURATION","MAX_EVENT_SIZE","MAX_FILES","MAX_IOPS_PER_VOLUME","MAX_MEMORY","MAX_MEMORY_PERCENT","MAX_QUEUE_READERS","MAX_ROLLOVER_FILES","MAX_SIZE","MAXDOP","MAXERRORS","MAXLENGTH","MAXRECURSION","MAXSIZE","MAXTRANSFERSIZE","MAXVALUE","MB","MEDIADESCRIPTION","MEDIANAME","MEDIAPASSWORD","MEDIUM","MEMBER","MEMORY_OPTIMIZED","MEMORY_OPTIMIZED_DATA","MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT","MEMORY_PARTITION_MODE","MERGE","MESSAGE","MESSAGE_FORWARD_SIZE","MESSAGE_FORWARDING","MICROSECOND","MILLISECOND","MIN_CPU_PERCENT","MIN_IOPS_PER_VOLUME","MIN_MEMORY_PERCENT","MINUTE","MINUTES","MINVALUE","MIRROR","MIRROR_ADDRESS","MODIFY","MONEY","MONTH","MOVE","MULTI_USER","MUST_CHANGE","NAME","NANOSECOND","NATIONAL","NATIVE_COMPILATION","NCHAR","NEGOTIATE","NESTED_TRIGGERS","NEW_ACCOUNT","NEW_BROKER","NEW_PASSWORD","NEWNAME","NEXT","NO","NO_BROWSETABLE","NO_CHECKSUM","NO_COMPRESSION","NO_EVENT_LOSS","NO_INFOMSGS","NO_TRUNCATE","NO_WAIT","NOCHECK","NOCOUNT","NOEXEC","NOEXPAND","NOFORMAT","NOINDEX","NOINIT","NOLOCK","NON","NON_TRANSACTED_ACCESS","NONCLUSTERED","NONE","NORECOMPUTE","NORECOVERY","NORESEED","NORESET","NOREWIND","NORMAL","NOSKIP","NOTIFICATION","NOTRUNCATE","NOUNLOAD","NOWAIT","NTEXT","NTLM","NUMANODE","NUMERIC","NUMERIC_ROUNDABORT","NVARCHAR","OBJECT","OF","OFF","OFFLINE","OFFSET","OFFSETS","OLD_ACCOUNT","OLD_PASSWORD","ON","ON_FAILURE","ONLINE","ONLY","OPEN","OPEN_EXISTING","OPENTRAN","OPTIMISTIC","OPTIMIZE","OPTION","ORDER","OUT","OUTPUT","OUTPUTBUFFER","OVER","OVERRIDE","OWNER","OWNERSHIP","PAD_INDEX","PAGE","PAGE_VERIFY","PAGECOUNT","PAGLOCK","PARAMETERIZATION","PARSEONLY","PARTIAL","PARTITION","PARTITIONS","PARTNER","PASSWORD","PATH","PER_CPU","PER_NODE","PERCENT","PERMISSION_SET","PERSISTED","PHYSICAL_ONLY","PLAN","POISON_MESSAGE_HANDLING","POOL","POPULATION","PORT","PRECEDING","PRECISION","PRIMARY","PRIMARY_ROLE","PRINT","PRIOR","PRIORITY","PRIORITY_LEVEL","PRIVATE","PRIVILEGES","PROC","PROCCACHE","PROCEDURE","PROCEDURE_NAME","PROCESS","PROFILE","PROPERTY","PROPERTY_DESCRIPTION","PROPERTY_INT_ID","PROPERTY_SET_GUID","PROVIDER","PROVIDER_KEY_NAME","PUBLIC","PUT","QUARTER","QUERY","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUEUE_DELAY","QUOTED_IDENTIFIER","RAISERROR","RANGE","RAW","RC2","RC4","RC4_128","READ","READ_COMMITTED_SNAPSHOT","READ_ONLY","READ_ONLY_ROUTING_LIST","READ_ONLY_ROUTING_URL","READ_WRITE","READ_WRITE_FILEGROUPS","READCOMMITTED","READCOMMITTEDLOCK","READONLY","READPAST","READTEXT","READUNCOMMITTED","READWRITE","REAL","REBUILD","RECEIVE","RECOMPILE","RECONFIGURE","RECOVERY","RECURSIVE","RECURSIVE_TRIGGERS","REFERENCES","REGENERATE","RELATED_CONVERSATION","RELATED_CONVERSATION_GROUP","RELATIVE","REMOTE","REMOTE_PROC_TRANSACTIONS","REMOTE_SERVICE_NAME","REMOVE","REORGANIZE","REPAIR_ALLOW_DATA_LOSS","REPAIR_FAST","REPAIR_REBUILD","REPEATABLE","REPEATABLEREAD","REPLICA","REPLICATION","REQUEST_MAX_CPU_TIME_SEC","REQUEST_MAX_MEMORY_GRANT_PERCENT","REQUEST_MEMORY_GRANT_TIMEOUT_SEC","REQUIRED","RESAMPLE","RESEED","RESERVE_DISK_SPACE","RESET","RESOURCE","RESTART","RESTORE","RESTRICT","RESTRICTED_USER","RESULT","RESUME","RETAINDAYS","RETENTION","RETURN","RETURNS","REVERT","REVOKE","REWIND","REWINDONLY","ROBUST","ROLE","ROLLBACK","ROLLUP","ROOT","ROUTE","ROW","ROWCOUNT","ROWGUIDCOL","ROWLOCK","ROWS","ROWS_PER_BATCH","ROWTERMINATOR","ROWVERSION","RSA_1024","RSA_2048","RSA_512","RULE","SAFE","SAFETY","SAMPLE","SAVE","SCHEDULER","SCHEMA","SCHEMA_AND_DATA","SCHEMA_ONLY","SCHEMABINDING","SCHEME","SCROLL","SCROLL_LOCKS","SEARCH","SECOND","SECONDARY","SECONDARY_ONLY","SECONDARY_ROLE","SECONDS","SECRET","SECURITY_LOG","SECURITYAUDIT","SELECT","SELECTIVE","SELF","SEND","SENT","SEQUENCE","SERIALIZABLE","SERVER","SERVICE","SERVICE_BROKER","SERVICE_NAME","SESSION","SESSION_TIMEOUT","SET","SETS","SETUSER","SHOW_STATISTICS","SHOWCONTIG","SHOWPLAN","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SHRINKDATABASE","SHRINKFILE","SHUTDOWN","SID","SIGNATURE","SIMPLE","SINGLE_BLOB","SINGLE_CLOB","SINGLE_NCLOB","SINGLE_USER","SINGLETON","SIZE","SKIP","SMALLDATETIME","SMALLINT","SMALLMONEY","SNAPSHOT","SORT_IN_TEMPDB","SOURCE","SPARSE","SPATIAL","SPATIAL_WINDOW_MAX_CELLS","SPECIFICATION","SPLIT","SQL","SQL_VARIANT","SQLPERF","STANDBY","START","START_DATE","STARTED","STARTUP_STATE","STAT_HEADER","STATE","STATEMENT","STATIC","STATISTICAL_SEMANTICS","STATISTICS","STATISTICS_INCREMENTAL","STATISTICS_NORECOMPUTE","STATS","STATS_STREAM","STATUS","STATUSONLY","STOP","STOP_ON_ERROR","STOPAT","STOPATMARK","STOPBEFOREMARK","STOPLIST","STOPPED","SUBJECT","SUBSCRIPTION","SUPPORTED","SUSPEND","SWITCH","SYMMETRIC","SYNCHRONOUS_COMMIT","SYNONYM","SYSNAME","SYSTEM","TABLE","TABLERESULTS","TABLESAMPLE","TABLOCK","TABLOCKX","TAKE","TAPE","TARGET","TARGET_RECOVERY_TIME","TB","TCP","TEXT","TEXTIMAGE_ON","TEXTSIZE","THEN","THESAURUS","THROW","TIES","TIME","TIMEOUT","TIMER","TIMESTAMP","TINYINT","TO","TOP","TORN_PAGE_DETECTION","TRACEOFF","TRACEON","TRACESTATUS","TRACK_CAUSALITY","TRACK_COLUMNS_UPDATED","TRAN","TRANSACTION","TRANSFER","TRANSFORM_NOISE_WORDS","TRIGGER","TRIPLE_DES","TRIPLE_DES_3KEY","TRUE","TRUNCATE","TRUNCATEONLY","TRUSTWORTHY","TRY","TSQL","TWO_DIGIT_YEAR_CUTOFF","TYPE","TYPE_WARNING","UNBOUNDED","UNCHECKED","UNCOMMITTED","UNDEFINED","UNIQUE","UNIQUEIDENTIFIER","UNKNOWN","UNLIMITED","UNLOAD","UNSAFE","UPDATE","UPDATETEXT","UPDATEUSAGE","UPDLOCK","URL","USE","USED","USER","USEROPTIONS","USING","VALID_XML","VALIDATION","VALUE","VALUES","VARBINARY","VARCHAR","VARYING","VERIFYONLY","VERSION","VIEW","VIEW_METADATA","VIEWS","VISIBILITY","WAIT_AT_LOW_PRIORITY","WAITFOR","WEEK","WEIGHT","WELL_FORMED_XML","WHEN","WHERE","WHILE","WINDOWS","WITH","WITHIN","WITHOUT","WITNESS","WORK","WORKLOAD","WRITETEXT","XACT_ABORT","XLOCK","XMAX","XMIN","XML","XMLDATA","XMLNAMESPACES","XMLSCHEMA","XQUERY","XSINIL","YEAR","YMAX","YMIN"],builtinFunctions:["abs","acos","avg","case","ceiling","contains","cos","count"],symbols:/[=><!~?:&|+\-*/^%]+/,operators:["+","-","*","/"],tokenizer:{root:[[/\[[\u4e00-\u9fa5_a-zA-Z0-9]+\]/,"dql-field"],[/\$[\u4e00-\u9fa5_a-zA-Z0-9]+\$/,"dql-variable"],[/@symbols/,{cases:{"@operators":"dql-operator","@default":""}}],{include:"@common"},{include:"@comment"}],common:[[/[a-z_$][\w$]*/,{cases:{"@builtinFunctions":"dql-function","@keywords":"keyword","@default":"identifier"}}]],comment:[[/--+.*/,"dql-comment"]]}},WF=(e,t)=>{const n=c.useRef(null),[r,a]=c.useState(e.value),[i,s]=c.useState(),l=U(KN);c.useImperativeHandle(t,()=>({insertField:(S,p)=>{var N;if(!S)return;p&&s(p);const f=(N=n.current)==null?void 0:N.getSelection(),O={identifier:{major:1,minor:1},range:{startLineNumber:(f==null?void 0:f.selectionStartLineNumber)||1,startColumn:(f==null?void 0:f.selectionStartColumn)||1,endLineNumber:(f==null?void 0:f.endLineNumber)||1,endColumn:(f==null?void 0:f.endColumn)||1},text:S,forceMoveMarkers:!0};n.current.executeEdits("type",[O])}}));const d=()=>{var S,p,f;return(f=(p=(S=n==null?void 0:n.current)==null?void 0:S.editor)==null?void 0:p.getModel())==null?void 0:f.getEOL()},u=Yn(S=>{a(S);const p=f=>f.replace(d()," ");e.onChange&&e.onChange(p(S))},200),T=Yn(S=>{var f;if(!S)return;const p=(f=e.functionDescriptions)==null?void 0:f.find(I=>I.name===S);p&&s(p)},200),R=S=>{S.languages.register({id:"dql"}),S.languages.setMonarchTokensProvider("dql",{...YF,builtinFunctions:((e==null?void 0:e.functionDescriptions)||[]).map(p=>p.name)}),S.editor.defineTheme("dqlTheme",{...VF,colors:{"editor.foreground":l.bodyBackground}})},A=(S,p)=>{n.current=S;const f=S.getModel();S.onDidChangeCursorPosition(I=>{const O=f.getWordAtPosition(I.position);T(O==null?void 0:O.word)})},E=()=>i?`${i.description}: ${i.syntax}`:"";return o.jsxs($F,{children:[o.jsx(Mt,{children:o.jsx(zI,{theme:"dqlTheme",defaultLanguage:"dql",defaultValue:r,beforeMount:R,onMount:A,options:{lineDecorationsWidth:1},onChange:u,loading:o.jsx(Co,{})})}),o.jsxs(Mt,{children:[o.jsx(Hr,{}),o.jsx("p",{children:E()})]})]})},kF=c.forwardRef(WF),$F=F.div.withConfig({displayName:"ChartComputedFieldEditor__StyledChartComputedFieldEditor",componentId:"sc-1womygw-0"})(["display:flex;flex-direction:column;height:100%;padding:10px;& > .ant-row:first-child{height:300px;}"]),IE=c.memo(({source:e,onItemSelected:t})=>{const[n,r]=c.useState(e);c.useEffect(()=>{r(e)},[e]);const a=s=>{t(s)},i=Yn(s=>{(!s||!s.trim())&&r(e);const l=e==null?void 0:e.filter(d=>d==null?void 0:d.label.toUpperCase().includes(s.toUpperCase()));r(l)},100);return o.jsxs(XF,{direction:"vertical",children:[o.jsx(Ae.Search,{onChange:s=>i(s.target.value),enterButton:!0}),o.jsx(Hr,{}),o.jsx(Rn,{className:"searchable-list-container",dataSource:n,rowKey:s=>s.value,renderItem:s=>o.jsx("p",{onClick:()=>a(s.value),children:s.label})})]})}),XF=F(Ge).withConfig({displayName:"ChartSearchableList__StyledChartSearchableList",componentId:"sc-zzb6qb-0"})([".ant-list{overflow:auto;}.ant-divider{margin:5px;}"]),Sl=[{name:"SUM",type:"aggregator",description:"",syntax:"SUM(expression)"},{name:"AVG",type:"aggregator",description:"",syntax:"AVG(expression)"},{name:"MAX",type:"aggregator",description:"",syntax:"MAX(expression)"},{name:"MIN",type:"aggregator",description:"",syntax:"MIN(expression)"},{name:"COUNT",type:"aggregator",description:"",syntax:"COUNT(expression)"},{name:"DISTINCT",type:"aggregator",description:"",syntax:"DISTINCT(expression)"},{name:"VAR",type:"aggregator",description:"",syntax:"VAR(expression)"},{name:"STDDEV",type:"aggregator",description:"",syntax:"STDDEV(expression)"},{name:"MEDIAN",type:"aggregator",description:"",syntax:"MEDIAN(expression)"},{name:"ABS",type:"math",description:"",syntax:"ABS(number)"},{name:"CEILING",type:"math",description:"",syntax:"CEILING(number)"},{name:"FLOOR",type:"math",description:"",syntax:"FLOOR(number)"},{name:"POWER",type:"math",description:"",syntax:"POWER(number, power)"},{name:"ROUND",type:"math",description:"",syntax:"ROUND(number, [decimals])"},{name:"SQRT",type:"math",description:"",syntax:"SQRT(number)"},{name:"EXP",type:"math",description:"en",syntax:"EXP(number)"},{name:"LOG10",type:"math",description:"10",syntax:"LOG10(number)"},{name:"LN",type:"math",description:"",syntax:"LN(number)"},{name:"MOD",type:"math",description:"",syntax:"MOD(number, divisor)"},{name:"RAND",type:"math",description:"",syntax:"RAND(seed)"},{name:"DEGREES",type:"math",description:"",syntax:"DEGREES(number)"},{name:"RADIANS",type:"math",description:"",syntax:"RADIANS(number)"},{name:"TRUNC",type:"math",description:"",syntax:"TRUNC(number, decimals)"},{name:"SIGN",type:"math",description:"",syntax:"SIGN(number)"},{name:"ACOS",type:"math",description:"",syntax:"ACOS(number)"},{name:"ASIN",type:"math",description:"",syntax:"ASIN(number)"},{name:"ATAN",type:"math",description:"",syntax:"ATAN(number)"},{name:"ATAN2",type:"math",description:"XY",syntax:"ATAN2(y, x)"},{name:"SIN",type:"math",description:"",syntax:"SIN(angle)"},{name:"COS",type:"math",description:"",syntax:"COS(angle)"},{name:"TAN",type:"math",description:"",syntax:"TAN(angle)"},{name:"COT",type:"math",description:"",syntax:"COT(angle)"},{name:"LENGTH",type:"string",description:"",syntax:"LENGTH(string)"},{name:"CONCAT",type:"string",description:"",syntax:"CONCAT(string1, string2, string3)"},{name:"REPLACE",type:"string",description:"",syntax:"REPLACE(string, substring, replacement)"},{name:"SUBSTRING",type:"string",description:"",syntax:"SUBSTRING(string, start, length)"},{name:"LOWER",type:"string",description:"",syntax:"LOWER(string)"},{name:"UPPER",type:"string",description:"",syntax:"UPPER(string)"},{name:"LTRIM",type:"string",description:"",syntax:"LTRIM(string)"},{name:"RTRIM",type:"string",description:"",syntax:"RTRIM(string)"},{name:"TRIM",type:"string",description:"",syntax:"TRIM(string)"},{name:"NOW",type:"date",description:"",syntax:"NOW()"},{name:"SECOND",type:"date",description:"",syntax:"SECOND(datetime)"},{name:"MINUTE",type:"date",description:"",syntax:"MINUTE(datetime)"},{name:"HOUR",type:"date",description:"",syntax:"HOUR(datetime)"},{name:"DAY",type:"date",description:"",syntax:"DAY(date)"},{name:"WEEK",type:"date",description:"",syntax:"WEEK(date)"},{name:"QUARTER",type:"date",description:"",syntax:"QUARTER(date)"},{name:"MONTH",type:"date",description:"",syntax:"MONTH(date)"},{name:"YEAR",type:"date",description:"",syntax:"YEAR(date)"},{name:"DAY_OF_WEEK",type:"date",description:"",syntax:"DAY_OF_WEEK(date)"},{name:"DAY_OF_MONTH",type:"date",description:"",syntax:"DAY_OF_MONTH(date)"},{name:"DAY_OF_YEAR",type:"date",description:"",syntax:"DAY_OF_YEAR(date)"},{name:"DATE_FORMAT",type:"date",description:"",syntax:"DATE_FORMAT(date,format)"},{name:"IF",type:"logic",description:"23",syntax:"IF(condition, value_if_true, value_if_false)"},{name:"COALESCE",type:"logic",description:"",syntax:"COALESCE(val1, val2, ...., val_n)"},{name:"CASE val WHEN condition THEN val2 ELSE val3 END  ",type:"logic",description:"",syntax:"CASE val WHEN condition THEN val2 ELSE val3 END  "}],nm=({sourceId:e,computedField:t,allComputedFields:n,fields:r,variables:a,viewType:i,onChange:s})=>{var P,v,D,b;const l=V("viz.workbench.dataview"),d="all",u=c.useRef(null),T=c.useRef(t),[R,A]=c.useState(d),E=C=>{const y=ku(C==null?void 0:C.expression);C.category=y?At.AggregateComputedField:At.ComputedField,T.current=C,s==null||s(C)},S=C=>{const y=Object.assign({},T.current,{name:C});E(y)},p=C=>{const y=Object.assign({},T.current,{type:C});E(y)},f=C=>{const y=Object.assign({},T.current,{expression:C});E(y)},I=()=>{const C=Sl.reduce((y,w)=>y.find(x=>x===w.type)?y:y.concat([w.type]),[]);return[d,...C].map(y=>({label:y,value:y}))},O=C=>{A(C)},N=()=>Sl.filter(C=>C.type===R||!R||R===d).map(C=>({label:C.name,value:C.name})),h=(C,y)=>{switch(y){case"field":return ag(C);case"variable":return rg(C);case"function":return ng(C);default:return C}},m=C=>{var w;const y=Sl.find(x=>x.name===C);(w=u.current)==null||w.insertField(h(C,"function"),y)},g=c.useCallback(C=>{var y;(y=u.current)==null||y.insertField(h(C,"field"))},[]),_=C=>{var y;(y=u.current)==null||y.insertField(h(C,"variable"))},L=c.useCallback(C=>{if(C!=null&&C.length){const y=C[0];g(y)}},[g]);return o.jsxs(zF,{direction:"vertical",children:[o.jsxs(Mt,{gutter:24,children:[o.jsx(pt,{span:12,children:o.jsx(Ge,{children:o.jsx(Ca,{label:`${l("fieldName")}`,name:"fieldName",rules:[{required:!0}],initialValue:(P=T.current)==null?void 0:P.name,children:o.jsx(Ae,{onChange:C=>S(C.target.value)})})})}),o.jsx(pt,{span:12,children:o.jsx(Ge,{children:o.jsx(Ca,{label:`${l("type")}`,name:"type",rules:[{required:!0}],initialValue:(v=T.current)==null?void 0:v.type,children:o.jsx(Se,{value:(D=T.current)==null?void 0:D.type,options:Object.keys(be).map(C=>({label:C,value:be[C]})),onChange:p})})})})]}),o.jsxs(Mt,{gutter:24,children:[o.jsx(pt,{span:4,children:o.jsx(Es,{defaultActiveKey:"field",onChange:()=>{},items:[{key:"field",label:l("field"),children:o.jsx(o.Fragment,{children:i==="STRUCT"?o.jsx(gt,{className:"medium",loading:!1,showIcon:!1,treeData:r,defaultExpandAll:!0,height:500,onSelect:L}):o.jsx(IE,{source:(r||[]).map(C=>({value:C.name,label:C.name})),onItemSelected:g})})},{key:"variable",label:l("variable"),children:o.jsx(IE,{source:(a||[]).map(C=>({value:C.name,label:C.name})),onItemSelected:_})}]})}),o.jsx(pt,{span:16,children:o.jsx(kF,{ref:u,value:(b=T.current)==null?void 0:b.expression,functionDescriptions:Sl,onChange:f})}),o.jsx(pt,{span:4,children:o.jsxs(Ge,{direction:"vertical",children:[o.jsx("span",{children:`${l("functions")}`}),o.jsx(Se,{value:R,options:I(),onChange:O}),o.jsx(IE,{source:N(),onItemSelected:m})]})})]})]})},zF=F(Ge).withConfig({displayName:"ChartComputedFieldSettingPanel__StyledChartComputedFieldSettingPanel",componentId:"sc-n5k96w-0"})(["width:100%;margin-top:10px;.ant-select{width:100%;}.ant-space-horizontal{width:100%;.ant-space-item:last-child{flex:1;}}.ant-form-item-control-input{width:200px;}& .searchable-list-container{height:300px;}"]),KF=c.memo(({dataView:e,defaultViewId:t,chartConfig:n,onDataViewChange:r})=>{const a=V("viz.workbench.dataview"),i=V("view"),s=de(),l=Ve(),[d,u]=ki({}),{availableSourceFunctions:T}=c.useContext(ka),R=c.useMemo(L_,[]),A=c.useCallback(G=>!G.isFolder,[]),E=c.useCallback(({isFolder:G})=>G?Y=>Y.expanded?o.jsx(Ts,{}):o.jsx(Ss,{}):o.jsx($c,{}),[]),S=U(G=>R(G,E,A)),[p,f]=c.useState({}),[I,O]=hO(),N=U(v_),[h,m]=c.useState([]),[g,_]=c.useState(!0),[L,P]=c.useState("byNameSort"),[v,D]=c.useState(!1),b=c.useMemo(()=>N!=null&&N.length&&e?wu(N,{id:e.id,parentId:e.parentId},le.View):[],[N,e]),y=rT({module:le.View,path:b,level:_e.Manage})(!0),w=Pc({type:"module",module:le.View,id:"",level:_e.Enable})(!0),{filteredData:x,debouncedSearch:M}=Nt(h,(G,Y)=>Y==null?void 0:Y.name.toLowerCase().includes(G.toLowerCase())),B=c.useCallback(G=>{var z;if((e==null?void 0:e.id)===G)return!1;const Y=(z=n==null?void 0:n.datas)==null?void 0:z.filter(ee=>ee.rows&&ee.rows.length);Y!=null&&Y.length?f({visible:!0,title:a("toggleViewTip"),width:500,icon:o.jsx(Lc,{style:{color:Xf}}),footer:o.jsxs(Ge,{children:[o.jsx(oe,{onClick:()=>f({visible:!1}),children:a("cancel")}),o.jsx(oe,{onClick:()=>{r==null||r(!0),f({visible:!1}),s(Jd(G))},children:a("empty")}),o.jsx(oe,{onClick:()=>{r==null||r(),f({visible:!1}),s(Jd(G))},type:"primary",children:a("reserve")})]})}):(r==null||r(),s(Jd(G)))},[n==null?void 0:n.datas,e==null?void 0:e.id,s,r,a]),H=c.useCallback((G,Y)=>Y.title.toLowerCase().includes(G.toLowerCase()),[]),j=c.useCallback(async(G,Y)=>{var xe;if(!G)return Promise.reject("field is empty");try{await dI(e==null?void 0:e.sourceId,G.expression)}catch(pe){Ie.error(pe);return}const z=(xe=e==null?void 0:e.computedFields)==null?void 0:xe.filter(pe=>pe.name!==Y);if(!!(z!=null&&z.find(pe=>pe.name===(G==null?void 0:G.name)))){const pe=i("computedFieldNameExistWarning");return Ie.error(pe),Promise.reject(pe)}const se=((e==null?void 0:e.computedFields)||[]).findIndex(pe=>pe.name===Y);if(se>=0){const pe=Wu(e==null?void 0:e.computedFields,se,G);s(qd.actions.updateCurrentDataViewComputedFields(pe));return}const Te=((e==null?void 0:e.computedFields)||[]).concat([G]);s(qd.actions.updateCurrentDataViewComputedFields(Te))},[e==null?void 0:e.computedFields,e==null?void 0:e.sourceId,s,i]),X=G=>{const Y=((e==null?void 0:e.computedFields)||[]).filter(z=>z.name!==G);s(qd.actions.updateCurrentDataViewComputedFields(Y))},W=G=>{const Y=((e==null?void 0:e.computedFields)||[]).find(z=>z.name===G);q(Y)},J=c.useCallback(G=>{if((e==null?void 0:e.type)==="SQL")return eu(G);{const Y=eu(G),z=[],ee={},se=[];return Y==null||Y.forEach((Te,xe)=>{const pe=Te.path,Ue=(pe==null?void 0:pe.slice(0,(pe==null?void 0:pe.length)-1).join("."))||"";z.includes(Ue)||z.push(Ue)}),Y==null||Y.forEach((Te,xe)=>{const pe=Te.path,Ue=(pe==null?void 0:pe.slice(0,(pe==null?void 0:pe.length)-1).join("."))||"";if(z.includes(Ue)){const tt=pe==null?void 0:pe[pe.length-1],xt=ee[Ue];ee[Ue]=xt?[...xt,{title:tt,key:pe}]:[{title:tt,key:pe}]}}),z.forEach(Te=>{se.push({title:Te,key:Te,selectable:!1,children:ee[Te]})}),se}},[e==null?void 0:e.type]),q=c.useCallback(G=>{d({title:a("createComputedFields"),modalSize:Hn.MIDDLE,content:Y=>{var z;return o.jsx(nm,{computedField:G,sourceId:e==null?void 0:e.sourceId,fields:J(e==null?void 0:e.meta),variables:(z=e==null?void 0:e.meta)==null?void 0:z.filter(ee=>ee.category===At.Variable),allComputedFields:e==null?void 0:e.computedFields,viewType:e==null?void 0:e.type,onChange:Y})},onOk:Y=>j(Y,G==null?void 0:G.name),onButtonProps:{display:G==null?void 0:G.isViewComputedFields}})},[J,e==null?void 0:e.computedFields,e==null?void 0:e.meta,e==null?void 0:e.type,e==null?void 0:e.sourceId,j,d,a]),Z=c.useCallback(G=>{const{hierarchyFields:Y,stringFields:z,numericFields:ee,dateLevelFields:se,stringComputedFields:Te,numericComputedFields:xe,dateComputedFields:pe}=Jl({sortType:G,dataView:e,availableSourceFunctions:T}),Ue=zf([...z,...se,...ee],"analysisPage");return[...Y,...Ue,...Te,...xe,...pe]},[T,e]),ce=c.useCallback(G=>{const{hierarchyFields:Y,dateLevelFields:z,stringFields:ee,numericFields:se,stringComputedFields:Te,numericComputedFields:xe,dateComputedFields:pe}=Jl({sortType:G,dataView:e,availableSourceFunctions:T});return[...Y,...ee,...Te,...pe,...z,...se,...xe]},[T,e]),Ce=c.useCallback((G,Y)=>{(e==null?void 0:e.type)==="SQL"||!G?m(ce(Y)):m(Z(Y))},[ce,Z,e==null?void 0:e.type]),k=c.useCallback(()=>{const G=e==null?void 0:e.orgId,Y=e==null?void 0:e.id;l(`/organizations/${G}/views/${Y}`)},[e==null?void 0:e.id,e==null?void 0:e.orgId,l]),ne=c.useCallback(()=>{d({title:"",modalSize:Hn.XSMALL,content:()=>a("editViewTip"),onOk:k})},[k,d,a]),K=c.useCallback(({key:G})=>{switch(G){case"createComputedFields":O(),q();break;case"byGroup":_(!0),Ce(!0,L);break;case"byNoGroup":_(!1),Ce(!1,L);break;case"byNameSort":P(G),Ce(g,G);break;case"byOriginalFieldSort":P(G),Ce(g,G);break;case"searchField":O(),D(!v);break}},[q,O,Ce,g,L,v]);return As(()=>{t&&B(t)}),c.useEffect(()=>{Ce((e==null?void 0:e.type)==="STRUCT","byOriginalFieldSort")},[e==null?void 0:e.type,Ce]),o.jsxs(JF,{children:[o.jsxs(qF,{children:[o.jsx(Me,{placement:"topLeft",title:a("editView"),children:o.jsx(rt,{disabled:!(w&&y&&e),iconSize:14,icon:o.jsx(tO,{}),size:"small",onClick:ne})}),o.jsx(vr,{bordered:!1,style:{flex:1},showSearch:!0,placeholder:a("plsSelectDataView"),className:"view-selector",popupMatchSelectWidth:600,listHeight:500,value:e==null?void 0:e.name,onChange:B,treeData:S,filterTreeNode:H,treeIcon:!0}),o.jsx(ql,{placement:"bottomRight",open:I,onOpenChange:()=>O(),trigger:"click",overlayClassName:"datart-popup",content:o.jsxs(lt,{onClick:K,defaultSelectedKeys:["byOriginalFieldSort",g?"byGroup":"byNoGroup"],children:[o.jsx(De,{children:a("searchField")},"searchField"),o.jsx(De,{children:a("createComputedFields")},"createComputedFields"),o.jsxs(De,{disabled:(e==null?void 0:e.type)!=="STRUCT",title:a("Group"),sub:!0,children:[o.jsx(De,{children:a("byDataBaseGroup")},"byGroup"),o.jsx(De,{children:a("noGroup")},"byNoGroup")]},"group"),o.jsxs(De,{title:a("Sort"),sub:!0,children:[o.jsx(De,{children:a("byNameSort")},"byNameSort"),o.jsx(De,{children:a("noSort")},"byOriginalFieldSort")]},"sort")]}),children:o.jsx(rt,{icon:o.jsx(Xt,{}),size:"small"})}),o.jsx("div",{children:u},"modalContextHolder")]}),o.jsx(QF,{visible:v,children:o.jsx(Ae,{autoFocus:!0,className:"search-input",prefix:o.jsx(Dr,{className:"icon"}),placeholder:a("searchField"),bordered:!1,onChange:M})}),o.jsx(jI,{...p}),o.jsx(z1,{meta:x,onDeleteComputedField:X,onEditComputedField:W})]})}),JF=F.div.withConfig({displayName:"ChartDataViewPanel__StyledChartDataViewPanel",componentId:"sc-1yhjxag-0"})(["display:flex;flex-direction:column;height:100%;background-color:",";"],e=>e.theme.componentBackground),qF=F.div.withConfig({displayName:"ChartDataViewPanel__Header",componentId:"sc-1yhjxag-1"})(["display:flex;flex-shrink:0;align-items:center;padding:"," ",";.view-selector{flex:1;overflow:hidden;}"],ot,Le),QF=F.div.withConfig({displayName:"ChartDataViewPanel__StyleSearchbar",componentId:"sc-1yhjxag-2"})(["display:",";padding:"," 0;.search-input{padding:"," ",";.icon{margin-right:",";color:",";}}"],e=>e.visible?"block":"none",ot,ot,ye,me(1.5),e=>e.theme.textColorDisabled),ZF=c.memo(({chart:e,isActive:t,isMatchRequirement:n,onChartChange:r})=>{var d,u,T,R,A;const a=V("viz.palette.graph"),i=c.useCallback(E=>()=>{const S=_a.instance().getById(E);S&&r(S)},[r]),s=({...E})=>/^<svg/.test(E==null?void 0:E.iconStr)||/^<\?xml/.test(E==null?void 0:E.iconStr)?o.jsx(tG,{...E}):/svg\+xml;base64/.test(E==null?void 0:E.iconStr)?o.jsx(nG,{...E}):o.jsx(eG,{...E}),l=E=>{const S=E==null?void 0:E.flatMap((p,f)=>[He.Lng,He.Lat,He.Date,He.Row,He.Column,He.Source,He.Target,He.Relation,He.Group,He.Aggregate,He.Mixed].map(I=>{const O=p[I.toLocaleLowerCase()],N=h=>h&&+h>=999?"N":h;return o.jsx("li",{children:Number.isInteger(O)?a("onlyAllow",void 0,{type:a(I),num:N(O)}):Array.isArray(O)&&O.length===2?a("allowRange",void 0,{type:a(I),start:O==null?void 0:O[0],end:N(O==null?void 0:O[1])}):null},I+f)}));return o.jsx("ul",{children:S})};return o.jsx(Me,{title:o.jsxs(o.Fragment,{children:[a((d=e==null?void 0:e.meta)==null?void 0:d.name,!0),l((u=e==null?void 0:e.meta)==null?void 0:u.requirements)]}),children:o.jsx(rG,{fontSize:ba,size:me(9),className:Ke({active:t}),onClick:i((T=e==null?void 0:e.meta)==null?void 0:T.id),children:s({iconStr:(R=e==null?void 0:e.meta)==null?void 0:R.icon,isMatchRequirement:n,isActive:t})})},(A=e==null?void 0:e.meta)==null?void 0:A.id)}),eG=({iconStr:e,isMatchRequirement:t})=>o.jsx(oG,{isMatchRequirement:t,className:`iconfont icon-${e||"chart"}`}),tG=({iconStr:e,isMatchRequirement:t,isActive:n})=>{const r=window.encodeURIComponent(e);return o.jsx(aG,{alt:"svg icon",style:{height:ba,width:ba},src:`data:image/svg+xml;utf8,${r}`,isMatchRequirement:t})},nG=({iconStr:e,isMatchRequirement:t,isActive:n})=>o.jsx(iG,{alt:"svg icon",style:{height:ba,width:ba},src:e,isMatchRequirement:t}),rG=F(Qr).withConfig({displayName:"ChartGraphIcon__StyledChartIconWrapper",componentId:"sc-3vc1id-0"})(["margin:",";cursor:pointer;border-radius:",";color:",";&:hover,&.active{color:",";background-color:",";}"],me(.5),st,e=>e.theme.textColorSnd,e=>e.theme.textColorSnd,e=>e.theme.primary),aG=F.img.withConfig({displayName:"ChartGraphIcon__StyledInlineSVGIcon",componentId:"sc-3vc1id-1"})(["opacity:",";"],e=>e.isMatchRequirement?1:.4),oG=F.i.withConfig({displayName:"ChartGraphIcon__StyledSVGFontIcon",componentId:"sc-3vc1id-2"})(["opacity:",";"],e=>e.isMatchRequirement?1:.4),iG=F.i.withConfig({displayName:"ChartGraphIcon__StyledBase64Icon",componentId:"sc-3vc1id-3"})(["opacity:",";"],e=>e.isMatchRequirement?1:.4),sG=c.memo(({chart:e,chartConfig:t,onChartChange:n})=>{const r=_a.instance(),[a]=c.useState(r.getAllCharts()),[i,s]=c.useState({}),l=c.useRef();return c.useLayoutEffect(()=>{if(a){const d=a==null?void 0:a.reduce((u,T)=>{var A;const R=og({datas:Fn(((A=T==null?void 0:T.config)==null?void 0:A.datas)||[])},{datas:t==null?void 0:t.datas});return u[T.meta.id]=T==null?void 0:T.isMatchRequirement(R),u},{});s(d)}},[a,t]),o.jsx(lG,{ref:l,children:a.map(d=>{var u,T,R,A,E;return o.jsx(os.Provider,{value:{i18NConfigs:(u=d==null?void 0:d.config)==null?void 0:u.i18ns},children:o.jsx(ZF,{chart:d,isActive:((T=d==null?void 0:d.meta)==null?void 0:T.id)===((R=e==null?void 0:e.meta)==null?void 0:R.id),isMatchRequirement:!!(i!=null&&i[(A=d==null?void 0:d.meta)==null?void 0:A.id]),onChartChange:n})},(E=d==null?void 0:d.meta)==null?void 0:E.id)})})}),lG=F.div.withConfig({displayName:"ChartGraphPanel__StyledChartGraphPanel",componentId:"sc-c5wqfm-0"})(["display:flex;flex-flow:row wrap;padding:",";margin-bottom:",";color:",";background-color:",";border-radius:",";"],ot,ot,e=>e.theme.textColorLight,e=>e.theme.componentBackground,st),cG=c.memo(({chart:e,chartConfig:t})=>{var i;const n=V("viz.palette"),r=()=>{var l;return(l=t==null?void 0:t.datas)==null?void 0:l.filter(d=>{var u;return tu(d==null?void 0:d.limit,(u=d.rows)==null?void 0:u.length)>0}).map(d=>{var u;return o.jsx("li",{children:n("present.needMore",!1,{type:n("data."+d.label),num:tu(d==null?void 0:d.limit,(u=d.rows)==null?void 0:u.length)})},d.key)})},a=s=>/^<svg/.test(s)||/^<\?xml/.test(s)?o.jsx(Xp,{src:`data:image/svg+xml;utf8,${s}`}):/svg\+xml;base64/.test(s)?o.jsx(Xp,{src:s}):o.jsx(EG,{children:o.jsx("i",{className:`iconfont icon-${s||"chart"}`})});return o.jsxs(dG,{children:[a((i=e==null?void 0:e.meta)==null?void 0:i.icon),r()]})}),dG=F.div.withConfig({displayName:"Chart404Graph__StyledChart404Graph",componentId:"sc-15ji42e-0"})(["display:flex;flex-flow:column;align-items:center;justify-content:center;height:100%;color:",";opacity:0.3;"],e=>e.theme.textColorSnd),EG=F.div.withConfig({displayName:"Chart404Graph__StyledChartIcon",componentId:"sc-15ji42e-1"})(["margin-bottom:",";border-radius:",";> i{font-size:",";line-height:",";}"],me(10),st,me(60),me(60)),Xp=F.img.withConfig({displayName:"Chart404Graph__StyledImageIcon",componentId:"sc-15ji42e-2"})(["height:",";margin-bottom:",";border-radius:",";"],me(60),me(10),st);var Ni=(e=>(e.GRAPH="graph",e.RAW="raw",e.SQL="sql",e.DOWNLOAD="download",e))(Ni||{});const uG=c.memo(({type:e,onChange:t,onCreateDownloadDataTask:n})=>{const r=V("viz.action.common"),a=c.useCallback(i=>()=>{t(i)},[t]);return o.jsxs(TG,{children:[o.jsx(Rl,{fontSize:ao,className:Ke({active:e==="graph"}),onClick:a("graph"),children:o.jsx(nb,{})}),o.jsx(Rl,{fontSize:ao,className:Ke({active:e==="raw"}),onClick:a("raw"),children:o.jsx(Ao,{})}),o.jsx(Rl,{fontSize:ao,className:Ke({active:e==="sql"}),onClick:a("sql"),children:o.jsx($c,{})}),o.jsx(Rl,{fontSize:ao,className:Ke({active:e==="download"}),children:o.jsx(dt,{placement:"left",title:r("exportForExcel"),onConfirm:n,children:o.jsx(D_,{})})})]})}),TG=F.div.withConfig({displayName:"ChartTypeSelector__StyledChartTypeSelector",componentId:"sc-13h953m-0"})(["display:flex;justify-content:flex-end;color:",";"],e=>e.theme.textColorLight),Rl=F(Qr).withConfig({displayName:"ChartTypeSelector__TypeSelector",componentId:"sc-13h953m-1"})(["cursor:pointer;&.active{color:",";}"],e=>e.theme.primary),SG="frame-container-1";class ic{constructor(){this.currentContainerId=SG,this.chartContainerMap=new Map,this.chartMetadataMap=new Map,this.editorEnv={env:"workbench"}}static instance(){return this.dispatcher||(this.dispatcher=new ic),this.dispatcher}static dispose(){this.dispatcher&&(this.dispatcher=void 0)}getContainers(t,n,r,a,i,s,l,d){this.switchContainer(t,n,r,a,s,l,d);const u=[];return this.chartContainerMap.forEach((T,R)=>{const A=R===this.currentContainerId;u.push(T.call(Object.create(null),this.getVisibilityStyle(A,i),A).apply(Object.create(null),this.chartMetadataMap.get(R)))}),u}switchContainer(t,n,r,a,i,s,l){this.chartMetadataMap.set(t,[n,r,a,i,s,l]),this.createNewIfNotExist(t)}createNewIfNotExist(t){if(!this.chartContainerMap.has(t)){const n=(r,a)=>(i,s,l,d,u,T)=>o.jsx("div",{style:r,children:o.jsx(b_,{dataset:s,chart:i,config:l,drillOption:d,selectedItems:u,containerId:t,width:r==null?void 0:r.width,height:r==null?void 0:r.height,widgetSpecialConfig:this.editorEnv,isShown:a,isLoadingData:T})},t);this.chartContainerMap.set(t,n)}this.currentContainerId=t}getVisibilityStyle(t,n){return t?{...n,transform:"none",position:"relative"}:{...n,transform:"translate(-9999px, -9999px)",position:"absolute"}}}const zp=30,RG=30,pG=c.memo(({containerHeight:e,containerWidth:t,chart:n,dataset:r,chartConfig:a,expensiveQuery:i,allowQuery:s,onRefreshDataset:l,onCreateDownloadDataTask:d,selectedItems:u,dataView:T})=>{const R=V("viz.palette.present"),A=ic.instance(),[E,S]=c.useState(Ni.GRAPH),p=U(P_),{drillOption:f}=c.useContext(Yu),I=y_({isLoading:p});As(void 0,()=>{qN.instance.measure("ChartPresentPanel | Dispose Event",()=>{ic.dispose()})});const O=(h,m,g,_)=>m!=null&&m.isMatchRequirement(g)?(g=ig(g),!!m&&A.getContainers(h,m,r,g,_,f,u,I)):o.jsx(cG,{chart:m,chartConfig:g}),N=()=>{var g;const h={width:t,height:(e||zp)-zp-RG},m=n!=null&&n.isISOContainer?n==null?void 0:n.isISOContainer:"container-1";return o.jsxs(fG,{children:[Ni.GRAPH===E&&o.jsxs(o.Fragment,{children:[o.jsx(M_,{chartConfig:a,metas:T==null?void 0:T.meta,children:O(m,n,a,h)}),o.jsx(x_,{chartConfig:a})]}),Ni.RAW===E&&o.jsx(IG,{children:o.jsx(ir,{size:"small",dataSource:r==null?void 0:r.rows,columns:(g=r==null?void 0:r.columns)==null?void 0:g.map((_,L)=>({key:_.name,title:_.name,dataIndex:L})),bordered:!0})}),Ni.SQL===E&&o.jsx(OG,{children:o.jsx("code",{children:r==null?void 0:r.script})})]})};return o.jsxs(AG,{children:[i&&s&&o.jsx(mG,{children:o.jsx(go,{onClick:l,spin:p,className:"fetchDataIcon"})}),o.jsx(Mt,{justify:"end",children:o.jsx(pt,{children:o.jsx(uG,{type:E,translate:R,onChange:S,onCreateDownloadDataTask:d})})}),N()]})}),AG=F.div.withConfig({displayName:"ChartPresentPanel__StyledChartPresentPanel",componentId:"sc-1xsj4di-0"})(["position:relative;display:flex;flex:1;flex-direction:column;background-color:",";border-radius:",";"],e=>e.theme.componentBackground,st),fG=F.div.withConfig({displayName:"ChartPresentPanel__StyledReusableChartContainer",componentId:"sc-1xsj4di-1"})(["flex:1;overflow-y:auto;"]),IG=F.div.withConfig({displayName:"ChartPresentPanel__TableWrapper",componentId:"sc-1xsj4di-2"})(["padding:",";"],je),OG=F.div.withConfig({displayName:"ChartPresentPanel__SqlWrapper",componentId:"sc-1xsj4di-3"})(["flex:1;padding:",";margin:0 "," ",";background-color:",";border-radius:",";> code{color:",";}"],ye,je,je,e=>e.theme.emphasisBackground,st,e=>e.theme.textColorSnd),mG=F.div.withConfig({displayName:"ChartPresentPanel__ReloadMask",componentId:"sc-1xsj4di-4"})(["position:absolute;top:0;left:0;z-index:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:rgba(255,255,255,0.9);.fetchDataIcon{font-size:",";color:",";cursor:pointer;}"],Nc,JN,e=>e.theme.primary),hG=c.memo(({containerHeight:e,containerWidth:t,chart:n,dataset:r,expensiveQuery:a,chartConfig:i,allowQuery:s,dataView:l,onChartChange:d,onRefreshDataset:u,onCreateDownloadDataTask:T,selectedItems:R})=>{var S;const{ref:A}=yc({refreshMode:"debounce",refreshRate:500}),E=c.useMemo(()=>+ot.replace("px",""),[]);return o.jsx(NG,{borderWidth:E,children:o.jsxs(os.Provider,{value:{i18NConfigs:i==null?void 0:i.i18ns},children:[o.jsx("div",{ref:A,children:o.jsx(sG,{chart:n,chartConfig:i,onChartChange:d})}),o.jsx(pG,{containerHeight:(e||0)-E-(((S=A==null?void 0:A.current)==null?void 0:S.offsetHeight)||0),containerWidth:(t||0)-E,chart:n,dataset:r,expensiveQuery:a,allowQuery:s,chartConfig:i,onRefreshDataset:u,onCreateDownloadDataTask:T,selectedItems:R,dataView:l})]})})}),NG=F.div.withConfig({displayName:"ChartPresentWrapper__StyledChartPresentWrapper",componentId:"sc-1o4g9rd-0"})(["display:flex;flex-direction:column;height:100%;padding:0 ","px ","px 0;background-color:",";"],e=>e.borderWidth,e=>e.borderWidth,e=>e.theme.bodyBackground);var Ll=(e=>(e.CONTROL="ChartPresentControllerPanel",e.PRESENT="ChartPresentWrapper",e.VIEW="ChartDataViewPanel",e.CONFIG="ChartConfigPanel",e))(Ll||{});const CG={global:{tabEnableFloat:!0,tabEnableClose:!1,tabSetEnableTabStrip:!1,splitterSize:2},layout:{type:"row",id:"container",children:[{type:"tabset",id:"model-dragbar",width:256,children:[{type:"tab",id:"model-dragbar-component",component:"ChartDataViewPanel"}]},{type:"tabset",id:"config",width:360,children:[{type:"tab",id:"config-component",component:"ChartConfigPanel"}]},{type:"tabset",id:"present",children:[{type:"tab",id:"present-wrapper",component:"ChartPresentWrapper"}]}]}},gG=c.memo(({chart:e,chartConfig:t,defaultViewId:n,allowQuery:r,onChartChange:a,onChartConfigChange:i,onDataViewChange:s,onCreateDownloadDataTask:l,selectedItems:d})=>{const{dataset:u,onRefreshDataset:T}=c.useContext(mT),{dataView:R,expensiveQuery:A}=c.useContext(ka),[E,S]=c.useState(()=>OO.Model.fromJson(CG)),p=f=>{var O;const I=f.getComponent();if(I===Ll.VIEW)return o.jsx(KF,{dataView:R,defaultViewId:n,onDataViewChange:s,chartConfig:t});if(I===Ll.CONFIG)return o.jsx(GF,{dataView:R,chartId:(O=e==null?void 0:e.meta)==null?void 0:O.id,chartConfig:t,expensiveQuery:A,onChange:i});if(I===Ll.PRESENT)return o.jsx(hG,{containerHeight:E.getNodeById("present-wrapper").getRect().height,containerWidth:E.getNodeById("present-wrapper").getRect().width,dataView:R,chart:e,dataset:u,expensiveQuery:A,allowQuery:r,chartConfig:t,onChartChange:a,onRefreshDataset:T,onCreateDownloadDataTask:l,selectedItems:d})};return o.jsx(_G,{backend:Fc,children:o.jsx(x1.Layout,{model:E,onModelChange:S,factory:p})})}),_G=F(Gc).withConfig({displayName:"ChartOperationPanel__StyledChartOperationPanel",componentId:"sc-1jtnycr-0"})([""]),LG=c.memo(({dataset:e,dataview:t,chartConfig:n,chart:r,aggregation:a,drillOption:i,selectedItems:s,header:l,defaultViewId:d,expensiveQuery:u,allowQuery:T,availableSourceFunctions:R,onChartChange:A,onChartConfigChange:E,onDataViewChange:S,onRefreshDataset:p,onCreateDownloadDataTask:f,onChartDrillOptionChange:I,onDateLevelChange:O})=>{const N=U(U_),h=U(w_);return o.jsx(zc.Provider,{value:{aggregation:a,onChangeAggregation:l==null?void 0:l.onChangeAggregation},children:o.jsx(Yu.Provider,{value:{drillOption:i,onDrillOptionChange:I,availableSourceFunctions:R,onDateLevelChange:O},children:o.jsx(mT.Provider,{value:{dataset:e,onRefreshDataset:p},children:o.jsx(ka.Provider,{value:{dataView:t,availableSourceFunctions:R,expensiveQuery:u},children:o.jsx(wM.Provider,{value:{locale:N,format:h},children:o.jsxs(vG,{children:[l&&o.jsx(px,{chartName:l==null?void 0:l.name,orgId:l==null?void 0:l.orgId,container:l==null?void 0:l.container,onGoBack:l==null?void 0:l.onGoBack,onSaveChart:l==null?void 0:l.onSaveChart,onSaveChartToDashBoard:l==null?void 0:l.onSaveChartToDashBoard}),o.jsx(DG,{children:o.jsx(gG,{chart:r,defaultViewId:d,chartConfig:n,allowQuery:T,onChartChange:A,onChartConfigChange:E,onDataViewChange:S,onCreateDownloadDataTask:f,selectedItems:s})})]})})})})})})},(e,t)=>e.header===t.header&&e.dataview===t.dataview&&e.chart===t.chart&&e.chartConfig===t.chartConfig&&e.dataset===t.dataset&&e.defaultViewId===t.defaultViewId&&e.drillOption===t.drillOption&&e.onChartConfigChange===t.onChartConfigChange),vG=F.div.withConfig({displayName:"ChartWorkbench__StyledChartWorkbench",componentId:"sc-1fk9rvz-0"})(["display:flex;flex:1;flex-flow:column;overflow:hidden;background-color:",";.flexlayout__tab{overflow:hidden;background-color:",";}.flexlayout__splitter{background:",";&:hover{background-color:",";}}.flexlayout__splitter_drag{background:",";}"],e=>e.theme.bodyBackground,e=>e.theme.bodyBackground,e=>e.theme.bodyBackground,e=>e.theme.primary,e=>e.theme.primary),DG=F.div.withConfig({displayName:"ChartWorkbench__StyledChartOperationPanel",componentId:"sc-1fk9rvz-1"})(["position:relative;flex:1;"]);var bG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=void 0,i=void 0,s=void 0,l=[];return function(){var T=PG(n),R=new Date().getTime(),A=!a||R-a>T;a=R;for(var E=arguments.length,S=Array(E),p=0;p<E;p++)S[p]=arguments[p];if(A&&r.leading)return r.accumulate?Promise.resolve(t.call(this,[S])).then(function(I){return I[0]}):Promise.resolve(t.call.apply(t,[this].concat(S)));if(i?clearTimeout(s):i=yG(),l.push(S),s=setTimeout(d.bind(this),T),r.accumulate){var f=l.length-1;return i.promise.then(function(I){return I[f]})}return i.promise};function d(){var u=i;clearTimeout(s),Promise.resolve(r.accumulate?t.call(this,l):t.apply(this,l[l.length-1])).then(u.resolve,u.reject),l=[],i=null}};function PG(e){return typeof e=="function"?e():e}function yG(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}const Ur=Mu(bG),rm=c.memo(({suffix:e,value:t,onChange:n,uploadText:r})=>{const[a,i]=c.useState(),s=l=>(i(l.name),n(l),!1);return o.jsxs(MG,{children:[o.jsx(Hc,{accept:e,showUploadList:!1,beforeUpload:s,children:o.jsx(oe,{icon:o.jsx(lO,{}),children:r??"upload"})}),o.jsx("span",{title:a,className:"file-name",children:a})]})}),MG=F.div.withConfig({displayName:"FileUpload__StyledWrapper",componentId:"sc-rq3v2z-0"})(["display:flex;.file-name{display:inline-block;width:100px;overflow:hidden;line-height:32px;text-overflow:ellipsis;white-space:nowrap;}"]);function am({formProps:e,...t}){const{vizType:n,type:r,visible:a,initialValues:i,onSave:s,onCancel:l,onAfterClose:d}=c.useContext(ra),u=c.useMemo(B_,[]),T=c.useMemo(F_,[]),R=U(G_),A=U(H_),E=U(Be),S=U(pn),p=U(Va),f=c.useRef(),I=V("viz.saveForm"),O=V("global"),N=c.useCallback((P,v)=>!Ya(S,p,le.Viz,v,_e.Create),[S,p]),h=U(P=>u(P,{id:i==null?void 0:i.id,getDisabled:N})),m=U(P=>T(P,{id:i==null?void 0:i.id,getDisabled:N})),g=c.useCallback(P=>{s(P,l)},[s,l]),_=c.useCallback(()=>{var P;(P=f.current)==null||P.resetFields(),d&&d()},[d]);c.useEffect(()=>{var P;i&&((P=f.current)==null||P.setFieldsValue(i))},[i]);const L=()=>o.jsxs(o.Fragment,{children:[o.jsx("span",{children:I("boardType.autoTips")}),o.jsx("br",{}),o.jsx("span",{children:I("boardType.freeTips")})]});return o.jsxs(aa,{formProps:e,...t,title:I(`vizType.${n.toLowerCase()}`),type:r,open:a,confirmLoading:R||A,onSave:g,onCancel:l,afterClose:_,ref:f,children:[o.jsx(xG,{name:"id",hidden:r===ue.Add,children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"name",label:I("name"),getValueFromEvent:P=>{var v;return(v=P.target.value)==null?void 0:v.trim()},rules:[{required:!0,message:`${I("name")}${O("validation.required")}`},{validator:Ur((P,v)=>{var C;if(!v||(i==null?void 0:i.name)===v)return Promise.resolve();if(!v.trim())return Promise.reject(`${I("name")}${O("validation.required")}`);const D=(C=f.current)==null?void 0:C.getFieldValue("parentId");return sr("viz",{name:v,orgId:E,vizType:n==="TEMPLATE"?"FOLDER":n,parentId:D||null})},$t)}],children:o.jsx(Ae,{})}),n==="DATACHART"&&r!==ue.SaveAs&&o.jsx($.Item,{name:"description",label:I("description"),children:o.jsx(Ae.TextArea,{})}),n==="DASHBOARD"&&r===ue.Add&&o.jsx($.Item,{rules:[{required:!0,message:I("boardType.requiredMessage")}],name:"boardType",label:I("boardType.label"),tooltip:L(),children:o.jsxs(Pe.Group,{children:[o.jsx(Pe.Button,{value:tR[0],children:I("boardType.auto")}),o.jsx(Pe.Button,{value:tR[1],children:I("boardType.free")})]})}),n==="TEMPLATE"&&r===ue.Add&&o.jsx($.Item,{rules:[{required:!0,message:I("template.requiredMessage")}],name:"file",label:I("template.label"),children:o.jsx(rm,{suffix:Kf.Template,uploadText:I("template.upload")})}),n!=="STORYBOARD"&&o.jsx($.Item,{name:"parentId",label:I("parent"),children:o.jsx(vr,{placeholder:I("root"),treeData:h,allowClear:!0,onChange:()=>{var P;(P=f.current)==null||P.validateFields()}})}),n==="STORYBOARD"&&o.jsx($.Item,{name:"parentId",label:I("parent"),children:o.jsx(vr,{placeholder:I("root"),treeData:m,allowClear:!0,onChange:()=>{var P;(P=f.current)==null||P.validateFields()}})})]})}const xG=F($.Item).withConfig({displayName:"SaveForm__IdField",componentId:"sc-i5sbf4-0"})(["display:none;"]),{confirm:UG}=Dn,YT=({originChart:e,orgId:t,container:n,dataChartId:r,chartType:a,defaultViewId:i,widgetId:s,onClose:l,onSaveInWidget:d,onSaveInDataChart:u})=>{var k,ne,K;const T=_I(),{actions:R}=eT(),A=de(),E=U(j_),S=U(gI),p=U(V_),f=U(Y_),I=U(mI),O=U(W_),N=U(k_),h=U($_),[m,g]=c.useState(),_=c.useRef(),[L,P]=c.useState(!1),v=Ve(),D=LI({showSaveForm:T.showSaveForm}),b=V("global"),C=c.useMemo(()=>{try{return S!=null&&S.config?!!JSON.parse(S.config||"{}").expensiveQuery:!1}catch{return!1}},[S]);As(()=>{if(n==="dataChart"&&!r||n==="widget"&&!e){const G=_a.instance().getDefaultChart();M(G)}n==="dataChart"?A(Qd({backendChartId:r,orgId:t})):a==="widgetChart"?(A(Qd({orgId:t,backendChart:e})),e||A(R.updateChartAggregation(!1))):A(Qd({orgId:t,backendChartId:r}))},()=>{A(R.resetWorkbenchState({}))}),c.useEffect(()=>{var G,Y;if((G=I==null?void 0:I.config)!=null&&G.chartGraphId){const z=_a.instance().getById((Y=I==null?void 0:I.config)==null?void 0:Y.chartGraphId);w(z),g(z)}},[(k=I==null?void 0:I.config)==null?void 0:k.chartGraphId]),c.useEffect(()=>{!Wt(p==null?void 0:p.datas)&&!_.current&&(_.current=Ka(p==null?void 0:p.datas))},[p==null?void 0:p.datas,_]),c.useEffect(()=>{S!=null&&S.sourceId&&A(X_(S.sourceId))},[S==null?void 0:S.sourceId,A]);const y=c.useCallback(G=>{_.current=G,A(Qs({drillOption:G}))},[A]),w=c.useCallback(G=>{try{G==null||G.registerMouseEvents([{name:"click",callback:Y=>{z_(_==null?void 0:_.current,Y,z=>{_.current=z,y==null||y(z)}),K_(Y,z=>{A(Qs(z))}),J_(G.config.styles[1].rows[0]||{},Y,z=>{A(Zs(z))}),q_(Y,z=>{y(z)}),Q_(Y,z=>{A(R.changeSelectedItems(z))})}}])}catch{}},[A,y,R]),x=c.useCallback(()=>{var ee,se;const G=(ee=m==null?void 0:m.meta)!=null&&ee.id?_a.instance().getById((se=m==null?void 0:m.meta)==null?void 0:se.id):_a.instance().getDefaultChart(),Y=Fn(G==null?void 0:G.config);nR((Y==null?void 0:Y.settings)||[],["paging"],"rows").forEach(Te=>{Te.value=nR((p==null?void 0:p.settings)||[],["paging",Te.key])}),w(G),g(G);const z=rR(Y,Y);A(R.updateShadowChartConfig({})),A(R.updateChartConfig({type:ga.INIT,payload:{init:z}})),_.current=Ka(p==null?void 0:p.datas,_.current)},[A,(ne=m==null?void 0:m.meta)==null?void 0:ne.id,w,p==null?void 0:p.datas,p==null?void 0:p.settings,R]),M=G=>{w(G),g(G);const Y=Fn(G.config),z=sg(rR(Y,f||p)),ee=Gn((S==null?void 0:S.computedFields)||[],se=>{se.forEach((Te,xe)=>{delete se[xe][lg]})});A(R.updateCurrentDataViewComputedFields(ee)),A(R.updateChartConfig({type:ga.INIT,payload:{init:z}})),_.current=Ka(z==null?void 0:z.datas,_.current,!0),h.length&&A(R.changeSelectedItems([])),C?P(!0):A(Qs({drillOption:_==null?void 0:_.current}))},B=c.useCallback((G,Y)=>{var z;if(C)return A(R.updateChartConfig({type:G,payload:Y})),A(R.updateShadowChartConfig(null)),P(Y.needRefresh),!0;Y.value.key==="enableExpandRow"&&A(Zs({payload:{ancestors:[1],value:{...(z=p==null?void 0:p.datas)==null?void 0:z[1],drillable:Y.value.value}},type:ga.DATA,needRefresh:!0,updateDrillOption:ee=>(_.current=Ka(ee==null?void 0:ee.datas,_.current,!0),_.current)})),A(Zs({type:G,payload:Y,needRefresh:Y.needRefresh,updateDrillOption:ee=>(_.current=Ka(ee==null?void 0:ee.datas,_.current),_.current)}))},[A,C,p==null?void 0:p.datas,R]),H=c.useCallback(G=>{G&&x()},[x]),j=c.useCallback(()=>{x()},[x]),X=c.useCallback(()=>{var z;const G={chartConfig:p,chartGraphId:((z=m==null?void 0:m.meta)==null?void 0:z.id)||"",computedFields:(S==null?void 0:S.computedFields)||[],aggregation:O};return{id:r,name:(I==null?void 0:I.name)||"",viewId:(S==null?void 0:S.id)||"",orgId:t,config:G,status:1,description:""}},[I==null?void 0:I.name,m,p,r,S,t,O]),W=c.useCallback(()=>{const G=X();d==null||d(a,G,S)},[X,a,S,d]),J=c.useCallback(async()=>{var G,Y,z,ee;if(n==="dataChart")if(r)await A(uR({name:I==null?void 0:I.name,viewId:S==null?void 0:S.id,graphId:(G=m==null?void 0:m.meta)==null?void 0:G.id,chartId:r,index:0,parentId:0,aggregation:O})),u==null||u(t,r);else{const se=cg(p,((Y=S==null?void 0:S.computedFields)==null?void 0:Y.filter(Te=>!Te.isViewComputedFields))||[]);try{D({vizType:"DATACHART",type:ue.Add,visible:!0,initialValues:{config:JSON.stringify({aggregation:O,chartConfig:p,chartGraphId:(z=m==null?void 0:m.meta)==null?void 0:z.id,computedFields:se}),viewId:S==null?void 0:S.id,avatar:(ee=m==null?void 0:m.meta)==null?void 0:ee.id},callback:Te=>{Te&&v(`/organizations/${t}/vizs/${Te.relId}`)}})}catch(Te){throw gn(Te),Te}}else n==="widget"&&(a==="widgetChart"?W():UG({title:b("button.saveConfirm"),icon:o.jsx(RD,{}),async onOk(){var se;A(uR({name:I==null?void 0:I.name,viewId:S==null?void 0:S.id,graphId:(se=m==null?void 0:m.meta)==null?void 0:se.id,chartId:r,index:0,parentId:0,aggregation:O})),W()},onCancel(){}}))},[n,A,I==null?void 0:I.name,S==null?void 0:S.id,(K=m==null?void 0:m.meta)==null?void 0:K.id,r,u,t,a,W,O,D,p,S==null?void 0:S.computedFields,v,b]),q=c.useCallback((G,Y)=>{const z=X();try{v({pathname:`/organizations/${t}/vizs/${G}/boardEditor`,search:dg.stringify({widgetInfo:JSON.stringify({chartType:a,dataChart:z,dataview:S,dashboardType:Y})})})}catch(ee){throw gn(ee),ee}},[v,X,a,S,t]),Z=c.useCallback(async()=>{await A(Qs({drillOption:_==null?void 0:_.current})),P(!1)},[A,_]),ce=c.useCallback(async()=>{if(!(S!=null&&S.id))return;const G=r.includes("widget"),Y=new Eg(S,p==null?void 0:p.datas,p==null?void 0:p.settings,{},!0,O);A(ug({downloadParams:[{...Y.build(),analytics:!r,vizName:(I==null?void 0:I.name)||"chart",vizId:G?s:r,vizType:G?"widget":"dataChart"}],fileName:(I==null?void 0:I.name)||"chart",downloadType:Tg.Excel,resolve:()=>{A(R.setChartEditorDownloadPolling(!0))}}))},[O,I==null?void 0:I.name,p==null?void 0:p.datas,p==null?void 0:p.settings,r,S,A,R,s]),Ce=(G,Y)=>{A(Zs({type:G,payload:Y,needRefresh:Y.needRefresh,updateDrillOption:z=>(_.current=Ka(z==null?void 0:z.datas,_.current),_.current)}))};return o.jsx(wG,{children:o.jsxs(ra.Provider,{value:T,children:[o.jsx(LG,{header:{name:(I==null?void 0:I.name)||(e==null?void 0:e.name),orgId:t,container:n,onSaveChart:J,onSaveChartToDashBoard:q,onGoBack:()=>{l==null||l()},onChangeAggregation:j},drillOption:_==null?void 0:_.current,selectedItems:h,aggregation:O,chart:m,dataset:E,dataview:S,chartConfig:p,defaultViewId:i,expensiveQuery:C,allowQuery:L,availableSourceFunctions:N,onChartChange:M,onChartConfigChange:B,onChartDrillOptionChange:y,onDataViewChange:H,onRefreshDataset:Z,onCreateDownloadDataTask:ce,onDateLevelChange:Ce}),o.jsx(am,{width:400,formProps:{labelAlign:"left",labelCol:{offset:1,span:6},wrapperCol:{span:15}},okText:b("button.save")})]})})},wG=F.div.withConfig({displayName:"ChartEditor__StyledChartWorkbenchPage",componentId:"sc-1lgz0pc-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;z-index:",";display:flex;min-width:0;min-height:0;"],xu),BG=c.memo(({children:e})=>{const t=de(),n=Ve(),r=ja(),a=V("viz.action"),{updateBoard:i}=c.useContext(aT),{onEditClearActiveWidgets:s}=c.useContext(br),{name:l,status:d}=c.useContext(Wa),{saving:u}=c.useContext(vI),T=Z_(l,d),R=()=>{const S=r.pathname.split("/boardEditor")[0];n(`${S}`),t(VI())},A=()=>{s(),setImmediate(()=>{i==null||i(R)})};return o.jsxs(FG,{onClick:s,children:[o.jsxs("h1",{className:Ke({disabled:d<2}),children:[o.jsx(EI,{onClick:R}),T]}),o.jsxs(Ge,{children:[e,o.jsxs(o.Fragment,{children:[o.jsx(oe,{icon:o.jsx(Da,{}),onClick:R,children:a("common.cancel")},"cancel"),o.jsx(oe,{type:"primary",loading:u,icon:o.jsx(Gy,{}),onClick:A,children:a("common.save")},"update")]})]})]})}),FG=F.div.withConfig({displayName:"EditorHeader__Wrapper",componentId:"sc-mhffwf-0"})(["display:flex;flex-shrink:0;align-items:center;padding:"," ",";background-color:",";box-shadow:",";h1{flex:1;font-size:",";font-weight:",";line-height:",";color:",";&.disabled{color:",";}}"],It,je,e=>e.theme.componentBackground,e=>e.theme.shadowSider,rs,nn,yu,e=>e.theme.textColorLight,e=>e.theme.textColorLight),jo=c.createContext({});function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}var om=["shift","alt","meta","mod","ctrl"],GG={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Vr(e){return(GG[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function HG(e){return om.includes(e)}function OE(e,t){return t===void 0&&(t=","),e.split(t)}function mE(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(s){return Vr(s)}),a={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},i=r.filter(function(s){return!om.includes(s)});return Au({},a,{keys:i,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&im([Vr(e.key),Vr(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&sm([Vr(e.key),Vr(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Yr.clear()})})();var Yr=new Set;function WT(e){return Array.isArray(e)}function jG(e,t){t===void 0&&(t=",");var n=WT(e)?e:e.split(t);return n.every(function(r){return Yr.has(r.trim().toLowerCase())})}function im(e){var t=Array.isArray(e)?e:[e];Yr.has("meta")&&Yr.forEach(function(n){return!HG(n)&&Yr.delete(n.toLowerCase())}),t.forEach(function(n){return Yr.add(n.toLowerCase())})}function sm(e){var t=Array.isArray(e)?e:[e];e==="meta"?Yr.clear():t.forEach(function(n){return Yr.delete(n.toLowerCase())})}function VG(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function YG(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function WG(e){return lm(e,["input","textarea","select"])}function lm(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return WT(t)?!!(r&&t&&t.some(function(a){return a.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function kG(e,t){return e.length===0&&t||!t?!0:e.some(function(n){return t.includes(n)})||e.includes("*")}var $G=function(t,n,r){r===void 0&&(r=!1);var a=n.alt,i=n.meta,s=n.mod,l=n.shift,d=n.ctrl,u=n.keys,T=t.key,R=t.code,A=t.ctrlKey,E=t.metaKey,S=t.shiftKey,p=t.altKey,f=Vr(R),I=T.toLowerCase();if(!r){if(a===!p&&I!=="alt"||l===!S&&I!=="shift")return!1;if(s){if(!E&&!A)return!1}else if(i===!E&&I!=="meta"&&I!=="os"||d===!A&&I!=="ctrl"&&I!=="control")return!1}return u&&u.length===1&&(u.includes(I)||u.includes(f))?!0:u?jG(u):!u},XG=c.createContext(void 0),zG=function(){return c.useContext(XG)};function cm(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&cm(e[r],t[r])},!0):e===t}var KG=c.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),JG=function(){return c.useContext(KG)};function qG(e){var t=c.useRef(void 0);return cm(t.current,e)||(t.current=e),t.current}var Kp=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},QG=typeof window<"u"?c.useLayoutEffect:c.useEffect;function ut(e,t,n,r){var a=c.useRef(null),i=c.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,l=WT(e)?e.join(s==null?void 0:s.splitKey):e,d=n instanceof Array?n:r instanceof Array?r:void 0,u=c.useCallback(t,d??[]),T=c.useRef(u);d?T.current=u:T.current=t;var R=qG(s),A=JG(),E=A.enabledScopes,S=zG();return QG(function(){if(!((R==null?void 0:R.enabled)===!1||!kG(E,R==null?void 0:R.scopes))){var p=function(h,m){var g;if(m===void 0&&(m=!1),!(WG(h)&&!lm(h,R==null?void 0:R.enableOnFormTags))&&!(R!=null&&R.ignoreEventWhen!=null&&R.ignoreEventWhen(h))){if(a.current!==null&&document.activeElement!==a.current&&!a.current.contains(document.activeElement)){Kp(h);return}(g=h.target)!=null&&g.isContentEditable&&!(R!=null&&R.enableOnContentEditable)||OE(l,R==null?void 0:R.splitKey).forEach(function(_){var L,P=mE(_,R==null?void 0:R.combinationKey);if($G(h,P,R==null?void 0:R.ignoreModifiers)||(L=P.keys)!=null&&L.includes("*")){if(m&&i.current)return;if(VG(h,P,R==null?void 0:R.preventDefault),!YG(h,P,R==null?void 0:R.enabled)){Kp(h);return}T.current(h,P),m||(i.current=!0)}})}},f=function(h){h.key!==void 0&&(im(Vr(h.code)),((R==null?void 0:R.keydown)===void 0&&(R==null?void 0:R.keyup)!==!0||R!=null&&R.keydown)&&p(h))},I=function(h){h.key!==void 0&&(sm(Vr(h.code)),i.current=!1,R!=null&&R.keyup&&p(h,!0))},O=a.current||(s==null?void 0:s.document)||document;return O.addEventListener("keyup",I),O.addEventListener("keydown",f),S&&OE(l,R==null?void 0:R.splitKey).forEach(function(N){return S.addHotkey(mE(N,R==null?void 0:R.combinationKey,R==null?void 0:R.description))}),function(){O.removeEventListener("keyup",I),O.removeEventListener("keydown",f),S&&OE(l,R==null?void 0:R.splitKey).forEach(function(N){return S.removeHotkey(mE(N,R==null?void 0:R.combinationKey,R==null?void 0:R.description))})}}},[l,R,E]),a}function ZG(){const{undo:e,redo:t}=c.useContext(aT),{onEditDeleteActiveWidgets:n,onEditLayerToTop:r,onEditLayerToBottom:a,onEditCopyWidgets:i,onEditPasteWidgets:s,onEditComposeGroup:l}=c.useContext(br);ut("delete,backspace",()=>n(),[]),ut("ctrl+z,command+z",()=>e()),ut("ctrl+shift+z,command+shift+z",()=>t()),ut("ctrl+shift+up,command+shift+up",()=>r()),ut("ctrl+shift+down,command+shift+down",()=>a()),ut("ctrl+c,command+c",()=>i()),ut("ctrl+v,command+v",()=>s()),ut("ctrl+g,command+g",d=>{l(),d.preventDefault()}),ut("up",()=>{}),ut("shift+up",()=>{}),ut("down",()=>{}),ut("shift+down",()=>{}),ut("left",()=>{}),ut("shift+left",()=>{}),ut("right",()=>{}),ut("shift+right",()=>{}),ut("",()=>{}),ut("",()=>{})}const eH=e=>{const t=V("viz.board.action"),{visible:n,onSelectedCharts:r,onCancel:a,dataCharts:i}=e,[s,l]=c.useState([]),[d,u]=c.useState([]),T=U(Fv),R=oT(),A=c.useMemo(()=>Wn(i.map(N=>({...N,isFolder:N.relType==="FOLDER",disabled:T.includes(N.relId)})),null,[],{getIcon:R}),[T,i,R]),{filteredData:E,debouncedSearch:S}=Nt(A,(N,h)=>h.name.toLowerCase().includes(N.toLowerCase())),p=()=>{r(d)},f=(N,h)=>{const m=[],g=[];h.checkedNodes.filter(_=>!_.isFolder&&!T.includes(_.relId)).forEach(_=>{g.push(_.relId),m.push(_.id)}),l(m),u(g)},I=()=>{const N=[];return A==null||A.forEach(h=>{var g,_;let m=0;h.disabled&&N.push(h.id),(g=h==null?void 0:h.children)==null||g.forEach(L=>{L.disabled&&(m=m+1,N.push(L.id))}),m===((_=h==null?void 0:h.children)==null?void 0:_.length)&&(h.disabled=!0,N.push(h.id))}),N},O=c.useMemo(I,[A]);return c.useEffect(()=>{n||l([])},[n]),o.jsxs(Dn,{title:t("importExistingDataCharts"),open:n,onOk:p,centered:!0,onCancel:a,okButtonProps:{disabled:!s.length},cancelButtonProps:{disabled:!1},destroyOnClose:!0,children:[o.jsx(tH,{children:o.jsx(Ae,{onChange:S,placeholder:t("searchValue")})}),o.jsx(gt,{loading:!1,showIcon:!0,checkable:!0,defaultExpandAll:!0,onCheck:f,treeData:E,checkedKeys:[...O,...s],height:300,id:"chat-select-modal"})]})},tH=F.div.withConfig({displayName:"ChartSelectModal__InputWrap",componentId:"sc-ui7c5u-0"})(["padding:0 20px;margin-bottom:10px;"]),nH=e=>{const t=V("viz.board.action"),n=c.useCallback(({key:i})=>{var s;i==="select"&&e.onSelect(),i==="create"&&((s=e.onCreate)==null||s.call(e))},[e]),r=[{name:t("importExistingDataCharts"),icon:"",type:"select"},{name:t("createDataChartInBoard"),icon:"",type:"create"}],a={onClick:n,items:r.map(({name:i,icon:s,type:l})=>({key:l,label:i}))};return o.jsx(an,{menu:a,placement:"bottomLeft",trigger:["click"],children:o.jsx(Me,{title:t("dataChart"),children:o.jsx(rt,{icon:o.jsx(hI,{})})})})},rH=()=>{const e=de(),{boardId:t,boardType:n}=c.useContext(jo),r=U(Be),a=U(na),i=c.useMemo(()=>a.filter(p=>p.relType!=="DASHBOARD"),[a]),[s,l]=c.useState(!1),[d,u]=c.useState(!1),T=c.useCallback(p=>{e(Gv({boardId:t,chartIds:p,boardType:n})),l(!1)},[t,n,e]),R=c.useCallback(()=>{l(!0)},[]),A=c.useCallback(()=>{u(!0)},[]),E=c.useCallback(()=>u(!1),[]),S=c.useCallback((p,f,I)=>{e(Hv({boardId:t,chartId:f.id,boardType:n,dataChart:f,view:I})),u(!1)},[t,n,e]);return o.jsxs(o.Fragment,{children:[o.jsx(nH,{onSelect:R,onCreate:A}),o.jsx(eH,{dataCharts:i,visible:s,onSelectedCharts:T,onCancel:()=>l(!1)}),d&&o.jsx(YT,{dataChartId:`${Jf}${t}_${yt()}`,orgId:r,chartType:"widgetChart",container:"widget",onClose:E,onSaveInWidget:S})]})},aH=()=>{const e=V("viz.board.action"),t=de(),{boardType:n}=c.useContext(jo),r=c.useCallback(({key:s})=>{const l=_o.toolkit(s).create({boardType:n});t(pT([l]))},[n,t]),a=[{name:e("tab"),icon:"",type:"tab"},{name:e("carousel"),icon:"",type:"carousel"}],i={onClick:r,items:a.map(({name:s,type:l,disabled:d})=>({key:l,disabled:d,label:s}))};return o.jsx(an,{menu:i,placement:"bottomLeft",trigger:["click"],children:o.jsx(Me,{title:e("container"),children:o.jsx(rt,{icon:o.jsx(yb,{})})})})},oH=()=>{const e=V("viz.board.action"),t=V("viz.common.enum.controllerFacadeTypes"),n=V("viz.board.controlTypes"),r=V("viz.widget.type"),{boardId:a,boardType:i}=c.useContext(jo),s=de(),l=U(jv),d=U(Vv),u=f=>{s(Yv({type:f.key,boardId:a,boardType:i}))},T=[{icon:"",type:et.DropdownList},{icon:"",type:et.MultiDropdownList},{icon:"",type:et.RadioGroup},{icon:"",type:et.CheckboxGroup},{icon:"",type:et.Text},{icon:"",type:et.DropDownTree}],R=[{icon:"",type:et.RangeTime},{icon:"",type:et.Time}],A=[{icon:"",type:et.RangeValue},{icon:"",type:et.Value},{icon:"",type:et.Slider},{icon:"",type:et.RangeSlider,disabled:!0}],E=[{icon:"",type:aR.queryBtn,disabled:l},{icon:"",type:aR.resetBtn,disabled:d}],S=f=>o.jsx("span",{style:{color:QN,fontWeight:500},children:f}),p={onClick:u,items:[{label:S(n("common")),key:"conventionalControllers",type:"group",children:T.map(({icon:f,type:I})=>({key:I,icon:f,label:t(I)}))},{label:S(n("date")),key:"dateControllers",type:"group",children:R.map(({icon:f,type:I})=>({key:I,icon:f,label:t(I)}))},{label:S(n("numeric")),key:"numericalControllers",type:"group",children:A.map(({icon:f,type:I})=>({key:I,icon:f,label:t(I)}))},{label:S(n("button")),key:"buttons",type:"group",children:E.map(({icon:f,type:I})=>({key:I,icon:f,label:r(I)}))}]};return o.jsx(an,{menu:p,placement:"bottomLeft",trigger:["click"],children:o.jsx(Me,{title:e("controller"),children:o.jsx(rt,{icon:o.jsx(wb,{})})})})},iH=()=>{const e=V("viz.board.action"),t=de(),{boardType:n}=c.useContext(jo),r=c.useCallback(({keyPath:s})=>{const[l]=s,d=_o.toolkit(l).create({boardType:n});t(pT([d]))},[n,t]),a=[{name:e("image"),icon:"",type:"image"},{name:e("richText"),icon:"",type:"richText"},{name:e("timer"),icon:"",type:"timer"},{name:e("iframe"),icon:"",type:"iframe"},{name:e("video"),icon:"",type:"video"}],i={onClick:r,items:a.map(({name:s,icon:l,type:d})=>({label:s,key:d,icon:l}))};return o.jsx(an,{menu:i,placement:"bottomLeft",trigger:["click"],children:o.jsx(Me,{title:e("media"),children:o.jsx(rt,{icon:o.jsx(eO,{})})})})},sH=[{key:"shift + click",text:"multiSelect"},{key:"ctrl + G",text:"group"},{key:"delete",text:"delete"},{key:"ctrl + Z",text:"undo"},{key:"ctrl + shift + Z",text:"redo"},{key:"ctrl + C",text:"copy"},{key:"ctrl + V",text:"paste"},{key:"ctrl + shift + ",text:"toTop"},{key:"ctrl + shift + ",text:"toBottom"}],lH=()=>{const e=V("viz.board.action"),t=V("global.button"),n={items:sH.map(r=>({key:r.text,label:o.jsxs(cH,{children:[o.jsx("div",{children:e(r.text)}),o.jsx("div",{children:r.key})]})}))};return o.jsx(an,{menu:n,placement:"bottomRight",trigger:["click"],children:o.jsx(oe,{type:"text",children:t("shortcuts")})})},cH=F.div.withConfig({displayName:"ShortcutKeys__StyledWrap",componentId:"sc-f0yf8b-0"})(["display:flex;align-items:center;justify-content:space-between;min-width:240px;cursor:pointer;border-bottom:1px solid ",";"],ZN),dH=c.memo(()=>{const e=t=>{t.stopPropagation()};return o.jsx(EH,{onClick:e,children:o.jsx(Ge,{children:o.jsx(lH,{})})})}),EH=F.div.withConfig({displayName:"BoardToolRights__Wrapper",componentId:"sc-1vqp8tz-0"})([""]),uH=({fn:e,title:t})=>{const n=U(jc),r=()=>{e()};return o.jsx(Me,{title:t,children:o.jsx(rt,{disabled:!n,onClick:r,icon:o.jsx(Wv,{})})})},TH=({fn:e,title:t})=>{const n=U(kv);return o.jsx(Me,{title:t,children:o.jsx(rt,{disabled:!Object.keys(n).length,onClick:e,icon:o.jsx(eM,{})})})},SH=({fn:e,title:t})=>{const n=U(jc);return o.jsx(Me,{title:t,children:o.jsx(rt,{disabled:!n,onClick:e,icon:o.jsx(it,{})})})},RH=()=>{const e=V("viz.board.action"),t=U($v),n=de(),r=async s=>{const l=s.key;await n(Vc.changeBoardDevice(l)),Gt()},a=c.useMemo(()=>t===Ir.Mobile?o.jsx(yR,{}):o.jsx(bR,{}),[t]),i={items:[{key:Ir.Desktop,disabled:t===Ir.Desktop,icon:o.jsx(bR,{}),label:e(Ir.Desktop)},{key:Ir.Mobile,disabled:t===Ir.Mobile,icon:o.jsx(yR,{}),label:e(Ir.Mobile)}],onClick:r};return o.jsx(an,{menu:i,placement:"bottomLeft",trigger:["click"],children:o.jsx(Me,{title:e("deviceSwitch"),children:o.jsx(rt,{icon:a})})})},pH=({fn:e,title:t})=>o.jsx(Me,{title:t,children:o.jsx(rt,{onClick:e,icon:o.jsx(Xv,{})})}),AH=({fn:e,title:t})=>o.jsx(Me,{title:t,children:o.jsx(rt,{onClick:e,icon:o.jsx(zv,{})})}),fH=({fn:e,title:t})=>{const n=U(Kv),r=c.useMemo(()=>!!n.length,[n.length]);return o.jsx(Me,{title:t,children:o.jsx(rt,{disabled:!r,onClick:e,icon:o.jsx(fM,{})})})},IH=({fn:e,title:t})=>{const n=U(Jv),r=c.useMemo(()=>!!n.length,[n.length]);return o.jsx(Me,{title:t,children:o.jsx(rt,{disabled:!r,onClick:e,icon:o.jsx(qv,{})})})},OH=()=>{const e=T=>{T.stopPropagation()},{boardType:t}=c.useContext(jo),{onEditLayerToTop:n,onEditLayerToBottom:r,onEditCopyWidgets:a,onEditPasteWidgets:i,onEditDeleteActiveWidgets:s}=c.useContext(br),{undo:l,redo:d}=c.useContext(aT);ZG();const u=V("viz.board.action");return o.jsxs(mH,{onClick:e,children:[o.jsxs(Ge,{children:[o.jsx(rH,{}),o.jsx(oH,{}),o.jsx(iH,{}),o.jsx(aH,{}),o.jsx(Hr,{type:"vertical"}),o.jsx(fH,{fn:l,title:u("undo")}),o.jsx(IH,{fn:d,title:u("redo")}),o.jsx(Hr,{type:"vertical"}),o.jsx(SH,{fn:s,title:u("delete")}),o.jsx(Hr,{type:"vertical"}),o.jsx(pH,{fn:n,title:u("toTop")}),o.jsx(AH,{fn:r,title:u("toBottom")}),o.jsx(uH,{fn:a,title:u("copy")}),o.jsx(TH,{fn:i,title:u("paste")}),t==="auto"&&o.jsxs(o.Fragment,{children:[o.jsx(Hr,{type:"vertical"}),o.jsx(RH,{})]})]}),o.jsx(dH,{})]})},mH=F.div.withConfig({displayName:"ToolBar__Wrapper",componentId:"sc-1kvy1ea-0"})(["z-index:0;display:flex;flex:1;justify-content:space-between;"]),dm=()=>{const{boardId:e,boardType:t}=c.useContext(Wa);return o.jsx(hH,{children:o.jsx(jo.Provider,{value:{className:"",boardId:e,boardType:t},children:o.jsx(OH,{})})})},hH=F.div.withConfig({displayName:"BoardToolBar__Wrapper",componentId:"sc-1tmwher-0"})(["z-index:",";display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:"," ",";background-color:",";border-top:1px solid ",";box-shadow:",";"],Ro,ot,Cc,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit,e=>e.theme.shadowSider),NH=c.memo(({node:e})=>o.jsx(Mc,{id:e.key,boardEditing:!0,boardId:e.boardId,children:o.jsx(CH,{node:e})},e.key)),CH=c.memo(({node:e})=>{var a,i,s;const{title:t}=e,n=c.useContext(iT),r=(s=(i=_o)==null?void 0:i.meta((a=n==null?void 0:n.config)==null?void 0:a.originalType))==null?void 0:s.canWrapped;return o.jsxs(gH,{children:[o.jsxs(_H,{children:[o.jsx("h4",{title:t,children:String(t)||"untitled-widget"}),o.jsx(eL,{widgetId:n==null?void 0:n.id,canWrapped:r})]}),o.jsx(tL,{widget:n,buttonProps:{size:"small",icon:o.jsx(Xt,{}),onClick:rn}})]})}),gH=F.div.withConfig({displayName:"LayerTreeItem__Item",componentId:"sc-1wppxlw-0"})(["display:flex;flex:1;align-items:center;h4{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.widget-tool-dropdown{display:none;}&:hover{.widget-tool-dropdown{display:block;}}"]),_H=F.div.withConfig({displayName:"LayerTreeItem__TitleBlock",componentId:"sc-1wppxlw-1"})(["position:relative;width:calc(100% - 24px);"]),LH=c.memo(()=>{const e=de(),t=U(Qv),n=c.useCallback(R=>o.jsx(NH,{node:R}),[]),{onEditSelectWidget:r}=c.useContext(br),a=U(AT),i=U(jc),{height:s,ref:l}=yc({refreshMode:"debounce",refreshRate:200}),d=c.useCallback((R,{node:A,nativeEvent:E})=>{r({multipleKey:E.shiftKey,id:A.key,selected:!0})},[r]),u=c.useCallback(R=>{var A,E;return hl((E=(A=_o)==null?void 0:A.meta(R==null?void 0:R.originalType))==null?void 0:E.icon)},[]),T=c.useCallback(R=>{const A=R.dragNode,E=R.node;let S="NORMAL";E.dragOverGapTop&&(S="TOP"),E.dragOver&&!E.isLeaf&&(S="FOLDER"),e(Zv(A,E,S))},[e]);return o.jsx(gt,{className:"medium",draggable:!a,multiple:!0,loading:!1,titleRender:n,icon:u,onSelect:d,onClick:rn,onDrop:T,treeData:t,selectedKeys:i?i.split(","):[],height:s,wrapperRef:l,defaultExpandAll:!0})}),Em=c.memo(()=>{const e=V("viz.board.action"),t=c.useMemo(()=>({title:e("widgetList")}),[e]);return o.jsxs(vH,{children:[o.jsx(en,{...t}),o.jsx(LH,{})]})}),vH=F.div.withConfig({displayName:"LayerTreePanel__Panel",componentId:"sc-1nse6qy-0"})(["display:flex;flex-direction:column;height:100%;background-color:",";box-shadow:",";"],e=>e.theme.componentBackground,e=>e.theme.shadowSider),DH=F.div.withConfig({displayName:"BoardConfigPanel__StyledWrapper",componentId:"sc-1df60a1-0"})(["width:100%;min-height:0;overflow-y:auto;"]),bH=c.memo(()=>{const e=de(),t=V("viz.board.setting"),n=c.useContext(nL),r=n.jsonConfig.props,a=n.jsonConfig.i18ns,i=(s,l,d)=>{e($i.updateBoardConfigByKey({ancestors:s,configItem:l}))};return o.jsxs(os.Provider,{value:{i18NConfigs:a},children:[o.jsx("h3",{style:{textAlign:"center"},children:t("board")}),o.jsx(DH,{onClick:s=>s.stopPropagation(),children:o.jsx(PH,{configs:r,onChange:i})})]})}),PH=c.memo(({configs:e,onChange:t})=>{const n=V();return o.jsx(Zr,{className:"",ghost:!0,items:e==null?void 0:e.filter(r=>!r.hidden).map((r,a)=>({key:r.key,label:o.jsx(YI,{title:n(r.label,!0)}),children:o.jsx(ST,{ancestors:[a],mode:r.comType==="group"?po.INNER:po.OUTER,data:r,translate:n,dataConfigs:[],onChange:t})}))})});function Jp({title:e,children:t}){return o.jsx(yH,{children:o.jsx("div",{onClick:rn,className:"form-wrapper",children:t})})}const yH=F.div.withConfig({displayName:"SettingPanel__Wrapper",componentId:"sc-ovmuhp-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;padding:",";.form-wrapper{display:flex;flex:1;flex-direction:column;min-height:0;overflow-y:auto;}"],ye),fu=F.div.withConfig({displayName:"SettingPanel__Group",componentId:"sc-ovmuhp-1"})(["padding:0 ",";"],je),MH=c.memo(({wid:e,name:t,boardVizs:n})=>{const{onUpdateWidgetConfigByKey:r}=c.useContext(br),a=V("viz.board.setting"),[i]=$.useForm(),s=c.useMemo(()=>(n||[]).filter(d=>(d==null?void 0:d.id)!==e).map(d=>{var u;return(u=d==null?void 0:d.config)==null?void 0:u.name}).filter(Boolean),[n,e]);c.useEffect(()=>{i.setFieldsValue({widgetName:t})},[i,t]);const l=c.useMemo(()=>Yn(d=>{Wt(d==null?void 0:d[0].errors)&&(d!=null&&d[0].value)&&r({wid:e,key:"name",val:d==null?void 0:d[0].value})},300,{leading:!1}),[r,e]);return o.jsx(fu,{children:o.jsx($,{form:i,layout:"vertical",initialValues:{widgetName:t},onFieldsChange:l,children:o.jsx($.Item,{name:"widgetName",label:a("widget")+a("title"),rules:[{required:!0,message:a("requiredWidgetName")},()=>({validator(d,u){return u&&(s!=null&&s.some(T=>T===u))?Promise.reject(new Error(a("duplicateWidgetName"))):Promise.resolve()}})],children:o.jsx(Ae,{className:"datart-ant-input"})})})})}),{Panel:xH}=Zr,UH=c.memo(({wid:e,rect:t})=>{var A,E,S,p;const{onEditFreeWidgetRect:n}=c.useContext(br),r=V("viz.board.setting"),[a,i]=c.useState({});c.useEffect(()=>{i(t)},[t]);const s=c.useMemo(()=>Yn(f=>{n(f,e,!1)},300),[n,e]),l=c.useCallback((f,I)=>{const O={...t,[f]:I};i(O),s(O)},[s,t]),d=c.useCallback(f=>l("x",f),[l]),u=c.useCallback(f=>l("y",f),[l]),T=c.useCallback(f=>l("width",f),[l]),R=c.useCallback(f=>l("height",f),[l]);return o.jsx(Zr,{className:"datart-config-panel",ghost:!0,children:o.jsxs(xH,{header:r("position")+"&"+r("size"),forceRender:!0,children:[o.jsx(fu,{children:o.jsx(IR,{label:r("position"),children:o.jsxs(hE,{children:[o.jsxs(pl,{children:[o.jsx("label",{children:"X"}),o.jsx(bt,{value:(A=a.x)==null?void 0:A.toFixed(1),className:"datart-ant-input-number",onChange:d})]}),o.jsxs(pl,{children:[o.jsx("label",{children:"Y"}),o.jsx(bt,{value:(E=a.y)==null?void 0:E.toFixed(1),className:"datart-ant-input-number",onChange:u})]})]})})}),o.jsx(fu,{children:o.jsx(IR,{label:r("size"),children:o.jsxs(hE,{children:[o.jsxs(pl,{children:[o.jsx("label",{children:"W"}),o.jsx(bt,{value:(S=a.width)==null?void 0:S.toFixed(1),className:"datart-ant-input-number",onChange:T})]}),o.jsx(hE,{children:o.jsxs(pl,{children:[o.jsx("label",{children:"H"}),o.jsx(bt,{value:(p=a==null?void 0:a.height)==null?void 0:p.toFixed(1),className:"datart-ant-input-number",onChange:R})]})})]})})})]},"position")})}),hE=F.div.withConfig({displayName:"RectSet__StyledFlex",componentId:"sc-r1ublp-0"})(["display:flex;"]),pl=F.div.withConfig({displayName:"RectSet__StyledPadding",componentId:"sc-r1ublp-1"})(["display:flex;min-height:0;padding:0 4px;margin:0 4px;overflow-y:auto;line-height:30px;background-color:",";"],e=>e.theme.bodyBackground),wH=F.div.withConfig({displayName:"WidgetConfigPanel__StyledWrapper",componentId:"sc-19mpcvu-0"})(["width:100%;min-height:0;"]),qp=c.memo(({configs:e,dataConfigs:t,context:n,onChange:r})=>{var l,d,u;const a=c.useContext(iT),i=(l=a==null?void 0:a.config)==null?void 0:l.originalType,s=(u=(d=_o)==null?void 0:d.meta(i))==null?void 0:u.i18ns;return o.jsx(os.Provider,{value:{i18NConfigs:s},children:o.jsx(wH,{onClick:T=>T.stopPropagation(),children:o.jsx(BH,{dataConfigs:t,configs:e||[],context:n,onChange:r})})})}),BH=c.memo(({configs:e,dataConfigs:t,context:n,onChange:r})=>{const a=V();return o.jsx(Zr,{className:"datart-config-panel",ghost:!0,items:e==null?void 0:e.filter(i=>!i.hidden).map((i,s)=>i.comType==="group"?{key:i.key,label:o.jsx(YI,{title:a(i.label,!0)}),children:o.jsx(ST,{ancestors:[s],mode:i.comType==="group"?po.INNER:po.OUTER,data:i,translate:a,dataConfigs:[],context:n,onChange:r})}:{key:i.key,children:o.jsx(HI,{ancestors:[s],data:i,translate:a,dataConfigs:t,context:n,onChange:r})})})}),FH=c.memo(({boardId:e})=>{var I,O,N,h,m,g,_,L;const t=V("viz.board.setting"),n=de(),r=c.useContext(iT),{dataChart:a,chartDataView:i}=c.useContext(rL),s=n(eD(r)),[l,d]=c.useState("style"),u=U(na),T=U(WI),{getDrillThroughSetting:R,getViewDetailSetting:A}=aL({}),E=(P,v,D)=>{n($i.updateWidgetStyleConfigByPath({ancestors:P,configItem:v,wid:r.id}))},S=(P,v,D)=>{n($i.updateWidgetInteractionConfigByPath({ancestors:P,configItem:v,wid:r.id}))},p=P=>{var w,x;const v="drillThrough",D="viewDetail",b=((x=(w=a==null?void 0:a.config)==null?void 0:w.chartConfig)==null?void 0:x.interactions)||[],C=R(b,[]),y=A(b,[]);return Gn(P,M=>{const B=M.find(j=>j.key===v),H=M.find(j=>j.key===D);return B&&(B.options=Object.assign({},B==null?void 0:B.options,{hasOriginal:!!C})),H&&(H.options=Object.assign({},B==null?void 0:B.options,{hasOriginal:!!y})),P})},f=[{key:"style",label:t("style"),children:o.jsx(Jp,{title:`${t("widget")}${t("setting")}`,children:o.jsxs(o.Fragment,{children:[o.jsx(MH,{wid:r==null?void 0:r.id,name:(I=r==null?void 0:r.config)==null?void 0:I.name,boardVizs:T}),s&&o.jsx(UH,{wid:r==null?void 0:r.id,rect:(O=r==null?void 0:r.config)==null?void 0:O.rect}),o.jsx(qp,{configs:((h=(N=r==null?void 0:r.config)==null?void 0:N.customConfig)==null?void 0:h.props)||[],onChange:E})]})})},{key:"interaction",label:t("interaction"),children:o.jsx(Jp,{title:`${t("widget")}${t("setting")}`,children:o.jsx(qp,{configs:p(((g=(m=r==null?void 0:r.config)==null?void 0:m.customConfig)==null?void 0:g.interactions)||[]),dataConfigs:(L=(_=a==null?void 0:a.config)==null?void 0:_.chartConfig)==null?void 0:L.datas,context:{widgetId:r==null?void 0:r.id,vizs:u,boardVizs:T,dataview:i},onChange:S})})}];return o.jsx(GH,{activeKey:l,onChange:P=>d(P),items:f,centered:!0})}),GH=F(Es).withConfig({displayName:"WidgetSetting__StyledWidgetSetting",componentId:"sc-139mw7s-0"})([".ant-tabs-content-holder{overflow:auto;height:calc(100vh - 159px);}"]),um=c.memo(()=>{const{boardId:e}=c.useContext(Wa),t=U(jc),{type:n,selectedIdArr:r}=c.useMemo(()=>{const a=t?t.split(","):[];return{type:a.length===1?"widget":"board",selectedIdArr:a}},[t]);return o.jsxs(HH,{children:[n==="board"&&o.jsx(bH,{}),n==="widget"&&o.jsx(Mc,{id:r[0],boardEditing:!0,boardId:e,children:o.jsx(FH,{boardId:e})})]})}),HH=F.div.withConfig({displayName:"SlideSetting__Wrapper",componentId:"sc-17trtzs-0"})(["display:flex;flex-direction:column;height:100%;background-color:",";box-shadow:",";color:",";"],e=>e.theme.componentBackground,e=>e.theme.shadowSider,e=>e.theme.textColorSnd),Tm=c.memo(()=>o.jsx(jH,{})),jH=F.div.withConfig({displayName:"BoardOverlay__Overlay",componentId:"sc-6uylqm-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;z-index:",";background-color:rgba(0,0,0,0.6);"],qf),{Option:VH}=Se,Iu=Object.keys($u),NE=$u[Iu[0]],YH=c.memo(({updateCurWH:e})=>{c.useEffect(()=>{e(NE)},[e]);const[t,n]=c.useState(NE[0]),[r,a]=c.useState(NE[1]),[i,s]=c.useState(!0),l=R=>{n(Math.min(R,768))},d=R=>{a(R)},u=()=>{e([t,r])},T=R=>{const A=$u[R]||[t,r];s(!(R==="Custom")),n(A[0]),a(A[1]),e(A)};return o.jsx(WH,{children:o.jsxs(Ge,{children:[o.jsx(Se,{defaultValue:Iu[0],style:{width:180},onChange:T,size:"small",children:Iu.map(R=>o.jsx(VH,{value:R,children:R},R))}),o.jsxs("div",{children:[o.jsx(bt,{size:"small",value:t,disabled:i,onChange:l,onBlur:u}),o.jsx(Da,{}),o.jsx(bt,{size:"small",disabled:i,value:r,onChange:d,onBlur:u})]})]})})}),WH=F.div.withConfig({displayName:"DeviceList__StyledWrap",componentId:"sc-10ucvxc-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:36px;background-color:",";"],e=>e.theme.componentBackground);function kH(e){const t=U(kI);return c.useMemo(()=>Object.values(t).sort((r,a)=>r.config.index-a.config.index),[t])}const $H=c.memo(()=>{const e=t=>{t.stopPropagation()};return o.jsx(oL,{children:o.jsx(XH,{onClick:e,className:"autoItem",children:o.jsx(iL,{boardEditing:!0,hideTitle:!1})})})}),XH=F.div.withConfig({displayName:"WidgetOfAutoEditor__Wrapper",componentId:"sc-1ktmj2y-0"})(["position:relative;display:flex;flex-direction:column;width:100%;height:100%;"]),zH=sL.WidthProvider(lL),KH=c.memo(()=>{const e=de(),{boardId:t}=c.useContext(Wa),n=c.useContext(DI),{background:r,allowOverlap:a}=n,{deviceType:i}=c.useContext(vI),s=U(AT),{ref:l,widgetRowHeight:d,colsKey:u}=cL(),{curMargin:T,curPadding:R}=c.useMemo(()=>Sg(n,u),[n,u]),A=c.useRef([]),{gridWrapRef:E,thEmitScroll:S}=dL(t),[p,f]=c.useState([]),I=c.useCallback(L=>{f(L),setImmediate(()=>{Gt()})},[]),O=kH(),N=EL(O),h=Yn(L=>{e($i.changeAutoBoardWidgetsRect({layouts:L,deviceType:i}))},300),m=L=>{A.current=L,S(),!L.find(P=>P.isDraggable===!0)&&e(Vc.adjustDashLayouts(L))},{deviceClassName:g}=c.useMemo(()=>{let L="desktop";return i===Ir.Mobile&&(L="mobile"),{deviceClassName:L}},[i]),_=c.useMemo(()=>O.map(L=>o.jsx("div",{style:{zIndex:s!=null&&s.includes(L==null?void 0:L.id)?qf+1:"auto"},children:o.jsx(Mc,{id:L.id,boardEditing:!0,boardId:t,children:o.jsx($H,{})})},L.id)),[t,s,O]);return o.jsxs(JH,{className:g,children:[i===Ir.Mobile&&o.jsx(YH,{updateCurWH:I}),o.jsx(qH,{bg:r,curWH:p,className:g,ref:l,children:O.length?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid-wrap",ref:E,children:o.jsx(uL,{margin:T,padding:R,rowHeight:d,children:o.jsx(zH,{layout:N[u],cols:Rg[u],margin:T,containerPadding:R,rowHeight:d,useCSSTransforms:!0,measureBeforeMount:!1,onDragStop:h,onResizeStop:h,isBounded:!1,onLayoutChange:m,isDraggable:!0,isResizable:!0,allowOverlap:a,draggableHandle:`.${pg}`,children:_})})}),!!s&&o.jsx(Tm,{})]}):o.jsx("div",{className:"empty",children:o.jsx(qr,{description:""})})})]})}),JH=F.div.withConfig({displayName:"AutoBoardEditor__Wrapper",componentId:"sc-1ih38oy-0"})(["display:flex;flex:1;flex-direction:column;align-items:center;width:100px;min-height:0;.react-resizable-handle{z-index:",";}&.desktop{min-width:769px;}"],xu),qH=F(TL).withConfig({displayName:"AutoBoardEditor__StyledContainer",componentId:"sc-1ih38oy-1"})(["position:relative;display:flex;flex-direction:column;min-height:0;overflow-y:auto;&.desktop{flex:1;width:100%;}&.mobile{width:",";height:",";margin-top:",";border:"," solid ",";border-radius:",";box-shadow:",";}.grid-wrap{flex:1;overflow-y:auto;-ms-overflow-style:none;}.grid-wrap::-webkit-scrollbar{width:0 !important;}.empty{display:flex;flex:1;align-items:center;justify-content:center;}"],e=>`${e.curWH[0]}px`,e=>`${e.curWH[1]}px`,ye,Le,e=>e.theme.borderColorEmphasis,st,e=>e.theme.shadowBlock);class Qp extends c.PureComponent{render(){const{children:t,className:n,split:r,style:a,size:i,eleRef:s}=this.props,l=["Pane",r,n];let d={flex:1,position:"relative",outline:"none"};return i!==void 0&&(r==="vertical"?d.width=i:(d.height=i,d.display="flex"),d.flex="none"),d=Object.assign({},d,a||{}),o.jsx("div",{ref:s,className:l.join(" "),style:d,children:t})}}const Sm="Resizer";class Rm extends c.Component{render(){const{className:t,onClick:n,onDoubleClick:r,onMouseDown:a,onTouchEnd:i,onTouchStart:s,resizerClassName:l,split:d,style:u}=this.props,T=[l,d,t];return o.jsx("span",{role:"presentation",className:T.join(" "),style:u,onMouseDown:R=>a(R),onTouchStart:R=>{R.preventDefault(),s(R)},onTouchEnd:R=>{R.preventDefault(),i(R)},onClick:R=>{n&&(R.preventDefault(),n(R))},onDoubleClick:R=>{r&&(R.preventDefault(),r(R))}})}}Rm.defaultProps={resizerClassName:Sm};const pm=class Ou extends c.Component{constructor(t){super(t),this.splitPane=null,this.pane1=null,this.pane2=null,this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:n,defaultSize:r,minSize:a,maxSize:i,primary:s}=t,l=n!==void 0?n:eA(r,a,i,null);this.state={active:!1,resized:!1,pane1Size:s==="first"?l:void 0,pane2Size:s==="second"?l:void 0,instanceProps:{size:n}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Ou.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(t,n){return Ou.getSizeUpdate(t,n)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchStart(n)}onTouchStart(t){const{allowResize:n,onDragStarted:r,split:a}=this.props;if(n){Zp(document,window);const i=a==="vertical"?t.touches[0].clientX:t.touches[0].clientY;typeof r=="function"&&r(),this.setState({active:!0,position:i})}}onMouseMove(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchMove(n)}onTouchMove(t){const{allowResize:n,maxSize:r,minSize:a,onChange:i,split:s,step:l}=this.props,{active:d,position:u}=this.state;if(n&&d){Zp(document,window);const T=this.props.primary==="first",R=T?this.pane1:this.pane2,A=T?this.pane2:this.pane1;if(R&&A){const E=R,S=A;if(E.getBoundingClientRect){const p=E.getBoundingClientRect().width,f=E.getBoundingClientRect().height,I=s==="vertical"?t.touches[0].clientX:t.touches[0].clientY,O=s==="vertical"?p:f;let N=u-I;if(l){if(Math.abs(N)<l)return;N=~~(N/l)*l}let h=T?N:-N;const m=parseInt(window.getComputedStyle(E).order),g=parseInt(window.getComputedStyle(S).order);m>g&&(h=-h);let _=Number(r);if(r!==void 0&&Number(r)<=0){const v=this.splitPane;s==="vertical"?_=v.getBoundingClientRect().width+Number(r):_=v.getBoundingClientRect().height+Number(r)}let L=O-h;const P=u-N;L<Number(a)?L=Number(a):r!==void 0&&L>_?L=_:this.setState({position:P,resized:!0}),i&&i(L),this.setState({draggedSize:L,[T?"pane1Size":"pane2Size"]:L})}}}}onMouseUp(){const{allowResize:t,onDragFinished:n}=this.props,{active:r,draggedSize:a}=this.state;t&&r&&(typeof n=="function"&&n(a),this.setState({active:!1}))}static getSizeUpdate(t,n){const r={},{instanceProps:a}=n;if(a.size===t.size&&t.size!==void 0)return{};const i=t.size!==void 0?t.size:eA(t.defaultSize,t.minSize,t.maxSize,n.draggedSize);t.size!==void 0&&(r.draggedSize=i);const s=t.primary==="first";return r[s?"pane1Size":"pane2Size"]=i,r[s?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:t.size},r}render(){const{allowResize:t,children:n,className:r,onResizerClick:a,onResizerDoubleClick:i,paneClassName:s,pane1ClassName:l,pane2ClassName:d,paneStyle:u,pane1Style:T,pane2Style:R,resizerClassName:A,resizerStyle:E,split:S,style:p}=this.props,{pane1Size:f,pane2Size:I}=this.state,O=t?"":"disabled",N=A&&`${A} ${Sm}`,h=ZH(n),m={display:"flex",flex:1,height:"100%",outline:"none",overflow:"hidden",userSelect:"text",...p};S==="vertical"?Object.assign(m,{flexDirection:"row"}):Object.assign(m,{flexDirection:"column",minHeight:"100%",width:"100%"});const g=["SplitPane",r,S,O],_={...u,...T},L={...u,...R},P=["Pane1",s,l].join(" "),v=["Pane2",s,d].join(" ");return o.jsxs(QH,{className:g.join(" "),ref:D=>{this.splitPane=D},style:m,children:[o.jsx(Qp,{className:P,eleRef:D=>{this.pane1=D},size:f,split:S,style:_,children:h[0]},"pane1"),o.jsx(Rm,{className:O,onClick:a,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,resizerClassName:N,split:S,style:E||{}},"resizer"),o.jsx(Qp,{className:v,eleRef:D=>{this.pane2=D},size:I,split:S,style:L,children:h[1]},"pane2")]})}};pm.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""};let sc=pm;const QH=F.div.withConfig({displayName:"SplitPane__Wrapper",componentId:"sc-gvqcvv-0"})([".Resizer{z-index:1;box-sizing:border-box;background:transparent;background-clip:padding-box;}.Resizer:hover{}.Resizer.horizontal{width:100%;height:10px;margin:-5px 0;cursor:row-resize;border-top:5px solid transparent;border-bottom:5px solid transparent;}.Resizer.horizontal:hover{background-color:",";border-top-width:4px;border-bottom-width:4px;}.Resizer.vertical{width:10px;margin:0 -5px;cursor:col-resize;border-right:5px solid transparent;border-left:5px solid transparent;}.Resizer.vertical:hover{background-color:",";border-right-width:4px;border-left-width:4px;}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}"],e=>e.theme.primary,e=>e.theme.primary);function Zp(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch{}}function eA(e,t,n,r){if(typeof r=="number"){const a=typeof t=="number"?t:0,i=typeof n=="number"&&n>=0?n:1/0;return Math.max(a,Math.min(i,r))}return e!==void 0?e:t}function ZH(e){return c.Children.toArray(e).filter(t=>t)}const e2=c.memo(()=>{const{onEditClearActiveWidgets:e}=c.useContext(br),t=n=>{n.stopPropagation(),e()};return o.jsxs(t2,{onClick:t,children:[o.jsx(dm,{}),o.jsxs(sc,{defaultSize:256,minSize:200,maxSize:400,pane2Style:{minWidth:0},onDragFinished:Gt,children:[o.jsx(Em,{}),o.jsxs(sc,{defaultSize:300,minSize:200,maxSize:400,primary:"second",pane1Style:{display:"flex",minWidth:0},onDragFinished:Gt,children:[o.jsx(KH,{}),o.jsx(um,{})]})]})]})}),t2=F.div.withConfig({displayName:"AutoEditor__Wrapper",componentId:"sc-je806m-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;overflow:hidden;"]),n2=c.memo(()=>{const{width:e,height:t,scaleMode:n}=c.useContext(DI),{autoFit:r,boardId:a}=c.useContext(Wa),i=U(AT),s=U(kI),l=Object.values(s).sort((I,O)=>I.config.index-O.config.index),[d,u]=SL(),{zoomIn:T,zoomOut:R,sliderChange:A,sliderValue:E,scale:S,nextBackgroundStyle:p,slideTranslate:f}=RL(r,!0,d,e,t,n);return o.jsxs(r2,{children:[o.jsx("div",{className:"grid-background",style:{...p},ref:u,children:o.jsxs(pL,{scale:S,slideTranslate:f,children:[l.map(I=>o.jsx(Mc,{id:I.id,boardEditing:!0,boardId:a,children:o.jsx(AL,{})},I.id)),!!i&&o.jsx(Tm,{})]})}),o.jsx(fL,{sliderValue:E,scale:S,zoomIn:T,zoomOut:R,sliderChange:A})]})}),r2=F.div.withConfig({displayName:"FreeBoardEditor__Container",componentId:"sc-us5t6z-0"})(["display:flex;flex:1;flex-direction:column;overflow:hidden;.grid-background{flex:1;-ms-overflow-style:none;}.grid-background::-webkit-scrollbar{width:0 !important;}"]),a2=c.memo(()=>{de();const{onEditClearActiveWidgets:e}=c.useContext(br),t=n=>{n.stopPropagation(),e()};return o.jsx(Xu,{onClick:t,children:o.jsxs(o2,{children:[o.jsx(dm,{}),o.jsxs(sc,{defaultSize:256,minSize:200,maxSize:400,pane2Style:{minWidth:0},children:[o.jsx(Em,{}),o.jsxs(sc,{defaultSize:300,minSize:200,maxSize:400,primary:"second",pane1Style:{display:"flex",minWidth:0},children:[o.jsx(n2,{}),o.jsx(um,{})]})]})]})})}),o2=F.div.withConfig({displayName:"FreeEditor__Wrapper",componentId:"sc-13n4gtd-0"})(["display:flex;flex:1;flex-direction:column;min-width:0;min-height:0;overflow:hidden;"]),i2=c.memo(({form:e,otherStrFilterWidgets:t})=>{const n=V("viz.control"),r=c.useCallback(()=>(e==null?void 0:e.getFieldValue(["config","visibility","visibilityType"]))==="condition",[e]);return o.jsx($.Item,{label:n("visibility"),shouldUpdate:!0,rules:[{required:!0}],children:()=>o.jsxs(o.Fragment,{children:[o.jsx($.Item,{name:["config","visibility","visibilityType"],noStyle:!0,rules:[{required:!0}],children:o.jsx(Pe.Group,{children:Ag.map(a=>o.jsx(Pe.Button,{value:a.value,children:a.name},a.value))})}),r()&&o.jsx($.Item,{noStyle:!0,children:o.jsxs(s2,{children:[o.jsx($.Item,{name:["config","visibility","condition","dependentControllerId"],noStyle:!0,rules:[{required:!0,message:""}],children:o.jsx(Se,{placeholder:n("title"),style:{width:"160px"},children:t.map(a=>o.jsx(Se.Option,{value:a.id,children:a.config.name},a.id))})})," - ",o.jsx($.Item,{name:["config","visibility","condition","relation"],noStyle:!0,rules:[{required:!0,message:""}],children:o.jsx(Se,{placeholder:"",style:{width:"100px"},children:uI.filter(a=>[kS.Equal,kS.NotEqual].includes(a.value)).map(a=>o.jsx(Se.Option,{value:a.value,children:a.name},a.value))})})," - ",o.jsx($.Item,{name:["config","visibility","condition","value"],noStyle:!0,rules:[{required:!0,message:""}],children:o.jsx(Ae,{style:{width:"140px"}})})]})})]})})}),s2=F($.Item).withConfig({displayName:"ControllerVisibility__StyledWrapper",componentId:"sc-qf7fgu-0"})(["display:block;margin-top:6px;&.ant-form-item{margin-bottom:0;}"]),l2=c.memo(({value:e,onChange:t,options:n})=>{function r(a){t==null||t(a)}return o.jsx(Pe.Group,{onChange:r,defaultValue:e,children:n.map(a=>o.jsx(Pe.Button,{value:a.value,children:a.label},a.value))})}),c2=c.memo(()=>{const e=V("viz.common.filter"),n=["default","button"].map(r=>({label:e(r),value:r}));return o.jsx($.Item,{name:J2,label:e("radioType"),validateTrigger:["onChange","onBlur"],rules:[{required:!0}],children:o.jsx(l2,{options:n})})}),d2=c.memo(({label:e,switchTexts:t})=>o.jsx($.Item,{name:Q2,label:e,valuePropName:"checked",validateTrigger:["onChange","onBlur"],rules:[{required:!0}],children:o.jsx(Zl,{checkedChildren:t[0],unCheckedChildren:t[1]})})),E2=c.memo(({label:e})=>o.jsx($.Item,{name:q2,label:e,validateTrigger:["onChange","onBlur"],rules:[{required:!0}],children:o.jsx(bt,{})})),u2=c.memo(({value:e,onChange:t,options:n})=>{function r(a){t==null||t(a)}return o.jsx(Se,{value:e,onChange:r,children:n.map(a=>o.jsx(Se.Option,{value:a.value,children:a.name},a.value))})}),T2=c.memo(({options:e,...t})=>o.jsx($.Item,{...t,children:o.jsx(u2,{options:e})})),S2=["config","sqlOperator"],R2=c.memo(({controllerType:e})=>{const t=V("viz.control"),n=fg.includes(e),r={preserve:!0,name:S2,label:t("sqlOperator"),hidden:n},a=Ig[e]||[],i=uI.filter(s=>a.includes(s.value));return o.jsx(T2,{options:i,...r})});function p2({form:e}){const t=V("viz.control"),n=c.useCallback(()=>e==null?void 0:e.getFieldValue("config"),[e]),r=c.useCallback(()=>{e==null||e.setFieldsValue({config:{...n,parentFields:void 0,controllerValues:[],valueOptions:[],assistViewFields:[]}})},[e,n]);return o.jsx($.Item,{shouldUpdate:!0,label:t("treeBuildingMethod"),name:["config","buildingMethod"],children:o.jsxs(Pe.Group,{onChange:r,children:[o.jsxs(Pe.Button,{value:"byParent",children:[t("byParent")+" ",o.jsx(Me,{title:t("byParentTip"),children:o.jsx(oR,{})})]}),o.jsxs(Pe.Button,{value:"byHierarchy",children:[t("byHierarchy")+" ",o.jsx(Me,{title:t("byHierarchyTip"),children:o.jsx(oR,{})})]})]})})}const kT=c.memo(({onChange:e,required:t,...n})=>o.jsx($.Item,{rules:[{required:t}],...n,children:o.jsx(bt,{onChange:e})})),A2=c.memo(({label:e})=>{const t={preserve:!0,name:z2,label:e,required:!0};return o.jsx(kT,{...t})}),f2=c.memo(({label:e})=>{const t={preserve:!0,name:K2,label:e,required:!0};return o.jsx(kT,{...t})}),I2=c.memo(()=>{const e=V("viz.common.filter");return o.jsxs(o.Fragment,{children:[o.jsx(A2,{label:e("max")}),o.jsx(f2,{label:e("min")})]})}),O2=({label:e})=>{const t={preserve:!0,name:Vo,label:e,required:!1};return o.jsx(kT,{...t})},m2=c.memo(()=>{const e=V("viz.control"),t={preserve:!0,name:Vo,label:e("defaultValue"),required:!1};return o.jsx(h2,{...t})}),h2=c.memo(({onChange:e,value:t,...n})=>o.jsx($.Item,{rules:[{required:!0,validator:IL}],...n,children:o.jsx(N2,{})})),N2=c.memo(({onChange:e,value:t})=>{const[n,r]=c.useState(),[a,i]=c.useState(),s=d=>{e==null||e([d,a])},l=d=>{e==null||e([n,d])};return c.useEffect(()=>{r(t==null?void 0:t[0]),i(t==null?void 0:t[1])},[t]),o.jsxs(o.Fragment,{children:[o.jsx(bt,{value:n,onChange:s}),o.jsx("span",{children:" - "}),o.jsx(bt,{value:a,onChange:l})]})}),C2=c.memo(e=>{const t={preserve:!0,name:Vo,label:e.label,required:!0};return o.jsx(_2,{...t,...e})});c.memo(e=>{const t={preserve:!0,name:Vo,label:e.label,required:!1};return o.jsx(g2,{...t,...e})});const g2=c.memo(({...e})=>o.jsx($.Item,{rules:[{required:!0}],children:o.jsx(Am,{...e})})),_2=c.memo(({...e})=>o.jsx($.Item,{rules:[{required:!0}],...e,children:o.jsx(Am,{...e})})),Am=c.memo(({onChange:e,value:t,maxValue:n,minValue:r,step:a,showMarks:i})=>{const[s,l]=c.useState(),d=T=>{e==null||e([T])},u={[r]:r,[n]:n,[s]:s};return c.useEffect(()=>{l(t==null?void 0:t[0])},[t]),o.jsx($I,{max:n,min:r,step:a,value:s,...i&&{marks:u},onChange:d})});c.memo(({onChange:e,value:t})=>{const[n,r]=c.useState(),a=i=>{e==null||e(i)};return c.useEffect(()=>{r([t==null?void 0:t[0],t==null?void 0:t[1]])},[t]),o.jsx($I,{range:!0,value:n,onChange:a})});const L2=c.memo(({value:e,...t})=>o.jsx($.Item,{...t,children:o.jsx(Ae,{})})),v2=c.memo(()=>{const e=V("viz.control"),t={preserve:!0,name:Vo,label:e("defaultValue"),required:!1};return o.jsx(L2,{...t})}),D2=e=>{const t="viz.date.";return Pa.t(t+e)},Za=e=>({name:D2(e),value:e}),b2=[Za("date"),Za("dateTime"),Za("year"),Za("quarter"),Za("month"),Za("week")],CE=c.memo(({relativeName:e,...t})=>o.jsx(o.Fragment,{children:o.jsx($.Item,{noStyle:!0,name:e,shouldUpdate:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:""}],children:o.jsx(P2,{relativeName:e,...t})})})),P2=({value:e,onChange:t})=>{const n=V("viz.common.filter.date"),[r,a]=c.useState({direction:"+",amount:1,unit:"d"});c.useEffect(()=>{a({...e})},[e]);const i=d=>{if(d==="+0"){t==null||t({...r,direction:d,amount:0});return}t==null||t({...r,direction:d})},s=d=>{t==null||t({...r,amount:d})},l=d=>{t==null||t({...r,unit:d})};return o.jsxs(o.Fragment,{children:[o.jsx(Se,{style:{width:"80px"},value:r.direction,onChange:i,children:eC.map(d=>o.jsx(Se.Option,{value:d.value,children:n(d.name)},d.name))}),r.direction!=="+0"&&o.jsx(bt,{step:1,min:0,value:r.amount,onChange:s}),o.jsx(Se,{style:{width:"80px"},value:r.unit,onChange:l,children:tC.map(d=>o.jsx(Se.Option,{value:d.value,children:n(d.name)},d.value))})]})},y2=c.memo(({pickerType:e,value:t,onChange:n})=>{function r(a,i){if(!a){n==null||n(a);return}const s=OL(e,a);n==null||n(tr(s))}return o.jsx(o.Fragment,{children:e==="dateTime"?o.jsx(ec,{value:t,allowClear:!0,showTime:!0,onChange:r}):o.jsx(ec,{value:t,allowClear:!0,onChange:r,picker:e})})}),M2=({controllerType:e,form:t})=>{const n=V("viz.control"),r=V("viz.tips"),a=V("viz.common.filter.date"),i=c.useCallback(()=>t==null?void 0:t.getFieldValue("config"),[t]),s=c.useCallback(()=>{var p;const S=i();return(p=S==null?void 0:S.controllerDate)==null?void 0:p.startTime.relativeOrExact},[i]),l=c.useCallback(()=>{var p,f;const S=i();return(f=(p=S==null?void 0:S.controllerDate)==null?void 0:p.endTime)==null?void 0:f.relativeOrExact},[i]),d=c.useCallback(()=>{var S,p;return(p=(S=i())==null?void 0:S.controllerDate)==null?void 0:p.pickerType},[i]),u=async(S,p)=>{const f=i().controllerDate;if(e===et.Time)return f;function I(h){return h?h.relativeOrExact===sn.Exact?h.exactValue:h.relativeValue:!1}const O=I(f==null?void 0:f.startTime),N=I(f==null?void 0:f.endTime);return!O&&!N?Promise.resolve(f):!O&&N?Promise.reject(new Error(r("noStartValue"))):O&&!N?Promise.reject(new Error(r("noEndValue"))):Promise.resolve(p)},T=c.useCallback(S=>{var f,I;if(S===sn.Relative){const O=(I=(f=i())==null?void 0:f.controllerDate)==null?void 0:I.startTime;if(!(O!=null&&O.relativeValue)){const N={amount:1,unit:"d",direction:"-"},h=kt(i().controllerDate,m=>{m.startTime.relativeValue=N});t==null||t.setFieldsValue({config:{...i(),controllerDate:{...h}}})}}t==null||t.validateFields(uo)},[t,i]),R=c.useCallback(S=>{var f,I;if(S===sn.Relative){const O=(I=(f=i())==null?void 0:f.controllerDate)==null?void 0:I.endTime;if(!(O!=null&&O.relativeValue)){const N={amount:1,unit:"d",direction:"-"},h=kt(i().controllerDate,m=>{m.endTime.relativeValue=N});t==null||t.setFieldsValue({config:{...i(),controllerDate:{...h}}})}}t==null||t.validateFields(uo)},[t,i]),A=c.useCallback((S,p)=>o.jsx($.Item,{name:S,noStyle:!0,shouldUpdate:!0,validateTrigger:["onBlur"],rules:[{required:!0}],children:o.jsxs(Se,{style:{width:"100px"},onChange:p,children:[o.jsx(Se.Option,{value:sn.Exact,children:a("exact")},sn.Exact),o.jsx(Se.Option,{value:sn.Relative,children:a("relative")},sn.Relative)]})}),[a]),E=c.useCallback((S,p)=>o.jsx($.Item,{noStyle:!0,name:S,shouldUpdate:!0,validateTrigger:["onChange","onBlur"],children:o.jsx(y2,{pickerType:p()})}),[]);return o.jsx($.Item,{noStyle:!0,shouldUpdate:!0,children:()=>o.jsxs(o.Fragment,{children:[o.jsx($.Item,{name:W2,label:n("dateType"),shouldUpdate:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0}],children:o.jsx(Se,{children:b2.map(S=>o.jsx(Se.Option,{value:S.value,children:S.name},S.value))})}),e===et.Time&&o.jsx(o.Fragment,{children:o.jsxs($.Item,{label:n("defaultValue"),shouldUpdate:!0,rules:[{required:!1}],children:[A(nA,T),s()===sn.Exact&&E(rA,d),s()===sn.Relative&&o.jsx(CE,{relativeName:Ki})]})}),e===et.RangeTime&&o.jsxs($.Item,{name:uo,validateTrigger:["onChange","onBlur"],shouldUpdate:!0,rules:[{required:!0,validator:u}],style:{marginBottom:0},children:[o.jsxs($.Item,{label:a("startTime"),shouldUpdate:!0,children:[A(nA,T),s()===sn.Exact&&E(rA,d),s()===sn.Relative&&o.jsx(CE,{relativeName:Ki})]}),o.jsxs($.Item,{label:a("endTime"),name:_d,shouldUpdate:!0,children:[A(k2,R),l()===sn.Exact&&E($2,d),l()===sn.Relative&&o.jsx(CE,{relativeName:Ld})]})]})]})})};function x2({viewFieldList:e,value:t,style:n,mode:r,onChange:a}){const i=V("viz.control");return o.jsx(U2,{children:o.jsx(Se,{style:n,mode:r,optionFilterProp:"label",onChange:a,placeholder:i(r?"parentFieldsHierarchy":"parentFields"),showSearch:!0,allowClear:!0,options:e,value:t,loading:!e})})}const U2=F.div.withConfig({displayName:"TreeSetter__TreeSetterWrapper",componentId:"sc-rnznlx-0"})([""]),w2=c.memo(({onChange:e,value:t,isHierarchyTree:n,style:r,viewList:a,viewFieldList:i})=>{const s=V("viz.control"),[l,d]=c.useState([]),u=c.useCallback((T,R)=>{d(T),e==null||e(T||[],R)},[e]);return c.useEffect(()=>{d(t||[])},[e,t]),o.jsxs(B2,{style:r,children:[o.jsx(Se,{optionFilterProp:"label",showSearch:!0,placeholder:s("selectView"),value:l==null?void 0:l[0],onChange:T=>{u([T],"view")},allowClear:!0,options:a}),!n&&o.jsx(Se,{optionFilterProp:"label",onChange:T=>{u([(l==null?void 0:l[0])||"",T],"viewField")},placeholder:s("selectViewField"),showSearch:!0,allowClear:!0,value:l==null?void 0:l[1],loading:!i,options:i})]})}),B2=F(Ge).withConfig({displayName:"AssistViewFields__StyleSpace",componentId:"sc-sn054i-0"})(["display:flex;> div{flex:1;}"]),F2=c.memo(({fieldRowData:e,form:t,getControllerConfig:n})=>{const[r,a]=c.useState([]),i=V("viz.control"),s=c.useCallback(S=>{a(S);const p=n(),f=[...S.slice()];t==null||t.setFieldsValue({config:{...p,valueOptions:f}})},[t,n]);c.useEffect(()=>{var p;const S=((p=n())==null?void 0:p.valueOptions)||[];a(S)},[t,n]);const l=c.useCallback(S=>{var I,O;const p=[...r],f=p.findIndex(N=>N.index===S.index);S.childIndex!==void 0?(O=(I=p[f])==null?void 0:I.children)==null||O.splice(S.childIndex,1,S):p.splice(f,1,S),s(p)},[s,r]),d=c.useCallback(()=>{const S=(r==null?void 0:r.length)||0,p={index:S,key:String(S),label:String(S),isSelected:!1},f=r==null?void 0:r.concat([p]);s(f)},[s,r]),u=c.useCallback(()=>{s(e)},[s,e]),T=S=>{const p=r.filter(f=>f.key!==S);s(p)},A=[{title:i("value"),dataIndex:"key",width:"30%",sorter:(S,p)=>String(S.key).localeCompare(p.key),editable:!0},{title:i("label"),dataIndex:"label",width:"40%",sorter:(S,p)=>String(S.key).localeCompare(p.key),editable:!0},{title:i("action"),dataIndex:"action",width:"30%",render:(S,p)=>o.jsxs(Ge,{children:[o.jsx(oe,{type:"link",danger:p.isSelected,onClick:()=>{l({...p,isSelected:!p.isSelected})},children:p.isSelected?i("unsetDefault"):i("setDefault")}),o.jsx(oe,{type:"link",onClick:()=>T(p.key),children:i("delete")})]})}].map(S=>S.editable?{...S,onCell:p=>({record:p,editable:S.editable,dataIndex:S.dataIndex,title:S.title,handleSave:l})}:S),E=c.useCallback((S,p)=>{const f=r[S],I=r.slice();I.splice(S,1),I.splice(p,0,f),a([...I])},[r]);return o.jsx(G2,{children:o.jsxs("div",{children:[o.jsxs(Ge,{children:[o.jsx(oe,{onClick:u,children:i("populate")}),o.jsx(oe,{onClick:d,type:"primary",children:"+"})]}),o.jsx(tD,{style:{marginTop:10},scroll:{y:240},dataSource:r,size:"small",bordered:!0,rowKey:S=>`${S.key}-${S.label}`,columns:A,pagination:!1,onRow:(S,p)=>({index:p,moveRow:E})})]})})}),G2=F.div.withConfig({displayName:"CustomOptions__Wrapper",componentId:"sc-1ww3fu1-0"})(["display:block;"]),H2=c.memo(({form:e,viewMap:t,controllerType:n})=>{const r=V("viz.control"),{orgId:a}=c.useContext(Wa),[i,s]=c.useState([]),[l,d]=c.useState([]),[u,T]=c.useState([]),[R,A]=c.useState(),[E,S]=c.useState([]),p=c.useMemo(()=>n===et.DropDownTree,[n]),f=c.useCallback(async x=>{const{data:M}=await Ne(`/views?orgId=${x}`),B=M.map(H=>({value:H.id,label:H.name}));S(B)},[]),I=c.useCallback(()=>e==null?void 0:e.getFieldValue("config"),[e]),O=c.useCallback(()=>{var x;return(x=e==null?void 0:e.getFieldValue("config"))==null?void 0:x.parentFields},[e]),N=c.useCallback(()=>{var x;return(x=e==null?void 0:e.getFieldValue("config"))==null?void 0:x.buildingMethod},[e]),h=c.useMemo(()=>n===et.MultiDropdownList||n===et.DropDownTree,[n]),m=c.useCallback(x=>x.map((M,B)=>({index:B,key:M==null?void 0:M[0],label:M==null?void 0:M[1],isSelected:!1})),[]),g=c.useCallback(async x=>{var X,W;if(!x)return{option:[],dataView:void 0};let{data:M}=await Ne(`/views/${x}`);if(!M)return{option:[],data:void 0};M&&(M=TI(M)),M!=null&&M.model&&(M.model=SI(M.model,M.type));const B=Og(M==null?void 0:M.model),H=((W=(X=JSON.parse(M.model||"{}"))==null?void 0:X.computedFields)==null?void 0:W.filter(J=>!ku(J==null?void 0:J.expression)))||[];return B?{option:B.concat(H).map(J=>({value:J.name,label:J.name})),dataView:{...M,meta:B,computedFields:H}}:{option:[],dataView:void 0}},[]),_=c.useCallback(x=>{const M=I();e==null||e.setFieldsValue({config:{...M,controllerValues:x}}),d(x)},[e,I]),L=c.useCallback(async(x,M,B)=>await mg(x,M,B,void 0),[]),P=c.useCallback(async(x,M)=>{const{option:B,dataView:H}=await g(x[0]);if(T(B),M!=="view"){const[j,...X]=x,W=O(),J=N();W&&X.push(...W);const q=await L(j,X,H);s((W==null?void 0:W.length)>0?iR(q==null?void 0:q.rows,J):m(q==null?void 0:q.rows))}},[m,L,O,g,N]),v=c.useCallback(async(x,M)=>{s([]),d([]),T([]),A(void 0);const B=I();if(!x||!(x!=null&&x[0])){e==null||e.setFieldsValue({config:{...B,assistViewFields:[],controllerValues:[],parentFields:void 0}});return}e==null||e.setFieldsValue({config:{...B,assistViewFields:x,controllerValues:[],parentFields:void 0}}),P(x,M)},[e,I,P]),D=c.useCallback(x=>{const M=I(),[B,H]=M.assistViewFields||[];A(x);const j=x?[B,H,x]:[B,H],X={...M,assistViewFields:j};e==null||e.setFieldsValue({config:X}),P(j)},[e,I,P]),b=c.useCallback(async(x,M)=>{var Z;const[B,...H]=x,{option:j,dataView:X}=await g(B);M&&H.push(...M);const W=await L(B,H,X),J=I(),q=N();s(M?iR(W==null?void 0:W.rows,q):m(W==null?void 0:W.rows)),T(j),J.valueOptionType==="common"&&(A((Z=J.assistViewFields)==null?void 0:Z[2]),J!=null&&J.controllerValues&&d(J==null?void 0:J.controllerValues))},[m,L,I,g,N]),C=c.useCallback(()=>{const x=I();x!=null&&x.valueOptionType||e==null||e.setFieldsValue({config:{...x,valueOptionType:"common"}});const M=x==null?void 0:x.assistViewFields,B=x==null?void 0:x.parentFields;M&&M[0]&&M[1]&&b(M,B)},[e,I,b]),y=c.useCallback(()=>{var x;return(x=I())==null?void 0:x.valueOptionType},[I]),w=c.useCallback(x=>{const M={...I(),parentFields:Array.isArray(x)?x:[x]};N()==="byHierarchy"&&(M.assistViewFields=M.assistViewFields.slice(0,1),x.length&&(M.assistViewFields=M.assistViewFields.concat(x[0]))),e==null||e.setFieldsValue({config:M}),P(M.assistViewFields||[])},[I,N,P,e]);return c.useEffect(()=>{setTimeout(()=>{C()},500)},[C]),c.useEffect(()=>{f(a)},[f,a]),o.jsx(j2,{children:o.jsxs($.Item,{label:r("valueConfig"),shouldUpdate:!0,style:{marginBottom:"0"},children:[o.jsx($.Item,{name:["config","valueOptionType"],validateTrigger:["onChange","onBlur"],rules:[{required:!0}],style:{marginBottom:"0"},hidden:p,children:o.jsx(Pe.Group,{children:hg.map(x=>o.jsx(Pe.Button,{value:x.value,children:r(x.value)},x.value))})}),o.jsx($.Item,{shouldUpdate:!0,children:()=>{var x;return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{name:["config","assistViewFields"],noStyle:!0,children:o.jsx(w2,{onChange:v,viewList:E,viewFieldList:u,isHierarchyTree:p&&N()==="byHierarchy",style:{margin:"6px 0"}})}),p&&o.jsx($.Item,{name:["config","parentFields"],noStyle:!0,children:o.jsx(x2,{mode:N()==="byHierarchy"?"multiple":void 0,onChange:w,viewFieldList:u,style:{margin:"6px 0"}})}),y()==="common"&&o.jsxs(Ge,{direction:"vertical",style:{width:"100%"},children:[!(p&&N()==="byHierarchy")&&o.jsx(Se,{showSearch:!0,placeholder:r("optionLabelField"),value:R,allowClear:!0,onChange:D,style:{width:"100%"},children:u==null?void 0:u.map(M=>o.jsx(Se.Option,{value:M.value,children:M.label},M.value))}),o.jsx($.Item,{name:["config","controllerValues"],children:(x=O())!=null&&x.length?o.jsx(vr,{placeholder:r("selectDefaultValue"),multiple:!0,allowClear:!0,treeData:i,style:{width:"100%"},dropdownStyle:{height:"300px",overflowY:"auto"},dropdownRender:()=>o.jsx(V2,{checkedKeys:l,onCheck:M=>_(M==null?void 0:M.checked),checkable:!0,checkStrictly:!0,titleRender:M=>o.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{children:M.title||M.key}),o.jsx(tA,{children:M.key})]}),treeData:i})}):o.jsx(Se,{showSearch:!0,placeholder:r("selectDefaultValue"),value:l,allowClear:!0,...h&&{mode:"multiple"},onChange:_,style:{width:"100%"},children:i.map(M=>o.jsx(Se.Option,{value:M.key,children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",height:"100%"},children:[o.jsx("span",{children:M.label||M.key}),o.jsx(tA,{children:M.key})]})},String(M.key)+String(M.label)))})})]}),y()==="custom"&&o.jsx(F2,{getControllerConfig:I,form:e,fieldRowData:i})]})}})]})})}),j2=F.div.withConfig({displayName:"ValuesOptionsSetter__Wrapper",componentId:"sc-152qr56-0"})([".transfer{padding:10px 0;}"]),tA=F.span.withConfig({displayName:"ValuesOptionsSetter__FieldKey",componentId:"sc-152qr56-1"})(["color:",";"],e=>e.theme.textColorDisabled),V2=F(Ng).withConfig({displayName:"ValuesOptionsSetter__TreeSelectProps",componentId:"sc-152qr56-2"})([".ant-tree-node-content-wrapper{width:100%;}.ant-tree-treenode{width:100%;}"]),Y2=({controllerType:e,form:t,viewMap:n})=>{const r=V("viz.control"),a=c.useCallback(()=>t==null?void 0:t.getFieldValue("config"),[t]),i=c.useMemo(()=>Cg.includes(e),[e]),s=c.useMemo(()=>gg.includes(e),[e]),l=c.useMemo(()=>e===et.Text,[e]),d=c.useMemo(()=>e===et.Value,[e]),u=c.useMemo(()=>e===et.RangeValue,[e]),T=c.useMemo(()=>e===et.Slider,[e]),R=()=>{const E=a();return{max:(E==null?void 0:E.maxValue)===0?0:(E==null?void 0:E.maxValue)||100,min:(E==null?void 0:E.minValue)===0?0:(E==null?void 0:E.minValue)||1}},A=()=>{var S,p;const E=a();return{step:((S=E==null?void 0:E.sliderConfig)==null?void 0:S.step)||1,showMarks:((p=E==null?void 0:E.sliderConfig)==null?void 0:p.showMarks)||!1}};return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{hidden:!0,noStyle:!0,preserve:!0,name:Vo,children:o.jsx(Se,{})}),o.jsx($.List,{name:X2,children:(E,S,{errors:p})=>E.map(f=>o.jsx(o.Fragment,{}))}),i&&o.jsx(H2,{controllerType:e,form:t,viewMap:n}),s&&o.jsx(M2,{controllerType:e,form:t}),l&&o.jsx(v2,{}),d&&o.jsx(O2,{label:r("defaultValue")}),u&&o.jsx(m2,{}),T&&o.jsx(o.Fragment,{children:o.jsx($.Item,{noStyle:!0,shouldUpdate:!0,children:()=>o.jsxs(o.Fragment,{children:[o.jsx(I2,{}),o.jsx(C2,{label:r("defaultValue"),style:{paddingRight:"10px"},maxValue:R().max,minValue:R().min,step:A().step,showMarks:A().showMarks})]})})})]})},Vo=["config","controllerValues"],uo=["config","controllerDate"],W2=[...uo,"pickerType"],$T=[...uo,"startTime"],nA=[...$T,"relativeOrExact"],Ki=[...$T,"relativeValue"],rA=[...$T,"exactValue"];[...Ki];[...Ki];[...Ki];const _d=[...uo,"endTime"],k2=[..._d,"relativeOrExact"],Ld=[..._d,"relativeValue"],$2=[..._d,"exactValue"];[...Ld];[...Ld];[...Ld];const X2=["config","valueOptions"],z2=["config","maxValue"],K2=["config","minValue"],J2=["config","radioButtonType"],q2=["config","sliderConfig","step"],Q2=["config","sliderConfig","showMarks"],Z2=c.memo(({controllerType:e,form:t,viewMap:n,otherStrFilterWidgets:r,boardVizs:a,wid:i})=>{const s=V("viz.board.setting"),l=V("viz.control"),d=V("global.button"),u=c.useMemo(()=>e===et.RadioGroup,[e]),T=c.useMemo(()=>e===et.DropDownTree,[e]),R=c.useMemo(()=>(a||[]).filter(E=>(E==null?void 0:E.id)!==i).map(E=>{var S;return(S=E==null?void 0:E.config)==null?void 0:S.name}).filter(Boolean),[a,i]),A=c.useMemo(()=>[et.Slider,et.RangeSlider].includes(e),[e]);return o.jsxs(e4,{children:[o.jsx($.Item,{name:"name",label:l("title"),rules:[{required:!0,message:s("requiredWidgetName")},()=>({validator(E,S){return S&&(R!=null&&R.some(p=>p===S))?Promise.reject(new Error(s("duplicateWidgetName"))):Promise.resolve()}})],children:o.jsx(Ae,{})}),T&&o.jsx(p2,{form:t}),o.jsx(Y2,{controllerType:e,form:t,viewMap:n}),A&&o.jsxs(o.Fragment,{children:[o.jsx(E2,{label:l("step")}),o.jsx(d2,{label:l("showMark"),switchTexts:[d("open"),d("close")]})]}),o.jsx(R2,{controllerType:e}),u&&o.jsx(c2,{}),o.jsx(i2,{otherStrFilterWidgets:r,form:t})]})}),e4=F.div.withConfig({displayName:"ControllerConfig__Wrapper",componentId:"sc-fezts7-0"})(["display:flex;flex-direction:column;overflow-y:auto;.hide-item{display:none;}"]),aA=Se.Option,oA=Pe.Button,t4=Pe.Group,n4=c.memo(({viewMap:e,form:t,queryVariables:n,controllerType:r,getFormRelatedViews:a})=>{const i=V("viz.associate"),s=c.useCallback(A=>{const S=a()[A].relatedCategory===At.Variable,p=mL(r);return S&&p},[r,a]),l=async(A,E)=>E?Array.isArray(E)&&E.length!==2?Promise.reject(new Error(i("valueErr"))):Promise.resolve(E):Promise.reject(new Error(i("noValueErr"))),d=c.useCallback(A=>E=>{const S=a();S[A].relatedCategory=E.target.value,S[A].fieldValue=void 0,t==null||t.setFieldsValue({relatedViews:S})},[t,a]),u=c.useCallback(A=>(E,S)=>{var I;const p=a(),f=Array.isArray(S)?(I=S[0])==null?void 0:I.fieldvaluetype:S==null?void 0:S.fieldvaluetype;p[A].fieldValue=E,p[A].fieldValueType=f,t==null||t.setFieldsValue({relatedViews:p})},[a,t]),T=c.useCallback(A=>{var S,p,f,I,O;const E=a();if(!E)return null;if(E[A].relatedCategory===At.Variable)return n.filter(N=>N.viewId===E[A].viewId||!N.viewId).filter(N=>TR(r,N.valueType)).map(N=>o.jsx(aA,{fieldvaluetype:N.valueType,value:N.name,children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{children:N.name}),o.jsx(iA,{children:N.valueType})]})},N.id));{const N=((p=(S=e==null?void 0:e[E[A].viewId])==null?void 0:S.computedFields)==null?void 0:p.filter(h=>!ku(h==null?void 0:h.expression)&&h.isViewComputedFields))||[];return(O=(I=(f=e==null?void 0:e[E[A].viewId])==null?void 0:f.meta)==null?void 0:I.concat(N))==null?void 0:O.filter(h=>TR(r,h.type)).map(h=>o.jsx(aA,{fieldvaluetype:h.type,value:h.name,children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{children:h.name}),o.jsx(iA,{children:h.type})]})},h.name))}},[r,a,n,e]),R=c.useCallback(A=>{var p,f;const E=a();return((f=e[(p=E[A])==null?void 0:p.viewId])==null?void 0:f.name)||""},[a,e]);return o.jsxs(r4,{children:[o.jsx("h3",{children:i("title")}),o.jsx($.List,{name:"relatedViews",rules:[{validator:async(A,E)=>Promise.resolve(E)}],children:(A,E,{errors:S})=>o.jsxs(o.Fragment,{children:[A.map((p,f)=>o.jsxs($.Item,{noStyle:!0,shouldUpdate:!0,children:[o.jsxs("div",{className:"relatedView",children:[o.jsx("h4",{children:R(f)}),o.jsx("div",{style:{width:"140px",textAlign:"right"},children:o.jsx($.Item,{...p,validateTrigger:["onChange","onClick","onBlur"],name:[p.name,"relatedCategory"],fieldKey:[p.fieldKey,"id"],children:o.jsxs(t4,{value:!0,size:"small",onChange:d(f),children:[o.jsx(oA,{value:At.Field,children:i("field")}),o.jsx(oA,{value:At.Variable,children:i("variable")})]})})})]}),o.jsx($.Item,{...p,shouldUpdate:!0,validateTrigger:["onChange","onClick","onBlur"],name:[p.name,"fieldValue"],fieldKey:[p.fieldKey,"id"],wrapperCol:{span:24},rules:[{validator:l}],children:o.jsx(Se,{showSearch:!0,placeholder:"",allowClear:!0,...s(f)&&{mode:"multiple"},onChange:u(f),children:T(f)})})]},f)),o.jsx($.Item,{children:o.jsx($.ErrorList,{errors:S})}),!A.length&&o.jsx(qr,{},"empty")]})})]})}),r4=F.div.withConfig({displayName:"RelatedViewForm__Wrapper",componentId:"sc-1a8gn08-0"})(["display:block;min-height:150px;overflow-y:auto;.relatedView{display:flex;height:40px;h4{flex:1;}.fieldType{flex-shrink:0;}}"]),iA=F.span.withConfig({displayName:"RelatedViewForm__FieldType",componentId:"sc-1a8gn08-1"})(["color:",";"],e=>e.theme.textColorDisabled),a4=c.memo(({widgets:e,relatedWidgets:t,onChange:n})=>{const r=V("viz.widget"),[a,i]=c.useState([]),s=d=>{n==null||n(d)};c.useEffect(()=>{if(!t||t.length===0){i([]);return}const d=t.map(u=>u.widgetId);i(d)},[t]);const l=c.useMemo(()=>[{title:r("widgetName"),render:d=>o.jsx("span",{children:d.config.name})},{title:r("widgetType"),render:d=>o.jsx("span",{children:d.config.type})}],[r]);return o.jsxs(o.Fragment,{children:[o.jsx("h3",{children:r("associatedWidget")}),o.jsx(ir,{rowKey:d=>d.id,rowSelection:{type:"checkbox",selectedRowKeys:a,onChange:s},size:"small",pagination:{pageSize:6},bordered:!0,columns:l,dataSource:e})]})}),o4=c.memo(({type:e,widgetId:t,controllerType:n})=>{const r=de(),a=V("viz.common.enum.controllerFacadeTypes"),i=V("global.modal.title"),{boardType:s,queryVariables:l}=c.useContext(Wa),d=!1,{onRefreshWidgetsByController:u}=c.useContext(br),T=U(WI),R=c.useMemo(()=>_g(T).filter(y=>y.id!==t),[T,t]),A=c.useMemo(()=>Lg(T,t),[T,t]),E=c.useMemo(()=>vg(T),[T]),S=U(Dg),[p,f]=c.useState([]),[I,O]=c.useState(!1);c.useEffect(()=>{O(!(!e||e==="hide"))},[e]);const[N]=$.useForm(),h=c.useMemo(()=>E[t]||void 0,[t,E]),m=c.useCallback(y=>{u(y)},[u,d]),g=c.useCallback(()=>N==null?void 0:N.getFieldValue("relatedViews"),[N]),_=c.useCallback(y=>{const w=g(),x=[];return y.forEach(M=>{const B=w==null?void 0:w.find(j=>j.viewId===M.viewId&&S[j.viewId]);if(!x.find(j=>j.viewId===M.viewId&&S[j.viewId]))if(B)x.push({...B});else{const j=S[M.viewId];if(!j)return;const X={viewId:j.id,relatedCategory:At.Field,fieldValue:"",fieldValueType:be.STRING};x.push(X)}}),x},[g,S]),L=c.useCallback(y=>{N==null||N.setFieldsValue({relatedViews:y})},[N]);c.useEffect(()=>{var H;if(!h||!(h!=null&&h.relations)){N.setFieldsValue({config:SR(hL(n),n),relatedViews:[]});return}const y=h.config.content,x=(h==null?void 0:h.relations).filter(j=>E[j.targetId]).map(j=>{var W;return{widgetId:j.targetId,viewId:(W=E[j.targetId].viewIds)==null?void 0:W[0]}});f(x),L(_(x));const M=(H=y.relatedViews)==null?void 0:H.filter(j=>j.viewId);N==null||N.setFieldsValue({relatedViews:M});const{config:B}=y;N.setFieldsValue({...y,relatedViews:M,config:SR(B,n)})},[h,n,N,E,L,_]);const P=c.useCallback(y=>{if(!n)return;O(!1);const{relatedViews:w,config:x,name:M}=y;if(e==="add"){const B=sR({sourceId:void 0,relatedWidgets:p,widgetMap:E,config:x}),H={type:n,relatedViews:w,name:M,config:RR(x,n)},j=lR(x),X=_o.toolkit(n).create({boardType:s,name:M,relations:B,content:H,viewIds:j});r(pT([X])),r(mR(X.id)),m(X)}else if(e==="edit"){const B=sR({sourceId:h.id,relatedWidgets:p,widgetMap:E,config:x}),H={...h.config.content,name:M,relatedViews:w,config:RR(x,n)},j=kt(h,X=>{X.relations=B,X.config.name=M,X.config.content=H,X.viewIds=lR(x)});r($i.updateWidget(j)),r(mR(j.id)),m(j)}},[s,n,h,r,m,p,e,E]),v=c.useCallback(()=>{N.submit()},[N]),D={labelCol:{span:4},wrapperCol:{span:20}},b=c.useCallback(()=>{N.resetFields(),f([]),r(Vc.changeControllerPanel({type:"hide",widgetId:"",controllerType:void 0}))},[r,N]),C=y=>{const w=y.map(x=>{var B;return{widgetId:x,viewId:(B=E[x].viewIds)==null?void 0:B[0]}});f(w),L(_(w))};return o.jsx(Dn,{title:`${i(e)}${a(n||"")}`,open:I,onOk:v,centered:!0,destroyOnClose:!0,width:1160,afterClose:b,onCancel:()=>O(!1),forceRender:!0,children:o.jsx($,{form:N,size:"middle",...D,requiredMark:!1,onFinish:P,preserve:!0,children:o.jsxs(i4,{className:"datart-split",children:[o.jsx("div",{children:I&&o.jsx(Z2,{controllerType:n,otherStrFilterWidgets:A,boardType:s,viewMap:S,form:N,boardVizs:T,wid:t})}),o.jsxs("div",{className:"split-left",children:[o.jsx(a4,{relatedWidgets:p,widgets:R,onChange:C}),o.jsx(n4,{controllerType:n,form:N,viewMap:S,queryVariables:l,getFormRelatedViews:g})]})]})})})}),i4=F(oa).withConfig({displayName:"ControllerWidgetPanel__Container",componentId:"sc-1vqp7ul-0"})(["display:flex;flex:1;.split-left{padding:",";background-color:",";border-right:1px solid ",";}"],Le,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit),s4=c.memo(({boardId:e})=>{Yc();const t=de(),n=ja(),r=U(nD),a=U(rD),i=U(aD),s=U(oD),l=c.useCallback(()=>{t(Vc.changeChartEditorProps(void 0))},[t]),d=c.useCallback((R,A,E)=>{const S=i==null?void 0:i.widgetId;t(iD({widgetId:S,dataChart:A,view:E})),l(),t(sD(E.variables))},[i==null?void 0:i.widgetId,t,l]),u=c.useMemo(()=>{var A;if(!r.id||(r==null?void 0:r.id)!==e)return null;const R=(A=r.config)==null?void 0:A.type;return o.jsxs(NL,{board:r,editing:!0,autoFit:!1,allowDownload:!1,allowShare:!1,allowManage:!1,renderMode:"edit",children:[o.jsx(BG,{}),R==="auto"&&o.jsx(e2,{}),R==="free"&&o.jsx(a2,{}),s.type!=="hide"&&o.jsx(o4,{...s}),i&&o.jsx(YT,{...i,onClose:l,onSaveInWidget:d})]})},[r,e,s,i,l,d]),T=c.useCallback(async()=>{await t(lD(e));const R=n.state;try{if(R!=null&&R.widgetInfo){const A=JSON.parse(R.widgetInfo);if(A){let E="dataChart";A.dataChart.id||(A.dataChart.id=`${Jf}${e}_${yt()}`,E="widgetChart"),t(cD({boardId:e,chartId:A.dataChart.id,boardType:A.dashboardType,dataChart:A.dataChart,view:A.dataview,subType:E}))}}}catch{}},[t,n.state,e]);return c.useEffect(()=>(T(),()=>{l(),t(VI()),t(bg({dashboardRelId:e})),Pg.clearMapByBoardId(yg+e)}),[l]),o.jsx(l4,{children:o.jsxs(Gc,{backend:Fc,children:[u,a&&o.jsx(CL,{})]})})}),l4=F.div.withConfig({displayName:"BoardEditor__StyledBoardEditor",componentId:"sc-ld3qmx-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:",";display:flex;flex-direction:column;padding-bottom:0;background-color:",";"],Nc,e=>e.theme.bodyBackground),c4=async e=>{const{data:t}=await Ne({url:`/orgs/invite/confirm?token=${e}`,method:"GET"});return t},d4=()=>{const e=Ve(),t=V("confirmInvite"),n=c.useCallback(r=>{c4(r).then(()=>{Ie.success(t("join")),e("/")})},[e,t]);return c.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("invite_token");a&&n(a)},[]),o.jsx(E4,{children:o.jsx(fs,{loading:!0,title:t("confirming")})})},E4=F.div.withConfig({displayName:"ConfirmInvitePage__Wrapper",componentId:"sc-19u742u-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;"]),u4=c.memo(({formProps:e,afterClose:t,...n})=>{const[r,a]=c.useState([]),i=c.useRef(),s=V("member.form"),l=V("global.validation"),d=c.useMemo(()=>Yn(async A=>{if(!A.trim())a([]);else{const{data:E}=await Ne(`/users/search?keyword=${A}`);a(E.map(({email:S,username:p,name:f})=>({key:p,value:S,label:`${f?`[${f}]`:""}${S}`})))}},$t),[]),u=c.useCallback((R,A)=>{const{key:E,value:S,label:p}=A;return(E==null?void 0:E.includes(R))||S.toString().includes(R)||(p==null?void 0:p.toString().includes(R))},[]),T=c.useCallback(()=>{var R;(R=i.current)==null||R.resetFields(),a([]),t&&t()},[t]);return o.jsxs(aa,{formProps:e,...n,afterClose:T,ref:i,children:[o.jsx($.Item,{name:"emails",rules:[{required:!0,message:`${s("email")}${l("required")}`}],children:o.jsx(Se,{mode:"tags",placeholder:s("search"),options:r,filterOption:u,onSearch:d})}),o.jsx($.Item,{name:"sendMail",valuePropName:"checked",initialValue:!0,children:o.jsx(bn,{children:s("needConfirm")})})]})}),T4=c.memo(()=>{const[e,t]=c.useState(!1),n=de(),r=Ve(),a=U(gc),i=U(Be),s=U(xc),l=U(sT),d=U(gL),{memberId:u}=mt(),T=V("member.sidebar"),{filteredData:R,debouncedSearch:A}=Nt(s,(N,h)=>(h.name||"").toLowerCase().includes(N.toLowerCase())||h.username.toLowerCase().includes(N.toLowerCase())||h.email.toLowerCase().includes(N.toLowerCase()));c.useEffect(()=>{n($r(i))},[n,i]);const E=c.useCallback(()=>{t(!0)},[]),S=c.useCallback(()=>{t(!1)},[]),p=c.useCallback(N=>{n(_L({params:{...N,orgId:i},resolve:({success:h,fail:m})=>{const g=[],_=[];N.sendMail?h.length>0&&g.push(T("inviteSuccess")):h.length>0&&n($r(i)),m.length>0&&(g.push(T("invalidEmail")),m.forEach(L=>{_.push(o.jsx("p",{children:L}))})),g.length>0&&Dn.info({title:g.join(""),content:o.jsx(p4,{children:_}),maskClosable:!1}),t(!1)}}))},[n,i,T]),f=c.useCallback(N=>()=>{r(`/organizations/${i}/members/${N}`)},[r,i]),I=c.useCallback(()=>{f("add")()},[f]),O=c.useMemo(()=>({key:"list",subTitle:T("memberTitle"),search:!0,add:(a==null?void 0:a.tenantManagementMode)===zu.Platform?{items:[{key:"invite",text:T("inviteMember")}],icon:o.jsx(MR,{}),callback:E}:{items:[{key:"add",text:T("addMember")}],icon:o.jsx(MR,{}),callback:I},onSearch:A}),[a,E,I,A,T]);return o.jsxs(S4,{children:[o.jsx(en,{...O}),o.jsx(R4,{children:o.jsx(Rn,{dataSource:R,loading:l&&{indicator:o.jsx(Zt,{})},renderItem:({id:N,name:h,email:m,username:g,avatar:_})=>o.jsx(Is,{selected:u===N,withAvatar:!0,onClick:f(N),children:o.jsx(Rn.Item.Meta,{avatar:o.jsx(Ma,{src:_,size:"large",children:g.substr(0,1).toUpperCase()}),title:`${h||g}`,description:m})})})}),o.jsx(u4,{title:T("inviteMember"),open:e,confirmLoading:d,onSave:p,onCancel:S,maskClosable:!1})]})}),S4=F.div.withConfig({displayName:"MemberList__Wrapper",componentId:"sc-1a0dd30-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;"]),R4=F.div.withConfig({displayName:"MemberList__ListWrapper",componentId:"sc-1a0dd30-1"})(["flex:1;overflow-y:auto;"]),p4=F.code.withConfig({displayName:"MemberList__Emails",componentId:"sc-1a0dd30-2"})(["padding:",";"],ye),A4=c.memo(()=>{const e=de(),t=Ve(),n=U(vo),r=U(lT),a=U(Be),{roleId:i}=mt(),s=V("member.sidebar"),{filteredData:l,debouncedSearch:d}=Nt(n,(A,E)=>E.name.toLowerCase().includes(A.toLowerCase()));c.useEffect(()=>{e(hr(a))},[e,a]);const u=c.useCallback(()=>{t(`/organizations/${a}/roles/add`)},[t,a]),T=c.useCallback(A=>()=>{t(`/organizations/${a}/roles/${A}`)},[t,a]),R=c.useMemo(()=>({key:"list",subTitle:s("roleTitle"),search:!0,add:{items:[{key:"add",text:s("addRole")}],icon:o.jsx(nr,{}),callback:u},onSearch:d}),[u,d,s]);return o.jsxs(f4,{children:[o.jsx(en,{...R}),o.jsx(I4,{children:o.jsx(Rn,{dataSource:l,loading:r&&{indicator:o.jsx(Zt,{})},renderItem:({id:A,name:E,description:S})=>o.jsx(Is,{selected:i===A,onClick:T(A),withAvatar:!0,children:o.jsx(Rn.Item.Meta,{title:E,description:S||"-"})})})})]})}),f4=F.div.withConfig({displayName:"RoleList__Wrapper",componentId:"sc-14e1ldo-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;"]),I4=F.div.withConfig({displayName:"RoleList__ListWrapper",componentId:"sc-14e1ldo-1"})(["flex:1;overflow-y:auto;"]),O4=c.memo(()=>{const[e,t]=c.useState(""),n=Ve(),r=U(Be),{pathname:a}=nC(""),i=V("member.sidebar");c.useEffect(()=>{const d=a.split("/");t(d[d.length-1])},[a]);const s=c.useMemo(()=>[{key:"members",icon:o.jsx(nc,{}),text:i("member")},{key:"roles",icon:o.jsx(Xc,{}),text:i("role")}],[i]),l=c.useCallback(d=>{n(`/organizations/${r}/${d}`)},[n,r]);return o.jsxs(m4,{children:[o.jsx(fT,{titles:s,selectedKey:e,onSelect:l}),e==="members"&&o.jsx(T4,{}),e==="roles"&&o.jsx(A4,{})]})}),m4=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-b8t6nu-0"})(["display:flex;flex-direction:column;flex-shrink:0;width:320px;padding:"," 0;background-color:",";border-right:1px solid ",";"],Le,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit);function sA(){return Do(),o.jsxs(h4,{children:[o.jsx(O4,{}),o.jsx(is,{})]})}const h4=F.div.withConfig({displayName:"MemberPage__Container",componentId:"sc-13gb2ze-0"})(["display:flex;flex:1;"]);function N4(){const[e,t]=c.useState(ue.Add),[n,r]=c.useState(!0),{actions:a}=Do(),i=de(),s=Ve(),l=U(gc),d=U(Be),u=U(xc),T=U(LL),R=U(vL),A=U(DL),E=U(bL),S=U(vo),p=U(lT),f=U(PL),{memberId:I}=mt(),[O]=$.useForm(),N=(l==null?void 0:l.tenantManagementMode)===zu.Platform,h=V("member.memberDetail"),m=V("global"),g=c.useCallback(()=>{O.resetFields(),i(a.clearEditingMember())},[i,O,a]);c.useEffect(()=>{i(hr(d))},[i,d]),c.useEffect(()=>{g(),I==="add"?(t(ue.Add),r(!0)):(t(ue.Edit),r(!1),u.length>0&&(i(a.initEditingMember(I)),i(yL({orgId:d,memberId:I}))))},[i,g,a,d,u,I]),c.useEffect(()=>{var y;T&&O.setFieldsValue({...T.info,roleIds:(y=T==null?void 0:T.roles)==null?void 0:y.map(({id:w})=>w)})},[O,T]),c.useEffect(()=>()=>{g()},[g]);const _=c.useCallback(y=>{y&&i(hr(d))},[i,d]),L=c.useCallback(()=>{r(!0)},[]),P=c.useCallback(()=>{O.submit()},[O]),v=c.useCallback(async y=>{await i(ML({type:e===ue.Add?"add":N?"update":"edit",orgId:d,...y,resolve:()=>{Ie.success(e===ue.Add?h("createSuccess"):m("operation.updateSuccess"))}}))},[i,d,e,N,h,m]),D=c.useCallback(()=>{i(xL({id:T.info.id,orgId:d,resolve:()=>{Ie.success(h("removeSuccess")),s(`/organizations/${d}/members`)}}))},[i,s,d,T,h]),b=c.useCallback(()=>{i(UL({id:T.info.id,orgId:d,resolve:()=>{Ie.success(h("deleteSuccess")),s(`/organizations/${d}/members`)}}))},[i,s,d,T,h]),C=c.useCallback(y=>()=>{if(T!=null&&T.info){const w={userId:T.info.id,orgId:d,resolve:()=>{Ie.success(h(y?"grantSuccess":"revokeSuccess"))}};i(y?wL(w):BL(w))}},[i,d,T,h]);return o.jsxs(C4,{children:[o.jsx(Uc,{title:e===ue.Add?h("titleAdd"):h("titleDetail"),actions:o.jsxs(o.Fragment,{children:[o.jsx(oe,{type:"primary",loading:A,onClick:P,children:m("button.save")}),e===ue.Edit&&o.jsxs(o.Fragment,{children:[T!=null&&T.info.orgOwner?o.jsx(oe,{loading:f,onClick:C(!1),danger:!0,children:h("revokeOwner")}):o.jsx(oe,{loading:f,onClick:C(!0),children:h("grantOwner")}),N?o.jsx(dt,{title:h("removeConfirm"),onConfirm:D,children:o.jsx(oe,{loading:E,danger:!0,children:h("remove")})}):o.jsx(dt,{title:h("deleteConfirm"),onConfirm:b,children:o.jsx(oe,{loading:E,danger:!0,children:h("delete")})})]})]})}),o.jsx(g4,{children:o.jsx(Ln,{bordered:!1,children:o.jsxs($,{name:"member_form_",form:O,labelAlign:"left",labelCol:{span:8},wrapperCol:{span:16},onFinish:v,children:[N?o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:h("username"),children:T==null?void 0:T.info.username}),o.jsx($.Item,{label:h("email"),children:T==null?void 0:T.info.email}),o.jsx($.Item,{label:h("name"),children:(T==null?void 0:T.info.name)||"-"})]}):o.jsxs(o.Fragment,{children:[e===ue.Edit&&o.jsx($.Item,{name:"id",hidden:!0,children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"username",label:h("username"),rules:[{required:!0,message:`${h("username")}${m("validation.required")}`},{}],children:o.jsx(Ae,{placeholder:h("username"),disabled:e===ue.Edit})}),o.jsx($.Item,{name:"email",label:h("email"),rules:[{required:!0,message:`${h("email")}${m("validation.required")}`},{type:"email"}],children:o.jsx(Ae,{type:"email",placeholder:h("email")})}),o.jsx($.Item,{name:"password",label:h("password"),rules:n?[{required:!0,message:`${h("password")}${m("validation.required")}`},{validator:nu(m("validation.invalidPassword"))}]:void 0,children:n?o.jsx(Ae.Password,{placeholder:h("password")}):o.jsx(oe,{type:"link",size:"small",onClick:L,children:h("changePassword")})}),o.jsx($.Item,{name:"name",label:h("name"),children:o.jsx(Ae,{placeholder:h("name")})}),o.jsx($.Item,{name:"description",label:h("description"),children:o.jsx(Ae.TextArea,{placeholder:h("description")})})]}),o.jsx($.Item,{name:"roleIds",label:h("roles"),children:R?o.jsx(Zt,{}):o.jsx(Se,{placeholder:h("assignRole"),mode:"multiple",optionFilterProp:"children",loading:p,onDropdownVisibleChange:_,children:S==null?void 0:S.map(({id:y,name:w})=>o.jsx(Se.Option,{value:y,children:w},y))})})]})})})]})}const C4=F.div.withConfig({displayName:"MemberDetailPage__Wrapper",componentId:"sc-4wvttx-0"})(["display:flex;flex:1;flex-direction:column;"]),g4=F.div.withConfig({displayName:"MemberDetailPage__Content",componentId:"sc-4wvttx-1"})(["flex:1;padding:",";overflow-y:auto;.ant-card{background-color:",";border-radius:",";box-shadow:",";}form{max-width:480px;}"],je,e=>e.theme.componentBackground,st,e=>e.theme.shadowBlock),_4=c.memo(({initialValues:e,onChange:t,onCancel:n,...r})=>{const[a,i]=c.useState([]),s=de(),l=c.useRef(),d=U(xc),u=U(sT),T=U(Be),R=c.useMemo(()=>d.map(p=>({...p,key:p.id})),[d]);c.useEffect(()=>{r.visible&&s($r(T))},[s,T,r.visible]),c.useEffect(()=>{i(e.map(({id:p})=>p))},[e]);const A=c.useCallback(()=>{t(a.map(p=>d.find(f=>f.id===p))),n&&n(null)},[a,d,n,t]),E=c.useCallback(({name:p,username:f,email:I})=>o.jsxs(v4,{children:[p&&o.jsx("span",{children:p}),f&&o.jsx("span",{children:` (${f})`}),I&&o.jsx("span",{className:"email",children:I})]}),[]),S=c.useCallback((p,f)=>[f.email,f.name,f.username].some(I=>I==null?void 0:I.includes(p.trim())),[]);return o.jsx(aa,{...r,onSave:A,onCancel:n,ref:l,children:o.jsx(L4,{children:o.jsx(Wc,{loading:u,children:o.jsx(dD,{dataSource:R,targetKeys:a,render:E,onChange:i,filterOption:S,showSearch:!0})})})})}),L4=F($.Item).withConfig({displayName:"MemberForm__TransferWrapper",componentId:"sc-8a471e-0"})(["position:relative;.ant-transfer-list{flex:1;height:",";}"],me(100)),v4=F.div.withConfig({displayName:"MemberForm__ItemTitle",componentId:"sc-8a471e-1"})([".email{margin-left:",";color:",";}"],Le,e=>e.theme.textColorLight),D4=c.memo(({loading:e,dataSource:t,onAdd:n,onChange:r})=>{const[a,i]=c.useState(""),[s,l]=c.useState([]),d=V("member.roleDetail"),u=V("global"),T=c.useMemo(()=>t.filter(({username:p,email:f,name:I})=>p.toLowerCase().includes(a)||f.toLowerCase().includes(a)||I&&I.toLowerCase().includes(a)),[t,a]),R=c.useMemo(()=>Yn(f=>{i(f.target.value)},$t),[]),A=c.useCallback(p=>()=>{r(t.filter(f=>f.id!==p)),l([])},[t,r]),E=c.useCallback(()=>{r(t.filter(p=>!s.includes(p.id))),l([])},[t,s,r]),S=c.useMemo(()=>[{dataIndex:"username",title:d("username")},{dataIndex:"email",title:d("email")},{dataIndex:"name",title:d("name")},{title:u("title.action"),width:80,align:"center",render:(p,f)=>o.jsx(P4,{onClick:A(f.id),children:d("remove")})}],[A,d,u]);return o.jsxs(o.Fragment,{children:[o.jsxs(b4,{children:[o.jsx(pt,{span:4,children:o.jsx(oe,{type:"link",icon:o.jsx(nr,{}),className:"btn",onClick:n,children:d("addMember")})}),o.jsx(pt,{span:14,children:s.length>0&&o.jsx(oe,{type:"link",icon:o.jsx(it,{}),className:"btn",onClick:E,children:d("deleteAll")})}),o.jsx(pt,{span:6,children:o.jsx(Ae,{placeholder:d("searchMember"),prefix:o.jsx(Dr,{className:"icon"}),bordered:!1,onChange:R})})]}),o.jsx(ir,{rowKey:"id",dataSource:T,columns:S,loading:e,size:"small",rowSelection:{selectedRowKeys:s,onChange:l},bordered:!0})]})}),b4=F(Mt).withConfig({displayName:"MemberTable__Toolbar",componentId:"sc-2eoti2-0"})([".btn{padding:",";}.icon{color:",";}"],ot,e=>e.theme.textColorLight),P4=F.a.withConfig({displayName:"MemberTable__Action",componentId:"sc-2eoti2-1"})([""]);function y4(){const[e,t]=c.useState(ue.Add),[n,r]=c.useState(!1),[a,i]=c.useState([]),{actions:s}=Do(),l=de(),d=Ve(),u=U(Be),T=U(vo),R=U(FL),A=U(GL),E=U(HL),S=V("member.roleDetail"),p=V("global"),{roleId:f}=mt(),[I]=$.useForm(),O=c.useCallback(()=>{I.resetFields(),l(s.clearEditingRole())},[l,I,s]);c.useEffect(()=>{O(),f==="add"?t(ue.Add):T.length>0&&(t(ue.Edit),l(s.initEditingRole(f)),l(jL(f)))},[l,O,s,T,f]),c.useEffect(()=>{R&&(I.setFieldsValue(R.info),i(R.members))},[l,I,s,R]),c.useEffect(()=>()=>{O()},[O]);const N=c.useCallback(()=>{r(!0)},[]),h=c.useCallback(()=>{r(!1)},[]),m=c.useCallback(_=>{switch(e){case ue.Add:l(YL({role:{..._,avatar:"",orgId:u},resolve:()=>{Ie.success(S("createSuccess")),O()}}));break;case ue.Edit:l(VL({role:{..._,orgId:u},members:a,resolve:()=>{Ie.success(p("operation.updateSuccess"))}}));break}},[l,u,e,a,O,S,p]),g=c.useCallback(()=>{l(WL({id:R.info.id,resolve:()=>{Ie.success(p("operation.deleteSuccess")),d(`/organizations/${u}/roles`)}}))},[l,d,u,R,p]);return o.jsxs(M4,{children:[o.jsx(Uc,{title:`${p(`modal.title.${e}`)}${S("role")}`,actions:o.jsxs(o.Fragment,{children:[o.jsx(oe,{type:"primary",loading:E,onClick:I.submit,children:p("button.save")}),e===ue.Edit&&o.jsx(dt,{title:p("operation.deleteConfirm"),onConfirm:g,children:o.jsx(oe,{danger:!0,children:`${p("button.delete")}${S("role")}`})})]})}),o.jsxs(x4,{children:[o.jsx(Ln,{bordered:!1,children:o.jsxs($,{name:"role_form_",form:I,labelAlign:"left",labelCol:{span:4},wrapperCol:{span:8},onFinish:m,children:[o.jsx($.Item,{name:"name",label:S("roleName"),validateFirst:!0,getValueFromEvent:_=>{var L;return(L=_.target.value)==null?void 0:L.trim()},rules:[{required:!0,message:`${S("roleName")}${p("validation.required")}`},{validator:Ur((_,L)=>L===(R==null?void 0:R.info.name)?Promise.resolve():sr("roles",{name:L,orgId:u}),$t)}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"description",label:S("description"),children:o.jsx(Ae.TextArea,{})}),e===ue.Edit&&o.jsx($.Item,{label:S("relatedMember"),wrapperCol:{span:17},children:o.jsx(D4,{loading:A,dataSource:a,onAdd:N,onChange:i})})]})}),o.jsx(_4,{title:S("addMember"),open:n,width:992,onCancel:h,initialValues:a,onChange:i})]})]})}const M4=F.div.withConfig({displayName:"RoleDetailPage__Wrapper",componentId:"sc-k29dbu-0"})(["display:flex;flex:1;flex-direction:column;"]),x4=F.div.withConfig({displayName:"RoleDetailPage__Content",componentId:"sc-k29dbu-1"})(["flex:1;padding:",";overflow-y:auto;.ant-card{background-color:",";border-radius:",";box-shadow:",";}form{max-width:960px;padding-top:",";}"],je,e=>e.theme.componentBackground,st,e=>e.theme.shadowBlock,ye),U4=e=>{const[t,n]=c.useState(""),r=de(),a=Ve(),i=U(Ku),s=U(Mg),l=t!==(i==null?void 0:i.name),d=V("orgSetting"),u=V("global"),T=c.useCallback(A=>{n(A.target.value)},[]),R=c.useCallback(()=>{r(xg(()=>{a("/"),Ie.success(u("operation.deleteSuccess"))}))},[r,a,u]);return o.jsx(Dn,{...e,footer:[o.jsx(oe,{onClick:e.onCancel,children:d("cancel")},"cancel"),o.jsx(oe,{loading:s,disabled:l,onClick:R,danger:!0,children:d("delete")},"confirm")],children:o.jsx($.Item,{children:o.jsx(Ae,{placeholder:d("enterOrgName"),value:t,onChange:T})})})};function w4(){const[e,t]=c.useState(!1),{actions:n}=vc(),[r,a]=c.useState(!1),i=de(),s=U(Ku),l=U(RI),[d]=$.useForm(),u=V("orgSetting"),T=V("global");c.useEffect(()=>{s&&d.setFieldsValue(s)},[d,s]);const R=c.useCallback(({file:p})=>{if(p.status==="done"){const f=p.response;f.success&&i(n.setCurrentOrganizationAvatar(f.data)),a(!1)}else a(!0)},[i,n]),A=c.useCallback(p=>{i(Ug({organization:{id:s==null?void 0:s.id,...p},resolve:()=>{Ie.success(T("operation.updateSuccess"))}}))},[i,s,T]),E=c.useCallback(()=>{t(!0)},[]),S=c.useCallback(()=>{t(!1)},[]);return o.jsxs(B4,{children:[o.jsx(Ln,{title:u("info"),children:o.jsxs($,{name:"org_form_",form:d,labelAlign:"left",labelCol:{offset:1,span:7},wrapperCol:{span:16},onFinish:A,children:[o.jsx($.Item,{label:u("avatar"),className:"avatar",children:o.jsx(Ma,{size:_c*20,src:`${Bu}${s==null?void 0:s.avatar}`,children:s==null?void 0:s.name.substr(0,1).toUpperCase()})}),o.jsx($.Item,{label:" ",colon:!1,children:o.jsx(Hc,{accept:".jpg,.jpeg,.png,.gif",method:"post",action:`${Fu}/files/org/avatar?orgId=${s==null?void 0:s.id}`,headers:{authorization:Gu()},className:"uploader",showUploadList:!1,onChange:R,children:o.jsx(oe,{type:"link",loading:r,children:u("clickToUpload")})})}),o.jsx($.Item,{name:"name",label:u("name"),getValueFromEvent:p=>{var f;return(f=p.target.value)==null?void 0:f.trim()},rules:[{required:!0,message:`${u("name")}${T("validation.required")}`},{validator:Ur((p,f)=>f===(s==null?void 0:s.name)?Promise.resolve():sr("orgs",{name:f}),$t)}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"description",label:u("description"),children:o.jsx(Ae.TextArea,{autoSize:{minRows:4,maxRows:8}})}),o.jsx($.Item,{label:" ",colon:!1,children:o.jsx(oe,{type:"primary",htmlType:"submit",loading:l,children:T("button.save")})})]})}),o.jsxs(Ln,{title:u("deleteOrg"),children:[o.jsx("h4",{className:"notice",children:u("deleteOrgDesc")}),o.jsx(oe,{danger:!0,onClick:E,children:u("deleteOrg")}),o.jsx(U4,{width:480,title:u("deleteOrg"),visible:e,onCancel:S})]})]})}const B4=F.div.withConfig({displayName:"OrgSettingPage__Wrapper",componentId:"sc-z6ljcx-0"})(["flex:1;padding:",";overflow-y:auto;.ant-card{margin-top:",";background-color:",";border-radius:",";box-shadow:",";&:first-of-type{margin-top:0;}}form{max-width:480px;padding-top:",";}.avatar{align-items:center;margin-bottom:0;}.notice{margin-bottom:",";}"],je,je,e=>e.theme.componentBackground,st,e=>e.theme.shadow1,ye,je),Nr=we("schedule/getSchedules",async e=>{const{data:t}=await Ne({url:"/schedules",method:"GET",params:{orgId:e}});return t}),vl=we("schedule/getArchivedSchedules",async e=>{const{data:t}=await Ne({url:"/schedules/archived",method:"GET",params:{orgId:e}});return t}),Di=we("schedule/getScheduleDetails",async e=>{const{data:t}=await Ne({url:`/schedules/${e}`,method:"GET"});return t}),bi=we("schedule/addSchedule",async({params:e,resolve:t})=>{const{data:n}=await Ne({url:"/schedules",method:"POST",data:e});return typeof t=="function"&&t(n==null?void 0:n.id),n}),Dl=we("schedule/editSchedule",async({params:e,resolve:t,scheduleId:n})=>{const{data:r}=await Ne({url:`/schedules/${n}`,method:"PUT",data:e});return typeof t=="function"&&t(),r}),Pi=we("schedule/unarchiveSchedule",async({schedule:e,resolve:t})=>(await Ne({url:`/schedules/unarchive/${e.id}`,method:"PUT",params:e}),t(),null)),To=we("schedule/deleteSchedule",async({id:e,archive:t,resolve:n})=>(await Ne({url:`/schedules/${e}`,method:"DELETE",params:{archive:t}}),n(),null)),bl=we("schedule/getScheduleErrorLogs",async({scheduleId:e,count:t})=>{const{data:n}=await Ne({url:`/schedules/logs/${e}`,method:"GET",params:{scheduleId:e,count:t}});return n}),yi=we("schedule/updateScheduleBase",async({schedule:e,resolve:t})=>(await Ne({url:`/schedules/${e.id}/base`,method:"PUT",data:e}),t(),e)),fm={schedules:[],archived:[],scheduleListLoading:!1,archivedListLoading:!1,editingSchedule:null,scheduleDetailsLoading:!1,saveLoading:!1,unarchiveScheduleLoading:!1,deleteLoading:!1,logs:[],logsLoading:!1,updateLoading:!1},gE=ss({name:"schedule",initialState:fm,reducers:{clearEditingSchedule(e){e.editingSchedule=null},setEditingScheduleActive(e,{payload:t}){e.editingSchedule&&(e.editingSchedule.active=t)},clearLogs(e){e.logs=[]}},extraReducers:e=>{e.addCase(Nr.pending,t=>{t.scheduleListLoading=!0}),e.addCase(Nr.fulfilled,(t,n)=>{t.scheduleListLoading=!1,t.schedules=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Nr.rejected,t=>{t.scheduleListLoading=!1}),e.addCase(vl.pending,t=>{t.archivedListLoading=!0}),e.addCase(vl.fulfilled,(t,n)=>{t.archivedListLoading=!1,t.archived=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(vl.rejected,t=>{t.archivedListLoading=!1}),e.addCase(Di.pending,t=>{t.scheduleDetailsLoading=!0}),e.addCase(Di.fulfilled,(t,n)=>{t.scheduleDetailsLoading=!1,t.editingSchedule={...n.payload,deleteLoading:!1}}),e.addCase(Di.rejected,t=>{t.scheduleDetailsLoading=!1}),e.addCase(bi.pending,t=>{t.saveLoading=!0}),e.addCase(bi.fulfilled,(t,n)=>{var r;t.saveLoading=!1,(r=t.schedules)==null||r.unshift({...n.payload,deleteLoading:!1})}),e.addCase(bi.rejected,t=>{t.saveLoading=!1}),e.addCase(Dl.pending,t=>{t.saveLoading=!0}),e.addCase(Dl.fulfilled,t=>{t.saveLoading=!1}),e.addCase(Dl.rejected,t=>{t.saveLoading=!1}),e.addCase(Pi.pending,t=>{t.unarchiveScheduleLoading=!0}),e.addCase(Pi.fulfilled,(t,n)=>{t.unarchiveScheduleLoading=!1,t.archived=t.archived.filter(({id:r})=>r!==n.meta.arg.schedule.id)}),e.addCase(Pi.rejected,t=>{t.unarchiveScheduleLoading=!1}),e.addCase(To.pending,(t,n)=>{var a,i;const r=((a=t.schedules)==null?void 0:a.find(({id:s})=>s===n.meta.arg.id))||((i=t.archived)==null?void 0:i.find(({id:s})=>s===n.meta.arg.id));r&&(r.deleteLoading=!0)}),e.addCase(To.fulfilled,(t,n)=>{t.schedules=t.schedules.filter(({id:r})=>r!==n.meta.arg.id),t.archived=t.archived.filter(({id:r})=>r!==n.meta.arg.id)}),e.addCase(To.rejected,(t,n)=>{var a,i;const r=((a=t.schedules)==null?void 0:a.find(({id:s})=>s===n.meta.arg.id))||((i=t.archived)==null?void 0:i.find(({id:s})=>s===n.meta.arg.id));r&&(r.deleteLoading=!1)}),e.addCase(bl.pending,t=>{t.logsLoading=!0}),e.addCase(bl.fulfilled,(t,n)=>{t.logsLoading=!1,t.logs=n.payload}),e.addCase(bl.rejected,t=>{t.logsLoading=!1}),e.addCase(yi.pending,t=>{t.updateLoading=!0}),e.addCase(yi.fulfilled,(t,n)=>{t.updateLoading=!1,t.schedules=t.schedules.map(r=>r.id===n.payload.id?{...r,...n.payload,parentId:n.payload.parentId||null,deleteLoading:!1}:r)}),e.addCase(yi.rejected,t=>{t.updateLoading=!1})}}),Bs=()=>(ls({key:gE.name,reducer:gE.reducer}),{actions:gE.actions}),Cr=we("source/getSources",async e=>{const{data:t}=await Ne({url:"/sources",method:"GET",params:{orgId:e}});return t}),Pl=we("source/getArchivedSources",async e=>{const{data:t}=await Ne({url:"/sources/archived",method:"GET",params:{orgId:e}});return t}),yl=we("source/getSource",async e=>{const{data:t}=await Ne(`/sources/${e}`);return t}),Mi=we("source/addSource",async({source:e,resolve:t},{getState:n,dispatch:r})=>{const{data:a}=await Ne({url:"/sources",method:"POST",data:e});return t(a.id),a}),Ml=we("source/editSource",async({source:e,resolve:t,reject:n})=>(await Ne({url:`/sources/${e.id}`,method:"PUT",data:e},void 0,{onRejected(r){n&&n()}}),t(),e)),xi=we("source/unarchiveSource",async({source:e,resolve:t})=>(await Ne({url:`/sources/unarchive/${e.id}`,method:"PUT",params:e}),t(),null)),So=we("source/deleteSource",async({id:e,archive:t,resolve:n})=>(await Ne({url:`/sources/${e}`,method:"DELETE",params:{archive:t}}),n(),null)),xl=we("source/syncSourceSchema",async({sourceId:e})=>{const{data:t}=await Ne({url:`/sources/sync/schemas/${e}`,method:"GET"});return t}),Ui=we("source/updateSourceBase",async({source:e,resolve:t})=>(await Ne({url:`/sources/${e.id}/base`,method:"PUT",data:e}),t(),e)),Im={sources:[],archived:[],editingSource:"",sourceListLoading:!1,archivedListLoading:!1,sourceDetailLoading:!1,saveSourceLoading:!1,unarchiveSourceLoading:!1,deleteSourceLoading:!1,currentCategory:"",syncSourceSchemaLoading:!1,updateLoading:!1},_E=ss({name:"source",initialState:Im,reducers:{clearEditingSource(e){e.editingSource=""},removeEditingSource(e,t){e.editingSource===t.payload&&(e.editingSource="")},addEditingSource(e,{payload:t}){e.editingSource=t.id},setCurrentCategory(e,{payload:t}){e.currentCategory=t.currentCategory}},extraReducers:e=>{e.addCase(Cr.pending,t=>{t.sourceListLoading=!0}),e.addCase(Cr.fulfilled,(t,n)=>{t.sourceListLoading=!1,t.sources=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Cr.rejected,t=>{t.sourceListLoading=!1}),e.addCase(Pl.pending,t=>{t.archivedListLoading=!0}),e.addCase(Pl.fulfilled,(t,n)=>{t.archivedListLoading=!1,t.archived=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Pl.rejected,t=>{t.archivedListLoading=!1}),e.addCase(yl.pending,t=>{t.sourceDetailLoading=!0}),e.addCase(yl.fulfilled,(t,n)=>{t.sourceDetailLoading=!1,t.sources=t.sources.map(r=>r.id===n.payload.id?{...n.payload,deleteLoading:!1}:r),t.editingSource=n.payload.id}),e.addCase(yl.rejected,t=>{t.sourceDetailLoading=!1}),e.addCase(Mi.pending,t=>{t.saveSourceLoading=!0}),e.addCase(Mi.fulfilled,(t,n)=>{t.saveSourceLoading=!1,t.sources.unshift({...n.payload,deleteLoading:!1})}),e.addCase(Mi.rejected,t=>{t.saveSourceLoading=!1}),e.addCase(Ml.pending,t=>{t.saveSourceLoading=!0}),e.addCase(Ml.fulfilled,(t,n)=>{t.saveSourceLoading=!1,t.sources=t.sources.map(r=>r.id===n.payload.id?{...n.payload,deleteLoading:!1}:r)}),e.addCase(Ml.rejected,t=>{t.saveSourceLoading=!1}),e.addCase(xi.pending,t=>{t.unarchiveSourceLoading=!0}),e.addCase(xi.fulfilled,(t,n)=>{t.unarchiveSourceLoading=!1,t.archived=t.archived.filter(r=>r.id!==n.meta.arg.source.id)}),e.addCase(xi.rejected,t=>{t.unarchiveSourceLoading=!1}),e.addCase(So.pending,t=>{t.deleteSourceLoading=!0}),e.addCase(So.fulfilled,(t,n)=>{t.deleteSourceLoading=!1,t.sources=t.sources.filter(r=>r.id!==n.meta.arg.id),t.archived=t.archived.filter(r=>r.id!==n.meta.arg.id)}),e.addCase(So.rejected,t=>{t.deleteSourceLoading=!1}),e.addCase(xl.pending,t=>{t.syncSourceSchemaLoading=!0}),e.addCase(xl.fulfilled,(t,n)=>{t.syncSourceSchemaLoading=!1}),e.addCase(xl.rejected,t=>{t.syncSourceSchemaLoading=!1}),e.addCase(Ui.pending,t=>{t.updateLoading=!0}),e.addCase(Ui.fulfilled,(t,n)=>{t.updateLoading=!1,t.sources=t.sources.map(r=>r.id===n.payload.id?{...r,...n.payload,parentId:n.payload.parentId||null,deleteLoading:!1}:r)}),e.addCase(Ui.rejected,t=>{t.updateLoading=!1})}}),Fs=()=>(ls({key:_E.name,reducer:_E.reducer}),{actions:_E.actions}),F4=["ABORT","ABORTSESSION","ABS","ABSOLUTE","ACCESS","ACCESSIBLE","ACCESS_LOCK","ACCOUNT","ACOS","ACOSH","ACTION","ADD","ADD_MONTHS","ADMIN","AFTER","AGGREGATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ALTERAND","AMP","ANALYSE","ANALYZE","AND","ANSIDATE","ANY","ARE","ARRAY","ARRAY_AGG","ARRAY_EXISTS","ARRAY_MAX_CARDINALITY","AS","ASC","ASENSITIVE","ASIN","ASINH","ASSERTION","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATAN","ATAN2","ATANH","ATOMIC","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVE","AVERAGE","AVG","BACKUP","BEFORE","BEGIN","BEGIN_FRAME","BEGIN_PARTITION","BETWEEN","BIGINT","BINARY","BIT","BLOB","BOOLEAN","BOTH","BREADTH","BREAK","BROWSE","BT","BUFFERPOOL","BULK","BUT","BY","BYTE","BYTEINT","BYTES","CALL","CALLED","CAPTURE","CARDINALITY","CASCADE","CASCADED","CASE","CASESPECIFIC","CASE_N","CAST","CATALOG","CCSID","CD","CEIL","CEILING","CHANGE","CHAR","CHAR2HEXINT","CHARACTER","CHARACTERS","CHARACTER_LENGTH","CHARS","CHAR_LENGTH","CHECK","CHECKPOINT","CLASS","CLASSIFIER","CLOB","CLONE","CLOSE","CLUSTER","CLUSTERED","CM","COALESCE","COLLATE","COLLATION","COLLECT","COLLECTION","COLLID","COLUMN","COLUMN_VALUE","COMMENT","COMMIT","COMPLETION","COMPRESS","COMPUTE","CONCAT","CONCURRENTLY","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONSTRUCTOR","CONTAINS","CONTAINSTABLE","CONTENT","CONTINUE","CONVERT","CONVERT_TABLE_HEADER","COPY","CORR","CORRESPONDING","COS","COSH","COUNT","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CS","CSUM","CT","CUBE","CUME_DIST","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_ROW","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURRVAL","CURSOR","CV","CYCLE","DATA","DATABASE","DATABASES","DATABLOCKSIZE","DATE","DATEFORM","DAY","DAYS","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DBCC","DBINFO","DEALLOCATE","DEC","DECFLOAT","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DEFINE","DEGREES","DEL","DELAYED","DELETE","DENSE_RANK","DENY","DEPTH","DEREF","DESC","DESCRIBE","DESCRIPTOR","DESTROY","DESTRUCTOR","DETERMINISTIC","DIAGNOSTIC","DIAGNOSTICS","DICTIONARY","DISABLE","DISABLED","DISALLOW","DISCONNECT","DISK","DISTINCT","DISTINCTROW","DISTRIBUTED","DIV","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","DSSIZE","DUAL","DUMP","DYNAMIC","EACH","ECHO","EDITPROC","ELEMENT","ELSE","ELSEIF","EMPTY","ENABLED","ENCLOSED","ENCODING","ENCRYPTION","END","END","ENDING","END_FRAME","END_PARTITION","EQ","EQUALS","ERASE","ERRLVL","ERROR","ERRORFILES","ERRORTABLES","ESCAPE","ESCAPED","ET","EVERY","EXCEPT","EXCEPTION","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTERNAL","EXTRACT","FALLBACK","FALSE","FASTEXPORT","FENCED","FETCH","FIELDPROC","FILE","FILLFACTOR","FILTER","FINAL","FIRST","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FLOOR","FOR","FORCE","FOREIGN","FORMAT","FOUND","FRAME_ROW","FREE","FREESPACE","FREETEXT","FREETEXTTABLE","FREEZE","FROM","FULL","FULLTEXT","FUNCTION","FUSION","GE","GENERAL","GENERATED","GET","GIVE","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","GROUPS","GT","HANDLER","HASH","HASHAMP","HASHBAKAMP","HASHBUCKET","HASHROW","HAVING","HELP","HIGH_PRIORITY","HOLD","HOLDLOCK","HOST","HOUR","HOURS","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","ILIKE","IMMEDIATE","IN","INCLUSIVE","INCONSISTENT","INCREMENT","INDEX","INDICATOR","INFILE","INHERIT","INITIAL","INITIALIZE","INITIALLY","INITIATE","INNER","INOUT","INPUT","INS","INSENSITIVE","INSERT","INSTEAD","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTEGERDATE","INTERSECT","INTERSECTION","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JOIN","JOURNAL","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_TABLE_PRIMITIVE","JSON_VALUE","KEEP","KEY","KEYS","KILL","KURTOSIS","LABEL","LAG","LANGUAGE","LARGE","LAST","LAST_VALUE","LATERAL","LC_CTYPE","LE","LEAD","LEADING","LEAVE","LEFT","LESS","LEVEL","LIKE","LIKE_REGEX","LIMIT","LINEAR","LINENO","LINES","LISTAGG","LN","LOAD","LOADING","LOCAL","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKING","LOCKMAX","LOCKSIZE","LOG","LOG10","LOGGING","LOGON","LONG","LONGBLOB","LONGTEXT","LOOP","LOWER","LOW_PRIORITY","LT","MACRO","MAINTAINED","MAP","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MATCHES","MATCH_NUMBER","MATCH_RECOGNIZE","MATERIALIZED","MAVG","MAX","MAXEXTENTS","MAXIMUM","MAXVALUE","MCHARACTERS","MDIFF","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIDDLEINT","MIN","MINDEX","MINIMUM","MINUS","MINUTE","MINUTES","MINUTE_MICROSECOND","MINUTE_SECOND","MLINREG","MLOAD","MLSLABEL","MOD","MODE","MODIFIES","MODIFY","MODULE","MONITOR","MONRESOURCE","MONSESSION","MONTH","MONTHS","MSUBSTR","MSUM","MULTISET","NAMED","NAMES","NATIONAL","NATURAL","NCHAR","NCLOB","NE","NESTED_TABLE_ID","NEW","NEW_TABLE","NEXT","NEXTVAL","NO","NOAUDIT","NOCHECK","NOCOMPRESS","NONCLUSTERED","NONE","NORMALIZE","NOT","NOTNULL","NOWAIT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NULLIF","NULLIFZERO","NULLS","NUMBER","NUMERIC","NUMPARTS","OBID","OBJECT","OBJECTS","OCCURRENCES_REGEX","OCTET_LENGTH","OF","OFF","OFFLINE","OFFSET","OFFSETS","OLD","OLD_TABLE","OMIT","ON","ONE","ONLINE","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPERATION","OPTIMIZATION","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","ORDINALITY","ORGANIZATION","OUT","OUTER","OUTFILE","OUTPUT","OVER","OVERLAPS","OVERLAY","OVERRIDE","PACKAGE","PAD","PADDED","PARAMETER","PARAMETERS","PART","PARTIAL","PARTITION","PARTITIONED","PARTITIONING","PASSWORD","PATH","PATTERN","PCTFREE","PER","PERCENT","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PERIOD","PERM","PERMANENT","PIECESIZE","PIVOT","PLACING","PLAN","PORTION","POSITION","POSITION_REGEX","POSTFIX","POWER","PRECEDES","PRECISION","PREFIX","PREORDER","PREPARE","PRESERVE","PREVVAL","PRIMARY","PRINT","PRIOR","PRIQTY","PRIVATE","PRIVILEGES","PROC","PROCEDURE","PROFILE","PROGRAM","PROPORTIONAL","PROTECTION","PSID","PTF","PUBLIC","PURGE","QUALIFIED","QUALIFY","QUANTILE","QUERY","QUERYNO","RADIANS","RAISERROR","RANDOM","RANGE","RANGE_N","RANK","RAW","READ","READS","READTEXT","READ_WRITE","REAL","RECONFIGURE","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGEXP","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELATIVE","RELEASE","RENAME","REPEAT","REPLACE","REPLICATION","REPOVERRIDE","REQUEST","REQUIRE","RESIGNAL","RESOURCE","RESTART","RESTORE","RESTRICT","RESULT","RESULT_SET_LOCATOR","RESUME","RET","RETRIEVE","RETURN","RETURNING","RETURNS","REVALIDATE","REVERT","REVOKE","RIGHT","RIGHTS","RLIKE","ROLE","ROLLBACK","ROLLFORWARD","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWCOUNT","ROWGUIDCOL","ROWID","ROWNUM","ROWS","ROWSET","ROW_NUMBER","RULE","RUN","RUNNING","SAMPLE","SAMPLEID","SAVE","SAVEPOINT","SCHEMA","SCHEMAS","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECOND_MICROSECOND","SECQTY","SECTION","SECURITY","SECURITYAUDIT","SEEK","SEL","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SENSITIVE","SEPARATOR","SEQUENCE","SESSION","SESSION_USER","SET","SETRESRATE","SETS","SETSESSRATE","SETUSER","SHARE","SHOW","SHUTDOWN","SIGNAL","SIMILAR","SIMPLE","SIN","SINH","SIZE","SKEW","SKIP","SMALLINT","SOME","SOUNDEX","SOURCE","SPACE","SPATIAL","SPECIFIC","SPECIFICTYPE","SPOOL","SQL","SQLEXCEPTION","SQLSTATE","SQLTEXT","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SQRT","SS","SSL","STANDARD","START","STARTING","STARTUP","STATE","STATEMENT","STATIC","STATISTICS","STAY","STDDEV_POP","STDDEV_SAMP","STEPINFO","STOGROUP","STORED","STORES","STRAIGHT_JOIN","STRING_CS","STRUCTURE","STYLE","SUBMULTISET","SUBSCRIBER","SUBSET","SUBSTR","SUBSTRING","SUBSTRING_REGEX","SUCCEEDS","SUCCESSFUL","SUM","SUMMARY","SUSPEND","SYMMETRIC","SYNONYM","SYSDATE","SYSTEM","SYSTEM_TIME","SYSTEM_USER","SYSTIMESTAMP","TABLE","TABLESAMPLE","TABLESPACE","TAN","TANH","TBL_CS","TEMPORARY","TERMINATE","TERMINATED","TEXTSIZE","THAN","THEN","THRESHOLD","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TINYBLOB","TINYINT","TINYTEXT","TITLE","TO","TOP","TRACE","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATE_CHK","TRANSLATE_REGEX","TRANSLATION","TREAT","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","TYPE","UC","UESCAPE","UID","UNDEFINED","UNDER","UNDO","UNION","UNIQUE","UNKNOWN","UNLOCK","UNNEST","UNPIVOT","UNSIGNED","UNTIL","UPD","UPDATE","UPDATETEXT","UPPER","UPPERCASE","USAGE","USE","USER","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALIDATE","VALIDPROC","VALUE","VALUES","VALUE_OF","VARBINARY","VARBYTE","VARCHAR","VARCHAR2","VARCHARACTER","VARGRAPHIC","VARIABLE","VARIADIC","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERBOSE","VERSIONING","VIEW","VIRTUAL","VOLATILE","VOLUMES","WAIT","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHIN_GROUP","WITHOUT","WLM","WORK","WRITE","WRITETEXT","XMLCAST","XMLEXISTS","XMLNAMESPACES","XOR","YEAR","YEARS","YEAR_MONTH","ZEROFILL","ZEROIFNULL","ZONE"],wi=we("variable/getVariables",async e=>{const{data:t}=await Ne({url:"/variables/org",method:"GET",params:{orgId:e}});return t}),Ul=we("variable/addVariable",async({variable:e,resolve:t})=>{const{data:n}=await Ne({url:"/variables",method:"POST",data:e});return t(),n}),wl=we("variable/editVariable",async({variable:e,resolve:t})=>(await Ne({url:"/variables",method:"PUT",data:[e]}),t(),e)),Bi=we("variable/deleteVariable",async({ids:e,resolve:t})=>(await Ne({url:"/variables",method:"DELETE",params:{variables:e.join(",")}}),t(),null)),Om={variables:[],variableListLoading:!1,saveVariableLoading:!1,deleteVariablesLoading:!1},LE=ss({name:"variable",initialState:Om,reducers:{},extraReducers:e=>{e.addCase(wi.pending,t=>{t.variableListLoading=!0}),e.addCase(wi.fulfilled,(t,n)=>{t.variableListLoading=!1,t.variables=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(wi.rejected,t=>{t.variableListLoading=!1}),e.addCase(Ul.pending,t=>{t.saveVariableLoading=!0}),e.addCase(Ul.fulfilled,(t,n)=>{t.saveVariableLoading=!1,t.variables.push({...n.payload,deleteLoading:!1})}),e.addCase(Ul.rejected,t=>{t.saveVariableLoading=!1}),e.addCase(wl.pending,t=>{t.saveVariableLoading=!0}),e.addCase(wl.fulfilled,(t,n)=>{t.saveVariableLoading=!1,t.variables=t.variables.map(r=>r.id===n.payload.id?{...n.payload,deleteLoading:!1}:r)}),e.addCase(wl.rejected,t=>{t.saveVariableLoading=!1}),e.addCase(Bi.pending,(t,n)=>{if(n.meta.arg.ids.length===1){const r=t.variables.find(({id:a})=>a===n.meta.arg.ids[0]);r&&(r.deleteLoading=!0)}else t.deleteVariablesLoading=!0}),e.addCase(Bi.fulfilled,(t,n)=>{t.deleteVariablesLoading=!1,t.variables=t.variables.filter(({id:r})=>!n.meta.arg.ids.includes(r))}),e.addCase(Bi.rejected,(t,n)=>{if(n.meta.arg.ids.length===1){const r=t.variables.find(({id:a})=>a===n.meta.arg.ids[0]);r&&(r.deleteLoading=!1)}else t.deleteVariablesLoading=!1})}}),mm=()=>(ls({key:LE.name,reducer:LE.reducer}),{actions:LE.actions}),vd=e=>e.variable||Om,XT=Re([vd],e=>e.variables),G4=Re([vd],e=>e.variableListLoading),H4=Re([vd],e=>e.saveVariableLoading),j4=Re([vd],e=>e.deleteVariablesLoading),yn=e=>e.view||hu,$n=Re([yn],e=>e.views),V4=Re([yn],e=>e.archived),Y4=()=>Re([$n,(e,t)=>t.getIcon,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e,null,[le.View],{getIcon:t,getDisabled:n})),W4=()=>Re([$n,(e,t)=>t.id,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e&&e.filter(r=>r.isFolder&&r.id!==t),null,[le.View],{getDisabled:n})),Dd=Re([yn],e=>e.editingViews),Gs=Re([yn],e=>e.currentEditingView),Yo=Re([Dd,Gs],(e,t)=>e.find(n=>n.id===t)),ge=Re([Yo,(e,t)=>t.name],(e,t)=>e&&e[t]),k4=Re([yn],e=>e.sourceDatabases),zT=Re([yn,(e,t)=>t.id],(e,t)=>{var n;return(n=e.sourceDatabaseSchema)==null?void 0:n[t]}),Wo=Re([yn],e=>e.sourceDatabaseSchema);Re([k4,(e,t)=>t.name],(e,t)=>t?e[t]:void 0);const $4=Re([yn],e=>e.viewListLoading),X4=Re([yn],e=>e.archivedListLoading);Re([yn],e=>e.selectTables);Re([yn],e=>e.currentEditor);const z4=Re([yn],e=>e.databaseSchemaLoading),Xr=we("view/getViews",async e=>{const{data:t}=await Ne(`/views?orgId=${e}`);return t}),Bl=we("view/getArchivedViews",async e=>{const{data:t}=await Ne(`/views/archived?orgId=${e}`);return t}),mu=we("view/getViewDetail",async({viewId:e},{dispatch:t,getState:n,rejectWithValue:r})=>{const a=$n(n()),i=Dd(n()),s=i.find(T=>T.id===e);if(s)return t(gr.switchCurrentEditingView(e)),s;if(La(e)){const T=cR({id:e,name:wg(i)});return t(gr.addEditingView(T)),T}const l=a==null?void 0:a.find(T=>T.id===e),d=cR({id:e,name:(l==null?void 0:l.name)||Pa.t("view.loading"),stage:We.Loading});t(gr.addEditingView(d));let{data:u}=await Ne(`/views/${e}`,void 0,{onRejected:T=>rC(T,r)});return u=TI(u),u.config=bI(u.config),u.model=SI(u==null?void 0:u.model,u.type),pI(u,null,d)}),Fi=we("source/getSchemaBySourceId",async(e,{getState:t})=>{if(zT(t(),{id:e}))return;const{data:r}=await Ne({url:`/sources/schemas/${e}`,method:"GET"});return{sourceId:e,data:r}}),Ji=we("view/runSql",async({script:e},{getState:t,dispatch:n})=>{const r=Yo(t()),a=Wo(t()),{sourceId:i,size:s,fragment:l,variables:d,type:u}=r;let T="",R=null,A="";if(e?R=e:u==="SQL"?T=r.script:R=r.script,!i)return n(gr.changeCurrentEditingView({stage:We.Initialized,error:zd(Error(Pa.t("view.selectSource")))})),{};if(u==="SQL"&&!T.trim())return n(gr.changeCurrentEditingView({stage:We.Initialized,error:zd(Error(Pa.t("view.sqlRequired")))})),{};u==="SQL"?A=l||T:A=Bg(R,a[r.sourceId]);let E="";u==="STRUCT"&&(E=Fg(R));const S=await Ne({url:"/data-provider/execute/test",method:"POST",data:{script:A,sourceId:i,size:s,scriptType:u,columns:E,variables:d.map(({name:p,type:f,valueType:I,defaultValue:O,expression:N})=>({name:p,type:f,valueType:I,values:O?JSON.parse(O):null,expression:N}))}},void 0,{onRejected:p=>{n(gr.changeCurrentEditingView({stage:We.Initialized,error:zd(p)}))}});return{...S==null?void 0:S.data,warnings:S==null?void 0:S.warnings,reqColumns:E}}),va=we("view/saveView",async({resolve:e,isSaveAs:t,currentView:n},{getState:r})=>{const a=t?n:Yo(r()),i=Be(r()),s=Wo(r()),l=(d,u,T)=>({...d,...u,config:d.config,model:d.model,variables:(u.variables||[]).map(R=>({...R,relVariableSubjects:u.relVariableSubjects})),isSaveAs:T});if(La(a.id)||t){const{data:d}=await Ne({url:"/views",method:"POST",data:dR(i,a,!1,s[a.sourceId],t)});return e&&e(),l(a,d,t)}else{const{data:d}=await Ne({url:`/views/${a.id}`,method:"PUT",data:dR(i,a,!0,s[a.sourceId],t)});return e&&e(),l(a,d,t)}}),Fl=we("view/saveFolder",async({folder:e,resolve:t},{getState:n})=>{const r=Be(n());if(e.id)return await Ne({url:`/views/${e.id}`,method:"PUT",data:e}),t&&t(),e;{const{data:a}=await Ne({url:"/views",method:"POST",data:{orgId:r,isFolder:!0,...e}});return t&&t(),a}}),Gi=we("view/updateViewBase",async({view:e,resolve:t})=>(await Ne({url:`/views/${e.id}/base`,method:"PUT",data:e}),t(),e)),qi=we("view/removeEditingView",async({id:e,resolve:t},{dispatch:n,getState:r})=>{n(gr.removeEditingView(e));const a=Gs(r());return t(a),null}),K4=we("view/closeOtherEditingViews",async({id:e,resolve:t},{dispatch:n,getState:r})=>{n(gr.closeOtherEditingViews(e));const a=Gs(r());return t(a),null}),J4=we("view/closeAllEditingViews",async({resolve:e},{dispatch:t,getState:n})=>(t(gr.closeAllEditingViews()),e(),null)),Gl=we("view/unarchiveView",async({view:{id:e,name:t,parentId:n,index:r},resolve:a},{dispatch:i})=>{try{return await Ne({url:`/views/unarchive/${e}`,method:"PUT",params:{name:t,parentId:n,index:r}}),a(),e}catch(s){throw gn(s),s}}),Hi=we("view/deleteView",async({id:e,archive:t,resolve:n},{dispatch:r})=>(await Ne({url:`/views/${e}`,method:"DELETE",params:{archive:t}}),n(),null)),KT=we("view/getEditorProvideCompletionItems",({sourceId:e,resolve:t},{getState:n})=>{const r=ge(n(),{name:"variables"}),a=XT(n()),i=new Set,s=new Set,l=new Set,d=new Set;if(e){const T=zT(n(),{id:e});T==null||T.forEach(R=>{var A;i.add(R.dbName),(A=R.tables)==null||A.forEach(E=>{var S;s.add(E.tableName),(S=E.columns)==null||S.forEach(p=>{l.add(p==null?void 0:p.name)})})})}return[].concat(r).concat(a).forEach(({name:T})=>{d.add(T)}),t((T,R)=>{const A=T.getWordUntilPosition(R),E={startLineNumber:R.lineNumber,endLineNumber:R.lineNumber,startColumn:A.startColumn,endColumn:A.endColumn};return{suggestions:[{detail:"SQL",keywords:F4},{detail:"Database",keywords:Array.from(i)},{detail:"Table",keywords:Array.from(s)},{detail:"Column",keywords:Array.from(l)},{detail:"Variable",keywords:Array.from(d)}].filter(({keywords:p})=>!!p).reduce((p,{detail:f,keywords:I})=>p.concat(I.map(O=>({label:O,detail:f,kind:OT.CompletionItemKind.Keyword,insertText:f==="Variable"?`$${O}$`:O,range:E}))),[])}}),null}),hu={views:void 0,archived:void 0,viewListLoading:!1,archivedListLoading:!1,editingViews:[],currentEditingView:"",sourceDatabases:{},sourceDatabaseSchema:{},saveViewLoading:!1,unarchiveLoading:!1,selectTables:[],currentEditor:"graph",databaseSchemaLoading:!1},Hl=ss({name:"view",initialState:hu,reducers:{changeCurrentEditor(e,t){e.currentEditor=t.payload},addEditingView(e,t){e.editingViews.push(t.payload),e.currentEditingView=t.payload.id},removeEditingView(e,t){e.editingViews=e.editingViews.filter(n=>n.id!==t.payload),e.currentEditingView===t.payload&&(e.editingViews.length>0?e.currentEditingView=e.editingViews[e.editingViews.length-1].id:e.currentEditingView="")},closeOtherEditingViews(e,t){e.editingViews=e.editingViews.filter(n=>n.id===t.payload),e.currentEditingView=e.editingViews[e.editingViews.length-1].id||""},closeAllEditingViews(e){e.editingViews=[],e.currentEditingView=""},switchCurrentEditingView(e,t){e.currentEditingView=t.payload},changeCurrentEditingView(e,t){const n=e.editingViews.find(r=>r.id===e.currentEditingView);if(n){const r=Object.entries(t.payload);r.forEach(([a,i])=>{n[a]=i}),r.length===1&&["fragment","size"].includes(r[0][0])||(n.touched=!0,["model","variables","columnPermissions"].includes(r[0][0])?n.stage=We.Saveable:n.stage>We.Fresh&&(n.stage=We.Initialized))}},initCurrentEditingStructViewScript(e,t){const n=e.editingViews.find(r=>r.id===e.currentEditingView);n&&Object.entries(t.payload).forEach(([a,i])=>{n[a]=i})},addTables(e,t){const{sourceId:n,databaseName:r,tables:a}=t.payload,i=e.sourceDatabases[n].find(({key:s})=>s===r);i&&(i.children=a.map(s=>({key:[r,s.name].join(String.fromCharCode(0)),title:s.name,type:"table",comment:s.comment,value:[r,s.name],columns:s.columns||[]})))},addSchema(e,t){const{sourceId:n,databaseName:r,tableName:a,schema:i}=t.payload,s=e.sourceDatabases[n].find(({key:l})=>l===r);if(s&&s.children){const l=s.children.find(({key:d})=>d.split(String.fromCharCode(0))[1]===a);l&&(l.children=i.map(d=>({key:[r,a,d.name].join(String.fromCharCode(0)),title:d.name,comment:d.comment,value:d,isLeaf:!0})))}},clear(e){Object.entries(hu).forEach(([t,n])=>{e[t]=n})}},extraReducers:e=>{e.addCase(Xr.pending,t=>{t.viewListLoading=!0}),e.addCase(Xr.fulfilled,(t,n)=>{t.viewListLoading=!1,t.views=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Xr.rejected,t=>{t.viewListLoading=!1}),e.addCase(Bl.pending,t=>{t.archivedListLoading=!0}),e.addCase(Bl.fulfilled,(t,n)=>{t.archivedListLoading=!1,t.archived=n.payload.map(r=>({...r,deleteLoading:!1}))}),e.addCase(Bl.rejected,t=>{t.archivedListLoading=!1}),e.addCase(mu.fulfilled,(t,n)=>{const r=t.editingViews.findIndex(i=>i.id===n.meta.arg.viewId),a={...n.payload,stage:n.payload.stage===We.Loading?We.Fresh:n.payload.stage};t.editingViews.splice(r,1,a)}),e.addCase(mu.rejected,(t,n)=>{const r=t.editingViews.find(a=>a.id===n.meta.arg.viewId);r.stage=We.NotLoaded,r.error=n.payload}),e.addCase(Ji.pending,(t,n)=>{const r=t.editingViews.find(a=>a.id===n.meta.arg.id);r&&(r.stage=We.Running,r.error="")}),e.addCase(Ji.fulfilled,(t,n)=>{const r=t.editingViews.find(a=>a.id===n.meta.arg.id);if(r&&n.payload&&n.payload.rows){const{model:a,dataSource:i}=AI(n.payload,r.model,r.type);r.model=Gg(a,r.type),r.previewResults=i,n.meta.arg.isFragment?r.stage=We.Initialized:r.stage=We.Saveable,n.payload.warnings&&(r.warnings=n.payload.warnings)}}),e.addCase(va.pending,(t,n)=>{const r=t.editingViews.find(i=>i.id===t.currentEditingView),a=n.meta.arg.isSaveAs;r&&!a&&(r.stage=We.Saving)}),e.addCase(va.fulfilled,(t,n)=>{if(!n.payload.isSaveAs){const r=t.editingViews.findIndex(a=>a.id===t.currentEditingView);t.editingViews.splice(r,1,{...n.payload,touched:!1,stage:We.Saved,originVariables:[...n.payload.variables],originColumnPermissions:[...n.payload.columnPermissions]}),t.currentEditingView=n.payload.id}if(t.views){const r=t.views.findIndex(R=>R.id===n.payload.id),{description:a="",id:i,index:s=0,isFolder:l=!1,name:d,parentId:u="",sourceId:T=""}=n.payload;r>=0?t.views.splice(r,1,{...t.views[r],name:d,parentId:u}):t.views.unshift({description:a,id:i,index:s,isFolder:l,name:d,parentId:u,sourceId:T,deleteLoading:!1})}}),e.addCase(va.rejected,t=>{const n=t.editingViews.find(r=>r.id===t.currentEditingView);n&&(n.stage=We.Saveable)}),e.addCase(Fl.pending,t=>{t.saveViewLoading=!0}),e.addCase(Fl.fulfilled,(t,n)=>{var r;t.saveViewLoading=!1,(r=t.views)==null||r.unshift({...n.payload,deleteLoading:!1})}),e.addCase(Fl.rejected,t=>{t.saveViewLoading=!1}),e.addCase(Gi.pending,t=>{t.saveViewLoading=!0}),e.addCase(Gi.fulfilled,(t,n)=>{var a;t.saveViewLoading=!1,t.views=(a=t.views)==null?void 0:a.map(i=>i.id===n.payload.id?{...i,...n.payload}:i);const r=t.editingViews.find(({id:i})=>i===n.payload.id);r&&Object.entries(n.payload).forEach(([i,s])=>{r[i]=s})}),e.addCase(Gi.rejected,t=>{t.saveViewLoading=!1}),e.addCase(Gl.pending,t=>{t.unarchiveLoading=!0}),e.addCase(Gl.fulfilled,(t,n)=>{var r;t.unarchiveLoading=!1,t.archived=(r=t.archived)==null?void 0:r.filter(({id:a})=>a!==n.meta.arg.view.id)}),e.addCase(Gl.rejected,t=>{t.unarchiveLoading=!1}),e.addCase(Hi.pending,(t,n)=>{var a,i;const r=((a=t.views)==null?void 0:a.find(({id:s})=>s===n.meta.arg.id))||((i=t.archived)==null?void 0:i.find(({id:s})=>s===n.meta.arg.id));r&&(r.deleteLoading=!0)}),e.addCase(Hi.fulfilled,(t,n)=>{var r,a;t.views=(r=t.views)==null?void 0:r.filter(i=>i.id!==n.meta.arg.id),t.archived=(a=t.archived)==null?void 0:a.filter(i=>i.id!==n.meta.arg.id)}),e.addCase(Hi.rejected,(t,n)=>{var a,i;const r=((a=t.views)==null?void 0:a.find(({id:s})=>s===n.meta.arg.id))||((i=t.archived)==null?void 0:i.find(({id:s})=>s===n.meta.arg.id));r&&(r.deleteLoading=!1)}),e.addCase(Hg.fulfilled,(t,n)=>{t.sourceDatabases[n.meta.arg]=n.payload.map(r=>({key:r,title:r,value:[r]}))}),e.addCase(Fi.pending,t=>{t.databaseSchemaLoading=!0}),e.addCase(Fi.rejected,t=>{t.databaseSchemaLoading=!1}),e.addCase(Fi.fulfilled,(t,n)=>{var r,a,i;t.databaseSchemaLoading=!1,(a=(r=n.payload)==null?void 0:r.data)!=null&&a.schemaItems&&(t.sourceDatabaseSchema[(i=n.payload)==null?void 0:i.sourceId]=n.payload.data.schemaItems)})}}),{actions:gr,reducer:ZK}=Hl,Mn=()=>(ls({key:Hl.name,reducer:Hl.reducer}),{actions:Hl.actions});function On(e){return e!==dn.Storyboard?[_e.Disable,_e.Disable,_e.Disable,_e.Disable]:[_e.Disable,_e.Disable,_e.Disable]}function Ei(e,t){return{id:e===le.Viz?t:e,name:Pa.t("permission.allResources"),type:e,parentId:null,index:null,isFolder:!0,permissionArray:On(t)}}function JT(e){return e===ke.Resource?ke.Subject:ke.Resource}const hm={folders:void 0,storyboards:void 0,views:void 0,sources:void 0,schedules:void 0,roles:void 0,members:void 0,folderListLoading:!1,storyboardListLoading:!1,viewListLoading:!1,sourceListLoading:!1,scheduleListLoading:!1,roleListLoading:!1,memberListLoading:!1,permissions:{[ke.Subject]:{loading:!1,permissionObject:void 0},[ke.Resource]:{loading:!1,permissionObject:void 0}}},vE=ss({name:"permission",initialState:hm,reducers:{},extraReducers:e=>{e.addCase($r.pending,t=>{t.memberListLoading=!0}),e.addCase($r.fulfilled,(t,n)=>{t.memberListLoading=!1,t.members=n.payload.map(({id:r,username:a,name:i})=>({id:r,name:i?`${i}(${a})`:a,type:Rt.UserRole,parentId:null,index:null,isFolder:!1,permissionArray:On()}))}),e.addCase($r.rejected,t=>{t.memberListLoading=!1}),e.addCase(hr.pending,t=>{t.roleListLoading=!0}),e.addCase(hr.fulfilled,(t,n)=>{t.roleListLoading=!1,t.roles=n.payload.map(({id:r,name:a})=>({id:r,name:a,type:Rt.Role,parentId:null,index:null,isFolder:!1,permissionArray:On()}))}),e.addCase(hr.rejected,t=>{t.roleListLoading=!1}),e.addCase(Nr.pending,t=>{t.scheduleListLoading=!0}),e.addCase(Nr.fulfilled,(t,n)=>{const r=Ei(le.Schedule);t.scheduleListLoading=!1,t.schedules=[r].concat(n.payload.map(({id:a,name:i,parentId:s,index:l,isFolder:d})=>({id:a,name:i,index:l,type:r.type,parentId:s===null?r.id:s,isFolder:d,permissionArray:On()})))}),e.addCase(Nr.rejected,t=>{t.scheduleListLoading=!1}),e.addCase(Cr.pending,t=>{t.sourceListLoading=!0}),e.addCase(Cr.fulfilled,(t,n)=>{const r=Ei(le.Source);t.sourceListLoading=!1,t.sources=[r].concat(n.payload.map(({id:a,name:i,parentId:s,index:l,isFolder:d})=>({id:a,name:i,index:l,type:le.Source,parentId:s===null?r.id:s,isFolder:d,permissionArray:On()})))}),e.addCase(Cr.rejected,t=>{t.sourceListLoading=!1}),e.addCase(Xr.pending,t=>{t.viewListLoading=!0}),e.addCase(Xr.fulfilled,(t,n)=>{const r=Ei(le.View);t.viewListLoading=!1,t.views=[r].concat(n.payload.map(({id:a,name:i,parentId:s,index:l,isFolder:d})=>({id:a,name:i,type:r.type,parentId:s===null?r.id:s,index:l,isFolder:d,permissionArray:On()})))}),e.addCase(Xr.rejected,t=>{t.viewListLoading=!1}),e.addCase(kr.pending,t=>{t.folderListLoading=!0}),e.addCase(kr.fulfilled,(t,n)=>{const r=Ei(le.Viz,dn.Folder);t.folderListLoading=!1,t.folders=[r].concat(n.payload.map(({id:a,name:i,parentId:s,index:l,relType:d,relId:u})=>({id:a,name:i,type:r.type,parentId:s===null?r.id:s,index:l,isFolder:d==="FOLDER",relType:d,relId:u,permissionArray:On()})))}),e.addCase(kr.rejected,t=>{t.folderListLoading=!1}),e.addCase(_i.pending,t=>{t.storyboardListLoading=!0}),e.addCase(_i.fulfilled,(t,n)=>{const r=Ei(le.Viz,dn.Storyboard);t.storyboardListLoading=!1,t.storyboards=[r].concat(n.payload.map(({id:a,name:i,parentId:s,index:l,isFolder:d})=>({id:a,name:i,type:r.type,parentId:s===null?r.id:s,index:l,isFolder:d,permissionArray:On()})))}),e.addCase(_i.rejected,t=>{t.storyboardListLoading=!1}),e.addCase(jl.pending,t=>{t.permissions[ke.Resource].loading=!0}),e.addCase(jl.fulfilled,(t,n)=>{t.permissions[ke.Resource].loading=!1,t.permissions[ke.Resource].permissionObject=n.payload}),e.addCase(jl.rejected,t=>{t.permissions[ke.Resource].loading=!1}),e.addCase(Vl.pending,t=>{t.permissions[ke.Subject].loading=!0}),e.addCase(Vl.fulfilled,(t,n)=>{t.permissions[ke.Subject].loading=!1,t.permissions[ke.Subject].permissionObject=n.payload}),e.addCase(Vl.rejected,t=>{t.permissions[ke.Subject].loading=!1}),e.addCase(_r.pending,t=>{}),e.addCase(_r.fulfilled,(t,n)=>{const{viewpoint:r,viewpointType:a,dataSourceType:i}=n.meta.arg.options;if(r===ke.Resource){const s=t.permissions[r].permissionObject;i===Rt.Role?s.rolePermissions=s.rolePermissions.filter(({resourceType:l})=>l!==a).concat(n.payload):s.userPermissions=s.userPermissions.filter(({resourceType:l})=>l!==a).concat(n.payload)}else{const s=t.permissions[r].permissionObject;s.permissionInfos=s.permissionInfos.filter(({resourceType:l})=>l!==i).concat(n.payload)}}),e.addCase(_r.rejected,t=>{})}}),Nm=()=>(ls({key:vE.name,reducer:vE.reducer}),{actions:vE.actions}),zt=e=>e.permission||hm,bd=Re([zt],e=>e.folders),qT=Re([zt],e=>e.storyboards),QT=Re([zt],e=>e.views),ZT=Re([zt],e=>e.sources),eS=Re([zt],e=>e.schedules),tS=Re([zt],e=>e.roles),nS=Re([zt],e=>e.members),rS=Re([zt],e=>e.folderListLoading),aS=Re([zt],e=>e.storyboardListLoading),oS=Re([zt],e=>e.viewListLoading),iS=Re([zt],e=>e.sourceListLoading),sS=Re([zt],e=>e.scheduleListLoading),lS=Re([zt],e=>e.roleListLoading),cS=Re([zt],e=>e.memberListLoading),Cm=Re([zt],e=>e.permissions),gm=()=>Re([Cm,(e,t)=>t.viewpoint,(e,t)=>t.dataSourceType],(e,t,n)=>{var r,a,i;if(t===ke.Resource){const s=e[t].permissionObject;return n===Rt.Role?(r=s==null?void 0:s.rolePermissions)==null?void 0:r.filter(({subjectType:l})=>l===n):(a=s==null?void 0:s.userPermissions)==null?void 0:a.filter(({subjectType:l})=>l===n)}else{const s=e[t].permissionObject;return(i=s==null?void 0:s.permissionInfos)==null?void 0:i.filter(({resourceType:l})=>l===n)}}),_m=Re([Cm,(e,t)=>t.viewpoint],(e,t)=>e[t].loading),jl=we("permission/getResourcePermission",async({orgId:e,type:t,id:n})=>{const{data:r}=await Ne({url:"/roles/permission/resource",method:"GET",params:{orgId:e,resourceType:t,resourceId:n}});return r}),Vl=we("permission/getSubjectPermission",async({orgId:e,type:t,id:n})=>{const{data:r}=await Ne({url:"/roles/permission/subject",method:"GET",params:{orgId:e,subjectType:t,subjectId:n}});return r}),lc=we("permission/getDataSource",async({viewpoint:e,dataSourceType:t},{getState:n,dispatch:r})=>{const a=bd(n()),i=qT(n()),s=QT(n()),l=ZT(n()),d=eS(n()),u=tS(n()),T=nS(n()),R=rS(n()),A=aS(n()),E=oS(n()),S=iS(n()),p=sS(n()),f=lS(n()),I=cS(n()),O=Be(n());switch(t){case Rt.Role:!u&&!f&&r(hr(O));break;case Rt.UserRole:!T&&!I&&r($r(O));break;case le.Viz:!a&&!R&&r(kr(O)),!i&&!A&&r(_i(O));break;case le.View:!s&&!E&&r(Xr(O));break;case le.Source:!l&&!S&&r(Cr(O));break;case le.Schedule:!d&&!p&&r(Nr(O));break}return null}),_r=we("permission/grantPermissions",async({params:e,options:t,resolve:n})=>{const{data:r}=await Ne({url:"/roles/permission/grant",method:"POST",data:e});return n(),t.reserved.concat(r)}),q4=c.memo(({defaultActiveKeys:e,activeKeys:t,children:n})=>{const r=c.useMemo(()=>{const a=[];return c.Children.forEach(n,i=>{i.type===Lm&&a.push(c.cloneElement(i,{defaultActiveKeys:e,activeKeys:t}))}),a},[e,t,n]);return o.jsx(Q4,{children:r})}),Lm=c.memo(({id:e,title:t,defaultActiveKeys:n,activeKeys:r,children:a,onChange:i})=>{const[s,l]=c.useState(n?n.includes(e):!1);c.useEffect(()=>{r&&l(r.includes(e))},[e,r]);const d=c.useCallback(()=>{l(!s),i&&i(!s,e)},[s,e,i]);return o.jsxs(Z4,{className:Ke({active:s}),children:[o.jsxs("div",{className:"title",onClick:d,children:[o.jsx(kL,{className:"prefix",rotate:s?90:0}),o.jsx("h4",{children:t})]}),o.jsx("div",{className:"content",children:a})]})}),Pd=Object.assign(q4,{Panel:Lm}),Q4=F.div.withConfig({displayName:"FlexCollapse__Container",componentId:"sc-dxugu0-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;margin-top:",";border-top:1px solid ",";"],ot,e=>e.theme.borderColorSplit),Z4=F.div.withConfig({displayName:"FlexCollapse__Block",componentId:"sc-dxugu0-1"})(["display:flex;flex-direction:column;min-height:0;border-bottom:1px solid ",";.title{display:flex;flex-shrink:0;align-items:center;padding:"," ",";cursor:pointer;.prefix{flex-shrink:0;margin-right:",";color:",";}h4{flex:1;font-weight:",";color:",";}}.content{display:none;flex:1;}&.active{flex:1;.prefix{color:",";}.title{h4{}}.content{display:block;overflow-y:auto;}}"],e=>e.theme.borderColorSplit,Le,ye,Le,e=>e.theme.textColorLight,nn,e=>e.theme.textColorLight,e=>e.theme.primary);function yd(e,t,n=$t,r=!1){const[a,i]=c.useState([]),{keywords:s,filteredData:l,debouncedSearch:d}=Nt(e,t,n,r),u=c.useMemo(()=>l&&s.trim()?aC(l):[],[s,l]),T=c.useCallback(R=>{i(R)},[]);return{keywords:s,filteredData:l,expandedRowKeys:u.length>0?u:a,onExpand:T,debouncedSearch:d,setExpandedRowKeys:i}}function vm({placeholder:e,onSearch:t}){return o.jsx(e3,{className:"search",children:o.jsx(pt,{span:24,children:o.jsx(Ae,{prefix:o.jsx(Dr,{className:"icon"}),placeholder:e,className:"search-input",bordered:!1,onChange:t})})})}const e3=F(Mt).withConfig({displayName:"Searchbar__Wrapper",componentId:"sc-cow8wb-0"})(["padding:"," 0;.icon{color:",";}.search-input{padding-left:",";}.ant-tree .ant-tree-treenode{padding-left:","px;}"],ot,e=>e.theme.textColorLight,ye,_c*2+2);function ua(e=[],t=[]){return e.forEach(n=>{const{children:r}=n;if(r&&r.length)return t.push(n),ua(r,t);t.push(n)}),t}const DE=c.memo(({loading:e,dataSource:t,onSelect:n})=>{const r=V("permission"),a=c.useMemo(()=>Wn(t,null,[]),[t]),{filteredData:i,expandedRowKeys:s,onExpand:l,debouncedSearch:d,setExpandedRowKeys:u,keywords:T}=yd(a,(E,S)=>S.name.toLowerCase().includes(E.toLowerCase()));c.useEffect(()=>{T.length&&a&&a.length>0?u(ua(a).map(({key:E})=>E)):!T.length&&a&&a.length>0&&u([a[0].key])},[a,u,T]);const R=c.useCallback((E,{node:S,nativeEvent:p})=>{p.stopPropagation();const{id:f,type:I}=S;n(f,I)()},[n]),A=c.useCallback(({id:E,title:S})=>o.jsx(kn,{children:o.jsx("h4",{children:`${S}`})}),[]);return o.jsxs(o.Fragment,{children:[o.jsx(vm,{placeholder:r("searchResources"),onSearch:d}),o.jsx(gt,{loading:e,treeData:i,titleRender:A,expandedKeys:s,icon:!1,onSelect:R,onExpand:l,id:"permissions"})]})}),{Panel:t3}=Pd,n3=c.memo(({viewpointType:e,onToggle:t,onToDetail:n})=>{const[r,a]=c.useState("folder"),[i,s]=c.useState("meta"),l=U(bd),d=U(qT),u=U(QT),T=U(ZT),R=U(eS),A=U(rS),E=U(aS),S=U(oS),p=U(iS),f=U(sS),I=V("permission"),O=c.useMemo(()=>[{type:le.Viz,dataSource:void 0,loading:!1},{type:le.View,dataSource:u,loading:S},{type:le.Source,dataSource:T,loading:p},{type:le.Schedule,dataSource:R,loading:f}],[u,T,R,S,p,f]),N=c.useCallback(m=>{a(m.target.value)},[]);c.useCallback(m=>{s(m.target.value)},[]);const h=c.useCallback((m,g,_)=>{switch(m){case le.Viz:return o.jsxs(o.Fragment,{children:[o.jsx(r3,{children:o.jsx(pt,{children:o.jsxs(Pe.Group,{value:r,onChange:N,children:[o.jsx(Pe,{value:"folder",children:I("folder")}),o.jsx(Pe,{value:"presentation",children:I("presentation")})]})})},"switch"),o.jsx(lA,{className:Ke({selected:r==="folder"}),children:o.jsx(DE,{loading:A,dataSource:l,onSelect:n})},"folder"),o.jsx(lA,{className:Ke({selected:r==="presentation"}),children:o.jsx(DE,{loading:E,dataSource:d,onSelect:n})},"persentation")]});default:return o.jsx(DE,{loading:g,dataSource:_,onSelect:n})}},[r,i]);return o.jsx(Pd,{defaultActiveKeys:e&&[e],children:O.map(({type:m,dataSource:g,loading:_})=>o.jsx(t3,{id:m,title:I(`module.${m.toLowerCase()}`),onChange:t,children:h(m,_,g)},m))})}),r3=F(Mt).withConfig({displayName:"ResourcePanels__VizTypeSwitch",componentId:"sc-1nxpwir-0"})(["padding:"," ",";"],Le,ye),lA=F.div.withConfig({displayName:"ResourcePanels__VizTreeWrapper",componentId:"sc-1nxpwir-1"})(["display:none;&.selected{display:block;}"]),a3=c.memo(({viewpointId:e,viewpointType:t,dataSource:n,loading:r,onToDetail:a})=>{const i=V("permission"),{filteredData:s,debouncedSearch:l}=Nt(n,(d,u)=>u.name.includes(d));return o.jsxs(o.Fragment,{children:[o.jsx(vm,{placeholder:i("search"),onSearch:l}),o.jsx(Rn,{loading:{spinning:r,indicator:o.jsx(Zt,{})},children:s==null?void 0:s.map(({id:d,name:u,type:T})=>o.jsx(o3,{selected:e===d&&t===T,onClick:a(d,T),withAvatar:!0,children:o.jsx(Rn.Item.Meta,{title:u})},d))})]})}),o3=F(Is).withConfig({displayName:"SubjectList__StyledListItem",componentId:"sc-d8p8d8-0"})(["padding-left:","px;"],14+8+16),{Panel:i3}=Pd,s3=c.memo(({viewpointId:e,viewpointType:t,onToggle:n,onToDetail:r})=>{const a=U(tS),i=U(nS),s=U(lS),l=U(cS),d=V("permission"),u=c.useMemo(()=>[{type:Rt.Role,label:d("role"),dataSource:a,loading:s},{type:Rt.UserRole,label:d("member"),dataSource:i,loading:l}],[a,i,s,l,d]);return o.jsx(Pd,{defaultActiveKeys:t&&[t],children:u.map(({type:T,label:R,dataSource:A,loading:E})=>o.jsx(i3,{id:T,title:R,onChange:n,children:o.jsx(a3,{viewpointId:e,viewpointType:t,dataSource:A,loading:E,onToDetail:r})},T))})}),l3=c.memo(({viewpoint:e,viewpointType:t,viewpointId:n})=>{const r=de(),a=Ve(),i=U(Be),s=V("permission");c.useEffect(()=>{t&&r(lc({viewpoint:e,dataSourceType:t}))},[r,e,t,i]);const l=c.useCallback(R=>{a(`/organizations/${i}/permissions/${R}`)},[a,i]),d=c.useCallback((R,A)=>{R&&r(lc({viewpoint:e,dataSourceType:A}))},[r,e]),u=c.useCallback((R,A)=>()=>{a(`/organizations/${i}/permissions/${e}/${A}/${R}`)},[a,i,e]),T=c.useMemo(()=>[{key:ke.Subject,icon:o.jsx(Xc,{}),text:s(`viewpoint.${ke.Subject}`)},{key:ke.Resource,icon:o.jsx(fP,{}),text:s(`viewpoint.${ke.Resource}`)}],[s]);return o.jsxs(c3,{children:[o.jsx(fT,{titles:T,selectedKey:e,onSelect:l}),e===ke.Subject?o.jsx(s3,{viewpointId:n,viewpointType:t,onToggle:d,onToDetail:u}):o.jsx(n3,{viewpointId:n,viewpointType:t,onToggle:d,onToDetail:u})]})}),c3=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-lkt0wc-0"})(["display:flex;flex-direction:column;flex-shrink:0;padding:"," 0;background-color:",";border-right:1px solid ",";"],Le,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit);function d3(){Do(),Bs(),Fs(),Mn(),Rs(),Nm();const{viewpoint:e}=mt(),t=mt(),n=V("permission"),{sizes:r,setSizes:a}=bo({limitedSide:0,range:[256,768]}),i=c.useCallback(s=>{a(s)},[a]);return o.jsxs(E3,{sizes:r,minSize:[320,0],maxSize:[768,1/0],gutterSize:0,onDrag:i,className:"datart-split",children:[o.jsx(l3,{viewpoint:e,viewpointType:t.type,viewpointId:t.id}),o.jsx("div",{children:t?o.jsx(is,{}):o.jsx(fs,{title:`${n("empty1")}${e===ke.Resource?n("emptyResource"):n("emptySubject")}${n("empty2")}`})})]})}const E3=F(oa).withConfig({displayName:"PermissionPage__Container",componentId:"sc-1vurlmx-0"})(["display:flex;flex:1;min-width:0;min-height:0;"]),Dm=c.memo(({enabled:e,label:t,extra:n,values:r,onChange:a})=>o.jsx($.Item,{label:t,tooltip:n,children:o.jsx(Pe.Group,{value:e,onChange:a,children:r.map(({text:i,value:s})=>o.jsx(Pe,{value:s,children:i},s))})}));function Md(e,t,n){return e.map(({children:r,...a})=>{const i=t(a,n);return{...a,permissionArray:i,...r&&{children:Md(r,t,i)}}})}function bm(e,t,n,r,a,i){return Md(e,(s,l)=>{let d=l;for(let u=0;u<t.length;u+=1){if(n===ke.Subject&&cA(s.id,s.type)&&cA(t[u].resourceId,t[u].resourceType)&&s.id===t[u].resourceId){d=dA(t[u].permission,t[u].resourceType,i),$S(t,u);break}if(s.id===t[u][`${JT(n)}Id`]){d=dA(t[u].permission,uS(n,r,a),i),$S(t,u);break}}return d},On())}function cA(e,t){switch(t){case le.Viz:return t===le.Viz?Object.values(dn).includes(e):e===t;case le.Extract:return t===le.Extract?Object.values(jg).includes(e):e===t}}function Io(e){return e.reduce((t,n)=>t|n,_e.Disable)}function dA(e,t,n){const r=[];return fI[t+(n||"")].forEach(a=>{(e&a)===a?r.push(a):r.push(_e.Disable)}),r}function dS(e,t,n,r){return e?t.map(a=>(a&r)===r?_e.Disable:a):t.map((a,i)=>n===i?r:a)}function ES(e,t,n,r,a,i){let s=[];return e.forEach(({id:l,type:d,permissionArray:u,children:T})=>{const R=Io(u);(!i||Io(i)!==R)&&s.push(t===ke.Resource?{resourceId:r,resourceType:n,subjectId:l,subjectType:d,orgId:a,permission:R}:{resourceId:l,resourceType:d,subjectId:r,subjectType:n,orgId:a,permission:R}),T&&(s=s.concat(ES(T,t,n,r,a,u)))}),s}function Pm(e,t){return Qf(e,t,(n,r)=>n.resourceId===r.resourceId&&n.resourceType===r.resourceType&&n.subjectId===r.subjectId&&n.subjectType===r.subjectType,(n,r)=>n.permission!==r.permission,n=>n.resourceId==="*")}function ym(e,t,n,r,a,i,s){const l={permissionToCreate:[],permissionToDelete:[],permissionToUpdate:[]};if(t)l.permissionToCreate.push({orgId:r,resourceId:e,resourceType:s,subjectId:a,subjectType:i,permission:t});else{const d=n.find(u=>u.resourceId===e&&u.resourceType===s);l.permissionToDelete.push({...d,permission:t})}return l}function uS(e,t,n){return Object.values(le).find(r=>e===ke.Subject&&n===r||e===ke.Resource&&t===r)}function u3(e,t,n,r){switch(uS(e,t,n)){case le.Viz:return r===dn.Storyboard?3*80+40:4*80+40;case le.Schedule:return 1*80+40;default:return 2*80+40}}const T3=c.memo(({record:e,viewpoint:t,viewpointType:n,dataSourceType:r,vizSubTypes:a,onChange:i})=>{const[s,l]=c.useState(On(a)),d=V("permission"),u=uS(t,n,r),T=c.useCallback((R,A)=>E=>{const S=dS(!E.target.checked,s,R,A);i(e,S,R,A)},[e,s,i]);return c.useEffect(()=>{l(e.permissionArray)},[e]),o.jsx(Ge,{children:fI[u+(a||"")].map((R,A)=>o.jsx(bn,{checked:R===s[A],onChange:T(A,R),children:d(`privilegeLabel.${(u+(a||"")).toLowerCase()}.${A}`)},_e[R]))})}),Mm=c.memo(({viewpoint:e,viewpointType:t,dataSourceType:n,dataSource:r,resourceLoading:a,privileges:i,onPrivilegeChange:s,vizSubTypes:l})=>{const d=V("permission"),u=c.useMemo(()=>{if(r&&i){const O=Wn(r,null,[]);return bm(O,[...i],e,t,n,l)}else return[]},[e,t,n,r,i,l]),{filteredData:T,expandedRowKeys:R,onExpand:A,debouncedSearch:E,setExpandedRowKeys:S,keywords:p}=yd(u,(O,N)=>N.name.toLowerCase().includes(O.toLowerCase()));c.useEffect(()=>{p.length&&(r!=null&&r.length)&&e===ke.Subject?S(ua(r).map(({id:O})=>O)):!p.length&&(r!=null&&r.length)&&e===ke.Subject&&S([r[0].id])},[e,r,S,p]);const f=c.useMemo(()=>s(u),[u,s]),I=c.useMemo(()=>[{dataIndex:"name",title:e===ke.Resource?d("subjectName"):d("resourceName")},{title:d("privileges"),align:"center",width:u3(e,t,n,l),render:(N,h)=>o.jsx(T3,{record:h,viewpoint:e,viewpointType:t,dataSourceType:n,onChange:f,vizSubTypes:l})}],[e,t,n,f,d,l]);return o.jsxs("div",{children:[o.jsx(S3,{children:o.jsx(pt,{span:12,children:o.jsx(Ae,{placeholder:d("searchResources"),prefix:o.jsx(Dr,{className:"icon"}),bordered:!1,onChange:E})})}),o.jsx(ir,{rowKey:"id",columns:I,dataSource:T,loading:a,pagination:!1,size:"middle",expandable:{expandedRowKeys:R,onExpandedRowsChange:A},bordered:!0})]})}),S3=F(Mt).withConfig({displayName:"PermissionTable__Toolbar",componentId:"sc-v6gdve-0"})([".icon{color:",";}"],e=>e.theme.textColorLight),xm=c.memo(({viewpoint:e,viewpointType:t,viewpointId:n,selected:r,orgId:a,dataSourceType:i,dataSource:s,permissionLoading:l,resourceLoading:d})=>{const u=de(),T=c.useMemo(gm,[]),R=U(I=>T(I,{viewpoint:e,dataSourceType:i})),A=V("permission"),{moduleEnabled:E}=c.useMemo(()=>{let I=_e.Disable;return R==null||R.forEach(({resourceId:O,permission:N})=>{O==="*"&&(I=N)}),{moduleEnabled:I}},[R]),S=c.useCallback(I=>O=>{if(R){const N=O.target.value,h=ym(I,N,R,a,n,t,i);u(_r({params:h,options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:N?R:R.filter(m=>m.resourceId!==I)},resolve:()=>{}}))}},[u,e,t,n,i,R,a]),p=c.useCallback(I=>(O,N,h,m)=>{if(e===ke.Subject){const g=Md(I,({id:b,permissionArray:C,path:y},w)=>b===O.id?N:y.includes(O.id)?dS(w[h]===_e.Disable,C,h,m):C,On()),_=ES(g,e,t,n,a),{created:L,updated:P,deleted:v,reserved:D}=Pm([...R],_);u(_r({params:{permissionToCreate:L,permissionToDelete:v,permissionToUpdate:P},options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:D},resolve:()=>{}}))}else{let g;const _={permissionToCreate:[],permissionToDelete:[],permissionToUpdate:[]};let L=[];const P=Io(N);Io(O.permissionArray)===_e.Disable?(g={orgId:a,resourceId:n,resourceType:t,subjectId:O.id,subjectType:O.type,permission:P},_.permissionToCreate.push(g),L=[...R]):R.forEach(v=>{v.subjectId===O.id?(g={...v,permission:P},P===_e.Disable?_.permissionToDelete.push(g):(_.permissionToUpdate.push(g),L.push(g))):L.push(v)}),u(_r({params:_,options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:L},resolve:()=>{}}))}},[u,e,n,t,i,a,R]),f=c.useMemo(()=>[{text:A(`modulePermissionLabel.${_e[_e.Disable]}`),value:_e.Disable},{text:A(`modulePermissionLabel.${_e[_e.Enable]}`),value:_e.Enable}],[A]);return o.jsx(R3,{className:Ke({selected:r}),children:o.jsx(Wc,{loading:l,children:o.jsxs(p3,{labelAlign:"left",labelCol:{span:4},wrapperCol:{span:18},children:[e===ke.Subject&&o.jsx(Dm,{enabled:E,label:A("modulePermission"),extra:A("modulePermissionDesc"),values:f,onChange:S("*")}),o.jsx($.Item,{label:A("resourceDetail"),children:o.jsx(Mm,{viewpoint:e,viewpointType:t,dataSourceType:i,dataSource:s,resourceLoading:d,privileges:R,onPrivilegeChange:p})})]})})})}),R3=F.div.withConfig({displayName:"PermissionForm__Wrapper",componentId:"sc-1sf7jhw-0"})(["display:none;&.selected{position:relative;display:block;}"]),p3=F($).withConfig({displayName:"PermissionForm__FormContent",componentId:"sc-1sf7jhw-1"})(["width:960px;"]),A3=c.memo(({viewpoint:e,viewpointType:t,viewpointId:n,selected:r,orgId:a,dataSourceType:i,folders:s,storyboards:l,folderListLoading:d,storyboardListLoading:u,permissionLoading:T})=>{const[R,A]=c.useState(dn.Folder),E=de(),S=c.useMemo(gm,[]),p=U(L=>S(L,{viewpoint:e,dataSourceType:i})),f=V("permission"),I=c.useMemo(()=>{if(s&&l&&p){const L=Wn(s.concat(l),null,[]);return bm(L,[...p],e,t,i,R)}else return[]},[e,t,i,s,l,p,R]),O=c.useCallback(L=>{A(L.target.value)},[]),{moduleEnabled:N}=c.useMemo(()=>{let L=_e.Disable;return p==null||p.forEach(({resourceId:P,permission:v})=>{P==="*"&&(L=v)}),{moduleEnabled:L}},[p]),h=c.useCallback(L=>P=>{if(p){const v=P.target.value,D=ym(L,v,p,a,n,t,i);E(_r({params:D,options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:v?p:p.filter(b=>b.resourceId!==L)},resolve:()=>{}}))}},[E,e,t,n,i,p,a]),m=c.useCallback(()=>(L,P,v,D)=>{if(e===ke.Subject){const b=Md(I,({id:B,permissionArray:H,path:j},X)=>B===L.id?P:j.includes(L.id)?dS(X[v]===_e.Disable,H,v,D):H,On()),C=ES(b,e,t,n,a),{created:y,updated:w,deleted:x,reserved:M}=Pm([...p],C);E(_r({params:{permissionToCreate:y,permissionToDelete:x,permissionToUpdate:w},options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:M},resolve:()=>{}}))}else{let b;const C={permissionToCreate:[],permissionToDelete:[],permissionToUpdate:[]};let y=[];const w=Io(P);Io(L.permissionArray)===_e.Disable?(b={orgId:a,resourceId:n,resourceType:t,subjectId:L.id,subjectType:L.type,permission:w},C.permissionToCreate.push(b),y=[...p]):p.forEach(x=>{x.subjectId===L.id?(b={...x,permission:w},w===_e.Disable?C.permissionToDelete.push(b):(C.permissionToUpdate.push(b),y.push(b))):y.push(x)}),E(_r({params:C,options:{viewpoint:e,viewpointType:t,dataSourceType:i,reserved:y},resolve:()=>{}}))}},[E,e,n,t,i,a,p,I]),g=c.useMemo(()=>[{text:f(`modulePermissionLabel.${_e[_e.Disable]}`),value:_e.Disable},{text:f(`modulePermissionLabel.${_e[_e.Enable]}`),value:_e.Enable}],[f]);let _={};return R===dn.Storyboard&&(_={dataSource:l,resourceLoading:u}),R===dn.Folder&&(_={dataSource:s,resourceLoading:d}),o.jsx(f3,{className:Ke({selected:r}),children:o.jsx(Wc,{loading:T,children:o.jsxs(I3,{labelAlign:"left",labelCol:{span:4},wrapperCol:{span:20},children:[o.jsx(Dm,{enabled:N,label:f("modulePermission"),extra:f("modulePermissionDesc"),values:g,onChange:h("*")}),o.jsx($.Item,{label:f("resourceDetail"),children:o.jsxs(Pe.Group,{value:R,onChange:O,children:[o.jsx(Pe,{value:dn.Folder,children:f("folder")}),o.jsx(Pe,{value:dn.Storyboard,children:f("presentation")})]})}),o.jsx($.Item,{noStyle:!0,colon:!1,className:Ke({vizTable:!0,selected:R===dn.Folder}),children:o.jsx(Mm,{viewpoint:e,viewpointType:t,dataSourceType:i,vizSubTypes:R,..._,privileges:p,onPrivilegeChange:m})})]})})})}),f3=F.div.withConfig({displayName:"VizPermissionForm__Wrapper",componentId:"sc-xj3i2f-0"})(["display:none;&.selected{position:relative;display:block;}"]),I3=F($).withConfig({displayName:"VizPermissionForm__FormContent",componentId:"sc-xj3i2f-1"})(["width:960px;.vizTable{display:none;&.selected{display:flex;}}"]),O3=c.memo(({viewpoint:e,viewpointType:t,viewpointId:n,orgId:r})=>{const[a,i]=c.useState(le.Viz),s=de(),l=U(bd),d=U(qT),u=U(QT),T=U(ZT),R=U(eS),A=U(rS),E=U(aS),S=U(oS),p=U(iS),f=U(sS),I=U(g=>_m(g,{viewpoint:e})),O=V("permission");c.useEffect(()=>{t&&n&&s(Vl({orgId:r,type:t,id:n}))},[s,r,t,n]),c.useEffect(()=>{s(lc({viewpoint:JT(e),dataSourceType:a}))},[s,a,e,r]);const N=c.useCallback(g=>{i(g)},[]),h=c.useMemo(()=>[{type:le.Viz,dataSource:void 0,loading:!1},{type:le.View,dataSource:u,loading:S},{type:le.Source,dataSource:T,loading:p},{type:le.Schedule,dataSource:R,loading:f}],[u,S,T,p,R,f]),m=c.useMemo(()=>h.map(({type:g})=>({key:g,tab:O(`module.${g.toLowerCase()}`)})),[h,O]);return o.jsx(Ln,{tabList:m,defaultActiveTabKey:a,tabProps:{size:"middle"},onTabChange:N,children:h.map(({type:g,dataSource:_,loading:L})=>g===le.Viz?o.jsx(A3,{selected:g===a,viewpoint:e,viewpointType:t,viewpointId:n,orgId:r,dataSourceType:g,folders:l,storyboards:d,folderListLoading:A,storyboardListLoading:E,permissionLoading:I},g):o.jsx(xm,{selected:g===a,viewpoint:e,viewpointType:t,viewpointId:n,orgId:r,dataSource:_,dataSourceType:g,permissionLoading:I,resourceLoading:L},g))})}),m3=c.memo(({viewpoint:e,viewpointType:t,viewpointId:n,orgId:r})=>{const[a,i]=c.useState(Rt.Role),s=de(),l=U(tS),d=U(nS),u=U(lS),T=U(cS),R=U(f=>_m(f,{viewpoint:e})),A=V("permission");c.useEffect(()=>{t&&n&&s(jl({orgId:r,type:t,id:n}))},[s,r,t,n]),c.useEffect(()=>{s(lc({viewpoint:JT(e),dataSourceType:a}))},[s,a,e,r]);const E=c.useCallback(f=>{i(f)},[]),S=c.useMemo(()=>[{type:Rt.Role,label:A("role"),dataSource:l,loading:u},{type:Rt.UserRole,label:A("member"),dataSource:d,loading:T}],[l,d,u,T,A]),p=c.useMemo(()=>S.map(({type:I,label:O})=>({key:I,tab:O})),[S]);return o.jsx(Ln,{tabList:p,defaultActiveTabKey:a,tabProps:{size:"middle"},onTabChange:E,children:S.map(({type:f,dataSource:I,loading:O})=>o.jsx(xm,{selected:f===a,viewpoint:e,viewpointType:t,viewpointId:n,orgId:r,dataSource:I,dataSourceType:f,permissionLoading:R,resourceLoading:O},f))})}),h3=c.memo(()=>{const{viewpoint:e,type:t,id:n}=mt(),r=U(Be);return o.jsx(N3,{children:e===ke.Subject?o.jsx(O3,{viewpoint:e,viewpointId:n,viewpointType:t,orgId:r}):o.jsx(m3,{viewpoint:e,viewpointId:n,viewpointType:t,orgId:r})})}),N3=F.div.withConfig({displayName:"Main__Wrapper",componentId:"sc-3h346e-0"})(["flex:1;padding:",";overflow-y:auto;.ant-card-head{border-bottom:0;}"],je);async function C3(e){const{file:t,strategy:n,orgId:r}=e;return await Ne({method:"POST",url:`viz/import?strategy=${n}&orgId=${r}`,data:t}),!0}async function g3(e){return await Ne({method:"POST",url:"viz/export",data:{resources:e}}),!0}const _3=c.memo(({treeData:e,folders:t})=>{const n=V("main.subNavs"),r=de(),[a,i]=c.useState(),s=(d,u,T)=>{i(d)},l=async()=>{const d=a==null?void 0:a.map(T=>{const R=t==null?void 0:t.find(A=>A.id===T);return R?{resourceId:R.relId,resourceType:R.relType}:null}).filter(T=>!!T);await g3(d)===!0?(Ie.success("success"),i([]),r(Vg.setDownloadPolling(!0))):Ie.warn("warn")};return o.jsx(L3,{children:o.jsx(Ln,{title:n("export.title"),children:o.jsxs("div",{className:"export-box",children:[o.jsx(vr,{showSearch:!0,autoClearSearchValue:!0,className:"export-tree",treeCheckable:!0,value:a,dropdownStyle:{maxHeight:1e3,overflow:"auto"},placeholder:n("export.selectText"),allowClear:!0,multiple:!0,treeData:e,treeDefaultExpandAll:!0,onChange:s}),o.jsx(oe,{className:"export-btn",type:"primary",disabled:!(a!=null&&a.length),onClick:l,children:n("export.submit")})]})})})}),L3=F.div.withConfig({displayName:"ExportSelector__StyledWrapper",componentId:"sc-1n0n5vv-0"})(["flex:1;padding:",";overflow-y:auto;.ant-card{margin-top:",";background-color:",";border-radius:",";box-shadow:",";&:first-of-type{margin-top:0;}}.export-box{display:flex;flex:1;}.export-tree{min-width:400px;}.export-btn{width:160px;margin-left:20px;}"],je,je,e=>e.theme.componentBackground,st,e=>e.theme.shadow1),v3=c.memo(()=>{Nm();const e=U(Be),t=de();c.useEffect(()=>{e&&t(kr(e))},[t,e]);const n=U(bd),r=c.useMemo(()=>Wn(n,null,[]),[n]);return o.jsx(_3,{treeData:r,folders:n||[]})}),D3=["NEW","OVERWRITE","ROLLBACK"],b3=c.memo(()=>{const e=U(Be),t=V("main.subNavs"),[n]=$.useForm(),r=async i=>{if(!i.file)return;const s=new FormData;s.append("file",i.file),await C3({file:s,strategy:i.strategy,orgId:e})===!0?(Ie.success("success"),n.resetFields(["file"])):Ie.warn("warn")},a=()=>o.jsxs("div",{children:[o.jsx("span",{children:t("import.desc.new")}),o.jsx("br",{}),o.jsx("br",{}),o.jsx("span",{children:t("import.desc.overwrite")}),o.jsx("br",{}),o.jsx("br",{}),o.jsx("span",{children:t("import.desc.rollback")})]});return o.jsx(P3,{children:o.jsx(Ln,{title:t("import.title"),children:o.jsxs($,{form:n,labelAlign:"left",labelCol:{offset:1,span:2},wrapperCol:{span:16},onFinish:r,children:[o.jsx($.Item,{name:"file",label:t("import.file"),colon:!1,initialValue:void 0,rules:[{required:!0}],children:o.jsx(rm,{suffix:Kf.Resource,uploadText:t("import.upload")})}),o.jsx($.Item,{name:"strategy",label:t("import.strategy"),colon:!1,initialValue:"NEW",tooltip:a(),children:o.jsx(Se,{showSearch:!0,style:{width:"200px"},children:D3.map(i=>o.jsx(Se.Option,{value:i,children:t(`import.${i.toLocaleLowerCase()}`)},i))})}),o.jsx($.Item,{label:" ",colon:!1,children:o.jsx(oe,{type:"primary",htmlType:"submit",children:t("import.submit")})})]})})})}),P3=F.div.withConfig({displayName:"ImportPage__StyledWrapper",componentId:"sc-1jaamtn-0"})(["flex:1;padding:0 "," "," ",";overflow-y:auto;.ant-card{margin-top:",";background-color:",";border-radius:",";box-shadow:",";&:first-of-type{margin-top:0;}}.title{color:",";}"],je,je,je,je,e=>e.theme.componentBackground,st,e=>e.theme.shadow1,e=>e.theme.info),y3=c.memo(()=>o.jsxs(M3,{children:[o.jsx(v3,{}),o.jsx(b3,{})]})),M3=F.div.withConfig({displayName:"ResourceMigrationPage__StyledWrapper",componentId:"sc-1n01hbo-0"})(["flex:1;overflow-y:auto;"]),x3={scheduleType:"title",type:ue.Add,visible:!1,simple:!1,parentIdLabel:"",onSave:()=>{},onCancel:()=>{},showSaveForm:()=>{}},ko=c.createContext(x3),U3=()=>{const e=V("schedule.saveForm"),[t,n]=c.useState(ue.Add),[r,a]=c.useState("title"),[i,s]=c.useState(!1),[l,d]=c.useState(!1),[u,T]=c.useState(),[R,A]=c.useState(e("folder")),[E,S]=c.useState(()=>()=>{}),[p,f]=c.useState(()=>()=>{}),I=c.useCallback(()=>{s(!1)},[s]),O=c.useCallback(({scheduleType:N,type:h,visible:m,simple:g,initialValues:_,parentIdLabel:L,onSave:P,onAfterClose:v})=>{n(h),a(N),s(m),d(g),T(_),A(L),S(()=>P),f(()=>v)},[]);return c.useMemo(()=>({scheduleType:r,type:t,visible:i,simple:l,initialValues:u,parentIdLabel:R,onSave:E,onCancel:I,onAfterClose:p,showSaveForm:O}),[r,t,i,l,u,R,E,I,p,O])},Xn=e=>e.schedule||fm,xd=Re([Xn],e=>e.schedules),w3=()=>Re([xd,(e,t)=>t.getIcon,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e,null,[le.Schedule],{getIcon:t,getDisabled:n})),B3=()=>Re([xd,(e,t)=>t.id,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e&&e.filter(r=>r.isFolder&&r.id!==t),null,[le.Schedule],{getDisabled:n})),F3=Re([Xn],e=>e.archived),G3=Re([Xn],e=>e.scheduleListLoading),H3=Re([Xn],e=>e.archivedListLoading),Um=Re([Xn],e=>e.editingSchedule),j3=Re([Xn],e=>e.scheduleDetailsLoading),V3=Re([Xn],e=>e.saveLoading),wm=Re([Xn],e=>e.deleteLoading),Y3=Re([Xn],e=>e.unarchiveScheduleLoading),W3=Re([Xn],e=>e.logs),k3=Re([Xn],e=>e.logsLoading);function Bm({formProps:e,...t}){const n=c.useMemo(B3,[]),{scheduleType:r,type:a,visible:i,simple:s,parentIdLabel:l,initialValues:d,onSave:u,onCancel:T,onAfterClose:R}=c.useContext(ko),A=U(pn),E=U(Va),S=c.useCallback((g,_)=>!Ya(A,E,le.Schedule,_,_e.Create),[A,E]),p=U(g=>n(g,{id:d==null?void 0:d.id,getDisabled:S})),f=U(Be),I=c.useRef(),O=V("schedule.saveForm"),N=V("global");c.useEffect(()=>{var g;d&&((g=I.current)==null||g.setFieldsValue({...d,parentId:d.parentId||void 0}))},[d]);const h=c.useCallback(g=>{u({...g},T)},[u,T]),m=c.useCallback(()=>{var g;(g=I.current)==null||g.resetFields(),R&&R()},[R]);return o.jsxs(aa,{formProps:e,...t,title:O(r),type:a,open:i,onSave:h,onCancel:T,afterClose:m,ref:I,maskClosable:!1,children:[!s&&o.jsx($.Item,{name:"name",label:O("name"),getValueFromEvent:g=>{var _;return(_=g.target.value)==null?void 0:_.trim()},rules:[{required:!0,message:`${O("name")}${N("validation.required")}`},{validator:Ur((g,_)=>{var v;if(!_||(d==null?void 0:d.name)===_)return Promise.resolve();if(!_.trim())return Promise.reject(`${O("name")}${N("validation.required")}`);const L=(v=I.current)==null?void 0:v.getFieldValue("parentId");return sr("schedules",{name:_,orgId:f,parentId:L||null})},$t)}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"parentId",label:l,children:o.jsx(vr,{placeholder:O("root"),treeData:p||[],allowClear:!0,onChange:()=>{var g;(g=I.current)==null||g.validateFields()}})})]})}const Nn="schedule.constants.";var Wr=(e=>(e.Email="EMAIL",e.WeChat="WECHAT",e.Dingtalk="DINGTALK",e))(Wr||{}),io=(e=>(e.Excel="EXCEL",e.Image="IMAGE",e.ShareUrl="SHARE_URL",e))(io||{});const $3=[{label:ze(Nn+"email"),value:"EMAIL"},{label:ze(Nn+"weChat"),value:"WECHAT"},{label:ze(Nn+"dingtalk"),value:"DINGTALK"}],X3=[{label:"Excel",value:"EXCEL"},{label:ze(Nn+"picture"),value:"IMAGE"}],z3=[{label:ze(Nn+"picture"),value:"IMAGE"}],K3=[{label:"",value:"SHARE_URL"}];var Je=(e=>(e.Minute="Minute",e.Hour="Hour",e.Day="Day",e.Week="Week",e.Month="Month",e.Year="Year",e))(Je||{}),Nu=(e=>(e.StoryBoard="STORYBOARD",e))(Nu||{});const J3=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,eo={name:"",jobType:"EMAIL",type:["IMAGE"],imageWidth:1920,periodUnit:"Minute",hour:0,minute:1,day:1,month:1,cronExpression:" 0 0 0 * * ?",textContent:"",parentId:null,index:null};var Fm=(e=>(e[e.S1=1]="S1",e[e.S3=3]="S3",e[e.S7=7]="S7",e[e.S15=15]="S15",e))(Fm||{});const q3={1:ze(Nn+"taskExecution"),3:ze(Nn+"configurationAnalysis"),7:ze(Nn+"getData"),15:ze(Nn+"send")};ze(Nn+"email"),ze(Nn+"weChat"),ze(Nn+"dingtalk");const Ud=()=>{const e=Ve();return{toDetails:(t,n)=>{e(n?`/organizations/${t}/schedules/${n}`:`/organizations/${t}/schedules`)}}},Q3=c.memo(({scheduleId:e,list:t})=>{const n=de(),r=Ve(),a=U(H3),i=U(Be),s=V("schedule.editor.index"),{toDetails:l}=Ud(),d=U(pn),{showSaveForm:u}=c.useContext(ko);c.useEffect(()=>{n(vl(i))},[n,i]);const T=c.useCallback((S,p)=>({key:f,domEvent:I})=>{switch(I.stopPropagation(),f){case"reset":u({scheduleType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:S,name:p,parentId:null},parentIdLabel:s("parent"),onSave:(O,N)=>{const h=ht(O,t);n(Pi({schedule:{...O,id:S,index:h},resolve:()=>{Ie.success(s("restoredSuccess")),l(i),N()}}))}});break}},[u,s,t,n,l,i]),R=c.useCallback(S=>()=>{n(To({id:S,archive:!1,resolve:()=>{Ie.success(`${s("success")}${s("delete")}`),l(i)}}))},[n,i,s,l]),A=c.useCallback(({key:S,title:p})=>o.jsxs(kn,{children:[o.jsx("h4",{children:`${p}`}),d&&o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsxs(lt,{selectable:!1,onClick:T(S,p),children:[o.jsx(De,{prefix:o.jsx(go,{className:"icon"}),children:s("restore")},"reset"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:s("sureToDelete"),onConfirm:R(S),children:s("delete")})},"delelte")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})]}),[d,T,s,R]),E=c.useCallback((S,{node:p})=>{!p.isFolder&&p.id!==e&&r(`/organizations/${i}/schedules/${p.id}`)},[r,i,e]);return o.jsx(gt,{loading:a,treeData:t,titleRender:A,onSelect:E})}),Z3=async e=>{const{data:t}=await Ne({url:"/users/search",method:"GET",params:{keyword:e}});return t},ej=async e=>{const{data:t}=await Ne({url:`/schedules/execute/${e}`,method:"POST"});return t},tj=async e=>{const{data:t}=await Ne({url:`/schedules/start/${e}`,method:"PUT"});return t},nj=async e=>{const{data:t}=await Ne({url:`/schedules/stop/${e}`,method:"PUT"});return t},rj=c.memo(({orgId:e,scheduleId:t,list:n,searchable:r})=>{const a=de(),i=U(Um),s=U(G3),l=U(wm),{toDetails:d}=Ud(),{actions:u}=Bs(),[T,R]=c.useState(!1),[A,E]=c.useState(!1),[S,p]=c.useState(!1),[f,I]=c.useState([]),O=c.useCallback(()=>{a(Nr(e))},[a,e]);c.useEffect(()=>{r&&(n!=null&&n.length)&&I(f.concat(ua(n).map(({key:w})=>w)))},[r,n]),c.useEffect(()=>{O()},[O]);const N=Ve(),{showSaveForm:h}=c.useContext(ko),m=U(pn),g=U(Va),_=V("schedule.sidebar.scheduleList"),L=V("global"),P=c.useCallback(({id:w,name:x,parentId:M,index:B})=>({key:H,domEvent:j})=>{switch(j.stopPropagation(),H){case"info":h({scheduleType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:w,name:x,parentId:M},parentIdLabel:_("parent"),onSave:(X,W)=>{a(yi({schedule:{id:w,index:B,name:X.name,parentId:X.parentId},resolve:()=>{d(e),W()}}))}});break;case"start":T||(R(!0),tj(w).then(X=>{X&&(Ie.success(_("successStarted")),O(),(i==null?void 0:i.id)===w&&a(u.setEditingScheduleActive(!0)))}).finally(()=>{R(!1)}));break;case"stop":A||(E(!0),nj(w).then(X=>{X&&(Ie.success(_("successStop")),O(),(i==null?void 0:i.id)===w&&a(u.setEditingScheduleActive(!1)))}).finally(()=>{E(!1)}));break;case"execute":S||(p(!0),ej(w).then(X=>{X&&Ie.success(_("successImmediately"))}).finally(()=>{p(!1)}));break}},[u,a,i==null?void 0:i.id,S,O,e,h,T,A,_,d]),v=c.useCallback((w,x)=>()=>{l||a(To({id:w,archive:!x,resolve:()=>{Ie.success(`${_("success")}${_(x?"delete":"moveToTrash")}`),d(e)}}))},[l,a,_,d,e]),D=c.useCallback(w=>{const{title:x,path:M,isFolder:B,id:H,active:j}=w,X=Ya(m,g,le.Schedule,M,_e.Manage);return o.jsxs(kn,{children:[o.jsx("h4",{children:`${x}`}),o.jsx(wc,{module:le.Schedule,path:M,level:_e.Manage,children:o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:P(w),children:[X&&o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:L("button.info")},"info"),X&&!j&&!B&&o.jsx(De,{prefix:T?o.jsx(Zt,{className:"icon"}):o.jsx(Eo,{className:"icon"}),children:_("start")},"start"),X&&j&&!B&&o.jsx(De,{prefix:A?o.jsx(Zt,{className:"icon"}):o.jsx(oO,{className:"icon"}),children:_("stop")},"stop"),X&&!B&&o.jsx(De,{prefix:S?o.jsx(Zt,{className:"icon"}):o.jsx($L,{className:"icon"}),children:_("executeImmediately")},"execute"),X&&o.jsx(De,{prefix:l?o.jsx(Zt,{className:"icon"}):o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:L(B?"operation.deleteConfirm":"operation.archiveConfirm"),onConfirm:v(H,B),children:L(B?"button.delete":"button.archive")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})})]})},[m,g,P,L,T,_,A,S,l,v]),b=c.useCallback((w,{node:x})=>{x.type==="FOLDER"?f!=null&&f.includes(x.key)?I(f.filter(M=>M!==x.key)):I([x.key].concat(f)):N(`/organizations/${e}/schedules/${x.id}`)},[f,N,e]),C=w=>{cs({info:w,treeData:n,callback:(x,M,B)=>{a(yi({schedule:{id:x,parentId:M,index:B,name:w.dragNode.name},resolve:()=>{}}))}})},y=w=>{I(w)};return o.jsx(gt,{loading:s,treeData:n,titleRender:D,onSelect:b,onDrop:C,expandedKeys:f,onExpand:y,...t&&{selectedKeys:[t]},draggable:!0})}),aj=c.memo(({width:e,isDragging:t,sliderVisible:n,handleSliderVisible:r})=>{const a=de(),{scheduleId:i}=mt(),s=U(Be),l=U(F3),d=U(xd),{showSaveForm:u}=c.useContext(ko),T=V("schedule.sidebar"),R=V("global"),A=c.useMemo(w3,[]),E=c.useCallback(({isFolder:v,type:D})=>{if(v)return b=>b.expanded?o.jsx(Ts,{}):o.jsx(Ss,{});switch(D){case Wr.Email:return o.jsx(ey,{});case Wr.Dingtalk:return o.jsx(eP,{});case Wr.WeChat:return o.jsx(UM,{})}},[]),S=c.useCallback(({deleteLoading:v})=>v,[]),p=U(v=>A(v,{getIcon:E,getDisabled:S})),f=c.useMemo(()=>l==null?void 0:l.map(({id:v,name:D,parentId:b,isFolder:C,deleteLoading:y})=>({id:v,key:v,title:D,parentId:b,icon:C?o.jsx(Yg,{}):o.jsx(Wg,{}),isFolder:C,disabled:y})),[l]),{keywords:I,filteredData:O,debouncedSearch:N}=Nt(p,(v,D)=>D.title.toLowerCase().includes(v.toLowerCase())),{filteredData:h,debouncedSearch:m}=Nt(f,(v,D)=>D.title.toLowerCase().includes(v.toLowerCase())),{toDetails:g}=Ud(),_=c.useCallback(({key:v})=>{switch(v){case"add":g(s,"add");break;case"folder":u({scheduleType:"folder",type:ue.Add,visible:!0,simple:!1,parentIdLabel:T("scheduleList.parent"),onSave:(D,b)=>{const C=ht(D,d);a(bi({params:{...D,parentId:D.parentId||null,index:C,orgId:s,isFolder:!0},resolve:()=>{b(),Ie.success(T("index.addSuccess"))}}))}});break}},[g,s,u,d,a,T]),L=c.useCallback((v,D,b)=>{switch(v){case"recycle":b();break;case"collapse":r(!n),Gt();break}},[r,n]),P=c.useMemo(()=>[{key:"list",title:T("index.scheduledTaskList"),search:!0,onSearch:N,add:{items:[{key:"add",text:T("index.newTimedTask")},{key:"folder",text:T("index.addFolder")}],callback:_},more:{items:[{key:"recycle",text:T("index.recycle"),prefix:o.jsx(it,{className:"icon"})},{key:"collapse",text:T(n?"index.open":"index.close"),prefix:n?o.jsx(Lr,{className:"icon"}):o.jsx(ps,{className:"icon"})}],callback:L}},{key:"recycle",title:T("index.recycle"),back:!0,search:!0,onSearch:m}],[T,N,_,n,L,m]);return o.jsxs(oj,{sliderVisible:n,className:n?"close":"",isDragging:t,width:e,children:[n?o.jsx(Lr,{className:"menuUnfoldOutlined"}):"",o.jsxs(ij,{defaultActiveKey:"list",children:[o.jsxs(ar,{children:[o.jsx(en,{...P[0]}),o.jsx(rj,{orgId:s,scheduleId:i,list:O,searchable:!!I.length})]},"list"),o.jsxs(ar,{children:[o.jsx(en,{...P[1]}),o.jsx(Q3,{scheduleId:i,list:h})]},"recycle")]}),o.jsx(Bm,{formProps:{labelAlign:"left",labelCol:{offset:1,span:8},wrapperCol:{span:13}},okText:R("button.save")})]})}),oj=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-190wd0w-0"})(["z-index:",";display:flex;flex-direction:column;flex-shrink:0;min-height:0;color:",";background-color:",";box-shadow:",";transition:",";.hidden{display:none;}> ul{display:",";}> div{display:",";}&.close{position:absolute;width:"," !important;height:100%;.menuUnfoldOutlined{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}&:hover{width:"," !important;.menuUnfoldOutlined{display:none;}> ul{display:block;}> div{display:flex;&.hidden{display:none;}}}}"],Ro,e=>e.theme.textColorSnd,e=>e.theme.componentBackground,e=>e.theme.shadowSider,e=>e.isDragging?"none":"width 0.3s ease",e=>e.sliderVisible?"none":"block",e=>e.sliderVisible?"none":"flex",me(7.5),e=>e.width+"%"),ij=F(Os).withConfig({displayName:"Sidebar__ListNavWrapper",componentId:"sc-190wd0w-1"})(["display:flex;flex:1;flex-direction:column;min-height:0;padding:"," 0;background-color:",";"],Le,e=>e.theme.componentBackground);function sj(){const e=V("global"),t=U3();Bs(),Rs();const[n,r]=c.useState(!1),{sizes:a,setSizes:i}=bo({limitedSide:0,range:[256,768]}),[s,l]=c.useState(!1),d=c.useCallback(R=>{i(R),Gt(),l(!1)},[i,l]),u=c.useCallback(()=>{s||l(!0)},[l,s]),T=c.useCallback(R=>{r(R),setTimeout(()=>{Gt()},300)},[r]);return o.jsx(ko.Provider,{value:t,children:o.jsxs(lj,{sizes:a,minSize:[256,0],maxSize:[768,1/0],gutterSize:0,onDragStart:u,onDragEnd:d,className:"datart-split",sliderVisible:n,children:[o.jsx(aj,{width:a[0],isDragging:s,sliderVisible:n,handleSliderVisible:T}),o.jsx(cj,{className:n?"close":"",children:o.jsx(is,{})}),o.jsx(Bm,{formProps:{labelAlign:"left",labelCol:{offset:1,span:8},wrapperCol:{span:13}},okText:e("button.save")})]})})}const lj=F(({sliderVisible:e,...t})=>o.jsx(oa,{...t})).withConfig({displayName:"SchedulePage__Container",componentId:"sc-5ebxnn-0"})(["display:flex;flex:1;min-width:0;min-height:0;.gutter-horizontal{display:",";}"],e=>e.sliderVisible?"none":"block"),cj=F.div.withConfig({displayName:"SchedulePage__EditorPageWrapper",componentId:"sc-5ebxnn-1"})(["display:flex;flex:1;min-width:0;min-height:0;&.close{width:calc(100% - 30px) !important;min-width:calc(100% - 30px) !important;padding-left:30px;}"]),dj=e=>{const t=e.split(" ");switch(t.filter(r=>r==="*").length){case 3:return t[1].includes("/")?Je.Minute:Je.Hour;case 2:return Je.Day;case 1:return t[t.length-1]==="?"?Je.Month:Je.Week;case 0:return Je.Year;default:return Je.Minute}},Gm=e=>{const t=e.split(" "),n=dj(e);let r=+((t[1]||[]).includes("/")?t[1].slice(2):t[1]);n==="Minute"&&r<0&&(r=1);const a=+t[2]||0,i=+t[3]||1,s=+t[4]||1,l=+t[5]||1;return{minute:r,hour:a,day:i,month:s,weekDay:l,periodUnit:n}},Hm=({minute:e,month:t,hour:n,weekDay:r,periodUnit:a,day:i})=>{switch(a){case Je.Minute:return`0 */${e||0} * * * ?`;case Je.Hour:return`0 ${e||0} * * * ?`;case Je.Day:return`0 ${e||0} ${n||0} * * ?`;case Je.Week:return`0 ${e||0} ${n||0} ? * ${r||0}`;case Je.Month:return`0 ${e||0} ${n||0} ${i||0} * ?`;case Je.Year:return`0 ${e||0} ${n||0} ${i||0} ${t||0} ?`;default:return"0 */1 * * * ?"}},Ej=(e,t)=>{const{jobType:n,name:r,dateRange:a=[],folderContent:i=[],imageWidth:s,setCronExpressionManually:l,cronExpression:d="",type:u,to:T,cc:R,bcc:A,subject:E,webHookUrl:S,textContent:p,parentId:f,index:I}=e,O={subject:E,vizContents:i,imageWidth:s,setCronExpressionManually:l,attachments:u||[],to:T,cc:R,bcc:A,webHookUrl:S,textContent:p},N=JSON.stringify(O);return{name:r||"",cronExpression:l?d:Hm(e),type:n,startDate:a[0]?a[0].format(ya):void 0,endDate:a[1]?a[1].format(ya):void 0,orgId:t,parentId:f,index:I,config:N}},uj=({name:e,type:t,startDate:n,config:r,endDate:a,cronExpression:i,parentId:s,index:l})=>{const d=r?JSON.parse(r||"{}"):{},u=(d==null?void 0:d.vizContents)||[],T=u.filter(S=>(S==null?void 0:S.vizType)!==Nu.StoryBoard),R=u.filter(S=>(S==null?void 0:S.vizType)===Nu.StoryBoard),A=!!(d!=null&&d.setCronExpressionManually);d==null||d.webHookUrl;const E=A?{cronExpression:i}:Gm(i);return{name:e,parentId:s,index:l,jobType:t,dateRange:n&&a?[tr(n),tr(a)]:void 0,subject:d==null?void 0:d.subject,textContent:(d==null?void 0:d.textContent)||"",imageWidth:d==null?void 0:d.imageWidth,to:(d==null?void 0:d.to)||"",cc:(d==null?void 0:d.cc)||"",bcc:(d==null?void 0:d.bcc)||"",type:(d==null?void 0:d.attachments)||[],webHookUrl:(d==null?void 0:d.webHookUrl)||"",demoContent:R,folderContent:T,setCronExpressionManually:A,...E}},Tj=[{label:ze("global.time.minute"),value:Je.Minute},{label:ze("global.time.hour"),value:Je.Hour},{label:ze("global.time.day"),value:Je.Day},{label:ze("global.time.week"),value:Je.Week},{label:ze("global.time.month"),value:Je.Month},{label:ze("global.time.year"),value:Je.Year}],Sj=Array.from({length:60},(e,t)=>{const n=t+1;return{label:n,value:n}}),Rj=Array.from({length:60},(e,t)=>({label:`${`0${t}`.slice(-2)} ${ze("global.time.m")}`,value:t})),pj=Array.from({length:24},(e,t)=>({label:`${`0${t}`.slice(-2)} ${ze("global.time.h")}`,value:t})),Aj=Array.from({length:31},(e,t)=>({label:`${`0${t+1}`.slice(-2)} ${ze("global.time.d")}`,value:t+1})),fj=Array.from({length:12},(e,t)=>({label:`${`0${t+1}`.slice(-2)} ${ze("global.time.month")}`,value:t+1})),Ij=[{label:ze("global.time.sun"),value:1},{label:ze("global.time.mon"),value:2},{label:ze("global.time.tues"),value:3},{label:ze("global.time.wednes"),value:4},{label:ze("global.time.thurs"),value:5},{label:ze("global.time.fri"),value:6},{label:ze("global.time.satur"),value:7}],Oj=({periodUnit:e,onPeriodUnitChange:t,periodInput:n,onPeriodInputChange:r,disabled:a})=>{const i=V("schedule.editor.basicBaseForm.executeFormItem"),s=c.useMemo(()=>o.jsx($.Item,{name:"periodUnit",children:o.jsx(Se,{options:Tj,style:{width:80},onChange:R=>t(R),disabled:a})}),[t]),l=c.useMemo(()=>o.jsx($.Item,{name:"day",children:o.jsx(Se,{options:Aj,style:{width:80},disabled:a})}),[]),d=c.useMemo(()=>o.jsx($.Item,{name:"hour",children:o.jsx(Se,{options:pj,style:{width:100}})}),[]),u=c.useMemo(()=>o.jsx($.Item,{name:"minute",children:o.jsx(Se,{options:Rj,style:{width:100}})}),[]),T=c.useMemo(()=>{switch(e){case Je.Minute:return o.jsxs(o.Fragment,{children:[i("per"),o.jsx($.Item,{name:"minute",children:o.jsx(Se,{options:Sj,style:{width:100}})}),s]});case Je.Hour:return o.jsxs(o.Fragment,{children:[i("per")," ",s," ",i("of"),u]});case Je.Day:return o.jsxs(o.Fragment,{children:[i("per")," ",s," ",i("of"),d,u]});case Je.Week:return o.jsxs(o.Fragment,{children:[i("per")," ",s," ",i("of"),o.jsx($.Item,{name:"weekDay",children:o.jsx(Se,{options:Ij,style:{width:100}})}),d,u]});case Je.Month:return o.jsxs(o.Fragment,{children:[i("per")," ",s," ",i("of")," ",l,d,u]});case Je.Year:return o.jsxs(o.Fragment,{children:[i("per")," ",s,i("of"),o.jsx($.Item,{name:"month",children:o.jsx(Se,{options:fj,style:{width:80},disabled:a})}),l,d,u]});default:return}},[e,s,l,u,d,i]);return o.jsx($.Item,{label:i("executionTimeSetting"),required:!0,children:o.jsxs(Ge,{align:"baseline",children:[n?o.jsx($.Item,{name:"cronExpression",rules:[{required:!0,message:i("expressionIsRequired")}],children:o.jsx(Ae,{placeholder:i("pleaseEnterCronExpression"),style:{width:300},disabled:a})}):T,o.jsx($.Item,{name:"setCronExpressionManually",valuePropName:"checked",children:o.jsx(bn,{onChange:R=>r(R.target.checked),disabled:a,children:i("manualInput")})})]})})},{RangePicker:mj}=ec,hj=({onJobTypeChange:e,orgId:t,isAdd:n,initialName:r,children:a,...i})=>{const s=V("schedule.editor.basicBaseForm.index"),l=c.useCallback(async(d,u)=>!n&&r===u?Promise.resolve():u?await sr("schedules",{orgId:t,name:u})?Promise.resolve():Promise.reject(s("nameAlreadyExists")):Promise.resolve(),[t,n,r,s]);return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:s("name"),hasFeedback:!0,name:"name",validateTrigger:"onBlur",getValueFromEvent:d=>{var u;return(u=d.target.value)==null?void 0:u.trim()},rules:[{required:!0,message:s("nameRequired")},{validator:l}],children:o.jsx(Ae,{autoComplete:"new-name"})}),o.jsx($.Item,{label:s("type"),name:"jobType",children:o.jsx(Pe.Group,{options:$3,onChange:d=>e(d.target.value)})}),o.jsx($.Item,{label:s("effectiveTimeRange"),name:"dateRange",children:o.jsx(mj,{allowClear:!0,showTime:!0,format:ya})}),o.jsx(Oj,{...i})]})},Nj=({})=>o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:"webhook",name:"webHookUrl",rules:[{required:!0,message:"webhook"}],children:o.jsx(Ae,{})}),o.jsx(Mt,{children:o.jsx(pt,{span:12,children:o.jsx($.Item,{labelCol:{span:10},label:"",name:"type",rules:[{required:!0}],children:o.jsx(bn.Group,{options:K3})})})})]}),Cj=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","color","tag","calcfield","mention","image"],gj=({placeholder:e=ze("schedule.editor.emailSettingForm.commonRichText.placeholder"),...t})=>o.jsx(_j,{children:o.jsx(kg,{theme:"snow",placeholder:e,formats:Cj,modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},...t})}),_j=F.div.withConfig({displayName:"CommonRichText__ReactQuillWrapper",componentId:"sc-reenda-0"})([".ql-container{min-height:260px;}"]),bE=({value:e,onChange:t})=>{const[n,r]=c.useState([]),[a,i]=c.useState(""),s=V("schedule.editor.emailSettingForm.mailTagFormItem"),l=c.useMemo(()=>e?e.split(";").filter(Boolean):[],[e]),d=c.useCallback(async S=>{if(S){const p=await Z3(S);r(p)}else r([])},[]),u=c.useMemo(()=>Yn(d,$t),[d]),T=c.useCallback(S=>{const p=[...l],f=p.indexOf(S);f>-1?p.splice(f,1):p.push(S),t==null||t(p.join(";"))},[t,l]);c.useEffect(()=>{i("")},[e]);const R=c.useMemo(()=>n.filter(p=>!l.includes(p==null?void 0:p.email)).map(({username:p,email:f})=>({value:f,label:o.jsxs(Ge,{children:[o.jsx(hR,{src:"",size:"small",icon:o.jsx(nc,{})}),o.jsx("span",{children:p}),o.jsx("span",{children:f})]})})),[n,l]),A=c.useMemo(()=>{const S=a;return!J3.test(S)||~n.findIndex(({email:p})=>p===S)<0?[]:[{value:S,label:o.jsxs(Ge,{children:[o.jsx(hR,{size:"small",icon:o.jsx(nc,{})}),o.jsx("span",{children:S.split("@")[0]}),o.jsx("span",{children:S})]})}]},[a,n]),E=c.useMemo(()=>R.concat(A),[A,R]);return o.jsxs(o.Fragment,{children:[l.map(S=>o.jsx(Lj,{closable:!0,color:"blue",onClose:()=>T(S),children:S},S)),o.jsx(GD,{value:a,onChange:i,options:E,onSearch:u,onSelect:T,onBlur:()=>d(""),children:o.jsx(Ae,{suffix:o.jsx(Dr,{}),placeholder:s("placeholder")})})]})},Lj=F(IT).withConfig({displayName:"MailTagFormItem__EmailTag",componentId:"sc-dtjk25-0"})(["margin-bottom:",";"],Le),vj=({fileType:e,onFileTypeChange:t})=>{const[n,r]=c.useState(!1),a=V("schedule.editor.emailSettingForm.index"),i=c.useMemo(()=>e&&(e==null?void 0:e.length)>0?e==null?void 0:e.includes(io.Image):!1,[e]),s=c.useMemo(()=>o.jsxs(o.Fragment,{children:[a("CC")+" ",o.jsx("span",{onClick:()=>r(!n),children:n?o.jsx(hM,{}):o.jsx(aP,{})})]}),[n,a]);return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:a("theme"),name:"subject",rules:[{required:!0,message:a("subjectIsRequired")}],children:o.jsx(Ae,{})}),o.jsxs(Mt,{children:[o.jsx(pt,{span:15,children:o.jsx($.Item,{labelCol:{span:8},label:a("fileType"),name:"type",rules:[{required:!0}],children:o.jsx(bn.Group,{options:X3,onChange:l=>t(l)})})}),o.jsx(pt,{span:9,children:i?o.jsxs("div",{className:"image_width_form_item_wrapper",children:[o.jsx($.Item,{label:a("picWidth"),labelCol:{span:10},name:"imageWidth",rules:[{required:!0}],children:o.jsx(bt,{min:100})}),o.jsx("span",{className:"image_width_unit",children:a("px")})]}):null})]}),o.jsx($.Item,{label:a("recipient"),name:"to",rules:[{required:!0,message:a("recipientIsRequired")}],children:o.jsx(bE,{})}),o.jsx($.Item,{label:s,name:"cc",children:o.jsx(bE,{})}),n?o.jsx($.Item,{label:a("bcc"),name:"bcc",children:o.jsx(bE,{})}):null,o.jsx($.Item,{label:a("contentOfEmail"),validateFirst:!0,name:"textContent",children:o.jsx(gj,{placeholder:a("placeholder")})})]})},Dj=({scheduleId:e})=>{const t=de(),n=U(W3),r=U(k3),{actions:a}=Bs(),i=V("schedule.editor.scheduleErrorLog.index");c.useEffect(()=>(e&&t(bl({scheduleId:e,count:100})),()=>{t(a.clearLogs)}),[e,t]);const s=c.useMemo(()=>[{title:i("startTime"),dataIndex:"start",key:"start",width:160},{title:i("endTime"),dataIndex:"end",key:"end",width:160},{title:i("logPhase"),dataIndex:"status",key:"status",width:160,render(l){return q3[l]}},{title:i("executionInformation"),dataIndex:"message",key:"message",render(l,d){return(d==null?void 0:d.status)===Fm.S15?i("success"):l}}],[i]);return(n==null?void 0:n.length)>0?o.jsx(bj,{title:i("log"),children:o.jsx(Pj,{children:o.jsx(ir,{rowKey:"id",loading:r,columns:s,dataSource:n||[],size:"small",scroll:{y:400},pagination:!1})})}):o.jsx(o.Fragment,{})},bj=F(Ln).withConfig({displayName:"ScheduleErrorLog__FormCard",componentId:"sc-1uv74z3-0"})(["&.ant-card{background-color:",";border-radius:",";box-shadow:",";}"],e=>e.theme.componentBackground,st,e=>e.theme.shadowBlock),Pj=F.div.withConfig({displayName:"ScheduleErrorLog__FormWrapper",componentId:"sc-1uv74z3-1"})(["width:'100%';"]),yj=({value:e,onChange:t})=>{const n=c.useMemo(PI,[]),r=oT(),a=c.useCallback(u=>o.jsx(kn,{children:o.jsx("h4",{children:`${u.title}`})}),[]),i=U(u=>n(u,{getIcon:r})),s=U(yI),l=c.useMemo(()=>e&&(e==null?void 0:e.length)>0?e.map(u=>u.vizId):[],[e]),d=c.useCallback((u,{checkedNodes:T})=>{const R=T.filter(A=>(A==null?void 0:A.relType)!=="FOLDER").map(A=>({vizId:A==null?void 0:A.id,vizType:A==null?void 0:A.relType}));t==null||t(R)},[t]);return o.jsx(o.Fragment,{children:o.jsx(gt,{loading:s,treeData:i,checkable:!0,checkedKeys:l,onCheck:d,defaultExpandAll:!0,titleRender:a,id:"viz_folder"})})},Mj=()=>o.jsx($.Item,{noStyle:!0,name:"folderContent",children:o.jsx(yj,{})}),xj=()=>{const e=V("schedule.editor.weChatSettingForm");return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:e("RobotWebhookAddress"),name:"webHookUrl",rules:[{required:!0,message:e("RobotWebhookAddressIsRequired")}],children:o.jsx(Ae,{})}),o.jsxs(Mt,{children:[o.jsx(pt,{span:12,children:o.jsx($.Item,{labelCol:{span:10},label:e("fileType"),name:"type",rules:[{required:!0}],children:o.jsx(bn.Group,{options:z3})})}),o.jsx(pt,{span:12,children:o.jsxs("div",{className:"image_width_form_item_wrapper",children:[o.jsx($.Item,{label:e("picWidth"),labelCol:{span:10},name:"imageWidth",rules:[{required:!0}],children:o.jsx(bt,{min:100})}),o.jsx("span",{className:"image_width_unit",children:e("px")})]})})]})]})},Uj=()=>{const[e]=$.useForm(),[t,n]=c.useState(null),r=de(),[a,i]=c.useState(Wr.Email),[s,l]=c.useState(eo.type||[]),[d,u]=c.useState(Je.Minute),[T,R]=c.useState(!1),A=mt(),E=U(Um),S=U(j3),p=U(V3),f=U(Y3),I=U(wm),O=U(xd),{showSaveForm:N}=c.useContext(ko),{toDetails:h}=Ud(),m=(E==null?void 0:E.status)===0,g=V("schedule.editor.index"),_=U(pn),{actions:L}=Bs(),{scheduleId:P,orgId:v}=A,D=c.useMemo(()=>P==="add",[P]),b=c.useMemo(()=>D?!1:E==null?void 0:E.active,[E,D]),C=c.useCallback(()=>{r(Nr(v))},[r,v]),y=c.useCallback(()=>{e.validateFields().then(W=>{var Z;if(!(W!=null&&W.folderContent&&((Z=W==null?void 0:W.folderContent)==null?void 0:Z.length)>0)){Ie.error(g("tickToSendContent"));return}const J=ht(W,O),q=Ej({...W,index:J,parentId:(E==null?void 0:E.parentId)||null},v);D?N({scheduleType:"title",type:ue.Add,visible:!0,simple:!0,parentIdLabel:g("parent"),onSave:(ce,Ce)=>{r(bi({params:{...q,parentId:ce.parentId},resolve:k=>{Ie.success(g("addSuccess")),h(v,k),Ce()}}))}}):r(Dl({scheduleId:E==null?void 0:E.id,params:{...q,index:(E==null?void 0:E.index)||null,id:E==null?void 0:E.id},resolve:()=>{Ie.success(g("saveSuccess")),r(Di(E==null?void 0:E.id)),C()}}))})},[e,O,E==null?void 0:E.parentId,E==null?void 0:E.id,E==null?void 0:E.index,v,D,g,N,r,h,C]),w=c.useCallback(()=>{e.resetFields(),i(eo.jobType),u(Je.Minute),R(!1),l([io.Image]),r(L.clearEditingSchedule())},[e,r,L]);c.useEffect(()=>()=>{w()},[]),c.useEffect(()=>{r(kr(v)),P==="add"?w():P&&r(Di(P))},[P,r]);const x=c.useCallback(W=>{i(W),l([io.Image]),e.setFieldsValue({type:[io.Image],imageWidth:eo.imageWidth})},[e]),M=c.useCallback(W=>{l(W),e.setFieldsValue({imageWidth:W&&W.includes(io.Image)?eo.imageWidth:void 0})},[e]),B=c.useCallback(W=>{switch(u(W),W){case Je.Minute:e.setFieldsValue({minute:1});break}},[e]),H=c.useCallback(W=>{if(W)e.setFieldsValue({cronExpression:Hm(e.getFieldsValue())});else{const J=Gm(e.getFieldValue("cronExpression"));e.setFieldsValue(J),u(J==null?void 0:J.periodUnit)}R(W)},[e]),j=c.useCallback(()=>{if(f)return;const{id:W,name:J}=E;N({scheduleType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:W,name:J,parentId:null},parentIdLabel:g("parent"),onSave:(q,Z)=>{const ce=ht(q,O);r(Pi({schedule:{...q,id:W,index:ce},resolve:()=>{Ie.success(g("restoredSuccess")),h(v),Z()}}))}})},[f,E,N,g,O,r,h,v]),X=c.useCallback(W=>()=>{r(To({id:E.id,archive:W,resolve:()=>{Ie.success(`${g("success")}${g(W?"moveToTrash":"delete")}`),h(v)}}))},[r,h,v,E,g]);return c.useEffect(()=>{if(E){const W=E==null?void 0:E.type,J=uj(E);e.setFieldsValue(J),l(J==null?void 0:J.type),i(W),u(J==null?void 0:J.periodUnit),R(!!(J!=null&&J.setCronExpressionManually))}return()=>{i(eo.jobType)}},[E]),o.jsxs(wj,{ref:n,children:[o.jsx(ND,{offsetTop:0,target:()=>t,children:o.jsx(Uc,{title:D?g("newTimedTask"):E==null?void 0:E.name,actions:m?_?o.jsxs(o.Fragment,{children:[o.jsx(oe,{loading:f,onClick:j,children:g("restore")}),o.jsx(dt,{title:g("sureToDelete"),onConfirm:X(!1),children:o.jsx(oe,{loading:I,danger:!0,children:g("delete")})})]}):o.jsx(o.Fragment,{}):o.jsxs(o.Fragment,{children:[o.jsx(Me,{placement:"bottom",title:b?g("allowModificationAfterStopping"):"",children:o.jsx(oe,{loading:p,type:"primary",onClick:e.submit,disabled:b,children:g("save")})}),!D&&o.jsx(Me,{placement:"bottom",title:b?g("allowMoveAfterStopping"):"",children:o.jsx(dt,{title:g("sureMoveRecycleBin"),onConfirm:X(!0),children:o.jsx(oe,{loading:I,disabled:b,danger:!0,children:g("moveToTrash")})})})]})})}),o.jsx(Bj,{children:o.jsx(Co,{spinning:S,children:o.jsx($,{wrapperCol:{span:19},labelCol:{span:5},initialValues:eo,form:e,onFinish:y,scrollToFirstError:!0,children:o.jsxs(Fj,{children:[!D&&(E!=null&&E.id)?o.jsx(Dj,{scheduleId:E==null?void 0:E.id}):null,o.jsx(ui,{title:g("basicSettings"),children:o.jsx(Ti,{children:o.jsx(hj,{isAdd:D,orgId:v,onJobTypeChange:x,initialName:E==null?void 0:E.name,periodUnit:d,onPeriodUnitChange:B,periodInput:T,onPeriodInputChange:H})})}),a===Wr.Email&&o.jsx(ui,{title:g("emailSettings"),children:o.jsx(Ti,{children:o.jsx(vj,{fileType:s,onFileTypeChange:M})})}),a===Wr.WeChat&&o.jsx(ui,{title:g("enterpriseWeChatSettings"),children:o.jsx(Ti,{children:o.jsx(xj,{})})}),a===Wr.Dingtalk&&o.jsx(ui,{title:g("dingtalkSettings"),children:o.jsx(Ti,{children:o.jsx(Nj,{})})}),o.jsx(ui,{title:g("sendContentSettings"),children:o.jsx(Ti,{children:o.jsx(Mj,{})})})]})})})})]})},wj=F.div.withConfig({displayName:"EditorPage__Container",componentId:"sc-1ecqpbs-0"})(["display:flex;flex:1;flex-direction:column;"]),Bj=F.div.withConfig({displayName:"EditorPage__EditorWrapper",componentId:"sc-1ecqpbs-1"})(["flex:1;padding:",";overflow-y:auto;"],je),Fj=F.div.withConfig({displayName:"EditorPage__FormAreaWrapper",componentId:"sc-1ecqpbs-2"})(["display:flex;flex-direction:column;justify-content:space-between;.image_width_form_item_wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-start;.ant-row.ant-form-item{width:70%;}.ant-input-number{width:100%;}.image_width_unit{display:inline-block;height:30px;margin-left:",";line-height:30px;}}"],It),ui=F(Ln).withConfig({displayName:"EditorPage__FormCard",componentId:"sc-1ecqpbs-3"})(["&.ant-card{margin-top:",";background-color:",";border-radius:",";box-shadow:",";}"],je,e=>e.theme.componentBackground,st,e=>e.theme.shadowBlock),Ti=F.div.withConfig({displayName:"EditorPage__FormWrapper",componentId:"sc-1ecqpbs-4"})(["width:860px;"]),Gj={sourceType:"title",type:ue.Add,visible:!1,simple:!1,parentIdLabel:"",onSave:()=>{},onCancel:()=>{},showSaveForm:()=>{}},$o=c.createContext(Gj),Hj=()=>{const e=V("schedule.saveForm"),[t,n]=c.useState(ue.Add),[r,a]=c.useState("title"),[i,s]=c.useState(!1),[l,d]=c.useState(!1),[u,T]=c.useState(),[R,A]=c.useState(e("folder")),[E,S]=c.useState(()=>()=>{}),[p,f]=c.useState(()=>()=>{}),I=c.useCallback(()=>{s(!1)},[s]),O=c.useCallback(({sourceType:N,type:h,visible:m,simple:g,initialValues:_,parentIdLabel:L,onSave:P,onAfterClose:v})=>{n(h),a(N),s(m),d(g),T(_),A(L),S(()=>P),f(()=>v)},[]);return c.useMemo(()=>({sourceType:r,type:t,visible:i,simple:l,initialValues:u,parentIdLabel:R,onSave:E,onCancel:I,onAfterClose:p,showSaveForm:O}),[r,t,i,l,u,R,E,I,p,O])},cr=e=>e.source||Im,Xo=Re([cr],e=>e.sources),jj=()=>Re([Xo,(e,t)=>t.getIcon,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e,null,[le.Source],{getIcon:t,getDisabled:n})),Vj=()=>Re([Xo,(e,t)=>t.id,(e,t)=>t.getDisabled],(e,t,n)=>Wn(e&&e.filter(r=>r.isFolder&&r.id!==t),null,[le.Source],{getDisabled:n})),Yj=Re([cr],e=>e.archived);Re([cr],e=>e.editingSource);const Wj=Re([cr],e=>e.sources.concat(e.archived).find(({id:t})=>e.editingSource===t)),kj=Re([cr],e=>e.sourceListLoading),$j=Re([cr],e=>e.archivedListLoading),Xj=Re([cr],e=>e.saveSourceLoading),zj=Re([cr],e=>e.unarchiveSourceLoading),jm=Re([cr],e=>e.deleteSourceLoading),Kj=Re([cr],e=>e.syncSourceSchemaLoading);function Jj({formProps:e,...t}){const n=c.useMemo(Vj,[]),{sourceType:r,type:a,visible:i,simple:s,parentIdLabel:l,initialValues:d,onSave:u,onCancel:T,onAfterClose:R}=c.useContext($o),A=U(pn),E=U(Va),S=c.useCallback((g,_)=>!Ya(A,E,le.Source,_,_e.Create),[A,E]),p=U(g=>n(g,{id:d==null?void 0:d.id,getDisabled:S})),f=U(Be),I=c.useRef(),O=V("source.saveForm"),N=V("global");c.useEffect(()=>{var g;d&&((g=I.current)==null||g.setFieldsValue({...d,parentId:d.parentId||void 0}))},[d]);const h=c.useCallback(g=>{u({...g},T)},[u,T]),m=c.useCallback(()=>{var g;(g=I.current)==null||g.resetFields(),R&&R()},[R]);return o.jsxs(aa,{formProps:e,...t,title:O(r),type:a,open:i,onSave:h,onCancel:T,afterClose:m,ref:I,children:[!s&&o.jsx($.Item,{name:"name",label:O("name"),getValueFromEvent:g=>{var _;return(_=g.target.value)==null?void 0:_.trim()},rules:[{required:!0,message:`${O("name")}${N("validation.required")}`},{validator:Ur((g,_)=>{var v;if(!_||(d==null?void 0:d.name)===_)return Promise.resolve();if(!_.trim())return Promise.reject(`${O("name")}${N("validation.required")}`);const L=(v=I.current)==null?void 0:v.getFieldValue("parentId");return sr("sources",{name:_,orgId:f,parentId:L||null})},$t)}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"parentId",label:l,children:o.jsx(vr,{placeholder:O("root"),treeData:p||[],allowClear:!0,onChange:()=>{var g;(g=I.current)==null||g.validateFields()}})})]})}const qj=(e,t)=>{if(e==="JDBC"){let n="";try{const{dbType:r}=JSON.parse(t);n=r}catch(r){throw gn(r),r}return n}else return e};function Qj(){return c.useCallback(({isFolder:e,type:t,config:n})=>{var a;if(e)return i=>i.expanded?o.jsx(Ts,{}):o.jsx(Ss,{});const r=qj(t,n);switch(r){case"INTERBASE":case"FIREBIRD":case"IMPALA":case"NETEZZA":case"PHOENIX":case"SQLSTREAM":case"PRESTO":case"SPARK":case"DORIS":case"DERBY":case"CLICKHOUSE":case"INFORMIX":case"SYBASE":case"HIVE":case"H2":case"POSTGRESQL":case"ACCESS":case"NEOVIEW":case"BIG_QUERY":case"MSSQL":case"DB2":case"MYSQL":case"RDS":return hl("MYSQL");case"MYSQL8":return hl("MYSQL");case"ORACLE":case"HTTP":return hl(r);case"FILE":return o.jsx(SP,{});default:return o.jsx(Ma,{size:20,children:(a=r==null?void 0:r.substr(0,1))==null?void 0:a.toUpperCase()})}},[])}const Zj=c.memo(({sourceId:e,list:t})=>{const n=de(),r=Ve(),a=U(Be),i=U($j),s=V("source.sidebar"),{showSaveForm:l}=c.useContext($o),d=U(pn);c.useEffect(()=>{n(Pl(a))},[n,a]);const u=c.useCallback(S=>()=>{r(`/organizations/${a}/sources/${S}`)},[r,a]),T=c.useCallback((S,p)=>({key:f,domEvent:I})=>{switch(I.stopPropagation(),f){case"reset":l({sourceType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:S,name:p,parentId:null},parentIdLabel:s("parent"),onSave:(O,N)=>{const h=ht(O,t);n(xi({source:{name:O.name,parentId:O.parentId||null,id:S,index:h},resolve:()=>{Ie.success(s("restoredSuccess")),u(a),N()}}))}});break}},[l,s,t,n,u,a]),R=c.useCallback((S,{node:p})=>{!p.isFolder&&p.id!==e&&r(`/organizations/${a}/sources/${p.id}`)},[r,a,e]),A=c.useCallback(S=>()=>{n(So({id:S,archive:!1,resolve:()=>{Ie.success(`${s("success")}${s("delete")}`),u(a)}}))},[n,a,s,u]),E=c.useCallback(({key:S,title:p})=>o.jsxs(kn,{children:[o.jsx("h4",{children:`${p}`}),d&&o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsxs(lt,{selectable:!1,onClick:T(S,p),children:[o.jsx(De,{prefix:o.jsx(go,{className:"icon"}),children:s("restore")},"reset"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:s("sureToDelete"),onConfirm:A(S),children:s("delete")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})]}),[d,T,s,A]);return o.jsx(gt,{loading:i,treeData:t,titleRender:E,onSelect:R})}),e8=c.memo(({sourceId:e,list:t,searchable:n})=>{const r=de(),a=Ve(),i=U(Be),s=U(jm),l=U(kj),d=V("source"),u=V("global"),{showSaveForm:T}=c.useContext($o),R=U(pn),A=U(Va),[E,S]=c.useState([]);c.useEffect(()=>{n&&(t!=null&&t.length)&&S(E.concat(ua(t).map(({key:g})=>g)))},[n,t]),c.useEffect(()=>{r(Cr(i))},[r,i]);const p=c.useCallback(g=>()=>{a(`/organizations/${i}/sources/${g}`)},[a,i]),f=c.useCallback(({id:g,name:_,parentId:L,index:P})=>({key:v,domEvent:D})=>{switch(D.stopPropagation(),v){case"info":T({sourceType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:g,name:_,parentId:L},parentIdLabel:d("sidebar.parent"),onSave:(b,C)=>{r(Ui({source:{id:g,index:P,name:b.name,parentId:b.parentId},resolve:()=>{p(i),C()}}))}});break;case"addNewView":a(`/organizations/${i}/views/${`${Dc}${yt()}`}`,{state:{sourcesId:g}});break}},[r,a,i,T,d,p]),I=c.useCallback((g,_)=>()=>{s||r(So({id:g,archive:!_,resolve:()=>{Ie.success(u(_?"operation.archiveSuccess":"operation.deleteSuccess")),a(`/organizations/${i}/sources`)}}))},[s,r,u,a,i]),O=c.useCallback(g=>{const{title:_,path:L,isFolder:P,id:v,type:D}=g,b=Ya(R,A,le.Source,L,_e.Manage);return o.jsxs(kn,{children:[o.jsx("h4",{children:_}),o.jsx(wc,{module:le.Source,path:L,level:_e.Manage,children:o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:f(g),children:[b&&o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:u("button.info")},"info"),b&&D!=="FOLDER"&&o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:d("creatView")},"addNewView"),b&&o.jsx(De,{prefix:s?o.jsx(Zt,{className:"icon"}):o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:u(P?"operation.deleteConfirm":"operation.archiveConfirm"),onConfirm:I(v,P),children:u(P?"button.delete":"button.archive")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})})]})},[R,A,f,u,d,s,I]),N=g=>{cs({info:g,treeData:t,callback:(_,L,P)=>{r(Ui({source:{id:_,parentId:L,index:P,name:g.dragNode.name},resolve:()=>{}}))}})},h=c.useCallback((g,{node:_})=>{_.type==="FOLDER"?E!=null&&E.includes(_.key)?S(E.filter(L=>L!==_.key)):S([_.key].concat(E)):a(`/organizations/${i}/sources/${_.id}`)},[E,a,i]),m=g=>{S(g)};return o.jsx(gt,{loading:l,treeData:t,titleRender:O,onSelect:h,onDrop:N,expandedKeys:E,onExpand:m,...e&&{selectedKeys:[e]},draggable:!0})}),t8=c.memo(({width:e,isDragging:t,sliderVisible:n,handleSliderVisible:r})=>{const a=de(),i=Ve(),s=U(Be),l=U(Yj),d=U(Xo),{sourceId:u}=mt(),T=V("source"),R=c.useMemo(jj,[]),{showSaveForm:A}=c.useContext($o),E=Qj(),S=c.useCallback(({deleteLoading:P})=>P,[]),p=U(P=>R(P,{getIcon:E,getDisabled:S})),f=c.useMemo(()=>l==null?void 0:l.map(P=>{const{id:v,name:D,parentId:b,isFolder:C,deleteLoading:y}=P;return{id:v,key:v,title:D,icon:E(P),parentId:b,isFolder:C,disabled:y}}),[l,E]),{keywords:I,filteredData:O,debouncedSearch:N}=Nt(p,(P,v)=>v.title.toLowerCase().includes(P.toLowerCase())),{filteredData:h,debouncedSearch:m}=Nt(f,(P,v)=>v.title.toLowerCase().includes(P.toLowerCase())),g=c.useCallback(({key:P})=>{switch(P){case"add":i(`/organizations/${s}/sources/add`);break;case"folder":A({sourceType:"folder",type:ue.Add,visible:!0,simple:!1,parentIdLabel:T("sidebar.parent"),onSave:(v,D)=>{const b=ht(v,d);a(Mi({source:{...v,config:JSON.stringify(v.config),parentId:v.parentId||null,index:b,orgId:s,isFolder:!0},resolve:()=>{D(),Ie.success(T("sidebar.addSuccess"))}}))}});break}},[a,i,s,A,d,T]),_=c.useCallback((P,v,D)=>{switch(P){case"recycle":D();break;case"collapse":r(!n),Gt();break}},[r,n]),L=c.useMemo(()=>[{key:"list",title:T("sidebar.title"),search:!0,onSearch:N,add:{items:[{key:"add",text:T("sidebar.add")},{key:"folder",text:T("sidebar.addFolder")}],callback:g},more:{items:[{key:"recycle",text:T("sidebar.recycle"),prefix:o.jsx(it,{className:"icon"})},{key:"collapse",text:T(n?"sidebar.open":"sidebar.close"),prefix:n?o.jsx(Lr,{className:"icon"}):o.jsx(ps,{className:"icon"})}],callback:_}},{key:"recycle",title:T("sidebar.recycle"),back:!0,search:!0,onSearch:m}],[T,N,g,n,_,m]);return o.jsxs(n8,{sliderVisible:n,className:n?"close":"",isDragging:t,width:e,children:[n?o.jsx(Lr,{className:"menuUnfoldOutlined"}):"",o.jsxs(r8,{defaultActiveKey:"list",children:[o.jsxs(ar,{children:[o.jsx(en,{...L[0]}),o.jsx(e8,{sourceId:u,list:O,searchable:!!I.length})]},"list"),o.jsxs(ar,{children:[o.jsx(en,{...L[1]}),o.jsx(Zj,{sourceId:u,list:h})]},"recycle")]})]})}),n8=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-1qmzjpu-0"})(["z-index:",";display:flex;flex-direction:column;flex-shrink:0;min-height:0;color:",";background-color:",";box-shadow:",";transition:",";.hidden{display:none;}> ul{display:",";}> div{display:",";}&.close{position:absolute;width:"," !important;height:100%;.menuUnfoldOutlined{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}&:hover{width:"," !important;.menuUnfoldOutlined{display:none;}> ul{display:block;}> div{display:flex;&.hidden{display:none;}}}}"],Ro,e=>e.theme.textColorSnd,e=>e.theme.componentBackground,e=>e.theme.shadowSider,e=>e.isDragging?"none":"width 0.3s ease",e=>e.sliderVisible?"none":"block",e=>e.sliderVisible?"none":"flex",me(7.5),e=>e.width+"%"),r8=F(Os).withConfig({displayName:"Sidebar__ListNavWrapper",componentId:"sc-1qmzjpu-1"})(["display:flex;flex:1;flex-direction:column;min-height:0;padding:"," 0;background-color:",";"],Le,e=>e.theme.componentBackground);function a8(){Fs();const e=Hj(),[t,n]=c.useState(!1),{sizes:r,setSizes:a}=bo({limitedSide:0,range:[256,768]}),i=V("global"),[s,l]=c.useState(!1),d=c.useCallback(R=>{a(R),Gt(),l(!1)},[a,l]),u=c.useCallback(()=>{s||l(!0)},[l,s]),T=c.useCallback(R=>{n(R),setTimeout(()=>{Gt()},300)},[n]);return o.jsx($o.Provider,{value:e,children:o.jsxs(o8,{sizes:r,minSize:[256,0],maxSize:[768,1/0],gutterSize:0,onDragStart:u,onDragEnd:d,className:"datart-split",sliderVisible:t,children:[o.jsx(t8,{width:r[0],isDragging:s,sliderVisible:t,handleSliderVisible:T}),o.jsx(i8,{className:t?"close":"",children:o.jsx(is,{})}),o.jsx(Jj,{formProps:{labelAlign:"left",labelCol:{offset:1,span:8},wrapperCol:{span:13}},okText:i("button.save")})]})})}const o8=F(({sliderVisible:e,...t})=>o.jsx(oa,{...t})).withConfig({displayName:"SourcePage__Container",componentId:"sc-1e5qs5h-0"})(["display:flex;flex:1;min-width:0;min-height:0;.gutter-horizontal{display:",";}"],e=>e.sliderVisible?"none":"block"),i8=F.div.withConfig({displayName:"SourcePage__DetailPageWrapper",componentId:"sc-1e5qs5h-1"})(["display:flex;flex:1;min-width:0;min-height:0;&.close{width:calc(100% - 30px) !important;min-width:calc(100% - 30px) !important;padding-left:30px;}"]);var Yl=(e=>(e.ANALYZE="ANALYZE",e.EXTRACT="EXTRACT",e))(Yl||{});function s8(e){return{module:le.Source,path:e,level:_e.Manage}}function l8({attr:e,value:t,sourceId:n,testLoading:r,disabled:a,allowManage:i,onChange:s,onSubFormTest:l,depens:d}){var D;const[u,T]=c.useState(!1),[R,A]=c.useState(""),[E,S]=c.useState([]),p=c.useRef(),f=V("source"),I=V("global"),O=c.useCallback(()=>{T(!0)},[]),N=c.useCallback(()=>{T(!1)},[]),h=c.useCallback(()=>{A(""),S([])},[]),m=c.useCallback(async()=>{var C,y;await((C=p.current)==null?void 0:C.validateFields());const b=(y=p.current)==null?void 0:y.getFieldsValue();b&&l&&l(b.config,w=>{var H,j;const x=b.config.columns,M=x?x.reduce((X,W)=>({...X,[W.name]:{...W,category:$g.UnCategorized}}),{}):{},B=AI(w,M);S(B.dataSource),(j=p.current)==null||j.setFieldsValue({config:{columns:Object.entries(((H=B==null?void 0:B.model)==null?void 0:H.columns)||{}).map(([X,W])=>({...W,name:X}))}})})},[p,l]),g=c.useCallback(b=>{const C=e.key;return t&&C?b===R||!t.find(y=>y[C]===b):!0},[e,t,R]),_=c.useCallback(b=>{const C=e.key;if(t&&C){const y=t.findIndex(w=>w[C]===R);y>=0?s&&s([...t.slice(0,y),b.config,...t.slice(y+1)]):s&&s(t.concat(b.config))}else s&&s([b.config]);T(!1)},[e.key,t,R,s]),L=c.useCallback(b=>()=>{var y;const C=e.key;if(t&&C){const w=t.find(x=>x[C]===b);w&&(T(!0),A(b),(y=p.current)==null||y.setFieldsValue({config:w}),w.path&&w.format&&m())}},[e,t,p,m]),P=c.useCallback(b=>()=>{const C=e.key;t&&C&&s&&s(t.filter(y=>y[C]!==b))},[e,t,s]),v=c.useMemo(()=>[{title:e.displayName,dataIndex:e.key},{title:I("title.action"),align:"center",width:120,render:(b,C)=>o.jsxs(Ge,{children:[o.jsx(EA,{type:"link",onClick:L(C[e.key]),children:I("button.edit")},"edit"),i&&o.jsx(dt,{title:I("operation.deleteConfirm"),onConfirm:P(C[e.key]),children:o.jsx(EA,{type:"link",children:I("button.delete")})},"del")]})}],[e,L,P,i,I]);return o.jsxs(c8,{children:[i&&!a&&o.jsx(d8,{type:"link",icon:o.jsx(nr,{}),onClick:O,children:f("form.addConfig")}),o.jsx(ir,{rowKey:e.key,dataSource:t,columns:v,size:"small",pagination:!1,bordered:!0}),o.jsx(aa,{title:f("form.editConfig"),open:u,width:me(240),formProps:{labelAlign:"left",labelCol:{offset:1,span:5},wrapperCol:{span:8}},onSave:_,onCancel:N,afterClose:h,footer:i?void 0:!1,ref:p,children:(D=e.children)==null?void 0:D.filter(b=>{var C,y;return((C=b==null?void 0:b.dependencies)==null?void 0:C.length)&&(d==null?void 0:d.length)&&(d==null?void 0:d.some(w=>{var x;return(x=b.dependencies)==null?void 0:x.includes(w)}))||!((y=b==null?void 0:b.dependencies)!=null&&y.length)}).map(b=>o.jsx($m,{attr:b,form:p.current,sourceId:n,testLoading:r,schemaDataSource:E,subFormRowKey:e.key,subFormRowKeyValidator:g,disabled:a,allowManage:i,onTest:m,dataTables:t},b.name))})]})}const c8=F.div.withConfig({displayName:"ArrayConfig__Wrapper",componentId:"sc-18eil6l-0"})([""]),d8=F(oe).withConfig({displayName:"ArrayConfig__AddButton",componentId:"sc-18eil6l-1"})(["height:",";padding:0;"],oC),EA=F(oe).withConfig({displayName:"ArrayConfig__ActionButton",componentId:"sc-18eil6l-2"})(["height:",";padding:0;"],Hu);var uA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function E8(e,t){return!!(e===t||uA(e)&&uA(t))}function u8(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!E8(e[n],t[n]))return!1;return!0}function Et(e,t){t===void 0&&(t=u8);var n,r=[],a,i=!1;function s(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return i&&n===this&&t(l,r)||(a=e.apply(this,l),i=!0,n=this,r=l),a}return s}var T8=typeof performance=="object"&&typeof performance.now=="function",TA=T8?function(){return performance.now()}:function(){return Date.now()};function SA(e){cancelAnimationFrame(e.id)}function S8(e,t){var n=TA();function r(){TA()-n>=t?e.call(null):a.id=requestAnimationFrame(r)}var a={id:requestAnimationFrame(r)};return a}var PE=-1;function R8(e){if(e===void 0&&(e=!1),PE===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),PE=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return PE}var to=null;function RA(e){if(e===void 0&&(e=!1),to===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?to="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?to="negative":to="positive-ascending"),document.body.removeChild(t),to}return to}var p8=150,A8=function(t){var n=t.columnIndex;t.data;var r=t.rowIndex;return r+":"+n};function f8(e){var t,n=e.getColumnOffset,r=e.getColumnStartIndexForOffset,a=e.getColumnStopIndexForStartIndex,i=e.getColumnWidth,s=e.getEstimatedTotalHeight,l=e.getEstimatedTotalWidth,d=e.getOffsetForColumnAndAlignment,u=e.getOffsetForRowAndAlignment,T=e.getRowHeight,R=e.getRowOffset,A=e.getRowStartIndexForOffset,E=e.getRowStopIndexForStartIndex,S=e.initInstanceProps,p=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return t=function(I){ju(O,I);function O(h){var m;return m=I.call(this,h)||this,m._instanceProps=S(m.props,XS(m)),m._resetIsScrollingTimeoutId=null,m._outerRef=void 0,m.state={instance:XS(m),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof m.props.initialScrollLeft=="number"?m.props.initialScrollLeft:0,scrollTop:typeof m.props.initialScrollTop=="number"?m.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},m._callOnItemsRendered=void 0,m._callOnItemsRendered=Et(function(g,_,L,P,v,D,b,C){return m.props.onItemsRendered({overscanColumnStartIndex:g,overscanColumnStopIndex:_,overscanRowStartIndex:L,overscanRowStopIndex:P,visibleColumnStartIndex:v,visibleColumnStopIndex:D,visibleRowStartIndex:b,visibleRowStopIndex:C})}),m._callOnScroll=void 0,m._callOnScroll=Et(function(g,_,L,P,v){return m.props.onScroll({horizontalScrollDirection:L,scrollLeft:g,scrollTop:_,verticalScrollDirection:P,scrollUpdateWasRequested:v})}),m._getItemStyle=void 0,m._getItemStyle=function(g,_){var L=m.props,P=L.columnWidth,v=L.direction,D=L.rowHeight,b=m._getItemStyleCache(p&&P,p&&v,p&&D),C=g+":"+_,y;if(b.hasOwnProperty(C))y=b[C];else{var w=n(m.props,_,m._instanceProps),x=v==="rtl";b[C]=y={position:"absolute",left:x?void 0:w,right:x?w:void 0,top:R(m.props,g,m._instanceProps),height:T(m.props,g,m._instanceProps),width:i(m.props,_,m._instanceProps)}}return y},m._getItemStyleCache=void 0,m._getItemStyleCache=Et(function(g,_,L){return{}}),m._onScroll=function(g){var _=g.currentTarget,L=_.clientHeight,P=_.clientWidth,v=_.scrollLeft,D=_.scrollTop,b=_.scrollHeight,C=_.scrollWidth;m.setState(function(y){if(y.scrollLeft===v&&y.scrollTop===D)return null;var w=m.props.direction,x=v;if(w==="rtl")switch(RA()){case"negative":x=-v;break;case"positive-descending":x=C-P-v;break}x=Math.max(0,Math.min(x,C-P));var M=Math.max(0,Math.min(D,b-L));return{isScrolling:!0,horizontalScrollDirection:y.scrollLeft<v?"forward":"backward",scrollLeft:x,scrollTop:M,verticalScrollDirection:y.scrollTop<D?"forward":"backward",scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(g){var _=m.props.outerRef;m._outerRef=g,typeof _=="function"?_(g):_!=null&&typeof _=="object"&&_.hasOwnProperty("current")&&(_.current=g)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&SA(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=S8(m._resetIsScrolling,p8)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1)})},m}O.getDerivedStateFromProps=function(m,g){return I8(m,g),f(m),null};var N=O.prototype;return N.scrollTo=function(m){var g=m.scrollLeft,_=m.scrollTop;g!==void 0&&(g=Math.max(0,g)),_!==void 0&&(_=Math.max(0,_)),this.setState(function(L){return g===void 0&&(g=L.scrollLeft),_===void 0&&(_=L.scrollTop),L.scrollLeft===g&&L.scrollTop===_?null:{horizontalScrollDirection:L.scrollLeft<g?"forward":"backward",scrollLeft:g,scrollTop:_,scrollUpdateWasRequested:!0,verticalScrollDirection:L.scrollTop<_?"forward":"backward"}},this._resetIsScrollingDebounced)},N.scrollToItem=function(m){var g=m.align,_=g===void 0?"auto":g,L=m.columnIndex,P=m.rowIndex,v=this.props,D=v.columnCount,b=v.height,C=v.rowCount,y=v.width,w=this.state,x=w.scrollLeft,M=w.scrollTop,B=R8();L!==void 0&&(L=Math.max(0,Math.min(L,D-1))),P!==void 0&&(P=Math.max(0,Math.min(P,C-1)));var H=s(this.props,this._instanceProps),j=l(this.props,this._instanceProps),X=j>y?B:0,W=H>b?B:0;this.scrollTo({scrollLeft:L!==void 0?d(this.props,L,_,x,this._instanceProps,W):x,scrollTop:P!==void 0?u(this.props,P,_,M,this._instanceProps,X):M})},N.componentDidMount=function(){var m=this.props,g=m.initialScrollLeft,_=m.initialScrollTop;if(this._outerRef!=null){var L=this._outerRef;typeof g=="number"&&(L.scrollLeft=g),typeof _=="number"&&(L.scrollTop=_)}this._callPropsCallbacks()},N.componentDidUpdate=function(){var m=this.props.direction,g=this.state,_=g.scrollLeft,L=g.scrollTop,P=g.scrollUpdateWasRequested;if(P&&this._outerRef!=null){var v=this._outerRef;if(m==="rtl")switch(RA()){case"negative":v.scrollLeft=-_;break;case"positive-ascending":v.scrollLeft=_;break;default:var D=v.clientWidth,b=v.scrollWidth;v.scrollLeft=b-D-_;break}else v.scrollLeft=Math.max(0,_);v.scrollTop=Math.max(0,L)}this._callPropsCallbacks()},N.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&SA(this._resetIsScrollingTimeoutId)},N.render=function(){var m=this.props,g=m.children,_=m.className,L=m.columnCount,P=m.direction,v=m.height,D=m.innerRef,b=m.innerElementType,C=m.innerTagName,y=m.itemData,w=m.itemKey,x=w===void 0?A8:w,M=m.outerElementType,B=m.outerTagName,H=m.rowCount,j=m.style,X=m.useIsScrolling,W=m.width,J=this.state.isScrolling,q=this._getHorizontalRangeToRender(),Z=q[0],ce=q[1],Ce=this._getVerticalRangeToRender(),k=Ce[0],ne=Ce[1],K=[];if(L>0&&H)for(var G=k;G<=ne;G++)for(var Y=Z;Y<=ce;Y++)K.push(c.createElement(g,{columnIndex:Y,data:y,isScrolling:X?J:void 0,key:x({columnIndex:Y,data:y,rowIndex:G}),rowIndex:G,style:this._getItemStyle(G,Y)}));var z=s(this.props,this._instanceProps),ee=l(this.props,this._instanceProps);return c.createElement(M||B||"div",{className:_,onScroll:this._onScroll,ref:this._outerRefSetter,style:te({position:"relative",height:v,width:W,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:P},j)},c.createElement(b||C||"div",{children:K,ref:D,style:{height:z,pointerEvents:J?"none":void 0,width:ee}}))},N._callPropsCallbacks=function(){var m=this.props,g=m.columnCount,_=m.onItemsRendered,L=m.onScroll,P=m.rowCount;if(typeof _=="function"&&g>0&&P>0){var v=this._getHorizontalRangeToRender(),D=v[0],b=v[1],C=v[2],y=v[3],w=this._getVerticalRangeToRender(),x=w[0],M=w[1],B=w[2],H=w[3];this._callOnItemsRendered(D,b,x,M,C,y,B,H)}if(typeof L=="function"){var j=this.state,X=j.horizontalScrollDirection,W=j.scrollLeft,J=j.scrollTop,q=j.scrollUpdateWasRequested,Z=j.verticalScrollDirection;this._callOnScroll(W,J,X,Z,q)}},N._getHorizontalRangeToRender=function(){var m=this.props,g=m.columnCount,_=m.overscanColumnCount,L=m.overscanColumnsCount,P=m.overscanCount,v=m.rowCount,D=this.state,b=D.horizontalScrollDirection,C=D.isScrolling,y=D.scrollLeft,w=_||L||P||1;if(g===0||v===0)return[0,0,0,0];var x=r(this.props,y,this._instanceProps),M=a(this.props,x,y,this._instanceProps),B=!C||b==="backward"?Math.max(1,w):1,H=!C||b==="forward"?Math.max(1,w):1;return[Math.max(0,x-B),Math.max(0,Math.min(g-1,M+H)),x,M]},N._getVerticalRangeToRender=function(){var m=this.props,g=m.columnCount,_=m.overscanCount,L=m.overscanRowCount,P=m.overscanRowsCount,v=m.rowCount,D=this.state,b=D.isScrolling,C=D.verticalScrollDirection,y=D.scrollTop,w=L||P||_||1;if(g===0||v===0)return[0,0,0,0];var x=A(this.props,y,this._instanceProps),M=E(this.props,x,y,this._instanceProps),B=!b||C==="backward"?Math.max(1,w):1,H=!b||C==="forward"?Math.max(1,w):1;return[Math.max(0,x-B),Math.max(0,Math.min(v-1,M+H)),x,M]},O}(c.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var I8=function(t,n){t.children,t.direction,t.height,t.innerTagName,t.outerTagName,t.overscanColumnsCount,t.overscanCount,t.overscanRowsCount,t.width,n.instance},pA=50,Vm=function(t,n){var r=t.rowCount,a=n.rowMetadataMap,i=n.estimatedRowHeight,s=n.lastMeasuredRowIndex,l=0;if(s>=r&&(s=r-1),s>=0){var d=a[s];l=d.offset+d.size}var u=r-s-1,T=u*i;return l+T},Ym=function(t,n){var r=t.columnCount,a=n.columnMetadataMap,i=n.estimatedColumnWidth,s=n.lastMeasuredColumnIndex,l=0;if(s>=r&&(s=r-1),s>=0){var d=a[s];l=d.offset+d.size}var u=r-s-1,T=u*i;return l+T},mr=function(t,n,r,a){var i,s,l;if(t==="column"?(i=a.columnMetadataMap,s=n.columnWidth,l=a.lastMeasuredColumnIndex):(i=a.rowMetadataMap,s=n.rowHeight,l=a.lastMeasuredRowIndex),r>l){var d=0;if(l>=0){var u=i[l];d=u.offset+u.size}for(var T=l+1;T<=r;T++){var R=s(T);i[T]={offset:d,size:R},d+=R}t==="column"?a.lastMeasuredColumnIndex=r:a.lastMeasuredRowIndex=r}return i[r]},AA=function(t,n,r,a){var i,s;t==="column"?(i=r.columnMetadataMap,s=r.lastMeasuredColumnIndex):(i=r.rowMetadataMap,s=r.lastMeasuredRowIndex);var l=s>0?i[s].offset:0;return l>=a?Wm(t,n,r,s,0,a):O8(t,n,r,Math.max(0,s),a)},Wm=function(t,n,r,a,i,s){for(;i<=a;){var l=i+Math.floor((a-i)/2),d=mr(t,n,l,r).offset;if(d===s)return l;d<s?i=l+1:d>s&&(a=l-1)}return i>0?i-1:0},O8=function(t,n,r,a,i){for(var s=t==="column"?n.columnCount:n.rowCount,l=1;a<s&&mr(t,n,a,r).offset<i;)a+=l,l*=2;return Wm(t,n,r,Math.min(a,s-1),Math.floor(a/2),i)},fA=function(t,n,r,a,i,s,l){var d=t==="column"?n.width:n.height,u=mr(t,n,r,s),T=t==="column"?Ym(n,s):Vm(n,s),R=Math.max(0,Math.min(T-d,u.offset)),A=Math.max(0,u.offset-d+l+u.size);switch(a==="smart"&&(i>=A-d&&i<=R+d?a="auto":a="center"),a){case"start":return R;case"end":return A;case"center":return Math.round(A+(R-A)/2);case"auto":default:return i>=A&&i<=R?i:A>R||i<A?A:R}},m8=f8({getColumnOffset:function(t,n,r){return mr("column",t,n,r).offset},getColumnStartIndexForOffset:function(t,n,r){return AA("column",t,r,n)},getColumnStopIndexForStartIndex:function(t,n,r,a){for(var i=t.columnCount,s=t.width,l=mr("column",t,n,a),d=r+s,u=l.offset+l.size,T=n;T<i-1&&u<d;)T++,u+=mr("column",t,T,a).size;return T},getColumnWidth:function(t,n,r){return r.columnMetadataMap[n].size},getEstimatedTotalHeight:Vm,getEstimatedTotalWidth:Ym,getOffsetForColumnAndAlignment:function(t,n,r,a,i,s){return fA("column",t,n,r,a,i,s)},getOffsetForRowAndAlignment:function(t,n,r,a,i,s){return fA("row",t,n,r,a,i,s)},getRowOffset:function(t,n,r){return mr("row",t,n,r).offset},getRowHeight:function(t,n,r){return r.rowMetadataMap[n].size},getRowStartIndexForOffset:function(t,n,r){return AA("row",t,r,n)},getRowStopIndexForStartIndex:function(t,n,r,a){for(var i=t.rowCount,s=t.height,l=mr("row",t,n,a),d=r+s,u=l.offset+l.size,T=n;T<i-1&&u<d;)T++,u+=mr("row",t,T,a).size;return T},initInstanceProps:function(t,n){var r=t,a=r.estimatedColumnWidth,i=r.estimatedRowHeight,s={columnMetadataMap:{},estimatedColumnWidth:a||pA,estimatedRowHeight:i||pA,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return n.resetAfterColumnIndex=function(l,d){d===void 0&&(d=!0),n.resetAfterIndices({columnIndex:l,shouldForceUpdate:d})},n.resetAfterRowIndex=function(l,d){d===void 0&&(d=!0),n.resetAfterIndices({rowIndex:l,shouldForceUpdate:d})},n.resetAfterIndices=function(l){var d=l.columnIndex,u=l.rowIndex,T=l.shouldForceUpdate,R=T===void 0?!0:T;typeof d=="number"&&(s.lastMeasuredColumnIndex=Math.min(s.lastMeasuredColumnIndex,d-1)),typeof u=="number"&&(s.lastMeasuredRowIndex=Math.min(s.lastMeasuredRowIndex,u-1)),n._getItemStyleCache(-1),R&&n.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.columnWidth,t.rowHeight}});const h8=c.memo(e=>{const{columns:t,scroll:n,width:r,dataSource:a}=e,i=t.map(E=>({width:E.width,dataIndex:E.dataIndex})),s=c.useRef(),l=c.useRef(!1),d=i.filter(({width:E,dataIndex:S})=>!E||S!==Xl).length,[u]=c.useState(()=>{const E={};return Object.defineProperty(E,"scrollLeft",{get:()=>null,set:S=>{s.current&&s.current.scrollTo({scrollLeft:S})}}),E});l.current=r>n.x,l.current===!0&&i.forEach((E,S)=>i[S].width=i[S].dataIndex===Xl?i[S].width:i[S].width+(r-n.x)/d);const T=c.useMemo(()=>t.map((E,S)=>({...E,width:E.width?i[S].width:Math.floor(r/d)})),[r,t,d,i]),R=c.useCallback(()=>{var E;(E=s.current)==null||E.resetAfterIndices({columnIndex:0,shouldForceUpdate:!0})},[s]);c.useEffect(()=>R,[r,a,R]);const A=c.useCallback((E,{scrollbarSize:S,ref:p,onScroll:f})=>{p.current=u;const I=E.length*39;return a!=null&&a.length?o.jsx(m8,{ref:s,className:"virtual-grid",columnCount:T.length,columnWidth:O=>{const{width:N}=T[O];return I>n.y&&O===T.length-1?N-S-16:N},height:n.y,rowCount:E.length,rowHeight:()=>39,width:r,onScroll:({scrollLeft:O})=>{f({scrollLeft:O})},children:({rowIndex:O,columnIndex:N,style:h})=>(h={textAlign:T[N].align,display:"flex",alignItems:"center",paddingLeft:8,...h},o.jsx(N8,{className:Ke("virtual-table-cell",{"virtual-table-cell-last":N===T.length-1}),style:h,children:o.jsx("p",{children:E[O][T[N].dataIndex]})},N))}):o.jsx(qr,{image:qr.PRESENTED_IMAGE_SIMPLE})},[T,r,u,a,n]);return o.jsx(ir,{...e,columns:T,components:{body:A,...e.components}})}),N8=F.div.withConfig({displayName:"VirtualTable__TableCell",componentId:"sc-wl2tpf-0"})(["border-bottom:1px solid ",";"],e=>e.theme.borderColorSplit),km=c.memo(({onChange:e,field:t,hasCategory:n,icon:r,hasFormat:a=!0})=>{const i=V("view.schemaTable"),s=V("global");return o.jsx(an,{trigger:["click"],menu:{items:Object.values(be).map(l=>l===be.DATE&&a?{key:l,label:s(`columnType.${l.toLowerCase()}`),popupClassName:"datart-schema-table-header-menu",children:Object.values(Ju).map(d=>({key:d,label:d}))}:{key:l,label:s(`columnType.${l.toLowerCase()}`)}).concat(n?[{type:"divider",key:""},{key:"categories",label:i("category"),popupClassName:"datart-schema-table-header-menu",children:Object.values(Xg).map(l=>({key:`category-${l}`,label:s(`columnCategory.${l.toLowerCase()}`)}))}]:[]),onClick:({keyPath:l})=>e(l,t==null?void 0:t.name),className:"datart-schema-table-header-menu",selectedKeys:[t.type,`category-${t.category}`,t.dateFormat||""]},children:o.jsx(Me,{title:i(n?"typeAndCategory":"category"),placement:"left",children:r})})}),IA="DATART_ROW_KEY",TS=c.memo(({height:e,width:t,model:n,hierarchy:r,dataSource:a,hasFormat:i,hasCategory:s,getExtraHeaderActions:l,onSchemaTypeChange:d,...u})=>{const T=c.useMemo(()=>a==null?void 0:a.map((p,f)=>({...p,[IA]:yt(),[Xl]:f+1})),[a]),R=c.useMemo(()=>zg(n,a||[]),[n,a]),A=50,{columns:E,tableWidth:S}=c.useMemo(()=>{let p=0;const f=Object.entries(n).map(([I,O])=>{const N=Kg(I,r)||O,h=R[I];p+=h;let m;switch(N.type){case be.NUMERIC:m=o.jsx(hs,{});break;case be.DATE:m=o.jsx(Po,{});break;default:m=o.jsx(ms,{});break}const g=l&&l(I,N);return{title:o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"content",children:I}),o.jsx(km,{field:N,hasCategory:s,hasFormat:i,onChange:d(I,N),icon:o.jsx(rt,{size:"small",iconSize:Ha,className:"suffix",icon:m})}),g]}),dataIndex:I,width:h,align:O.type===be.NUMERIC?"right":"left"}});return{columns:[{align:"left",dataIndex:Xl,width:A},...f],tableWidth:p}},[n,r,R,s,i,l,d]);return o.jsx(h8,{...u,rowKey:IA,size:"small",components:{header:{cell:C8}},dataSource:T,columns:E,scroll:{x:S+A,y:e},width:t})});function C8(e){return o.jsx(g8,{className:"ant-table-cell",children:o.jsx("div",{className:"content-wrapper",children:e.children})})}const g8=F.th.withConfig({displayName:"SchemaTable__TH",componentId:"sc-rc7zc6-0"})(["padding:"," "," "," "," !important;.content-wrapper{display:flex;align-items:center;.btn{&:hover{background-color:",";}}.content{flex:1;}.prefix{margin-right:",";}.suffix{margin-left:",";}.partial{color:",";}}"],Le,ot,Le,Le,e=>e.theme.emphasisBackground,ot,ot,hn);function _8({form:e,value:t,dataSource:n,onChange:r}){const a=t?t.reduce((R,A)=>(R[A.name]=A,R),{}):{},i=c.useCallback(R=>A=>{r&&r(t==null?void 0:t.map(E=>E.name===R?{...E,type:A[0]}:E))},[t,r]),[s,l]=c.useState(""),d=V("global"),u=V("source"),T=c.useCallback(()=>{const A=Array.from(new Set(s.split(","))).map(E=>({name:E,type:"STRING",primaryKey:!1,category:"UNCATEGORIZED"}));e==null||e.setFieldsValue({config:{columns:A}}),l("")},[e,s,t]);return o.jsxs(L8,{children:[o.jsxs(v8,{children:[o.jsx(Ae.TextArea,{placeholder:u("form.tableColumns"),allowClear:!0,onChange:R=>{l(R.target.value)}}),o.jsx(oe,{type:"text",icon:o.jsx(nr,{}),onClick:T,children:d("button.add")})]}),o.jsx(TS,{hierarchy:a,width:600,height:400,model:a,dataSource:n,loading:!1,hasCategory:!1,pagination:!1,onSchemaTypeChange:i,bordered:!0})]})}const L8=F.div.withConfig({displayName:"ExtractSchemaComponent__EmptyWrapper",componentId:"sc-98evep-0"})([""]),v8=F.div.withConfig({displayName:"ExtractSchemaComponent__LineWrapper",componentId:"sc-98evep-1"})(["display:flex;align-items:center;"]);function D8({form:e,sourceId:t,loading:n,dataTables:r,onTest:a}){const[i,s]=c.useState(!1),l=V("source"),d=V("global"),u=c.useCallback(E=>Array.isArray(E)?E:E&&E.fileList,[]),T=c.useCallback((E,S)=>S.includes(E)?T(E+"_"+d("copy"),S):E,[d]),R=c.useCallback(E=>{var O;if((O=e==null?void 0:e.getFieldValue("config"))==null?void 0:O.tableName)return;const p=E.name.substring(0,E.name.lastIndexOf(".")),f=(r||[]).map(N=>N.tableName),I=T(p,f);e==null||e.setFieldsValue({config:{tableName:I}})},[r,e,T]),A=c.useCallback(async({file:E})=>{if(E.status==="done"){const S=E.name.substr(E.name.lastIndexOf(".")+1).toUpperCase(),p=E.response;p.success&&(e&&e.setFieldsValue({config:{path:p.data,format:S}}),a&&a()),s(!1)}else s(!0)},[e,a]);return o.jsxs(o.Fragment,{children:[o.jsx($.Item,{label:l("form.file"),valuePropName:"fileList",getValueFromEvent:u,children:o.jsx(Hc,{accept:".xlsx,.xls,.csv",method:"post",action:`${Fu}/files/datasource/?sourceId=${t}`,headers:{authorization:Gu()},showUploadList:!1,beforeUpload:R,onChange:A,disabled:i||n,children:o.jsx(oe,{icon:o.jsx(lO,{}),loading:i||n,children:l("form.selectFile")})})}),o.jsx(b8,{name:["config","path"],children:o.jsx(Ae,{})}),o.jsx(P8,{name:["config","format"],children:o.jsx(Ae,{})})]})}var b8=F($.Item).withConfig({displayName:"FileUpload___StyledFormItem",componentId:"sc-1fcuuz2-0"})(["display:none;"]),P8=F($.Item).withConfig({displayName:"FileUpload___StyledFormItem2",componentId:"sc-1fcuuz2-1"})(["display:none;"]);function y8({value:e,disabled:t,allowManage:n,onChange:r}){const a=V("source"),i=V("global"),s=c.useMemo(()=>e?Object.entries(e).map(([u,T])=>({id:yt(),key:u,value:T})):[],[e]),l=c.useCallback(u=>{r&&r(u.reduce((T,{key:R,value:A})=>({...T,[R]:A}),{}))},[r]),d=c.useMemo(()=>[{title:"",dataIndex:"key",formItemProps:(u,{rowIndex:T})=>({rules:[{required:!0,message:`Key${i("validation.required")}`},{validator:(R,A)=>{var E;return!e||!A||!e[A]||A===((E=s[T])==null?void 0:E.key)?Promise.resolve():Promise.reject(new Error(a("form.duplicateKey")))}}]})},{title:"",dataIndex:"value"},{title:i("title.action"),valueType:"option",width:160,render:(u,T,R,A)=>[o.jsx(OA,{type:"link",disabled:t||!n,onClick:()=>{var E;(E=A==null?void 0:A.startEditable)==null||E.call(A,T.id)},children:i("button.edit")},"editable"),o.jsx(OA,{type:"link",disabled:t||!n,onClick:()=>{e&&r&&r(Object.entries(e).reduce((E,[S,p])=>S===T.key?E:{...E,[S]:p},{}))},children:i("button.delete")},"delete")]}],[t,n,e,s,r,a,i]);return o.jsx(ED,{columns:d,creatorButtonText:a("form.addProperty"),value:s,disabled:t||!n,onChange:l})}const OA=F(oe).withConfig({displayName:"Properties__ActionButton",componentId:"sc-1as8qjn-0"})(["height:",";padding:0;"],Hu);function M8({form:e,value:t,dataSource:n,onChange:r}){const a=t?t.reduce((s,l)=>(s[l.name]=l,s),{}):{},i=c.useCallback(s=>l=>{r&&r(t==null?void 0:t.map(d=>d.name===s?{...d,type:l[0]}:d))},[t,r]);return t?o.jsx(TS,{width:600,height:400,model:a,hierarchy:a,dataSource:n,loading:!1,hasCategory:!1,pagination:!1,hasFormat:!1,onSchemaTypeChange:i,bordered:!0}):o.jsx(x8,{children:o.jsx(qr,{image:qr.PRESENTED_IMAGE_SIMPLE})})}const x8=F.div.withConfig({displayName:"SchemaComponent__EmptyWrapper",componentId:"sc-1y3e9kw-0"})(["border:1px solid ",";"],e=>e.theme.borderColorBase);function $m({attr:e,form:t,sourceId:n,testLoading:r,disabled:a,allowManage:i,schemaDataSource:s,dataTables:l,subFormRowKey:d,subFormRowKeyValidator:u,onTest:T,onSubFormTest:R,onDbTypeChange:A,onDependencyChange:E,depens:S}){const{name:p,description:f,required:I,defaultValue:O,type:N,options:h,displayName:m}=e;let g=null;const _={},L=V("source"),P=V("global");switch(p){case"url":g=o.jsx(Ae,{suffix:o.jsx(oe,{type:"link",size:"small",loading:r,onClick:T,children:L("form.test")}),disabled:a});break;case"dbType":g=o.jsx(Se,{disabled:a,onChange:A,showSearch:!0,allowClear:!0,children:h==null?void 0:h.map(({dbType:D,db:b})=>o.jsx(Se.Option,{value:D,children:D},D))});break;case"path":g=o.jsx(D8,{form:t,sourceId:n,loading:r,onTest:T,dataTables:l});break;case"format":break;default:switch(N){case"string":h&&h.length>0?h.length>3?g=o.jsx(Se,{disabled:a,showSearch:!0,allowClear:!0,onChange:D=>E&&E(D),children:h.map(D=>o.jsx(Se.Option,{value:D,children:D},D))}):g=o.jsx(Pe.Group,{disabled:a,onChange:D=>{var b;return E&&E((b=D.target)==null?void 0:b.value)},children:h.map(D=>o.jsx(Pe,{value:D,children:D},D))}):g=o.jsx(Ae,{disabled:a});break;case"password":g=o.jsx(Ae.Password,{disabled:a,autoComplete:"new-password"});break;case"bool":g=o.jsx(Zl,{disabled:a}),_.valuePropName="checked";break;case"object":g=o.jsx(y8,{disabled:a,allowManage:i}),_.initialValue={},_.wrapperCol={span:24};break;case"array":case"files":g=o.jsx(l8,{attr:e,depens:S,sourceId:n,testLoading:r,disabled:a,allowManage:i,onSubFormTest:R}),_.initialValue=[],_.wrapperCol={span:12};break;case"schema":g=o.jsx(M8,{form:t,dataSource:s}),_.wrapperCol={span:16};break;case"mockSchema":g=o.jsx(_8,{form:t,dataSource:s}),_.wrapperCol={span:16};break;case"number":g=o.jsx(bt,{disabled:a,style:{width:"100%"}});break;default:return null}break}const v=[];return I&&v.push({required:!0,message:`${p}${P("validation.required")}`}),d===p&&v.push({validator:(D,b)=>u&&u(b)?Promise.resolve():Promise.reject(new Error(L("form.duplicateName")))}),["path","format"].includes(p)?g:o.jsx($.Item,{name:["config",p],label:m,initialValue:O,extra:f,rules:v,..._,children:g})}function U8(){const[e,t]=c.useState(ue.Add),[n,r]=c.useState(""),[a,i]=c.useState(!1),[s,l]=c.useState(),{actions:d}=Fs();vc();const u=de(),T=Ve(),R=U(Be),A=U(pn),E=U(Wj),S=U(Jg);U(qg);const p=U(Qg),f=U(Xj),I=U(zj),O=U(jm),N=U(Kj),h=U(Xo),{sourceId:m}=mt(),[g]=$.useForm(),{showSaveForm:_}=c.useContext($o),L=V("source"),P=V("global"),v=(E==null?void 0:E.status)===0,D=m==="add",b=c.useMemo(()=>h?wu(h,{id:m,parentId:(E==null?void 0:E.parentId)||null},le.Source):[],[h,m,E==null?void 0:E.parentId]),C=rT(s8(b))(!0)&&m!=="add",[y,w]=c.useState(!1),[x,M]=c.useState([]),B=Pc({type:"module",module:le.View,id:"",level:_e.Enable})(!0),H=c.useMemo(()=>{var G;return(G=S[n])==null?void 0:G.config},[n,S]),j=c.useCallback(()=>{r(""),g.resetFields(),u(d.clearEditingSource())},[u,g,d]);c.useEffect(()=>{j(),m==="add"?t(ue.Add):(t(ue.Edit),u(yl(m)))},[u,j,m]),c.useEffect(()=>{if(E){const{name:G,category:Y,type:z,config:ee}=E;try{r(z);const se=JSON.parse(ee);M((se==null?void 0:se.depens)||[]),w(Y===Yl.EXTRACT),l(E==null?void 0:E.schemaUpdateDate),g.setFieldsValue({name:G,type:z,category:Y,config:JSON.parse(ee)})}catch(se){throw Ie.error(P("operation.parseError")),se}}},[g,E,P]),c.useEffect(()=>{var G;((G=S[n])==null?void 0:G.config)===null&&!p&&u(Kd(n))},[u,n,S,p]),c.useEffect(()=>{const G=setTimeout(()=>{n&&u(Kd(n))},50);return()=>clearTimeout(G)},[u,n,P,L]),c.useEffect(()=>()=>{j()},[j]),c.useCallback(G=>{r(G),S[G].config===null&&u(Kd(G))},[u,S]);const X=c.useCallback(G=>{var z;const Y=H==null?void 0:H.attributes.find(({name:ee})=>ee==="dbType");if(Y){const ee=(z=Y.options)==null?void 0:z.find(({dbType:se})=>se===G);if(ee){const{url:se,driverClass:Te,db:xe}=ee;g.setFieldsValue({config:{url:se,driverClass:Te,db:xe}})}}},[H,g]),W=c.useCallback(async()=>{await g.validateFields();const{type:G,config:Y}=g.getFieldsValue(),{name:z}=S[G];i(!0);try{await Ne({url:"/data-provider/test",method:"POST",data:{name:z,type:G,properties:Y}}),Ie.success(L("testSuccess"))}catch(ee){gn(ee)}i(!1)},[g,S,L]),J=c.useCallback(async(G,Y)=>{const{name:z}=S[n];i(!0);try{const{data:ee}=await Ne({url:"/data-provider/test",method:"POST",data:{name:z,type:n,properties:n==="FILE"?{path:G.path,format:G.format}:G,sourceId:E==null?void 0:E.id}});Y(ee)}catch(ee){gn(ee)}i(!1)},[S,n,E]),q=c.useCallback(G=>{let{config:Y,...z}=G,ee="";try{Y={...Y,depens:x},ee=JSON.stringify(Y)}catch(se){throw Ie.error(se.message),se}switch(e){case ue.Add:_({sourceType:"title",type:ue.Select,visible:!0,simple:!0,parentIdLabel:L("sidebar.parent"),onSave:(se,Te)=>{u(Mi({source:{...z,parentId:se.parentId,orgId:R,config:ee},resolve:xe=>{Ie.success(L("createSuccess")),T(`/organizations/${R}/sources/${xe}`),Te()}}))}});break;case ue.Edit:u(Ml({source:{...E,...z,orgId:R,config:ee},resolve:()=>{Ie.success(P("operation.updateSuccess"))}}));break}},[e,_,L,u,E,R,T,P]),Z=c.useCallback(G=>()=>{u(So({id:E.id,archive:G,resolve:()=>{Ie.success(P(G?"operation.archiveSuccess":"operation.deleteSuccess")),T(`/organizations/${R}/sources`)}}))},[u,T,R,E,P]),ce=c.useCallback(()=>{const{id:G,name:Y}=E;_({sourceType:"folder",type:ue.Edit,visible:!0,simple:!1,initialValues:{id:G,name:Y,parentId:null},parentIdLabel:L("sidebar.parent"),onSave:(z,ee)=>{const se=ht(z,h);u(xi({source:{name:z.name,parentId:z.parentId||null,id:G,index:se},resolve:()=>{Ie.success(P("operation.restoreSuccess")),T(`/organizations/${R}/sources`),ee()}}))}})},[E,_,L,h,u,P,T,R]),Ce=c.useMemo(()=>v?L("archived"):P(`modal.title.${e}`),[v,e,L,P]);c.useCallback(G=>{switch(G){case Yl.ANALYZE:w(!1);break;case Yl.EXTRACT:w(!0);break}},[u]);const k=c.useCallback(G=>{M([...x,G])},[]),ne=c.useCallback(()=>{T(`/organizations/${R}/views/${`${Dc}${yt()}`}`,{state:{sourcesId:E==null?void 0:E.id}})},[T,R,E]),K=async()=>{E!=null&&E.id&&(await u(xl({sourceId:E.id})),l(tr().format(ya)),Ie.success(L("syncDatabaseSchemaSuccess")))};return o.jsx(XL,{authority:D||C,denied:o.jsx(fs,{title:L("noPermission")}),children:o.jsxs(w8,{children:[o.jsx(Uc,{title:`${Ce}${L("source")}`,actions:v?A?o.jsxs(o.Fragment,{children:[o.jsx(oe,{loading:I,onClick:ce,children:P("button.restore")}),o.jsx(dt,{title:P("operation.deleteConfirm"),onConfirm:Z(!1),children:o.jsx(oe,{loading:O,danger:!0,children:P("button.delete")})})]}):o.jsx(o.Fragment,{}):o.jsxs(o.Fragment,{children:[B&&o.jsx(oe,{disabled:e!==ue.Edit,type:"primary",onClick:ne,children:L("creatView")}),o.jsx(oe,{disabled:!(E!=null&&E.id),loading:N,onClick:K,children:L("syncDatabase")}),o.jsx(oe,{type:"primary",loading:f,onClick:g.submit,children:P("button.save")}),e===ue.Edit&&o.jsx(dt,{title:P("operation.archiveConfirm"),onConfirm:Z(!0),children:o.jsx(oe,{loading:O,danger:!0,children:P("button.archive")})})]})}),o.jsx(B8,{children:o.jsx(Ln,{bordered:!1,extra:o.jsx("div",{children:s&&`${L("lastUpdateTime")}: ${s}`}),children:o.jsxs($,{name:"source_form_",className:"detailForm",form:g,labelAlign:"left",labelCol:{offset:1,span:5},wrapperCol:{span:24},onFinish:q,children:[o.jsx($.Item,{name:"name",label:L("form.name"),validateFirst:!0,getValueFromEvent:G=>{var Y;return(Y=G.target.value)==null?void 0:Y.trim()},rules:[{required:!0,message:`${L("form.name")}${P("validation.required")}`},{validator:Ur((G,Y)=>Y===(E==null?void 0:E.name)?Promise.resolve():Y.trim()?sr("sources",{name:Y,orgId:R}):Promise.reject(`${L("form.name")}${P("validation.required")}`),$t)}],children:o.jsx(Ae,{disabled:v})}),o.jsx($.Item,{name:"type",label:L("type"),rules:[{required:!0,message:`${L("type")}${P("validation.required")}`}],children:o.jsx(Se,{placeholder:"",children:Object.keys(S).map(G=>o.jsx(Se.Option,{value:G,children:G},G))})}),p&&o.jsx(Zt,{}),H==null?void 0:H.attributes.map(G=>o.jsx($m,{attr:G,form:g,sourceId:E==null?void 0:E.id,testLoading:a,disabled:v,allowManage:C,onDependencyChange:k,onTest:W,depens:x,onSubFormTest:J,onDbTypeChange:X},`${n}_${G.name}`))]})})})]})})}const w8=F.div.withConfig({displayName:"SourceDetailPage__Wrapper",componentId:"sc-1e3wqa6-0"})(["display:flex;flex:1;flex-direction:column;"]),B8=F.div.withConfig({displayName:"SourceDetailPage__Content",componentId:"sc-1e3wqa6-1"})(["flex:1;padding:",";overflow-y:auto;.ant-card{margin-top:",";background-color:",";border-radius:",";box-shadow:",";&:first-of-type{margin-top:0;}}.detailForm{max-width:",";padding-top:",";}"],je,je,e=>e.theme.componentBackground,st,e=>e.theme.shadowBlock,me(400),ye),Xm=c.memo(({type:e,expression:t,disabled:n,value:r=[],dateFormat:a,hasDateFormat:i=!0,onChange:s,onChangeDateFormat:l})=>{const[d,u]=c.useState(void 0),T=V("variable");c.useEffect(()=>{u(void 0)},[e]);const R=c.useCallback(O=>{let N;switch(e){case Tt.String:d&&d.trim()&&(N=d);break;case Tt.Number:d!==null&&!Number.isNaN(d)&&(N=d);break;case Tt.Date:N=O;break}N!==void 0&&(s&&s(r?r.concat(N):[N]),u(void 0))},[r,e,d,s]),A=c.useCallback(O=>{s&&s([O.target.value])},[s]),E=c.useCallback(O=>{u(O.target.value)},[]),S=c.useCallback(O=>{u(O)},[]),p=c.useCallback(O=>{O&&R(O)},[R]),f=c.useCallback(O=>N=>{N.preventDefault(),s&&s(r?r.filter((h,m)=>O!==m):[])},[r,s]);let I;switch(e){case Tt.Number:I=o.jsx(bt,{placeholder:T("enterToAdd"),value:d,className:"input",disabled:!!n,onChange:S,onPressEnter:R});break;case Tt.Date:I=o.jsx(ec,{format:ya,className:"input",disabled:!!n,onOk:p,showNow:!0,showTime:!0});break;default:I=o.jsx(Ae,{placeholder:T("enterToAdd"),value:d,className:"input",disabled:!!n,onChange:E,onPressEnter:R});break}return o.jsxs(F8,{direction:"vertical",children:[t||e===Tt.Expression?o.jsx(Ae.TextArea,{placeholder:T("enterExpression"),autoSize:{minRows:4,maxRows:8},value:r?r[0]:void 0,disabled:!!n,onChange:A}):o.jsxs(o.Fragment,{children:[r&&r.length>0&&o.jsx(G8,{children:r==null?void 0:r.map((O,N)=>{const h=e!==Tt.Date?O:tr(O).format(a);return o.jsx(IT,{className:"tag",closable:!0,onClose:f(N),children:h},h)})},"valueTags"),o.jsxs(Ge,{children:[I,e!==Tt.Date&&o.jsx(oe,{size:"small",icon:o.jsx(Kl,{}),type:"link",onClick:R})]},"actions")]}),e===Tt.Date&&i&&o.jsx(Se,{placeholder:"",className:"input",value:a,onChange:l,children:Object.values(Ju).map(O=>o.jsx(Se.Option,{value:O,children:O},O))})]})}),F8=F(Ge).withConfig({displayName:"DefaultValue__Wrapper",componentId:"sc-1kd5l4x-0"})(["width:100%;.add-btn{padding:"," 0;}.input{width:",";}"],ot,me(50)),G8=F.div.withConfig({displayName:"DefaultValue__ValueTags",componentId:"sc-1kd5l4x-1"})([".tag{margin:",";}"],ot),mA=c.memo(({type:e,visible:t,editingVariable:n,loading:r,listLoading:a,selectedRowKeys:i,rowPermissionSubjects:s,onSelectedRowKeyChange:l,onRowPermissionSubjectChange:d})=>{const u=V("variable"),T=c.useCallback(S=>p=>{d(kt(s,f=>{const I=f==null?void 0:f.find(O=>O.id===S);I.useDefaultValue=p.target.checked}))},[s,d]),R=c.useCallback(S=>p=>{d(kt(s,f=>{const I=f==null?void 0:f.find(O=>O.id===S);I.value=p}))},[s,d]),A=c.useMemo(()=>[{dataIndex:"name",title:u("name")},{title:u("useDefaultValue"),width:me(32),render:(S,p)=>o.jsx(bn,{checked:p.useDefaultValue,disabled:!i.includes(p.id),onChange:T(p.id)})},{title:u("value"),width:me(72),render:(S,p)=>n&&o.jsx(Xm,{dateFormat:n.dateFormat,type:n.valueType,expression:!1,hasDateFormat:!1,disabled:!i.includes(p.id)||p.useDefaultValue,value:p.value,onChange:R(p.id)})}],[i,n,T,R,u]),E=c.useCallback(S=>i.includes(S.id)?"":"disabled-row",[i]);return o.jsx(Wc,{loading:r,children:o.jsx(H8,{visible:t,children:o.jsx(ir,{rowKey:"id",size:"small",columns:A,loading:a,dataSource:s,rowClassName:E,rowSelection:{selectedRowKeys:i,onChange:l},bordered:!0})})})}),H8=F.div.withConfig({displayName:"RowPermissionTable__TableWrapper",componentId:"sc-8w2mrl-0"})(["display:",";.disabled-row{color:",";cursor:not-allowed;background-color:",";border-right:1px solid ",";}"],e=>e.visible?"block":"none",e=>e.theme.textColorDisabled,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit),zm=c.memo(({scope:e,editingVariable:t,loading:n,rowPermissions:r,afterClose:a,onSave:i,...s})=>{const[l,d]=c.useState("role"),[u,T]=c.useState([]),[R,A]=c.useState([]),[E,S]=c.useState(void 0),[p,f]=c.useState(void 0),I=U(vo),O=U(xc),N=U(lT),h=U(sT),m=V("variable");c.useEffect(()=>{if(t&&r&&I){const L=r.filter(({subjectType:D})=>D===Rt.Role),P=[],v=[];I.forEach(({id:D,name:b})=>{const C=L.find(({subjectId:y})=>y===D);P.push({id:D,name:b,type:Rt.Role,useDefaultValue:C?C.useDefaultValue:!0,value:C!=null&&C.value?t.valueType===Tt.Date?C.value.map(y=>tr(y)):C.value:void 0}),C&&v.push(D)}),S(P),T(v)}},[t,r,I]),c.useEffect(()=>{if(t&&r&&O){const L=r.filter(({subjectType:D})=>D===Rt.User),P=[],v=[];O.forEach(({id:D,name:b,username:C,email:y})=>{const w=L.find(({subjectId:x})=>x===D);P.push({id:D,name:b?`${b}(${C})`:C,email:y,type:Rt.User,useDefaultValue:w?w.useDefaultValue:!0,value:w!=null&&w.value?t.valueType===Tt.Date?w.value.map(x=>tr(x)):w.value:void 0}),w&&v.push(D)}),f(P),A(v)}},[t,r,O]);const g=c.useCallback(()=>{const L=u.map(v=>{const D=E==null?void 0:E.find(b=>b.id===v);return{id:yt(),variableId:t.id,subjectId:v,subjectType:Rt.Role,useDefaultValue:D.useDefaultValue,value:D.value}}),P=R.map(v=>{const D=p==null?void 0:p.find(b=>b.id===v);return{id:yt(),variableId:t.id,subjectId:v,subjectType:Rt.User,useDefaultValue:D.useDefaultValue,value:D.value}});i(L.concat(P))},[t,E,p,u,R,i]),_=c.useCallback(()=>{T([]),A([]),a&&a()},[a]);return o.jsxs(j8,{...s,width:768,title:e===er.Public?o.jsx(o.Fragment,{children:o.jsx(V8,{defaultActiveKey:l,onChange:d,items:[{key:"role",label:m("relatedRole")},{key:"member",label:m("relatedMember")}]})}):m("relatedRole"),onOk:g,afterClose:_,destroyOnClose:!0,children:[o.jsx(mA,{type:"role",visible:l==="role",editingVariable:t,loading:!!n,listLoading:N,selectedRowKeys:u,rowPermissionSubjects:E,onSelectedRowKeyChange:T,onRowPermissionSubjectChange:S}),e===er.Public&&o.jsx(mA,{type:"member",visible:l==="member",editingVariable:t,loading:!!n,listLoading:h,selectedRowKeys:R,rowPermissionSubjects:p,onSelectedRowKeyChange:A,onRowPermissionSubjectChange:f})]})}),j8=F(Dn).withConfig({displayName:"SubjectForm__StyledModal",componentId:"sc-mt6gy0-0"})([".ant-modal-header{padding-top:",";padding-bottom:0;}.ant-modal-body{padding-bottom:0;}"],Le),V8=F(Es).withConfig({displayName:"SubjectForm__StyledTabs",componentId:"sc-mt6gy0-1"})([".ant-tabs-nav{margin-bottom:0 !important;&:before{border-bottom:0 !important;}}"]),Km=c.memo(({scope:e,orgId:t,editingVariable:n,variables:r,open:a,formProps:i,onSave:s,afterClose:l,...d})=>{const[u,T]=c.useState(e===er.Public?Qn.Permission:Qn.Query),[R,A]=c.useState(Tt.String),[E,S]=c.useState(!1),[p,f]=c.useState(),I=c.useRef(),O=V("variable"),N=V("global");c.useEffect(()=>{var D;if(a&&n)try{const{type:b,valueType:C,expression:y,dateFormat:w}=n;let x=n.defaultValue?JSON.parse(n.defaultValue):[];C===Tt.Date&&!y&&(x=x.map(M=>tr(M))),T(b),A(C),S(y||!1),f(w||Ju.DateTime),(D=I.current)==null||D.setFieldsValue({...n,defaultValue:x})}catch(b){throw gn(b),b}},[a,n,I]);const h=c.useCallback(()=>{T(e===er.Public?Qn.Permission:Qn.Query),A(Tt.String),S(!1),l&&l()},[e,l]),m=c.useCallback(D=>{T(D.target.value)},[]),g=c.useCallback(D=>{var b;A(D.target.value),(b=I.current)==null||b.setFieldsValue({defaultValue:[]})},[]),_=c.useCallback(D=>{var b;S(D.target.checked),(b=I.current)==null||b.setFieldsValue({defaultValue:[]})},[]),L=c.useCallback(D=>{s({...D,name:D.name.toUpperCase(),dateFormat:p})},[s,p]),P=c.useMemo(()=>e===er.Private?(D,b)=>b===(n==null?void 0:n.name)?Promise.resolve():r!=null&&r.find(({name:C})=>C===b)?Promise.reject(new Error(O("duplicateName"))):Promise.resolve():Ur((D,b)=>!b||b===(n==null?void 0:n.name)?Promise.resolve():b.trim()?sr("variables",{name:b,orgId:t}):Promise.reject(`${O("name")}${N("validation.required")}`),$t),[e,n==null?void 0:n.name,r,t,O,N]),v=c.useCallback(D=>{var b;f(D),(b=I.current)==null||b.setFieldsValue({dateFormat:D})},[I]);return o.jsxs(aa,{...d,open:a,formProps:{labelAlign:"left",labelCol:{offset:1,span:6},wrapperCol:{span:16},className:""},onSave:L,afterClose:h,ref:I,destroyOnClose:!0,children:[o.jsx($.Item,{name:"name",label:O("name"),validateFirst:!0,getValueFromEvent:D=>{var b;return(b=D.target.value)==null?void 0:b.trim()},rules:[{required:!0,message:`${O("name")}${N("validation.required")}`},{validator:P}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"label",label:O("label"),children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"type",label:O("type"),initialValue:u,children:o.jsx(Pe.Group,{onChange:m,children:Object.values(Qn).map(D=>o.jsx(Pe.Button,{value:D,children:O(`variableType.${D.toLowerCase()}`)},D))})}),o.jsx($.Item,{name:"valueType",label:O("valueType"),initialValue:R,children:o.jsx(Pe.Group,{onChange:g,children:Object.values(Tt).map(D=>o.jsx(Pe.Button,{value:D,children:O(`variableValueType.${D.toLowerCase()}`)},D))})}),e===er.Public&&u===Qn.Permission&&o.jsx($.Item,{name:"permission",label:O("permission.label"),initialValue:0,children:o.jsxs(Pe.Group,{children:[o.jsx(Pe.Button,{value:0,children:O("permission.hidden")}),o.jsx(Pe.Button,{value:1,children:O("permission.readonly")}),o.jsx(Pe.Button,{value:2,children:O("permission.editable")})]})}),o.jsx(Y8,{name:"defaultValue",label:O("defaultValue"),children:o.jsx(Xm,{type:R,expression:E,onChangeDateFormat:v,dateFormat:p})}),R!==Tt.Expression&&o.jsx($.Item,{name:"expression",label:" ",colon:!1,valuePropName:"checked",initialValue:E,children:o.jsx(bn,{onChange:_,children:O("expression")})})]})});var Y8=F($.Item).withConfig({displayName:"VariableForm___StyledFormItem",componentId:"sc-1u4nver-0"})(["margin-bottom:",";"],Le);function W8(){Do(),mm();const[e,t]=c.useState(ue.Add),[n,r]=c.useState(!1),[a,i]=c.useState(void 0),[s,l]=c.useState(void 0),[d,u]=c.useState(!1),[T,R]=c.useState(!1),[A,E]=c.useState([]),[S,p]=c.useState(!1),f=de(),I=U(XT),O=U(G4),N=U(H4),h=U(j4),m=U(Be),g=V("variable"),_=V("global");c.useEffect(()=>{f(wi(m)),f($r(m)),f(hr(m))},[f,m]);const L=c.useCallback(()=>{t(ue.Add),r(!0)},[]),P=c.useCallback(()=>{r(!1)},[]),v=c.useCallback(()=>{i(void 0)},[]),D=c.useCallback(j=>()=>{i(I.find(X=>X.id===j)),t(ue.Edit),r(!0)},[I]),b=c.useCallback(j=>async()=>{const X=I.find(J=>J.id===j);i(X),R(!0),u(!0);const{data:W}=await Ne(`/variables/value?variableId=${j}`);l(W.map(J=>({...J,value:J.value&&JSON.parse(J.value)}))),u(!1)},[I]),C=c.useCallback(()=>{R(!1)},[]),y=c.useCallback(j=>()=>{f(Bi({ids:[j],resolve:()=>{Ie.success(_("operation.deleteSuccess"))}}))},[f,_]),w=c.useCallback(()=>{f(Bi({ids:A,resolve:()=>{Ie.success(_("operation.deleteSuccess")),E([])}}))},[f,A,_]),x=c.useCallback(j=>{let X=j.defaultValue;j.valueType===Tt.Date&&!j.expression&&(X=j.defaultValue.map(W=>W.format(j.dateFormat)));try{X!=null&&(X=JSON.stringify(X))}catch(W){throw gn(W),W}e===ue.Add?f(Ul({variable:{...j,orgId:m,defaultValue:X},resolve:()=>{P()}})):f(wl({variable:{...a,...j,defaultValue:X},resolve:()=>{P(),Ie.success(_("operation.updateSuccess"))}}))},[f,e,m,a,P,_]),M=c.useCallback(async j=>{const X=j.map(W=>{var q;const J=((q=I.find(Z=>Z.id===W.variableId))==null?void 0:q.dateFormat)||ya;return{...W,value:W.value&&((a==null?void 0:a.valueType)===Tt.Date?W.value.map(Z=>Z.format(J)):W.value)}});if(s){const{created:W,updated:J,deleted:q}=Qf([...s],X,(Z,ce)=>Z.subjectId===ce.subjectId&&Z.variableId===ce.variableId,(Z,ce)=>Z.useDefaultValue!==ce.useDefaultValue||Z.value!==ce.value);(W.length>0||J.length>0||q.length>0)&&(p(!0),await Ne({url:"/variables/rel",method:"PUT",data:{relToCreate:W.map(Z=>({...Z,value:JSON.stringify(Z.value)})),relToUpdate:J.map(Z=>({...Z,value:JSON.stringify(Z.value)})),relToDelete:q.map(({id:Z})=>Z)}}),Ie.success(_("operation.updateSuccess")),p(!1)),R(!1)}},[s,a,_,I]),B=c.useMemo(()=>[{dataIndex:"name",title:g("name")},{dataIndex:"label",title:g("label")},{dataIndex:"type",title:g("type"),render:(j,X)=>o.jsx(IT,{color:X.type===Qn.Permission?hn:Zn,children:g(`variableType.${X.type.toLowerCase()}`)})},{dataIndex:"valueType",title:g("valueType"),render:(j,X)=>g(`variableValueType.${X.valueType.toLowerCase()}`)},{title:_("title.action"),align:"center",width:140,render:(j,X)=>o.jsxs(z8,{children:[X.type===Qn.Permission&&o.jsx(Me,{title:g("related"),children:o.jsx(oe,{type:"link",icon:o.jsx(Xc,{}),onClick:b(X.id)})}),o.jsx(Me,{title:_("button.edit"),children:o.jsx(oe,{type:"link",icon:o.jsx(rr,{}),onClick:D(X.id)})}),o.jsx(Me,{title:_("button.delete"),children:o.jsx(dt,{title:_("operation.deleteConfirm"),onConfirm:y(X.id),children:o.jsx(oe,{type:"link",icon:o.jsx(it,{})})})})]})}],[y,D,b,g,_]),H=c.useMemo(()=>({pageSize:20,pageSizeOptions:["20","50","100"]}),[]);return o.jsx(k8,{children:o.jsxs(Ln,{children:[o.jsxs($8,{children:[o.jsx("h3",{children:g("title")}),o.jsxs(X8,{children:[A.length>0&&o.jsx(dt,{title:g("deleteAllConfirm"),onConfirm:w,children:o.jsx(oe,{icon:o.jsx(it,{}),loading:h,children:g("deleteAll")})}),o.jsx(oe,{icon:o.jsx(nr,{}),type:"primary",onClick:L,children:_("button.create")})]})]}),o.jsx(ir,{rowKey:"id",size:"small",dataSource:I,columns:B,loading:O,rowSelection:{selectedRowKeys:A,onChange:E},pagination:H}),o.jsx(Km,{scope:er.Public,orgId:m,editingVariable:a,visible:n,title:g("public"),type:e,confirmLoading:N,onSave:x,onCancel:P,afterClose:v,keyboard:!1,maskClosable:!1}),o.jsx(zm,{scope:er.Public,editingVariable:a,loading:d,rowPermissions:s,visible:T,confirmLoading:S,onSave:M,onCancel:C,afterClose:v,keyboard:!1,maskClosable:!1})]})})}const k8=F.div.withConfig({displayName:"VariablePage__Wrapper",componentId:"sc-12bssok-0"})(["flex:1;padding:",";.ant-card{background-color:",";border-radius:",";box-shadow:",";.ant-card-body{padding:0 ",";}}"],je,e=>e.theme.componentBackground,st,e=>e.theme.shadow1,je),$8=F.div.withConfig({displayName:"VariablePage__TableHeader",componentId:"sc-12bssok-1"})(["display:flex;align-items:center;padding:"," 0;h3{flex:1;font-size:",";font-weight:",";line-height:",";}"],ye,En,nn,Zf),X8=F(Ge).withConfig({displayName:"VariablePage__Toolbar",componentId:"sc-12bssok-2"})(["flex-shrink:0;"]),z8=F(Ge).withConfig({displayName:"VariablePage__Actions",componentId:"sc-12bssok-3"})(["display:flex;justify-content:flex-end;"]),K8={editorInstance:void 0,editorCompletionItemProviderRef:void 0,setEditor:()=>{},onRun:()=>{},onSave:()=>{},initActions:()=>{}},dr=c.createContext(K8),J8=()=>{const[e,t]=c.useState(),[n,r]=c.useState(()=>()=>{}),[a,i]=c.useState(()=>()=>{}),s=c.useRef(),l=c.useCallback(({onRun:d,onSave:u})=>{r(()=>d),i(()=>u)},[]);return c.useMemo(()=>({editorInstance:e,editorCompletionItemProviderRef:s,setEditor:t,onRun:n,onSave:a,initActions:l}),[e,s,n,a,l])},Jm=iC(["color:",";"],e=>e.theme.error),q8=c.memo(()=>{const[e,t]=c.useState(null),[n,r]=c.useState(!1),a=de(),i=Ve(),{editorInstance:s}=c.useContext(dr),l=U(Be),d=U(Dd),u=U(h=>ge(h,{name:"id"})),T=V("view.tabs"),R=c.useCallback(h=>{i(h?`/organizations/${l}/views/${h}`:`/organizations/${l}/views`)},[i,l]),A=c.useCallback(h=>{u!==h&&i(`/organizations/${l}/views/${h}`)},[i,u,l]),E=c.useCallback((h,m)=>{const g=d.find(_=>_.id===h);switch(m){case"remove":g.touched===!1?a(qi({id:h,resolve:R})):(t(g),r(!0));break}},[a,d,R]),S=c.useCallback(()=>{r(!1)},[]),p=c.useCallback(()=>{a(qi({id:e.id,resolve:R})),r(!1)},[a,e,R]),f=c.useCallback(()=>{var m;const h=(m=s==null?void 0:s.getModel())==null?void 0:m.getValueInRange(s.getSelection());r(!1),a(Ji({id:u,isFragment:!!h}))},[a,u,s]),I=(h,m)=>{if(h.domEvent.stopPropagation(),h.key==="CLOSE_OTHER"){a(K4({id:m,resolve:R}));return}a(J4({resolve:R}))},O=h=>({items:[{key:"CLOSE_OTHER",label:o.jsx("span",{children:T("closeOther")})},{key:"CLOSE_ALL",label:o.jsx("span",{children:T("closeAll")})}],onClick:m=>I(m,h)}),N=(h,m)=>o.jsx("span",{children:o.jsx(an,{menu:O(h),trigger:["contextMenu"],children:o.jsx("span",{className:"ant-dropdown-link",children:m})})});return o.jsxs(Z8,{children:[o.jsx(TO,{hideAdd:!0,type:"editable-card",activeKey:u,onChange:A,onEdit:E,items:d.map(({id:h,name:m,touched:g,stage:_,error:L})=>({key:h,label:L?o.jsx(n6,{children:m}):N(h,m),CloseIcon:o.jsx(Q8,{touched:g,stage:_,error:!!L})}))}),o.jsx(jI,{open:n,title:T("warning"),icon:o.jsx(Lc,{style:{color:Xf}}),footer:o.jsxs(Ge,{children:[o.jsx(oe,{onClick:p,children:T("discard")}),o.jsx(oe,{onClick:S,children:T("cancel")}),o.jsx(oe,{onClick:f,type:"primary",children:T("execute")})]})})]})});function Q8({touched:e,stage:t,error:n}){const[r,a]=c.useState(!1),i=c.useCallback(()=>{a(!0)},[]),s=c.useCallback(()=>{a(!1)},[]);let l;switch(t){case We.Loading:case We.Running:case We.Saving:l=o.jsx(Zt,{});break;default:r?l=o.jsx(Da,{}):n?l=o.jsx(r6,{}):e?l=o.jsx(t6,{}):l=o.jsx(Da,{});break}return o.jsx(e6,{onMouseEnter:i,onMouseLeave:s,children:l})}const Z8=F.div.withConfig({displayName:"Tabs__Wrapper",componentId:"sc-vxhcu9-0"})(["z-index:",";flex-shrink:0;"],ds),e6=F.span.withConfig({displayName:"Tabs__CloseIconWrapper",componentId:"sc-vxhcu9-1"})(["display:flex;align-items:center;justify-content:center;width:12px;height:12px;"]),t6=F.span.withConfig({displayName:"Tabs__Editing",componentId:"sc-vxhcu9-2"})(["display:block;width:10px;height:10px;background-color:",";border-radius:50%;"],e=>e.theme.textColorLight);var n6=F("span").withConfig({displayName:"Tabs___StyledSpan",componentId:"sc-vxhcu9-3"})(["",""],Jm),r6=F(Lc).withConfig({displayName:"Tabs___StyledInfoCircleOutlined",componentId:"sc-vxhcu9-4"})(["",""],Jm);const a6=c.memo(({selectViewType:e})=>{const t=["STRUCT","SQL"],n=V("view.structView");return o.jsxs(o6,{children:[o.jsx(i6,{children:n("title")}),o.jsx(s6,{children:t.map((r,a)=>o.jsxs(l6,{onClick:()=>e(r),children:[r==="STRUCT"?o.jsx(Ay,{className:"icon"}):r==="GRAPH"?o.jsx(dy,{className:"icon"}):o.jsx($c,{className:"icon"}),o.jsx("h4",{children:n(r)}),o.jsx("p",{children:n(`${r}_DESC`)})]},a))})]})}),o6=F.div.withConfig({displayName:"SelectViewType__Wrapper",componentId:"sc-1p4oru0-0"})(["flex:1;padding:"," ",";background-color:",";"],Le,je,e=>e.theme.componentBackground),i6=F.h2.withConfig({displayName:"SelectViewType__Title",componentId:"sc-1p4oru0-1"})(["padding:"," 0;font-size:",";color:",";"],ye,En,e=>e.theme.textColorSnd),s6=F.div.withConfig({displayName:"SelectViewType__ViewTypeList",componentId:"sc-1p4oru0-2"})(["display:flex;"]),l6=F.div.withConfig({displayName:"SelectViewType__ViewTypeItem",componentId:"sc-1p4oru0-3"})(["position:relative;width:",";padding:"," "," "," ",";margin-right:",";cursor:pointer;border:1px solid ",";border-radius:",";.icon{position:absolute;top:",";left:",";margin-right:",";font-size:",";color:",";}h4{font-weight:",";line-height:",";color:",";}p{line-height:",";color:",";}&:hover{border:1px solid ",";}"],me(64),ye,ye,je,me(12),ye,e=>e.theme.borderColorSplit,st,je,ye,Le,ao,e=>e.theme.primary,nn,Uu,e=>e.theme.textColorSnd,sC,e=>e.theme.textColorLight,e=>e.theme.primary),c6={type:ue.Add,visible:!1,simple:!1,parentIdLabel:"",onSave:()=>{},onCancel:()=>{},showSaveForm:()=>{}},wr=c.createContext(c6),d6=()=>{const e=V("view.saveForm"),[t,n]=c.useState(ue.Add),[r,a]=c.useState(!1),[i,s]=c.useState(!1),[l,d]=c.useState(),[u,T]=c.useState(e("folder")),[R,A]=c.useState(()=>()=>{}),[E,S]=c.useState(()=>()=>{}),p=c.useCallback(()=>{a(!1)},[a]),f=c.useCallback(({type:I,visible:O,simple:N,initialValues:h,parentIdLabel:m,onSave:g,onAfterClose:_})=>{n(I),a(O),s(N),d(h),T(m),A(()=>g),S(()=>_)},[]);return c.useMemo(()=>({type:t,visible:r,simple:i,initialValues:l,parentIdLabel:u,onSave:R,onCancel:p,onAfterClose:E,showSaveForm:f}),[t,r,i,l,u,R,p,E,f])},E6=c.memo(()=>{const{actions:e}=Mn(),t=de(),{editorInstance:n,editorCompletionItemProviderRef:r,setEditor:a,initActions:i}=c.useContext(dr),{showSaveForm:s}=c.useContext(wr),l=U(h=>ge(h,{name:"id"})),d=U(h=>ge(h,{name:"script"})),u=U(h=>ge(h,{name:"stage"})),T=U(h=>ge(h,{name:"status"})),R=U(eI),A=U($n),E=V("view.editor"),S=c.useCallback(()=>{var m;const h=(m=n==null?void 0:n.getModel())==null?void 0:m.getValueInRange(n.getSelection());t(Ji({id:l,isFragment:!!h}))},[t,l,n]),p=c.useCallback(h=>{t(va({resolve:h}))},[t]),f=c.useCallback(()=>{T!==so.Archived&&u===We.Saveable&&(La(l)?s({type:ue.Edit,visible:!0,parentIdLabel:E("folder"),initialValues:{name:"",parentId:"",config:{}},onSave:(h,m)=>{const g=ht(h,A);t(e.changeCurrentEditingView({...h,parentId:h.parentId||null,index:g})),p(m)}}):p())},[t,e,u,T,l,p,s,A,E]),I=c.useCallback(h=>{h.languages.register({id:"sql"}),h.languages.setMonarchTokensProvider("sql",AD),t(KT({resolve:m=>{const g=h.languages.registerCompletionItemProvider("sql",{provideCompletionItems:m});r&&(r.current=g)}}))},[t,r]),O=c.useCallback(h=>{a(h);const m=h.getContribution("editor.contrib.messageController");h.onDidChangeCursorSelection(g=>{var _;t(e.changeCurrentEditingView({fragment:(_=h.getModel())==null?void 0:_.getValueInRange(g.selection)}))}),h.onDidAttemptReadOnlyEdit(()=>{m.showMessage(E("readonlyTip"),h.getPosition())})},[a,t,e,E]);c.useEffect(()=>(n==null||n.layout(),()=>{var h;n==null||n.dispose(),(h=r==null?void 0:r.current)==null||h.dispose()}),[n,r]),c.useEffect(()=>()=>{a(void 0)},[a]),c.useEffect(()=>{i({onRun:S,onSave:f})},[i,S,f]),c.useEffect(()=>{n==null||n.addCommand(NR.CtrlCmd|CR.Enter,S),n==null||n.addCommand(NR.CtrlCmd|CR.KEY_S,f)},[n,S,f]),ut("ctrl+enter,command+enter",()=>{S()},[S]),ut("ctrl+s,command+s",h=>{h.preventDefault(),f()},[t,f]);const N=c.useMemo(()=>Yn(m=>{t(e.changeCurrentEditingView({script:m}))},2e3),[t,e]);return o.jsx(u6,{className:Ke({archived:T===so.Archived}),children:o.jsx(zI,{value:d,defaultLanguage:"sql",theme:`vs-${R}`,options:{fontSize:Ha*.875,minimap:{enabled:!1},readOnly:T===so.Archived},onChange:N,beforeMount:I,onMount:O,loading:o.jsx(Co,{})})})}),u6=F.div.withConfig({displayName:"SQLEditor__EditorWrapper",componentId:"sc-ck4c3p-0"})(["position:relative;flex:1;min-height:0;&.archived{.view-lines{*{color:",";}}}"],e=>e.theme.textColorDisabled);function T6({running:e,status:t}){const[n,r]=c.useState("00:00:00.00"),a=c.useRef(),i=c.useCallback(()=>{a.current&&(clearInterval(a.current),a.current=void 0)},[]);return c.useEffect(()=>{if(e){const s=Number(new Date);a.current=setInterval(()=>{const l=Number(new Date);r(tr(l-s).utc().format("HH:mm:ss.SS"))},10)}else i();return i},[e,i]),o.jsx(S6,{status:t,text:n})}const S6=F(uD).withConfig({displayName:"Chronograph__StyledBadge",componentId:"sc-6ft5tp-0"})([".ant-badge-status-text{font-size:",";color:",";}"],lC,e=>e.theme.textColorLight);let re;(function(e){e.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",e.IDENTIFIER="IDENTIFIER",e.STRING="STRING",e.VARIABLE="VARIABLE",e.RESERVED_KEYWORD="RESERVED_KEYWORD",e.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",e.RESERVED_PHRASE="RESERVED_PHRASE",e.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",e.RESERVED_CLAUSE="RESERVED_CLAUSE",e.RESERVED_SELECT="RESERVED_SELECT",e.RESERVED_JOIN="RESERVED_JOIN",e.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",e.ARRAY_KEYWORD="ARRAY_KEYWORD",e.CASE="CASE",e.END="END",e.WHEN="WHEN",e.ELSE="ELSE",e.THEN="THEN",e.LIMIT="LIMIT",e.BETWEEN="BETWEEN",e.AND="AND",e.OR="OR",e.XOR="XOR",e.OPERATOR="OPERATOR",e.COMMA="COMMA",e.ASTERISK="ASTERISK",e.DOT="DOT",e.OPEN_PAREN="OPEN_PAREN",e.CLOSE_PAREN="CLOSE_PAREN",e.LINE_COMMENT="LINE_COMMENT",e.BLOCK_COMMENT="BLOCK_COMMENT",e.NUMBER="NUMBER",e.NAMED_PARAMETER="NAMED_PARAMETER",e.QUOTED_PARAMETER="QUOTED_PARAMETER",e.NUMBERED_PARAMETER="NUMBERED_PARAMETER",e.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",e.CUSTOM_PARAMETER="CUSTOM_PARAMETER",e.DELIMITER="DELIMITER",e.EOF="EOF"})(re||(re={}));const qm=e=>({type:re.EOF,raw:"EOF",text:"EOF",start:e}),Fa=qm(1/0),Si=e=>t=>t.type===e.type&&t.text===e.text,ea={ARRAY:Si({text:"ARRAY",type:re.RESERVED_KEYWORD}),BY:Si({text:"BY",type:re.RESERVED_KEYWORD}),SET:Si({text:"SET",type:re.RESERVED_CLAUSE}),STRUCT:Si({text:"STRUCT",type:re.RESERVED_KEYWORD}),WINDOW:Si({text:"WINDOW",type:re.RESERVED_CLAUSE})},Qm=e=>e===re.RESERVED_KEYWORD||e===re.RESERVED_FUNCTION_NAME||e===re.RESERVED_PHRASE||e===re.RESERVED_CLAUSE||e===re.RESERVED_SELECT||e===re.RESERVED_SET_OPERATION||e===re.RESERVED_JOIN||e===re.ARRAY_KEYWORD||e===re.CASE||e===re.END||e===re.WHEN||e===re.ELSE||e===re.THEN||e===re.LIMIT||e===re.BETWEEN||e===re.AND||e===re.OR||e===re.XOR,R6=e=>e===re.AND||e===re.OR||e===re.XOR,ae=e=>e.flatMap(p6),p6=e=>Zm(A6(e)).map(t=>t.trim()),hA=/[^[\]{}]+/y,NA=/\{.*?\}/y,CA=/\[.*?\]/y,A6=e=>{let t=0;const n=[];for(;t<e.length;){hA.lastIndex=t;const r=hA.exec(e);r&&(n.push([r[0].trim()]),t+=r[0].length),CA.lastIndex=t;const a=CA.exec(e);if(a){const s=a[0].slice(1,-1).split("|").map(l=>l.trim());n.push(["",...s]),t+=a[0].length}NA.lastIndex=t;const i=NA.exec(e);if(i){const s=i[0].slice(1,-1).split("|").map(l=>l.trim());n.push(s),t+=i[0].length}if(!r&&!a&&!i)throw new Error(`Unbalanced parenthesis in: ${e}`)}return n},Zm=([e,...t])=>e===void 0?[""]:Zm(t).flatMap(n=>e.map(r=>r.trim()+" "+n.trim())),f6=e=>[...new Set(e)],ji=e=>e[e.length-1],eh=e=>e.sort((t,n)=>n.length-t.length||t.localeCompare(n)),th=e=>e.reduce((t,n)=>Math.max(t,n.length),0),nh=e=>e.replace(/\s+/gu," "),Xe=e=>f6(Object.values(e).flat()),yE=e=>/\n/.test(e),I6=Xe({keywords:["ALL","AND","ANY","ARRAY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTERVAL","INTO","IS","JOIN","LATERAL","LEFT","LIKE","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","STRUCT","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN"],datatypes:["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],stringFormat:["HEX","BASEX","BASE64M","ASCII","UTF-8","UTF8"],misc:["SAFE"],ddl:["LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"]}),O6=Xe({aead:["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH"],aggregateAnalytic:["ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP"],aggregate:["ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM"],approximateAggregate:["APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM"],array:["ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL"],bitwise:["BIT_COUNT"],conversion:["PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST"],date:["CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE"],datetime:["CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME"],debugging:["ERROR"],federatedQuery:["EXTERNAL_QUERY"],geography:["S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y"],hash:["FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512"],hll:["HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT"],interval:["MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL"],json:["JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING"],math:["ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET"],navigation:["FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC"],net:["NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN"],numbering:["RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER"],security:["SESSION_USER"],statisticalAggregate:["CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE"],string:["ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER"],time:["CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME"],timestamp:["CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS"],uuid:["GENERATE_UUID"],conditional:["COALESCE","IF","IFNULL","NULLIF"],legacyAggregate:["AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP"],legacyBitwise:["BIT_COUNT"],legacyCasting:["BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING"],legacyComparison:["COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL"],legacyDatetime:["CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR"],legacyIp:["FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP"],legacyJson:["JSON_EXTRACT","JSON_EXTRACT_SCALAR"],legacyMath:["ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH"],legacyRegex:["REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE"],legacyString:["CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER"],legacyTableWildcard:["TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY"],legacyUrl:["HOST","DOMAIN","TLD"],legacyWindow:["AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER"],legacyMisc:["CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64"],other:["BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW"],ddl:["OPTIONS"],pivot:["PIVOT","UNPIVOT"],dataTypes:["BYTES","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","STRING"]}),m6=ae(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),h6=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),gA=ae(["UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),N6=ae(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),C6=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),g6=ae(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),_6={tokenizerOptions:{reservedSelect:m6,reservedClauses:[...h6,...gA],reservedSetOperations:N6,reservedJoins:C6,reservedPhrases:g6,reservedKeywords:I6,reservedFunctionNames:O6,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:L6},formatOptions:{onelineClauses:gA}};function L6(e){return v6(D6(e))}function v6(e){let t=Fa;return e.map(n=>n.text==="OFFSET"&&t.text==="["?(t=n,{...n,type:re.RESERVED_FUNCTION_NAME}):(t=n,n))}function D6(e){const t=[];for(let r=0;r<e.length;r++){var n;const a=e[r];if((ea.ARRAY(a)||ea.STRUCT(a))&&((n=e[r+1])===null||n===void 0?void 0:n.text)==="<"){const i=b6(e,r+1),s=e.slice(r,i+1);t.push({type:re.IDENTIFIER,raw:s.map(_A("raw")).join(""),text:s.map(_A("text")).join(""),start:a.start}),r=i}else t.push(a)}return t}const _A=e=>t=>t.type===re.IDENTIFIER||t.type===re.COMMA?t[e]+" ":t[e];function b6(e,t){let n=0;for(let r=t;r<e.length;r++){const a=e[r];if(a.text==="<"?n++:a.text===">"?n--:a.text===">>"&&(n-=2),n===0)return r}return e.length-1}const P6=Xe({aggregate:["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG"],scalar:["ABS","ABSVAL","ACOS","ADD_DAYS","ADD_MONTHS","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ARRAY_TRIM","ASCII","ASCII_CHR","ASCII_STR","ASCIISTR","ASIN","ATAN","ATANH","ATAN2","BIGINT","BINARY","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BLOB","BTRIM","CARDINALITY","CCSID_ENCODING","CEILING","CEIL","CHAR","CHAR9","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CLOB","COALESCE","COLLATION_KEY","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","DATE","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DBCLOB","DECFLOAT","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECIMAL","DEC","DECODE","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DECRYPT_DATAKEY_BIGINT","DECRYPT_DATAKEY_BIT","DECRYPT_DATAKEY_CLOB","DECRYPT_DATAKEY_DBCLOB","DECRYPT_DATAKEY_DECIMAL","DECRYPT_DATAKEY_INTEGER","DECRYPT_DATAKEY_VARCHAR","DECRYPT_DATAKEY_VARGRAPHIC","DEGREES","DIFFERENCE","DIGITS","DOUBLE_PRECISION","DOUBLE","DSN_XMLVALIDATE","EBCDIC_CHR","EBCDIC_STR","ENCRYPT_DATAKEY","ENCRYPT_TDES","EXP","EXTRACT","FLOAT","FLOOR","GENERATE_UNIQUE","GENERATE_UNIQUE_BINARY","GETHINT","GETVARIABLE","GRAPHIC","GREATEST","HASH","HASH_CRC32","HASH_MD5","HASH_SHA1","HASH_SHA256","HEX","HOUR","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTEGER","INT","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LOCATE","LOCATE_IN_STRING","LOG10","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NORMALIZE_DECFLOAT","NORMALIZE_STRING","NULLIF","NVL","OVERLAY","PACK","POSITION","POSSTR","POWER","POW","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND","ROUND_TIMESTAMP","ROWID","RPAD","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SMALLINT","SOUNDEX","SOAPHTTPC","SOAPHTTPV","SOAPHTTPNC","SOAPHTTPNV","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TAN","TANH","TIME","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMP_TZ","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TOTALORDER","TO_TIMESTAMP","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRUNC","TRUNC_TIMESTAMP","UCASE","UNICODE","UNICODE_STR","UNISTR","UPPER","VALUE","VARBINARY","VARCHAR","VARCHAR9","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARGRAPHIC","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLMODIFY","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLSERIALIZE","XMLTEXT","XMLXSROBJECTID","XSLTRANSFORM","YEAR"],table:["ADMIN_TASK_LIST","ADMIN_TASK_OUTPUT","ADMIN_TASK_STATUS","BLOCKING_THREADS","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE"],row:["UNPACK"],olap:["CUME_DIST","PERCENT_RANK","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT"],cast:["CAST"]}),y6=Xe({standard:["ALL","ALLOCATE","ALLOW","ALTERAND","ANY","AS","ARRAY","ARRAY_EXISTS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","AUDIT","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BUFFERPOOL","BY","CAPTURE","CASCADED","CAST","CCSID","CHARACTER","CHECK","CLONE","CLUSTER","COLLECTION","COLLID","COLUMN","CONDITION","CONNECTION","CONSTRAINT","CONTENT","CONTINUE","CREATE","CUBE","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRVAL","CURSOR","DATA","DATABASE","DBINFO","DECLARE","DEFAULT","DESCRIPTOR","DETERMINISTIC","DISABLE","DISALLOW","DISTINCT","DO","DOCUMENT","DSSIZE","DYNAMIC","EDITPROC","ELSE","ELSEIF","ENCODING","ENCRYPTION","ENDING","END-EXEC","ERASE","ESCAPE","EXCEPTION","EXISTS","EXIT","EXTERNAL","FENCED","FIELDPROC","FINAL","FIRST","FOR","FREE","FULL","FUNCTION","GENERATED","GET","GLOBAL","GOTO","GROUP","HANDLER","HOLD","HOURS","IF","IMMEDIATE","IN","INCLUSIVE","INDEX","INHERIT","INNER","INOUT","INSENSITIVE","INTO","IS","ISOBID","ITERATE","JAR","KEEP","KEY","LANGUAGE","LAST","LC_CTYPE","LEAVE","LIKE","LOCAL","LOCALE","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","MAINTAINED","MATERIALIZED","MICROSECONDS","MINUTEMINUTES","MODIFIES","MONTHS","NEXT","NEXTVAL","NO","NONE","NOT","NULL","NULLS","NUMPARTS","OBID","OF","OLD","ON","OPTIMIZATION","OPTIMIZE","ORDER","ORGANIZATION","OUT","OUTER","PACKAGE","PARAMETER","PART","PADDED","PARTITION","PARTITIONED","PARTITIONING","PATH","PIECESIZE","PERIOD","PLAN","PRECISION","PREVVAL","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","READS","REFERENCES","RESIGNAL","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","ROLE","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROW","ROWSET","SCHEMA","SCRATCHPAD","SECONDS","SECQTY","SECURITY","SEQUENCE","SENSITIVE","SESSION_USER","SIMPLE","SOME","SOURCE","SPECIFIC","STANDARD","STATIC","STATEMENT","STAY","STOGROUP","STORES","STYLE","SUMMARY","SYNONYM","SYSDATE","SYSTEM","SYSTIMESTAMP","TABLE","TABLESPACE","THEN","TO","TRIGGER","TYPE","UNDO","UNIQUE","UNTIL","USER","USING","VALIDPROC","VARIABLE","VARIANT","VCAT","VERSIONING","VIEW","VOLATILE","VOLUMES","WHILE","WLM","XMLEXISTS","XMLCAST","YEARS","ZONE"]}),M6=ae(["SELECT [ALL | DISTINCT]"]),x6=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","FETCH FIRST","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT","CREATE [OR REPLACE] VIEW","CREATE [GLOBAL TEMPORARY] TABLE"]),LA=ae(["UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [HIERARCHY]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {IDENTITY | EXPRESSION | DEFAULT | NOT NULL}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","AFTER","GO","ALLOCATE CURSOR","ALTER DATABASE","ALTER FUNCTION","ALTER INDEX","ALTER MASK","ALTER PERMISSION","ALTER PROCEDURE","ALTER SEQUENCE","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE LOCATORS","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT","COMMIT","CONNECT","CREATE ALIAS","CREATE AUXILIARY TABLE","CREATE DATABASE","CREATE FUNCTION","CREATE GLOBAL TEMPORARY TABLE","CREATE INDEX","CREATE LOB TABLESPACE","CREATE MASK","CREATE PERMISSION","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE STOGROUP","CREATE SYNONYM","CREATE TABLESPACE","CREATE TRIGGER","CREATE TRUSTED CONTEXT","CREATE TYPE","CREATE VARIABLE","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE STATEMENT","DECLARE TABLE","DECLARE VARIABLE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE OUTPUT","DESCRIBE PROCEDURE","DESCRIBE TABLE","DROP","END DECLARE SECTION","EXCHANGE","EXECUTE","EXECUTE IMMEDIATE","EXPLAIN","FETCH","FREE LOCATOR","GET DIAGNOSTICS","GRANT","HOLD LOCATOR","INCLUDE","LABEL","LOCK TABLE","OPEN","PREPARE","REFRESH","RELEASE","RELEASE SAVEPOINT","RENAME","REVOKE","ROLLBACK","SAVEPOINT","SELECT INTO","SET CONNECTION","SET CURRENT ACCELERATOR","SET CURRENT APPLICATION COMPATIBILITY","SET CURRENT APPLICATION ENCODING SCHEME","SET CURRENT DEBUG MODE","SET CURRENT DECFLOAT ROUNDING MODE","SET CURRENT DEGREE","SET CURRENT EXPLAIN MODE","SET CURRENT GET_ACCEL_ARCHIVE","SET CURRENT LOCALE LC_CTYPE","SET CURRENT MAINTAINED TABLE TYPES FOR OPTIMIZATION","SET CURRENT OPTIMIZATION HINT","SET CURRENT PACKAGE PATH","SET CURRENT PACKAGESET","SET CURRENT PRECISION","SET CURRENT QUERY ACCELERATION","SET CURRENT QUERY ACCELERATION WAITFORDATA","SET CURRENT REFRESH AGE","SET CURRENT ROUTINE VERSION","SET CURRENT RULES","SET CURRENT SQLID","SET CURRENT TEMPORAL BUSINESS_TIME","SET CURRENT TEMPORAL SYSTEM_TIME","SET ENCRYPTION PASSWORD","SET PATH","SET SESSION TIME ZONE","SIGNAL","VALUES INTO","WHENEVER"]),U6=ae(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),w6=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),B6=ae(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),F6={tokenizerOptions:{reservedSelect:M6,reservedClauses:[...x6,...LA],reservedSetOperations:U6,reservedJoins:w6,reservedPhrases:B6,reservedKeywords:y6,reservedFunctionNames:P6,stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","=",">","<","!>","!<","||"]},formatOptions:{onelineClauses:LA}},G6=Xe({math:["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET"],array:["ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY"],conversion:["BINARY","CAST"],date:["ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR"],conditional:["ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL"],string:["ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER"],masking:["MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N"],misc:["AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION"],aggregate:["AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE"],table:["EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK"],window:["LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],dataTypes:["DECIMAL","NUMERIC","VARCHAR","CHAR"]}),H6=Xe({nonReserved:["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","STRUCT","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE"],reserved:["ALL","ALTER","AND","ARRAY","AS","AUTHORIZATION","BETWEEN","BIGINT","BINARY","BOOLEAN","BOTH","BY","CASE","CAST","CHAR","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DATE","DECIMAL","DELETE","DESCRIBE","DISTINCT","DOUBLE","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FLOAT","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INT","INTERSECT","INTERVAL","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MAP","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","SMALLINT","TABLE","TABLESAMPLE","THEN","TIMESTAMP","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","VARCHAR","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","INTEGER","PRECISION","VIEWS","TIME","NUMERIC","SYNC"],fileTypes:["TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"]}),j6=ae(["SELECT [ALL | DISTINCT]"]),V6=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),vA=ae(["UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),Y6=ae(["UNION [ALL | DISTINCT]"]),W6=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),k6=ae(["{ROWS | RANGE} BETWEEN"]),$6={tokenizerOptions:{reservedSelect:j6,reservedClauses:[...V6,...vA],reservedSetOperations:Y6,reservedJoins:W6,reservedPhrases:k6,reservedKeywords:H6,reservedFunctionNames:G6,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:vA}},X6=Xe({all:["ACCESSIBLE","ACCOUNT","ACTION","ADD","ADMIN","AFTER","AGAINST","AGGREGATE","ALL","ALGORITHM","ALTER","ALWAYS","ANALYZE","AND","ANY","AS","ASC","ASCII","ASENSITIVE","AT","ATOMIC","AUTHORS","AUTO_INCREMENT","AUTOEXTEND_SIZE","AUTO","AVG","AVG_ROW_LENGTH","BACKUP","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BINLOG","BIT","BLOB","BLOCK","BODY","BOOL","BOOLEAN","BOTH","BTREE","BY","BYTE","CACHE","CALL","CASCADE","CASCADED","CASE","CATALOG_NAME","CHAIN","CHANGE","CHANGED","CHAR","CHARACTER","CHARSET","CHECK","CHECKPOINT","CHECKSUM","CIPHER","CLASS_ORIGIN","CLIENT","CLOB","CLOSE","COALESCE","CODE","COLLATE","COLLATION","COLUMN","COLUMN_NAME","COLUMNS","COLUMN_ADD","COLUMN_CHECK","COLUMN_CREATE","COLUMN_DELETE","COLUMN_GET","COMMENT","COMMIT","COMMITTED","COMPACT","COMPLETION","COMPRESSED","CONCURRENT","CONDITION","CONNECTION","CONSISTENT","CONSTRAINT","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONTAINS","CONTEXT","CONTINUE","CONTRIBUTORS","CONVERT","CPU","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_POS","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CURSOR_NAME","CYCLE","DATA","DATABASE","DATABASES","DATAFILE","DATE","DATETIME","DAY","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFINER","DELAYED","DELAY_KEY_WRITE","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DES_KEY_FILE","DETERMINISTIC","DIAGNOSTICS","DIRECTORY","DISABLE","DISCARD","DISK","DISTINCT","DISTINCTROW","DIV","DO","DOUBLE","DO_DOMAIN_IDS","DROP","DUAL","DUMPFILE","DUPLICATE","DYNAMIC","EACH","ELSE","ELSEIF","ELSIF","EMPTY","ENABLE","ENCLOSED","END","ENDS","ENGINE","ENGINES","ENUM","ERROR","ERRORS","ESCAPE","ESCAPED","EVENT","EVENTS","EVERY","EXAMINED","EXCEPT","EXCHANGE","EXCLUDE","EXECUTE","EXCEPTION","EXISTS","EXIT","EXPANSION","EXPIRE","EXPORT","EXPLAIN","EXTENDED","EXTENT_SIZE","FALSE","FAST","FAULTS","FEDERATED","FETCH","FIELDS","FILE","FIRST","FIXED","FLOAT","FLOAT4","FLOAT8","FLUSH","FOLLOWING","FOLLOWS","FOR","FORCE","FOREIGN","FORMAT","FOUND","FROM","FULL","FULLTEXT","FUNCTION","GENERAL","GENERATED","GET_FORMAT","GET","GLOBAL","GOTO","GRANT","GRANTS","GROUP","HANDLER","HARD","HASH","HAVING","HELP","HIGH_PRIORITY","HISTORY","HOST","HOSTS","HOUR","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IGNORE","IGNORED","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IMMEDIATE","IMPORT","INTERSECT","IN","INCREMENT","INDEX","INDEXES","INFILE","INITIAL_SIZE","INNER","INOUT","INSENSITIVE","INSERT","INSERT_METHOD","INSTALL","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INVISIBLE","INTO","IO","IO_THREAD","IPC","IS","ISOLATION","ISOPEN","ISSUER","ITERATE","INVOKER","JOIN","JSON","JSON_TABLE","KEY","KEYS","KEY_BLOCK_SIZE","KILL","LANGUAGE","LAST","LAST_VALUE","LASTVAL","LEADING","LEAVE","LEAVES","LEFT","LESS","LEVEL","LIKE","LIMIT","LINEAR","LINES","LIST","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCK","LOCKED","LOCKS","LOGFILE","LOGS","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER","MASTER_CONNECT_RETRY","MASTER_DELAY","MASTER_GTID_POS","MASTER_HOST","MASTER_LOG_FILE","MASTER_LOG_POS","MASTER_PASSWORD","MASTER_PORT","MASTER_SERVER_ID","MASTER_SSL","MASTER_SSL_CA","MASTER_SSL_CAPATH","MASTER_SSL_CERT","MASTER_SSL_CIPHER","MASTER_SSL_CRL","MASTER_SSL_CRLPATH","MASTER_SSL_KEY","MASTER_SSL_VERIFY_SERVER_CERT","MASTER_USER","MASTER_USE_GTID","MASTER_HEARTBEAT_PERIOD","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_SIZE","MAX_STATEMENT_TIME","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MAXVALUE","MEDIUM","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MEMORY","MERGE","MESSAGE_TEXT","MICROSECOND","MIDDLEINT","MIGRATE","MINUS","MINUTE","MINUTE_MICROSECOND","MINUTE_SECOND","MINVALUE","MIN_ROWS","MOD","MODE","MODIFIES","MODIFY","MONITOR","MONTH","MUTEX","MYSQL","MYSQL_ERRNO","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NESTED","NEVER","NEW","NEXT","NEXTVAL","NO","NOMAXVALUE","NOMINVALUE","NOCACHE","NOCYCLE","NO_WAIT","NOWAIT","NODEGROUP","NONE","NOT","NOTFOUND","NO_WRITE_TO_BINLOG","NULL","NUMBER","NUMERIC","NVARCHAR","OF","OFFSET","OLD_PASSWORD","ON","ONE","ONLINE","ONLY","OPEN","OPTIMIZE","OPTIONS","OPTION","OPTIONALLY","OR","ORDER","ORDINALITY","OTHERS","OUT","OUTER","OUTFILE","OVER","OVERLAPS","OWNER","PACKAGE","PACK_KEYS","PAGE","PAGE_CHECKSUM","PARSER","PARSE_VCOL_EXPR","PATH","PERIOD","PARTIAL","PARTITION","PARTITIONING","PARTITIONS","PASSWORD","PERSISTENT","PHASE","PLUGIN","PLUGINS","PORT","PORTION","PRECEDES","PRECEDING","PRECISION","PREPARE","PRESERVE","PREV","PREVIOUS","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PROFILE","PROFILES","PROXY","PURGE","QUARTER","QUERY","QUICK","RAISE","RANGE","RAW","READ","READ_ONLY","READ_WRITE","READS","REAL","REBUILD","RECOVER","RECURSIVE","REDO_BUFFER_SIZE","REDOFILE","REDUNDANT","REFERENCES","REGEXP","RELAY","RELAYLOG","RELAY_LOG_FILE","RELAY_LOG_POS","RELAY_THREAD","RELEASE","RELOAD","REMOVE","RENAME","REORGANIZE","REPAIR","REPEATABLE","REPLACE","REPLAY","REPLICA","REPLICAS","REPLICA_POS","REPLICATION","REPEAT","REQUIRE","RESET","RESIGNAL","RESTART","RESTORE","RESTRICT","RESUME","RETURNED_SQLSTATE","RETURN","RETURNING","RETURNS","REUSE","REVERSE","REVOKE","RIGHT","RLIKE","ROLE","ROLLBACK","ROLLUP","ROUTINE","ROW","ROWCOUNT","ROWNUM","ROWS","ROWTYPE","ROW_COUNT","ROW_FORMAT","RTREE","SAVEPOINT","SCHEDULE","SCHEMA","SCHEMA_NAME","SCHEMAS","SECOND","SECOND_MICROSECOND","SECURITY","SELECT","SENSITIVE","SEPARATOR","SEQUENCE","SERIAL","SERIALIZABLE","SESSION","SERVER","SET","SETVAL","SHARE","SHOW","SHUTDOWN","SIGNAL","SIGNED","SIMPLE","SKIP","SLAVE","SLAVES","SLAVE_POS","SLOW","SNAPSHOT","SMALLINT","SOCKET","SOFT","SOME","SONAME","SOUNDS","SOURCE","STAGE","STORED","SPATIAL","SPECIFIC","REF_SYSTEM_ID","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_NO_CACHE","SQL_SMALL_RESULT","SQL_THREAD","SQL_TSI_SECOND","SQL_TSI_MINUTE","SQL_TSI_HOUR","SQL_TSI_DAY","SQL_TSI_WEEK","SQL_TSI_MONTH","SQL_TSI_QUARTER","SQL_TSI_YEAR","SSL","START","STARTING","STARTS","STATEMENT","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","SUBCLASS_ORIGIN","SUBJECT","SUBPARTITION","SUBPARTITIONS","SUPER","SUSPEND","SWAPS","SWITCHES","SYSDATE","SYSTEM","SYSTEM_TIME","TABLE","TABLE_NAME","TABLES","TABLESPACE","TABLE_CHECKSUM","TEMPORARY","TEMPTABLE","TERMINATED","TEXT","THAN","THEN","TIES","TIME","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRANSACTION","TRANSACTIONAL","THREADS","TRIGGER","TRIGGERS","TRUE","TRUNCATE","TYPE","TYPES","UNBOUNDED","UNCOMMITTED","UNDEFINED","UNDO_BUFFER_SIZE","UNDOFILE","UNDO","UNICODE","UNION","UNIQUE","UNKNOWN","UNLOCK","UNINSTALL","UNSIGNED","UNTIL","UPDATE","UPGRADE","USAGE","USE","USER","USER_RESOURCES","USE_FRM","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUE","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARCHAR2","VARIABLES","VARYING","VIA","VIEW","VIRTUAL","VISIBLE","VERSIONING","WAIT","WARNINGS","WEEK","WEIGHT_STRING","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","X509","XOR","XA","XML","YEAR","YEAR_MONTH","ZEROFILL"]}),z6=Xe({all:["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF","TINYINT","SMALLINT","MEDIUMINT","INT","INTEGER","BIGINT","DECIMAL","DEC","NUMERIC","FIXED","FLOAT","DOUBLE","DOUBLE PRECISION","REAL","BIT","BINARY","BLOB","CHAR","NATIONAL CHAR","CHAR BYTE","ENUM","VARBINARY","VARCHAR","NATIONAL VARCHAR","TIME","DATETIME","TIMESTAMP","YEAR"]}),K6=ae(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),J6=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","SET","CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]","RETURNING"]),DA=ae(["UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),q6=ae(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),Q6=ae(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Z6=ae(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN"]),eV={tokenizerOptions:{reservedSelect:K6,reservedClauses:[...J6,...DA],reservedSetOperations:q6,reservedJoins:Q6,reservedPhrases:Z6,supportsXor:!0,reservedKeywords:X6,reservedFunctionNames:z6,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!"],postProcess:tV},formatOptions:{onelineClauses:DA}};function tV(e){return e.map((t,n)=>{const r=e[n+1]||Fa;return ea.SET(t)&&r.text==="("?{...t,type:re.RESERVED_FUNCTION_NAME}:t})}const nV=Xe({all:["ACCESSIBLE","ACCOUNT","ACTION","ACTIVE","ADD","ADMIN","AFTER","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ALWAYS","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASCII","ASENSITIVE","AT","ATTRIBUTE","AUTHENTICATION","AUTOEXTEND_SIZE","AUTO_INCREMENT","AVG","AVG_ROW_LENGTH","BACKUP","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BINLOG","BIT","BLOB","BLOCK","BOOL","BOOLEAN","BOTH","BTREE","BUCKETS","BY","BYTE","CACHE","CALL","CASCADE","CASCADED","CASE","CATALOG_NAME","CHAIN","CHALLENGE_RESPONSE","CHANGE","CHANGED","CHANNEL","CHAR","CHARACTER","CHARSET","CHECK","CHECKSUM","CIPHER","CLASS_ORIGIN","CLIENT","CLONE","CLOSE","COALESCE","CODE","COLLATE","COLLATION","COLUMN","COLUMNS","COLUMN_FORMAT","COLUMN_NAME","COMMENT","COMMIT","COMMITTED","COMPACT","COMPLETION","COMPONENT","COMPRESSED","COMPRESSION","CONCURRENT","CONDITION","CONNECTION","CONSISTENT","CONSTRAINT","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONTAINS","CONTEXT","CONTINUE","CONVERT","CPU","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CURSOR_NAME","DATA","DATABASE","DATABASES","DATAFILE","DATE","DATETIME","DAY","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULT_AUTH","DEFINER","DEFINITION","DELAYED","DELAY_KEY_WRITE","DELETE","DENSE_RANK","DESC","DESCRIBE","DESCRIPTION","DETERMINISTIC","DIAGNOSTICS","DIRECTORY","DISABLE","DISCARD","DISK","DISTINCT","DISTINCTROW","DIV","DO","DOUBLE","DROP","DUAL","DUMPFILE","DUPLICATE","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCLOSED","ENCRYPTION","END","ENDS","ENFORCED","ENGINE","ENGINES","ENGINE_ATTRIBUTE","ENUM","ERROR","ERRORS","ESCAPE","ESCAPED","EVENT","EVENTS","EVERY","EXCEPT","EXCHANGE","EXCLUDE","EXECUTE","EXISTS","EXIT","EXPANSION","EXPIRE","EXPLAIN","EXPORT","EXTENDED","EXTENT_SIZE","FACTOR","FAILED_LOGIN_ATTEMPTS","FALSE","FAST","FAULTS","FETCH","FIELDS","FILE","FILE_BLOCK_SIZE","FILTER","FINISH","FIRST","FIRST_VALUE","FIXED","FLOAT","FLOAT4","FLOAT8","FLUSH","FOLLOWING","FOLLOWS","FOR","FORCE","FOREIGN","FORMAT","FOUND","FROM","FULL","FULLTEXT","FUNCTION","GENERAL","GENERATED","GEOMCOLLECTION","GEOMETRY","GEOMETRYCOLLECTION","GET","GET_FORMAT","GET_MASTER_PUBLIC_KEY","GET_SOURCE_PUBLIC_KEY","GLOBAL","GRANT","GRANTS","GROUP","GROUPING","GROUPS","GROUP_REPLICATION","GTID_ONLY","HANDLER","HASH","HAVING","HELP","HIGH_PRIORITY","HISTOGRAM","HISTORY","HOST","HOSTS","HOUR","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IGNORE","IGNORE_SERVER_IDS","IMPORT","IN","INACTIVE","INDEX","INDEXES","INFILE","INITIAL","INITIAL_SIZE","INITIATE","INNER","INOUT","INSENSITIVE","INSERT","INSERT_METHOD","INSTALL","INSTANCE","IN","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERSECT","INTERVAL","INTO","INVISIBLE","INVOKER","IO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IO_THREAD","IPC","IS","ISOLATION","ISSUER","ITERATE","JOIN","JSON","JSON_TABLE","JSON_VALUE","KEY","KEYRING","KEYS","KEY_BLOCK_SIZE","KILL","LAG","LANGUAGE","LAST","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEAVES","LEFT","LESS","LEVEL","LIKE","LIMIT","LINEAR","LINES","LINESTRING","LIST","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCK","LOCKED","LOCKS","LOGFILE","LOGS","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER","MASTER_AUTO_POSITION","MASTER_BIND","MASTER_COMPRESSION_ALGORITHMS","MASTER_CONNECT_RETRY","MASTER_DELAY","MASTER_HEARTBEAT_PERIOD","MASTER_HOST","MASTER_LOG_FILE","MASTER_LOG_POS","MASTER_PASSWORD","MASTER_PORT","MASTER_PUBLIC_KEY_PATH","MASTER_RETRY_COUNT","MASTER_SSL","MASTER_SSL_CA","MASTER_SSL_CAPATH","MASTER_SSL_CERT","MASTER_SSL_CIPHER","MASTER_SSL_CRL","MASTER_SSL_CRLPATH","MASTER_SSL_KEY","MASTER_SSL_VERIFY_SERVER_CERT","MASTER_TLS_CIPHERSUITES","MASTER_TLS_VERSION","MASTER_USER","MASTER_ZSTD_COMPRESSION_LEVEL","MATCH","MAXVALUE","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_SIZE","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MEMBER","MEMORY","MERGE","MESSAGE_TEXT","MICROSECOND","MIDDLEINT","MIGRATE","MINUTE","MINUTE_MICROSECOND","MINUTE_SECOND","MIN_ROWS","MOD","MODE","MODIFIES","MODIFY","MONTH","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","MUTEX","MYSQL_ERRNO","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NDB","NDBCLUSTER","NESTED","NETWORK_NAMESPACE","NEVER","NEW","NEXT","NO","NODEGROUP","NONE","NOT","NOWAIT","NO_WAIT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NULLS","NUMBER","NUMERIC","NVARCHAR","OF","OFF","OFFSET","OJ","OLD","ON","ONE","ONLY","OPEN","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONAL","OPTIONALLY","OPTIONS","OR","ORDER","ORDINALITY","ORGANIZATION","OTHERS","OUT","OUTER","OUTFILE","OVER","OWNER","PACK_KEYS","PAGE","PARSER","PARTIAL","PARTITION","PARTITIONING","PARTITIONS","PASSWORD","PASSWORD_LOCK_TIME","PATH","PERCENT_RANK","PERSIST","PERSIST_ONLY","PHASE","PLUGIN","PLUGINS","PLUGIN_DIR","POINT","POLYGON","PORT","PRECEDES","PRECEDING","PRECISION","PREPARE","PRESERVE","PREV","PRIMARY","PRIVILEGES","PRIVILEGE_CHECKS_USER","PROCEDURE","PROCESS","PROCESSLIST","PROFILE","PROFILES","PROXY","PURGE","QUARTER","QUERY","QUICK","RANDOM","RANGE","RANK","READ","READS","READ_ONLY","READ_WRITE","REAL","REBUILD","RECOVER","RECURSIVE","REDO_BUFFER_SIZE","REDUNDANT","REFERENCE","REFERENCES","REGEXP","REGISTRATION","RELAY","RELAYLOG","RELAY_LOG_FILE","RELAY_LOG_POS","RELAY_THREAD","RELEASE","RELOAD","REMOVE","RENAME","REORGANIZE","REPAIR","REPEAT","REPEATABLE","REPLACE","REPLICA","REPLICAS","REPLICATE_DO_DB","REPLICATE_DO_TABLE","REPLICATE_IGNORE_DB","REPLICATE_IGNORE_TABLE","REPLICATE_REWRITE_DB","REPLICATE_WILD_DO_TABLE","REPLICATE_WILD_IGNORE_TABLE","REPLICATION","REQUIRE","REQUIRE_ROW_FORMAT","RESET","RESIGNAL","RESOURCE","RESPECT","RESTART","RESTORE","RESTRICT","RESUME","RETAIN","RETURN","RETURNED_SQLSTATE","RETURNING","RETURNS","REUSE","REVERSE","REVOKE","RIGHT","RLIKE","ROLE","ROLLBACK","ROLLUP","ROTATE","ROUTINE","ROW","ROWS","ROW_COUNT","ROW_FORMAT","ROW_NUMBER","RTREE","SAVEPOINT","SCHEDULE","SCHEMA","SCHEMAS","SCHEMA_NAME","SECOND","SECONDARY","SECONDARY_ENGINE","SECONDARY_ENGINE_ATTRIBUTE","SECONDARY_LOAD","SECONDARY_UNLOAD","SECOND_MICROSECOND","SECURITY","SELECT","SENSITIVE","SEPARATOR","SERIAL","SERIALIZABLE","SERVER","SESSION","SET","SHARE","SHOW","SHUTDOWN","SIGNAL","SIGNED","SIMPLE","SKIP","SLAVE","SLOW","SMALLINT","SNAPSHOT","SOCKET","SOME","SONAME","SOUNDS","SOURCE","SOURCE_AUTO_POSITION","SOURCE_BIND","SOURCE_COMPRESSION_ALGORITHMS","SOURCE_CONNECT_RETRY","SOURCE_DELAY","SOURCE_HEARTBEAT_PERIOD","SOURCE_HOST","SOURCE_LOG_FILE","SOURCE_LOG_POS","SOURCE_PASSWORD","SOURCE_PORT","SOURCE_PUBLIC_KEY_PATH","SOURCE_RETRY_COUNT","SOURCE_SSL","SOURCE_SSL_CA","SOURCE_SSL_CAPATH","SOURCE_SSL_CERT","SOURCE_SSL_CIPHER","SOURCE_SSL_CRL","SOURCE_SSL_CRLPATH","SOURCE_SSL_KEY","SOURCE_SSL_VERIFY_SERVER_CERT","SOURCE_TLS_CIPHERSUITES","SOURCE_TLS_VERSION","SOURCE_USER","SOURCE_ZSTD_COMPRESSION_LEVEL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_AFTER_GTIDS","SQL_AFTER_MTS_GAPS","SQL_BEFORE_GTIDS","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CALC_FOUND_ROWS","SQL_NO_CACHE","SQL_SMALL_RESULT","SQL_THREAD","SQL_TSI_DAY","SQL_TSI_HOUR","SQL_TSI_MINUTE","SQL_TSI_MONTH","SQL_TSI_QUARTER","SQL_TSI_SECOND","SQL_TSI_WEEK","SQL_TSI_YEAR","SRID","SSL","STACKED","START","STARTING","STARTS","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STATUS","STOP","STORAGE","STORED","STRAIGHT_JOIN","STREAM","STRING","SUBCLASS_ORIGIN","SUBJECT","SUBPARTITION","SUBPARTITIONS","SUPER","SUSPEND","SWAPS","SWITCHES","SYSTEM","TABLE","TABLES","TABLESPACE","TABLE_CHECKSUM","TABLE_NAME","TEMPORARY","TEMPTABLE","TERMINATED","TEXT","THAN","THEN","THREAD_PRIORITY","TIES","TIME","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TINYBLOB","TINYINT","TINYTEXT","TLS","TO","TRAILING","TRANSACTION","TRIGGER","TRIGGERS","TRUE","TRUNCATE","TYPE","TYPES","UNBOUNDED","UNCOMMITTED","UNDEFINED","UNDO","UNDOFILE","UNDO_BUFFER_SIZE","UNICODE","UNINSTALL","UNION","UNIQUE","UNKNOWN","UNLOCK","UNREGISTER","UNSIGNED","UNTIL","UPDATE","UPGRADE","USAGE","USE","USER","USER_RESOURCES","USE_FRM","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALIDATION","VALUE","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARIABLES","VARYING","VCPU","VIEW","VIRTUAL","VISIBLE","WAIT","WARNINGS","WEEK","WEIGHT_STRING","WHEN","WHERE","WHILE","WINDOW","WITH","WITHOUT","WORK","WRAPPER","WRITE","X509","XA","XID","XML","XOR","YEAR","YEAR_MONTH","ZEROFILL","ZONE"]}),rV=Xe({all:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","USER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK","BIT","TINYINT","SMALLINT","MEDIUMINT","INT","INTEGER","BIGINT","DECIMAL","DEC","NUMERIC","FIXED","FLOAT","DOUBLE","DOUBLE PRECISION","REAL","DATETIME","TIMESTAMP","TIME","YEAR","CHAR","NATIONAL CHAR","VARCHAR","NATIONAL VARCHAR","BINARY","VARBINARY","BLOB","TEXT","ENUM"]}),aV=ae(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),oV=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","SET","CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),bA=ae(["UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),iV=ae(["UNION [ALL | DISTINCT]"]),sV=ae(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),lV=ae(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN"]),cV={tokenizerOptions:{reservedSelect:aV,reservedClauses:[...oV,...bA],reservedSetOperations:iV,reservedJoins:sV,reservedPhrases:lV,supportsXor:!0,reservedKeywords:nV,reservedFunctionNames:rV,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!"],postProcess:dV},formatOptions:{onelineClauses:bA}};function dV(e){return e.map((t,n)=>{const r=e[n+1]||Fa;return ea.SET(t)&&r.text==="("?{...t,type:re.RESERVED_FUNCTION_NAME}:t})}const EV=Xe({all:["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"]}),uV=Xe({all:["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","ISOLATION","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"]}),TV=ae(["SELECT [ALL | DISTINCT]"]),SV=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),PA=ae(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),RV=ae(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),pV=ae(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),AV=ae(["{ROWS | RANGE | GROUPS} BETWEEN"]),fV={tokenizerOptions:{reservedSelect:TV,reservedClauses:[...SV,...PA],reservedSetOperations:RV,reservedJoins:pV,reservedPhrases:AV,supportsXor:!0,reservedKeywords:uV,reservedFunctionNames:EV,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:PA}},IV=Xe({all:["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARRAY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BFILE_BASE","BINARY","BLOB_BASE","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHAR","CHAR_BASE","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE","DATE_BASE","DAY","DECIMAL","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DOUBLE","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FLOAT","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INT","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LONG","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NCHAR","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NUMBER_BASE","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"]}),OV=Xe({numeric:["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET"],character:["CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR"],datetime:["ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET"],comparison:["GREATEST","LEAST"],conversion:["ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR"],largeObject:["BFILENAME","EMPTY_BLOB,","EMPTY_CLOB"],collection:["CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET"],hierarchical:["SYS_CONNECT_BY_PATH"],dataMining:["CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET"],xml:["APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM"],encoding:["DECODE","DUMP","ORA_HASH","VSIZE"],nullRelated:["COALESCE","LNNVL","NULLIF","NVL","NVL2"],env:["SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV"],aggregate:["AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE"],window:["FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER"],objectReference:["DEREF","MAKE_REF","REF","REFTOHEX","VALUE"],model:["CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],dataTypes:["VARCHAR2","NVARCHAR2","NUMBER","FLOAT","TIMESTAMP","INTERVAL YEAR","INTERVAL DAY","RAW","UROWID","NCHAR","CHARACTER","CHAR","CHARACTER VARYING","CHAR VARYING","NATIONAL CHARACTER","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHAR VARYING","NCHAR VARYING","NUMERIC","DECIMAL","FLOAT","VARCHAR"]}),mV=ae(["SELECT [ALL | DISTINCT | UNIQUE]"]),hV=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE","RETURNING"]),yA=ae(["UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),NV=ae(["UNION [ALL]","EXCEPT","INTERSECT"]),CV=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),gV=ae(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),_V={tokenizerOptions:{reservedSelect:mV,reservedClauses:[...hV,...yA],reservedSetOperations:NV,reservedJoins:CV,reservedPhrases:gV,supportsXor:!0,reservedKeywords:IV,reservedFunctionNames:OV,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},paramChars:{},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:LV},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:yA}};function LV(e){let t=Fa;return e.map(n=>ea.SET(n)&&ea.BY(t)?{...n,type:re.RESERVED_KEYWORD}:(Qm(n.type)&&(t=n),n))}const vV=Xe({math:["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET"],string:["ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER"],binary:["BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM"],bitstring:["BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING"],pattern:["REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE"],datatype:["TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP"],datetime:["CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP"],enum:["ENUM_FIRST","ENUM_LAST","ENUM_RANGE"],geometry:["AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH"],network:["ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TEXT","TRUNC"],textsearch:["ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY"],uuid:["UUID"],xml:["CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS"],json:["ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP"],sequence:["CURRVAL","LASTVAL","NEXTVAL","SETVAL"],conditional:["COALESCE","GREATEST","LEAST","NULLIF"],array:["ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST"],range:["ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF"],aggregate:["ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG"],window:["CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER"],set:["GENERATE_SERIES","GENERATE_SUBSCRIPTS"],sysInfo:["ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION"],sysAdmin:["BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG"],trigger:["SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN"],eventTrigger:["PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS"],stats:["PG_MCV_LIST_ITEMS"],cast:["CAST"],dataTypes:["BIT","BIT VARYING","CHARACTER","CHARACTER VARYING","VARCHAR","CHAR","DECIMAL","NUMERIC","TIME","TIMESTAMP","ENUM"]}),DV=Xe({all:["ABORT","ABSOLUTE","ACCESS","ACTION","ADD","ADMIN","AFTER","AGGREGATE","ALL","ALSO","ALTER","ALWAYS","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASENSITIVE","ASSERTION","ASSIGNMENT","ASYMMETRIC","AT","ATOMIC","ATTACH","ATTRIBUTE","AUTHORIZATION","BACKWARD","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","BREADTH","BY","CACHE","CALL","CALLED","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAIN","CHAR","CHARACTER","CHARACTERISTICS","CHECK","CHECKPOINT","CLASS","CLOSE","CLUSTER","COALESCE","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMENTS","COMMIT","COMMITTED","COMPRESSION","CONCURRENTLY","CONFIGURATION","CONFLICT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTENT","CONTINUE","CONVERSION","COPY","COST","CREATE","CROSS","CSV","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFERRABLE","DEFERRED","DEFINER","DELETE","DELIMITER","DELIMITERS","DEPENDS","DEPTH","DESC","DETACH","DICTIONARY","DISABLE","DISCARD","DISTINCT","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","EACH","ELSE","ENABLE","ENCODING","ENCRYPTED","END","ENUM","ESCAPE","EVENT","EXCEPT","EXCLUDE","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXPLAIN","EXPRESSION","EXTENSION","EXTERNAL","EXTRACT","FALSE","FAMILY","FETCH","FILTER","FINALIZE","FIRST","FLOAT","FOLLOWING","FOR","FORCE","FOREIGN","FORWARD","FREEZE","FROM","FULL","FUNCTION","FUNCTIONS","GENERATED","GLOBAL","GRANT","GRANTED","GREATEST","GROUP","GROUPING","GROUPS","HANDLER","HAVING","HEADER","HOLD","HOUR","IDENTITY","IF","ILIKE","IMMEDIATE","IMMUTABLE","IMPLICIT","IMPORT","IN","INCLUDE","INCLUDING","INCREMENT","INDEX","INDEXES","INHERIT","INHERITS","INITIALLY","INLINE","INNER","INOUT","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","INVOKER","IS","ISNULL","ISOLATION","JOIN","KEY","LABEL","LANGUAGE","LARGE","LAST","LATERAL","LEADING","LEAKPROOF","LEAST","LEFT","LEVEL","LIKE","LIMIT","LISTEN","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCK","LOCKED","LOGGED","MAPPING","MATCH","MATERIALIZED","MAXVALUE","METHOD","MINUTE","MINVALUE","MODE","MONTH","MOVE","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NEW","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NORMALIZE","NORMALIZED","NOT","NOTHING","NOTIFY","NOTNULL","NOWAIT","NULL","NULLIF","NULLS","NUMERIC","OBJECT","OF","OFF","OFFSET","OIDS","OLD","ON","ONLY","OPERATOR","OPTION","OPTIONS","OR","ORDER","ORDINALITY","OTHERS","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","OWNED","OWNER","PARALLEL","PARSER","PARTIAL","PARTITION","PASSING","PASSWORD","PLACING","PLANS","POLICY","POSITION","PRECEDING","PRECISION","PREPARE","PREPARED","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURAL","PROCEDURE","PROCEDURES","PROGRAM","PUBLICATION","QUOTE","RANGE","READ","REAL","REASSIGN","RECHECK","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REINDEX","RELATIVE","RELEASE","RENAME","REPEATABLE","REPLACE","REPLICA","RESET","RESTART","RESTRICT","RETURN","RETURNING","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUTINE","ROUTINES","ROW","ROWS","RULE","SAVEPOINT","SCHEMA","SCHEMAS","SCROLL","SEARCH","SECOND","SECURITY","SELECT","SEQUENCE","SEQUENCES","SERIALIZABLE","SERVER","SESSION","SESSION_USER","SET","SETOF","SETS","SHARE","SHOW","SIMILAR","SIMPLE","SKIP","SMALLINT","SNAPSHOT","SOME","SQL","STABLE","STANDALONE","START","STATEMENT","STATISTICS","STDIN","STDOUT","STORAGE","STORED","STRICT","STRIP","SUBSCRIPTION","SUBSTRING","SUPPORT","SYMMETRIC","SYSID","SYSTEM","TABLE","TABLES","TABLESAMPLE","TABLESPACE","TEMP","TEMPLATE","TEMPORARY","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRANSFORM","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TRUSTED","TYPE","TYPES","UESCAPE","UNBOUNDED","UNCOMMITTED","UNENCRYPTED","UNION","UNIQUE","UNKNOWN","UNLISTEN","UNLOGGED","UNTIL","UPDATE","USER","USING","VACUUM","VALID","VALIDATE","VALIDATOR","VALUE","VALUES","VARCHAR","VARIADIC","VARYING","VERBOSE","VERSION","VIEW","VIEWS","VOLATILE","WHEN","WHERE","WHITESPACE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","XML","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","YEAR","YES","ZONE"]}),bV=ae(["SELECT [ALL | DISTINCT]"]),PV=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","SET","CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE MATERIALIZED VIEW [IF NOT EXISTS]","CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]","RETURNING"]),MA=ae(["UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","[SET DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE FUNCTION","CREATE GROUP","CREATE INDEX","CREATE LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE RULE","CREATE SCHEMA","CREATE SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE TRANSFORM","CREATE TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),yV=ae(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),MV=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),xV=ae(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","{TIMESTAMP | TIME} {WITH | WITHOUT} TIME ZONE","IS [NOT] DISTINCT FROM"]),UV={tokenizerOptions:{reservedSelect:bV,reservedClauses:[...PV,...MA],reservedSetOperations:yV,reservedJoins:MV,reservedPhrases:xV,reservedKeywords:DV,reservedFunctionNames:vV,nestedBlockComments:!0,extraParens:["[]"],stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:MA}},wV=Xe({aggregate:["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP"],array:["array","array_concat","array_flatten","get_array_length","split_to_array","subarray"],bitwise:["BIT_AND","BIT_OR","BOOL_AND","BOOL_OR"],conditional:["COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF"],dateTime:["ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC"],spatial:["AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox"],hash:["CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2"],hyperLogLog:["HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE"],json:["IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE"],math:["ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC"],machineLearning:["EXPLAIN_MODEL"],string:["ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER"],superType:["decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof"],window:["AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP"],dataType:["CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT"],sysAdmin:["CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG"],sysInfo:["CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],dataTypes:["DECIMAL","NUMERIC","CHAR","CHARACTER","VARCHAR","CHARACTER VARYING","NCHAR","NVARCHAR","VARBYTE"]}),BV=Xe({standard:["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","ARRAY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT"],dataConversionParams:["ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS"],dataLoadParams:["COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE"],dataFormatParams:["FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC"],copyAuthParams:["ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN"],copyCompressionParams:["BZIP2","GZIP","LZOP","ZSTD"],copyMiscParams:["MANIFEST","READRATIO","REGION","SSH"],compressionEncodings:["RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K"],misc:["CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],dataTypes:["BPCHAR","TEXT"]}),FV=ae(["SELECT [ALL | DISTINCT]"]),GV=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","CREATE [OR REPLACE | MATERIALIZED] VIEW","CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),xA=ae(["UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMENT","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),HV=ae(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),jV=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),VV=ae(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),YV={tokenizerOptions:{reservedSelect:FV,reservedClauses:[...GV,...xA],reservedSetOperations:HV,reservedJoins:jV,reservedPhrases:VV,reservedKeywords:BV,reservedFunctionNames:wV,stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:xA}},WV=Xe({all:["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","ARRAY","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTERVAL","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MAP","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","STRUCT","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","STRING","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"]}),kV=Xe({aggregate:["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE"],window:["CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER"],array:["ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY"],map:["ELEMENT_AT","ELEMENT_AT","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP"],datetime:["ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR"],json:["FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON"],misc:["ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIGINT","BIN","BINARY","BIT_COUNT","BIT_GET","BIT_LENGTH","BOOLEAN","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DATE","DECIMAL","DEGREES","DOUBLE","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOAT","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","INT","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SMALLINT","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TIMESTAMP","TINYINT","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH"],cast:["CAST"],caseAbbrev:["COALESCE","NULLIF"],dataTypes:["DECIMAL","DEC","NUMERIC","VARCHAR"]}),$V=ae(["SELECT [ALL | DISTINCT]"]),XV=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE","CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),UA=ae(["DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),zV=ae(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),KV=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),JV=ae(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),qV={tokenizerOptions:{reservedSelect:$V,reservedClauses:[...XV,...UA],reservedSetOperations:zV,reservedJoins:KV,reservedPhrases:JV,supportsXor:!0,reservedKeywords:WV,reservedFunctionNames:kV,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:QV},formatOptions:{onelineClauses:UA}};function QV(e){return e.map((t,n)=>{const r=e[n-1]||Fa,a=e[n+1]||Fa;return ea.WINDOW(t)&&a.type===re.OPEN_PAREN?{...t,type:re.RESERVED_FUNCTION_NAME}:t.text==="ITEMS"&&t.type===re.RESERVED_KEYWORD&&!(r.text==="COLLECTION"&&a.text==="TERMINATED")?{...t,type:re.IDENTIFIER,text:t.raw}:t})}const ZV=Xe({scalar:["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB"],aggregate:["AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL"],datetime:["DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME"],window:["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value"],math:["ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC"],json:["JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE"],cast:["CAST"],dataTypes:["CHARACTER","VARCHAR","VARYING CHARACTER","NCHAR","NATIVE CHARACTER","NVARCHAR","NUMERIC","DECIMAL"]}),eY=Xe({all:["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ANY","ARE","ARRAY","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"]}),tY=ae(["SELECT [ALL | DISTINCT]"]),nY=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),wA=ae(["UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),rY=ae(["UNION [ALL]","EXCEPT","INTERSECT"]),aY=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),oY=ae(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN"]),iY={tokenizerOptions:{reservedSelect:tY,reservedClauses:[...nY,...wA],reservedSetOperations:rY,reservedJoins:aY,reservedPhrases:oY,reservedKeywords:eY,reservedFunctionNames:ZV,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:wA}},sY=Xe({set:["GROUPING"],window:["RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER"],numeric:["POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET"],string:["SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE"],datetime:["CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP"],aggregate:["COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC"],cast:["CAST"],caseAbbrev:["COALESCE","NULLIF"],nonStandard:["ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],dataTypes:["CHARACTER","CHAR","CHARACTER VARYING","CHAR VARYING","VARCHAR","CHARACTER LARGE OBJECT","CHAR LARGE OBJECT","CLOB","NATIONAL CHARACTER","NATIONAL CHAR","NCHAR","NATIONAL CHARACTER VARYING","NATIONAL CHAR VARYING","NCHAR VARYING","NATIONAL CHARACTER LARGE OBJECT","NCHAR LARGE OBJECT","NCLOB","BINARY","BINARY VARYING","VARBINARY","BINARY LARGE OBJECT","BLOB","NUMERIC","DECIMAL","DEC","TIME","TIMESTAMP"]}),lY=Xe({all:["ALL","ALLOCATE","ALTER","ANY","ARE","ARRAY","AS","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHAR","CHARACTER","CHECK","CLOB","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DELETE","DEREF","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DOUBLE","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FLOAT","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","MULTISET","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NO","NONE","NOT","NULL","NULLIF","NUMERIC","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SMALLINT","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","VARBINARY","VARCHAR","VARYING","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"]}),cY=ae(["SELECT [ALL | DISTINCT]"]),dY=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","CREATE [RECURSIVE] VIEW","CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),BA=ae(["UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),EY=ae(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),uY=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),TY=ae(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),SY={tokenizerOptions:{reservedSelect:cY,reservedClauses:[...dY,...BA],reservedSetOperations:EY,reservedJoins:uY,reservedPhrases:TY,reservedKeywords:lY,reservedFunctionNames:sY,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:BA}},RY=Xe({all:["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH"],rowPattern:["CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"]}),pY=Xe({all:["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],types:["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"]}),AY=ae(["SELECT [ALL | DISTINCT]"]),fY=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","CREATE [OR REPLACE] [MATERIALIZED] VIEW","CREATE TABLE [IF NOT EXISTS]","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),FA=ae(["UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","COMMENT ON TABLE","COMMENT ON COLUMN","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),IY=ae(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),OY=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),mY=ae(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),hY={tokenizerOptions:{reservedSelect:AY,reservedClauses:[...fY,...FA],reservedSetOperations:IY,reservedJoins:OY,reservedPhrases:mY,reservedKeywords:pY,reservedFunctionNames:RY,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:FA}},NY=Xe({aggregate:["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP"],analytic:["CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS"],configuration:["@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION"],conversion:["CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE"],cryptographic:["ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY"],cursor:["@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS"],dataType:["DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY"],datetime:["@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY"],mathematical:["ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST"],metadata:["@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY"],ranking:["DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME"],security:["CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME"],string:["ASCII","CHAR","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER"],system:["$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE"],statistical:["@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID"],trigger:["COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE"],caseAbbrev:["COALESCE","NULLIF"],dataTypes:["DECIMAL","NUMERIC","FLOAT","REAL","DATETIME2","DATETIMEOFFSET","TIME","CHAR","VARCHAR","NCHAR","NVARCHAR","BINARY","VARBINARY"]}),CY=Xe({standard:["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DOUBLE","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NATIONAL","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRECISION","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VARYING","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT"],odbc:["ABSOLUTE","ACTION","ADA","ADD","ALL","ALLOCATE","ALTER","AND","ANY","ARE","AS","ASC","ASSERTION","AT","AUTHORIZATION","AVG","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BY","CASCADE","CASCADED","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOSE","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DESCRIBE","DESCRIPTOR","DIAGNOSTICS","DISCONNECT","DISTINCT","DOMAIN","DOUBLE","DROP","END-EXEC","ESCAPE","EXCEPTION","EXEC","EXECUTE","EXISTS","EXTERNAL","EXTRACT","FALSE","FETCH","FIRST","FLOAT","FOR","FOREIGN","FORTRAN","FOUND","FROM","FULL","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HAVING","HOUR","IDENTITY","IMMEDIATE","IN","INCLUDE","INDEX","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISOLATION","JOIN","KEY","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LOCAL","LOWER","MATCH","MAX","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NONE","NOT","NULL","NULLIF","NUMERIC","OCTET_LENGTH","OF","ONLY","OPEN","OPTION","OR","ORDER","OUTER","OUTPUT","OVERLAPS","PAD","PARTIAL","PASCAL","POSITION","PRECISION","PREPARE","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURE","PUBLIC","READ","REAL","REFERENCES","RELATIVE","RESTRICT","REVOKE","RIGHT","ROLLBACK","ROWS","SCHEMA","SCROLL","SECOND","SECTION","SELECT","SESSION","SESSION_USER","SET","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","SUBSTRING","SUM","SYSTEM_USER","TABLE","TEMPORARY","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TRIM","TRUE","UNION","UNIQUE","UNKNOWN","UPDATE","UPPER","USAGE","USER","VALUE","VALUES","VARCHAR","VARYING","VIEW","WHENEVER","WHERE","WITH","WORK","WRITE","YEAR","ZONE"]}),gY=ae(["SELECT [ALL | DISTINCT]"]),_Y=ae(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET","CREATE [OR ALTER] [MATERIALIZED] VIEW","CREATE TABLE","CREATE [OR ALTER] {PROC | PROCEDURE}"]),GA=ae(["UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLLATE","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","FUNCTION","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION FUNCTION","PARTITION SCHEME","PROCEDURE","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),LY=ae(["UNION [ALL]","EXCEPT","INTERSECT"]),vY=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),DY=ae(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),bY={tokenizerOptions:{reservedSelect:gY,reservedClauses:[..._Y,...GA],reservedSetOperations:LY,reservedJoins:vY,reservedPhrases:DY,reservedKeywords:CY,reservedFunctionNames:NY,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]}],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:GA}},PY=Xe({all:["ABORT","ABSOLUTE","ACCESS","ACCESSIBLE","ACCOUNT","ACTION","ACTIVE","ADD","ADMIN","AFTER","AGAINST","AGGREGATE","AGGREGATES","AGGREGATOR","AGGREGATOR_ID","AGGREGATOR_PLAN_HASH","AGGREGATORS","ALGORITHM","ALL","ALSO","ALTER","ALWAYS","ANALYZE","AND","ANY","ARGHISTORY","ARRANGE","ARRANGEMENT","ARRAY","AS","ASC","ASCII","ASENSITIVE","ASM","ASSERTION","ASSIGNMENT","AST","ASYMMETRIC","ASYNC","AT","ATTACH","ATTRIBUTE","AUTHORIZATION","AUTO","AUTO_INCREMENT","AUTO_REPROVISION","AUTOSTATS","AUTOSTATS_CARDINALITY_MODE","AUTOSTATS_ENABLED","AUTOSTATS_HISTOGRAM_MODE","AUTOSTATS_SAMPLING","AVAILABILITY","AVG","AVG_ROW_LENGTH","AVRO","AZURE","BACKGROUND","_BACKGROUND_THREADS_FOR_CLEANUP","BACKUP","BACKUP_HISTORY","BACKUP_ID","BACKWARD","BATCH","BATCHES","BATCH_INTERVAL","_BATCH_SIZE_LIMIT","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","_BINARY","BIT","BLOB","BOOL","BOOLEAN","BOOTSTRAP","BOTH","_BT","BTREE","BUCKET_COUNT","BUCKETS","BY","BYTE","BYTE_LENGTH","CACHE","CALL","CALL_FOR_PIPELINE","CALLED","CAPTURE","CASCADE","CASCADED","CASE","CATALOG","CHAIN","CHANGE","CHAR","CHARACTER","CHARACTERISTICS","CHARSET","CHECK","CHECKPOINT","_CHECK_CAN_CONNECT","_CHECK_CONSISTENCY","CHECKSUM","_CHECKSUM","CLASS","CLEAR","CLIENT","CLIENT_FOUND_ROWS","CLOSE","CLUSTER","CLUSTERED","CNF","COALESCE","COLLATE","COLLATION","COLUMN","COLUMNAR","COLUMNS","COLUMNSTORE","COLUMNSTORE_SEGMENT_ROWS","COMMENT","COMMENTS","COMMIT","COMMITTED","_COMMIT_LOG_TAIL","COMPACT","COMPILE","COMPRESSED","COMPRESSION","CONCURRENT","CONCURRENTLY","CONDITION","CONFIGURATION","CONNECTION","CONNECTIONS","CONFIG","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","_CONTINUE_REPLAY","CONVERSION","CONVERT","COPY","_CORE","COST","CREATE","CREDENTIALS","CROSS","CUBE","CSV","CUME_DIST","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_SCHEMA","CURRENT_SECURITY_GROUPS","CURRENT_SECURITY_ROLES","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATABASES","DATE","DATETIME","DAY","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFERRABLE","DEFERRED","DEFINED","DEFINER","DELAYED","DELAY_KEY_WRITE","DELETE","DELIMITER","DELIMITERS","DENSE_RANK","DESC","DESCRIBE","DETACH","DETERMINISTIC","DICTIONARY","DIFFERENTIAL","DIRECTORY","DISABLE","DISCARD","_DISCONNECT","DISK","DISTINCT","DISTINCTROW","DISTRIBUTED_JOINS","DIV","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","_DROP_PROFILE","DUAL","DUMP","DUPLICATE","DURABILITY","DYNAMIC","EARLIEST","EACH","ECHO","ELECTION","ELSE","ELSEIF","ENABLE","ENCLOSED","ENCODING","ENCRYPTED","END","ENGINE","ENGINES","ENUM","ERRORS","ESCAPE","ESCAPED","ESTIMATE","EVENT","EVENTS","EXCEPT","EXCLUDE","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTENSION","EXTERNAL","EXTERNAL_HOST","EXTERNAL_PORT","EXTRACTOR","EXTRACTORS","EXTRA_JOIN","_FAILOVER","FAILED_LOGIN_ATTEMPTS","FAILURE","FALSE","FAMILY","FAULT","FETCH","FIELDS","FILE","FILES","FILL","FIX_ALTER","FIXED","FLOAT","FLOAT4","FLOAT8","FLUSH","FOLLOWING","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREGROUND","FOREIGN","FORMAT","FORWARD","FREEZE","FROM","FS","_FSYNC","FULL","FULLTEXT","FUNCTION","FUNCTIONS","GC","GCS","GET_FORMAT","_GC","_GCX","GENERATE","GEOGRAPHY","GEOGRAPHYPOINT","GEOMETRY","GEOMETRYPOINT","GLOBAL","_GLOBAL_VERSION_TIMESTAMP","GRANT","GRANTED","GRANTS","GROUP","GROUPING","GROUPS","GZIP","HANDLE","HANDLER","HARD_CPU_LIMIT_PERCENTAGE","HASH","HAS_TEMP_TABLES","HAVING","HDFS","HEADER","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HISTOGRAM","HOLD","HOLDING","HOST","HOSTS","HOUR","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IDENTITY","IF","IGNORE","ILIKE","IMMEDIATE","IMMUTABLE","IMPLICIT","IMPORT","IN","INCLUDING","INCREMENT","INCREMENTAL","INDEX","INDEXES","INFILE","INHERIT","INHERITS","_INIT_PROFILE","INIT","INITIALIZE","INITIALLY","INJECT","INLINE","INNER","INOUT","INPUT","INSENSITIVE","INSERT","INSERT_METHOD","INSTANCE","INSTEAD","IN","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","_INTERNAL_DYNAMIC_TYPECAST","INTERPRETER_MODE","INTERSECT","INTERVAL","INTO","INVOKER","ISOLATION","ITERATE","JOIN","JSON","KAFKA","KEY","KEY_BLOCK_SIZE","KEYS","KILL","KILLALL","LABEL","LAG","LANGUAGE","LARGE","LAST","LAST_VALUE","LATERAL","LATEST","LC_COLLATE","LC_CTYPE","LEAD","LEADING","LEAF","LEAKPROOF","LEAVE","LEAVES","LEFT","LEVEL","LICENSE","LIKE","LIMIT","LINES","LISTEN","LLVM","LOADDATA_WHERE","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","_LS","LZ4","MANAGEMENT","_MANAGEMENT_THREAD","MAPPING","MASTER","MATCH","MATERIALIZED","MAXVALUE","MAX_CONCURRENCY","MAX_ERRORS","MAX_PARTITIONS_PER_BATCH","MAX_QUEUE_DEPTH","MAX_RETRIES_PER_BATCH_PARTITION","MAX_ROWS","MBC","MPL","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MEMBER","MEMORY","MEMORY_PERCENTAGE","_MEMSQL_TABLE_ID_LOOKUP","MEMSQL","MEMSQL_DESERIALIZE","MEMSQL_IMITATING_KAFKA","MEMSQL_SERIALIZE","MERGE","METADATA","MICROSECOND","MIDDLEINT","MIN_ROWS","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MINVALUE","MOD","MODE","MODEL","MODIFIES","MODIFY","MONTH","MOVE","MPL","NAMES","NAMED","NAMESPACE","NATIONAL","NATURAL","NCHAR","NEXT","NO","NODE","NONE","NO_QUERY_REWRITE","NOPARAM","NOT","NOTHING","NOTIFY","NOWAIT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NORELY","NTH_VALUE","NTILE","NULL","NULLCOLS","NULLS","NUMERIC","NVARCHAR","OBJECT","OF","OFF","OFFLINE","OFFSET","OFFSETS","OIDS","ON","ONLINE","ONLY","OPEN","OPERATOR","OPTIMIZATION","OPTIMIZE","OPTIMIZER","OPTIMIZER_STATE","OPTION","OPTIONS","OPTIONALLY","OR","ORDER","ORDERED_SERIALIZE","ORPHAN","OUT","OUT_OF_ORDER","OUTER","OUTFILE","OVER","OVERLAPS","OVERLAY","OWNED","OWNER","PACK_KEYS","PAIRED","PARSER","PARQUET","PARTIAL","PARTITION","PARTITION_ID","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PASSWORD_LOCK_TIME","PAUSE","_PAUSE_REPLAY","PERIODIC","PERSISTED","PIPELINE","PIPELINES","PLACING","PLAN","PLANS","PLANCACHE","PLUGINS","POOL","POOLS","PORT","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURAL","PROCEDURE","PROCEDURES","PROCESS","PROCESSLIST","PROFILE","PROFILES","PROGRAM","PROMOTE","PROXY","PURGE","QUARTER","QUERIES","QUERY","QUERY_TIMEOUT","QUEUE","RANGE","RANK","READ","_READ","READS","REAL","REASSIGN","REBALANCE","RECHECK","RECORD","RECURSIVE","REDUNDANCY","REDUNDANT","REF","REFERENCE","REFERENCES","REFRESH","REGEXP","REINDEX","RELATIVE","RELEASE","RELOAD","RELY","REMOTE","REMOVE","RENAME","REPAIR","_REPAIR_TABLE","REPEAT","REPEATABLE","_REPL","_REPROVISIONING","REPLACE","REPLICA","REPLICATE","REPLICATING","REPLICATION","REQUIRE","RESOURCE","RESOURCE_POOL","RESET","RESTART","RESTORE","RESTRICT","RESULT","_RESURRECT","RETRY","RETURN","RETURNING","RETURNS","REVERSE","RG_POOL","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","ROLES","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_COUNT","ROW_FORMAT","ROW_NUMBER","ROWS","ROWSTORE","RULE","_RPC","RUNNING","S3","SAFE","SAVE","SAVEPOINT","SCALAR","SCHEMA","SCHEMAS","SCHEMA_BINDING","SCROLL","SEARCH","SECOND","SECOND_MICROSECOND","SECURITY","SELECT","SEMI_JOIN","_SEND_THREADS","SENSITIVE","SEPARATOR","SEQUENCE","SEQUENCES","SERIAL","SERIALIZABLE","SERIES","SERVICE_USER","SERVER","SESSION","SESSION_USER","SET","SETOF","SECURITY_LISTS_INTERSECT","SHA","SHARD","SHARDED","SHARDED_ID","SHARE","SHOW","SHUTDOWN","SIGNAL","SIGNED","SIMILAR","SIMPLE","SITE","SKIP","SKIPPED_BATCHES","__SLEEP","SMALLINT","SNAPSHOT","_SNAPSHOT","_SNAPSHOTS","SOFT_CPU_LIMIT_PERCENTAGE","SOME","SONAME","SPARSE","SPATIAL","SPATIAL_CHECK_INDEX","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_MODE","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STDIN","STDOUT","STOP","STORAGE","STRAIGHT_JOIN","STRICT","STRING","STRIP","SUCCESS","SUPER","SYMMETRIC","SYNC_SNAPSHOT","SYNC","_SYNC","_SYNC2","_SYNC_PARTITIONS","_SYNC_SNAPSHOT","SYNCHRONIZE","SYSID","SYSTEM","TABLE","TABLE_CHECKSUM","TABLES","TABLESPACE","TAGS","TARGET_SIZE","TASK","TEMP","TEMPLATE","TEMPORARY","TEMPTABLE","_TERM_BUMP","TERMINATE","TERMINATED","TEXT","THEN","TIME","TIMEOUT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIMEZONE","TINYBLOB","TINYINT","TINYTEXT","TO","TRACELOGS","TRADITIONAL","TRAILING","TRANSFORM","TRANSACTION","_TRANSACTIONS_EXPERIMENTAL","TREAT","TRIGGER","TRIGGERS","TRUE","TRUNC","TRUNCATE","TRUSTED","TWO_PHASE","_TWOPCID","TYPE","TYPES","UNBOUNDED","UNCOMMITTED","UNDEFINED","UNDO","UNENCRYPTED","UNENFORCED","UNHOLD","UNICODE","UNION","UNIQUE","_UNITTEST","UNKNOWN","UNLISTEN","_UNLOAD","UNLOCK","UNLOGGED","UNPIVOT","UNSIGNED","UNTIL","UPDATE","UPGRADE","USAGE","USE","USER","USERS","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VACUUM","VALID","VALIDATE","VALIDATOR","VALUE","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARIABLES","VARIADIC","VARYING","VERBOSE","VIEW","VOID","VOLATILE","VOTING","WAIT","_WAKE","WARNINGS","WEEK","WHEN","WHERE","WHILE","WHITESPACE","WINDOW","WITH","WITHOUT","WITHIN","_WM_HEARTBEAT","WORK","WORKLOAD","WRAPPER","WRITE","XACT_ID","XOR","YEAR","YEAR_MONTH","YES","ZEROFILL","ZONE"]}),yY=Xe({all:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","USER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR","BIT","TINYINT","SMALLINT","MEDIUMINT","INT","INTEGER","BIGINT","DECIMAL","DEC","NUMERIC","FIXED","FLOAT","DOUBLE","DOUBLE PRECISION","REAL","DATETIME","TIMESTAMP","TIME","YEAR","CHAR","NATIONAL CHAR","VARCHAR","NATIONAL VARCHAR","BINARY","VARBINARY","BLOB","TEXT","ENUM"]}),MY=ae(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),xY=ae(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","SET","CREATE VIEW","CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),HA=ae(["UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),UY=ae(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),wY=ae(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),BY=ae(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN"]),FY={tokenizerOptions:{reservedSelect:MY,reservedClauses:[...xY,...HA],reservedSetOperations:UY,reservedJoins:wY,reservedPhrases:BY,reservedKeywords:PY,reservedFunctionNames:yY,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>"],postProcess:GY},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:HA}};function GY(e){return e.map((t,n)=>{const r=e[n+1]||Fa;return ea.SET(t)&&r.text==="("?{...t,type:re.RESERVED_FUNCTION_NAME}:t})}const HY=Xe({all:["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER  Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"]}),jY=Xe({all:["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH"]}),VY=ae(["SELECT [ALL | DISTINCT]"]),YY=ae(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),jA=ae(["UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","[SET DATA] TYPE","[UNSET] COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),WY=ae(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),kY=ae(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),$Y=ae(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),XY={tokenizerOptions:{reservedSelect:VY,reservedClauses:[...YY,...jA],reservedSetOperations:WY,reservedJoins:kY,reservedPhrases:$Y,reservedKeywords:jY,reservedFunctionNames:HY,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||",":","=>"]},formatOptions:{alwaysDenseOperators:[":","::"],onelineClauses:jA}},zY=Object.freeze(Object.defineProperty({__proto__:null,bigquery:_6,db2:F6,hive:$6,mariadb:eV,mysql:cV,n1ql:fV,plsql:_V,postgresql:UV,redshift:YV,singlestoredb:FY,snowflake:XY,spark:qV,sql:SY,sqlite:iY,transactsql:bY,trino:hY},Symbol.toStringTag,{value:"Module"})),Vn=e=>e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),VA=/\s+/uy,za=e=>new RegExp(`(?:${e})`,"uy"),KY=e=>e.split("").map(t=>/ /gu.test(t)?"\\s+":`[${t.toUpperCase()}${t.toLowerCase()}]`).join(""),JY=e=>e+"(?:-"+e+")*",qY=({prefixes:e,requirePrefix:t})=>`(?:${e.map(KY).join("|")}${t?"":"|"})`,QY=e=>new RegExp(`(?:${e.map(Vn).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),YA=(e,t=[])=>{const n=e==="open"?0:1,r=["()",...t].map(a=>a[n]);return za(r.map(Vn).join("|"))},ZY=e=>za(`${eh(e).map(Vn).join("|")}`),eW=({rest:e,dashes:t})=>e||t?`(?![${e||""}${t?"-":""}])`:"",fa=(e,t={})=>{if(e.length===0)return/^\b$/u;const n=eW(t),r=eh(e).map(Vn).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${r})${n}\\b`,"iuy")},ME=(e,t)=>{if(!e.length)return;const n=e.map(Vn).join("|");return za(`(?:${n})(?:${t})`)},tW=()=>{const e={"<":">","[":"]","(":")","{":"}"},t="{left}(?:(?!{right}').)*?{right}",n=Object.entries(e).map(([s,l])=>t.replace(/{left}/g,Vn(s)).replace(/{right}/g,Vn(l))),r=Vn(Object.keys(e).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${r}])(?:(?!\k<tag>').)*?\k<tag>`}|${n.join("|")})'`},WA={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":tW()},rh=e=>typeof e=="string"?WA[e]:"regex"in e?e.regex:qY(e)+WA[e.quote],nW=e=>za(e.map(t=>"regex"in t?t.regex:rh(t)).join("|")),ah=e=>e.map(rh).join("|"),kA=e=>za(ah(e)),rW=(e={})=>za(oh(e)),oh=({first:e,rest:t,dashes:n,allowFirstCharNumber:r}={})=>{const a="\\p{Alphabetic}\\p{Mark}_",i="\\p{Decimal_Number}",s=Vn(e??""),l=Vn(t??""),d=r?`[${a}${i}${s}][${a}${i}${l}]*`:`[${a}${s}][${a}${i}${l}]*`;return n?JY(d):d};function ih(e,t){const n=e.slice(0,t).split(/\n/);return{line:n.length,col:n[n.length-1].length+1}}class aW{constructor(t){Kt(this,"input","");Kt(this,"index",0);this.rules=t}tokenize(t){this.input=t,this.index=0;const n=[];let r;for(;this.index<this.input.length;){const a=this.getWhitespace();if(this.index<this.input.length){if(r=this.getNextToken(),!r)throw this.createParseError();n.push({...r,precedingWhitespace:a})}}return n}createParseError(){const t=this.input.slice(this.index,this.index+10),{line:n,col:r}=ih(this.input,this.index);return new Error(`Parse error: Unexpected "${t}" at line ${n} column ${r}`)}getWhitespace(){VA.lastIndex=this.index;const t=VA.exec(this.input);if(t)return this.index+=t[0].length,t[0]}getNextToken(){for(const t of this.rules){const n=this.match(t);if(n)return n}}match(t){t.regex.lastIndex=this.index;const n=t.regex.exec(this.input);if(n){const r=n[0],a={type:t.type,raw:r,text:t.text?t.text(r):r,start:this.index};return t.key&&(a.key=t.key(r)),this.index+=r.length,a}}}const $A=/\/\*/uy,oW=/([^/*]|\*[^/]|\/[^*])+/uy,iW=/\*\//uy;class sW{constructor(){Kt(this,"lastIndex",0)}exec(t){let n="",r,a=0;if(r=this.matchSection($A,t))n+=r,a++;else return null;for(;a>0;)if(r=this.matchSection($A,t))n+=r,a++;else if(r=this.matchSection(iW,t))n+=r,a--;else if(r=this.matchSection(oW,t))n+=r;else return null;return[n]}matchSection(t,n){t.lastIndex=this.lastIndex;const r=t.exec(n);return r&&(this.lastIndex+=r[0].length),r?r[0]:null}}class lW{constructor(t){this.cfg=t,this.rulesBeforeParams=this.buildRulesBeforeParams(t),this.rulesAfterParams=this.buildRulesAfterParams(t)}tokenize(t,n){const r=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,n),...this.rulesAfterParams],a=new aW(r).tokenize(t);return this.cfg.postProcess?this.cfg.postProcess(a):a}buildRulesBeforeParams(t){return this.validRules([{type:re.BLOCK_COMMENT,regex:t.nestedBlockComments?new sW:/(\/\*[^]*?\*\/)/uy},{type:re.LINE_COMMENT,regex:QY(t.lineCommentTypes??["--"])},{type:re.QUOTED_IDENTIFIER,regex:kA(t.identTypes)},{type:re.NUMBER,regex:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?[0-9]+(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?!\w)/uy},{type:re.RESERVED_PHRASE,regex:fa(t.reservedPhrases??[],t.identChars),text:_t},{type:re.CASE,regex:/CASE\b/iuy,text:_t},{type:re.END,regex:/END\b/iuy,text:_t},{type:re.BETWEEN,regex:/BETWEEN\b/iuy,text:_t},{type:re.LIMIT,regex:t.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:_t},{type:re.RESERVED_CLAUSE,regex:fa(t.reservedClauses,t.identChars),text:_t},{type:re.RESERVED_SELECT,regex:fa(t.reservedSelect,t.identChars),text:_t},{type:re.RESERVED_SET_OPERATION,regex:fa(t.reservedSetOperations,t.identChars),text:_t},{type:re.WHEN,regex:/WHEN\b/iuy,text:_t},{type:re.ELSE,regex:/ELSE\b/iuy,text:_t},{type:re.THEN,regex:/THEN\b/iuy,text:_t},{type:re.RESERVED_JOIN,regex:fa(t.reservedJoins,t.identChars),text:_t},{type:re.AND,regex:/AND\b/iuy,text:_t},{type:re.OR,regex:/OR\b/iuy,text:_t},{type:re.XOR,regex:t.supportsXor?/XOR\b/iuy:void 0,text:_t},{type:re.RESERVED_FUNCTION_NAME,regex:fa(t.reservedFunctionNames,t.identChars),text:_t},{type:re.RESERVED_KEYWORD,regex:fa(t.reservedKeywords,t.identChars),text:_t}])}buildRulesAfterParams(t){return this.validRules([{type:re.VARIABLE,regex:t.variableTypes?nW(t.variableTypes):void 0},{type:re.STRING,regex:kA(t.stringTypes)},{type:re.IDENTIFIER,regex:rW(t.identChars)},{type:re.DELIMITER,regex:/[;]/uy},{type:re.COMMA,regex:/[,]/y},{type:re.OPEN_PAREN,regex:YA("open",t.extraParens)},{type:re.CLOSE_PAREN,regex:YA("close",t.extraParens)},{type:re.OPERATOR,regex:ZY(["+","-","/",">","<","=","<>","<=",">=","!=",...t.operators??[]])},{type:re.ASTERISK,regex:/[*]/uy},{type:re.DOT,regex:/[.]/uy}])}buildParamRules(t,n){var r,a,i,s,l;const d={named:(n==null?void 0:n.named)||((r=t.paramTypes)===null||r===void 0?void 0:r.named)||[],quoted:(n==null?void 0:n.quoted)||((a=t.paramTypes)===null||a===void 0?void 0:a.quoted)||[],numbered:(n==null?void 0:n.numbered)||((i=t.paramTypes)===null||i===void 0?void 0:i.numbered)||[],positional:typeof(n==null?void 0:n.positional)=="boolean"?n.positional:(s=t.paramTypes)===null||s===void 0?void 0:s.positional,custom:(n==null?void 0:n.custom)||((l=t.paramTypes)===null||l===void 0?void 0:l.custom)||[]};return this.validRules([{type:re.NAMED_PARAMETER,regex:ME(d.named,oh(t.paramChars||t.identChars)),key:u=>u.slice(1)},{type:re.QUOTED_PARAMETER,regex:ME(d.quoted,ah(t.identTypes)),key:u=>(({tokenKey:T,quoteChar:R})=>T.replace(new RegExp(Vn("\\"+R),"gu"),R))({tokenKey:u.slice(2,-1),quoteChar:u.slice(-1)})},{type:re.NUMBERED_PARAMETER,regex:ME(d.numbered,"[0-9]+"),key:u=>u.slice(1)},{type:re.POSITIONAL_PARAMETER,regex:d.positional?/[?]/y:void 0},...d.custom.map(u=>({type:re.CUSTOM_PARAMETER,regex:za(u.regex),key:u.key??(T=>T)}))])}validRules(t){return t.filter(n=>!!n.regex)}}const _t=e=>nh(e.toUpperCase()),XA=new Map,cW=e=>{let t=XA.get(e);return t||(t=dW(e),XA.set(e,t)),t},dW=e=>({tokenizer:new lW(e.tokenizerOptions),formatOptions:EW(e.formatOptions)}),EW=e=>({alwaysDenseOperators:e.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(e.onelineClauses.map(t=>[t,!0]))});function zA(e){return e.indentStyle==="tabularLeft"||e.indentStyle==="tabularRight"?" ".repeat(10):e.useTabs?"	":" ".repeat(e.tabWidth)}function Ri(e){return e.indentStyle==="tabularLeft"||e.indentStyle==="tabularRight"}class uW{constructor(t){this.params=t,this.index=0}get({key:t,text:n}){return this.params?t?this.params[t]:this.params[this.index++]:n}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(t){this.index=t}}var sh={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.nearley=n()})(at,function(){function t(u,T,R){return this.id=++t.highestId,this.name=u,this.symbols=T,this.postprocess=R,this}t.highestId=0,t.prototype.toString=function(u){var T=typeof u>"u"?this.symbols.map(d).join(" "):this.symbols.slice(0,u).map(d).join(" ")+"  "+this.symbols.slice(u).map(d).join(" ");return this.name+"  "+T};function n(u,T,R,A){this.rule=u,this.dot=T,this.reference=R,this.data=[],this.wantedBy=A,this.isComplete=this.dot===u.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(u){var T=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return T.left=this,T.right=u,T.isComplete&&(T.data=T.build(),T.right=void 0),T},n.prototype.build=function(){var u=[],T=this;do u.push(T.right.data),T=T.left;while(T.left);return u.reverse(),u},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(u,T){this.grammar=u,this.index=T,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(u){for(var T=this.states,R=this.wants,A=this.completed,E=0;E<T.length;E++){var S=T[E];if(S.isComplete){if(S.finish(),S.data!==s.fail){for(var p=S.wantedBy,f=p.length;f--;){var I=p[f];this.complete(I,S)}if(S.reference===this.index){var O=S.rule.name;(this.completed[O]=this.completed[O]||[]).push(S)}}}else{var O=S.rule.symbols[S.dot];if(typeof O!="string"){this.scannable.push(S);continue}if(R[O]){if(R[O].push(S),A.hasOwnProperty(O))for(var N=A[O],f=0;f<N.length;f++){var h=N[f];this.complete(S,h)}}else R[O]=[S],this.predict(O)}}},r.prototype.predict=function(u){for(var T=this.grammar.byName[u]||[],R=0;R<T.length;R++){var A=T[R],E=this.wants[u],S=new n(A,0,this.index,E);this.states.push(S)}},r.prototype.complete=function(u,T){var R=u.nextState(T);this.states.push(R)};function a(u,T){this.rules=u,this.start=T||this.rules[0].name;var R=this.byName={};this.rules.forEach(function(A){R.hasOwnProperty(A.name)||(R[A.name]=[]),R[A.name].push(A)})}a.fromCompiled=function(A,T){var R=A.Lexer;A.ParserStart&&(T=A.ParserStart,A=A.ParserRules);var A=A.map(function(S){return new t(S.name,S.symbols,S.postprocess)}),E=new a(A,T);return E.lexer=R,E};function i(){this.reset("")}i.prototype.reset=function(u,T){this.buffer=u,this.index=0,this.line=T?T.line:1,this.lastLineBreak=T?-T.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(u,T){var R=this.buffer;if(typeof R=="string"){var A=R.split(`
`).slice(Math.max(0,this.line-5),this.line),E=R.indexOf(`
`,this.index);E===-1&&(E=R.length);var S=this.index-this.lastLineBreak,p=String(this.line).length;return T+=" at line "+this.line+" col "+S+`:

`,T+=A.map(function(I,O){return f(this.line-A.length+O+1,p)+" "+I},this).join(`
`),T+=`
`+f("",p+S)+`^
`,T}else return T+" at index "+(this.index-1);function f(I,O){var N=String(I);return Array(O-N.length+1).join(" ")+N}};function s(u,T,R){if(u instanceof a)var A=u,R=T;else var A=a.fromCompiled(u,T);this.grammar=A,this.options={keepHistory:!1,lexer:A.lexer||new i};for(var E in R||{})this.options[E]=R[E];this.lexer=this.options.lexer,this.lexerState=void 0;var S=new r(A,0);this.table=[S],S.wants[A.start]=[],S.predict(A.start),S.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var T=this.lexer;T.reset(u,this.lexerState);for(var R;;){try{if(R=T.next(),!R)break}catch(_){var p=new r(this.grammar,this.current+1);this.table.push(p);var A=new Error(this.reportLexerError(_));throw A.offset=this.current,A.token=_.token,A}var E=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var S=this.current+1,p=new r(this.grammar,S);this.table.push(p);for(var f=R.text!==void 0?R.text:R.value,I=T.constructor===i?R.value:R,O=E.scannable,N=O.length;N--;){var h=O[N],m=h.rule.symbols[h.dot];if(m.test?m.test(I):m.type?m.type===R.type:m.literal===f){var g=h.nextState({data:I,token:R,isToken:!0,reference:S-1});p.states.push(g)}}if(p.process(),p.states.length===0){var A=new Error(this.reportError(R));throw A.offset=this.current,A.token=R,A}this.options.keepHistory&&(E.lexerState=T.save()),this.current++}return E&&(this.lexerState=T.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var T,R,A=u.token;return A?(T="input "+JSON.stringify(A.text[0])+" (lexer error)",R=this.lexer.formatError(A,"Syntax error")):(T="input (lexer error)",R=u.message),this.reportErrorCommon(R,T)},s.prototype.reportError=function(u){var T=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),R=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(R,T)},s.prototype.reportErrorCommon=function(u,T){var R=[];R.push(u);var A=this.table.length-2,E=this.table[A],S=E.states.filter(function(f){var I=f.rule.symbols[f.dot];return I&&typeof I!="string"});if(S.length===0)R.push("Unexpected "+T+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(E.states,R);else{R.push("Unexpected "+T+`. Instead, I was expecting to see one of the following:
`);var p=S.map(function(f){return this.buildFirstStateStack(f,[])||[f]},this);p.forEach(function(f){var I=f[0],O=I.rule.symbols[I.dot],N=this.getSymbolDisplay(O);R.push("A "+N+" based on:"),this.displayStateStack(f,R)},this)}return R.push(""),R.join(`
`)},s.prototype.displayStateStack=function(u,T){for(var R,A=0,E=0;E<u.length;E++){var S=u[E],p=S.rule.toString(S.dot);p===R?A++:(A>0&&T.push("    ^ "+A+" more lines identical to this"),A=0,T.push("    "+p)),R=p}},s.prototype.getSymbolDisplay=function(u){return l(u)},s.prototype.buildFirstStateStack=function(u,T){if(T.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var R=u.wantedBy[0],A=[u].concat(T),E=this.buildFirstStateStack(R,A);return E===null?null:[u].concat(E)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var T=u.index;this.current=T,this.table[T]=u,this.table.splice(T+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],T=this.grammar.start,R=this.table[this.table.length-1];return R.states.forEach(function(A){A.rule.name===T&&A.dot===A.rule.symbols.length&&A.reference===0&&A.data!==s.fail&&u.push(A)}),u.map(function(A){return A.data})};function l(u){var T=typeof u;if(T==="string")return u;if(T==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function d(u){var T=typeof u;if(T==="string")return u;if(T==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:a,Rule:t}})})(sh);var TW=sh.exports;const SW=Mu(TW);function RW(e){return e.map(pW).map(AW).map(fW).map(IW)}const pW=(e,t,n)=>{if(Qm(e.type)){const r=OW(n,t);if(r&&r.text===".")return{...e,type:re.IDENTIFIER,text:e.raw}}return e},AW=(e,t,n)=>{if(e.type===re.RESERVED_FUNCTION_NAME){const r=wd(n,t);if(!r||!mW(r))return{...e,type:re.RESERVED_KEYWORD}}return e},fW=(e,t,n)=>{if(e.type===re.IDENTIFIER){const r=wd(n,t);if(r&&lh(r))return{...e,type:re.ARRAY_IDENTIFIER}}return e},IW=(e,t,n)=>{if(e.type===re.RESERVED_KEYWORD){const r=wd(n,t);if(r&&lh(r))return{...e,type:re.ARRAY_KEYWORD}}return e},OW=(e,t)=>wd(e,t,-1),wd=(e,t,n=1)=>{let r=1;for(;e[t+r*n]&&hW(e[t+r*n]);)r++;return e[t+r*n]},mW=e=>e.type===re.OPEN_PAREN&&e.text==="(",lh=e=>e.type===re.OPEN_PAREN&&e.text==="[",hW=e=>e.type===re.BLOCK_COMMENT||e.type===re.LINE_COMMENT;class ch{constructor(t){Kt(this,"index",0);Kt(this,"tokens",[]);Kt(this,"input","");this.tokenize=t}reset(t,n){this.input=t,this.index=0,this.tokens=this.tokenize(t)}next(){return this.tokens[this.index++]}save(){}formatError(t){const{line:n,col:r}=ih(this.input,t.start);return`Parse error at token: ${t.text} at line ${n} column ${r}`}has(t){return t in re}}let he;(function(e){e.statement="statement",e.clause="clause",e.set_operation="set_operation",e.function_call="function_call",e.array_subscript="array_subscript",e.property_access="property_access",e.parenthesis="parenthesis",e.between_predicate="between_predicate",e.case_expression="case_expression",e.case_when="case_when",e.case_else="case_else",e.limit_clause="limit_clause",e.all_columns_asterisk="all_columns_asterisk",e.literal="literal",e.identifier="identifier",e.keyword="keyword",e.parameter="parameter",e.operator="operator",e.comma="comma",e.line_comment="line_comment",e.block_comment="block_comment"})(he||(he={}));function xE(e){return e[0]}const ve=new ch(e=>[]),no=([[e]])=>e,Ot=e=>({type:he.keyword,tokenType:e.type,text:e.text,raw:e.raw}),Dt=(e,{leading:t,trailing:n})=>(t!=null&&t.length&&(e={...e,leadingComments:t}),n!=null&&n.length&&(e={...e,trailingComments:n}),e),NW=(e,{leading:t,trailing:n})=>{if(t!=null&&t.length){const[r,...a]=e;e=[Dt(r,{leading:t}),...a]}if(n!=null&&n.length){const r=e.slice(0,-1),a=e[e.length-1];e=[...r,Dt(a,{trailing:n})]}return e},CW={Lexer:ve,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([e])=>{const t=e[e.length-1];return t&&!t.hasSemicolon?t.children.length>0?e:e.slice(0,-1):e}},{name:"statement$subexpression$1",symbols:[ve.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[ve.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([e,[t]])=>({type:he.statement,children:e,hasSemicolon:t.type===re.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:e=>e[0].concat([e[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([e,t])=>[...e,...t]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:no},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[ve.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:xE},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[ve.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([e,t,n,r])=>{if(r){const[a,i]=r;return{type:he.limit_clause,limitKw:Dt(Ot(e),{trailing:t}),offset:n,count:i}}else return{type:he.limit_clause,limitKw:Dt(Ot(e),{trailing:t}),count:n}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[ve.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([e,[t,n]])=>({type:he.clause,nameKw:Ot(e),children:[t,...n]})},{name:"select_clause",symbols:[ve.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([e])=>({type:he.clause,nameKw:Ot(e),children:[]})},{name:"all_columns_asterisk",symbols:[ve.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:he.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"other_clause",symbols:[ve.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([e,t])=>({type:he.clause,nameKw:Ot(e),children:t})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"set_operation",symbols:[ve.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([e,t])=>({type:he.set_operation,nameKw:Ot(e),children:t})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:e=>e[0].concat([e[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:xE},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:e=>e[0].concat([e[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([e,t])=>[e,...t]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:e=>e[0].concat([e[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([e,t])=>[e,...t]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([e,t])=>Dt(e,{trailing:t})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([e,t])=>Dt(t,{leading:e})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([e,t])=>Dt(t,{leading:e})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:no},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:no},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:no},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:no},{name:"asteriskless_andless_expression$subexpression$1",symbols:["array_subscript"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["function_call"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["property_access"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["parenthesis"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["curly_braces"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["square_brackets"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["operator"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["identifier"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["parameter"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["literal"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["keyword"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:no},{name:"array_subscript",symbols:[ve.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([e,t,n])=>({type:he.array_subscript,array:Dt({type:he.identifier,text:e.text},{trailing:t}),parenthesis:n})},{name:"array_subscript",symbols:[ve.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([e,t,n])=>({type:he.array_subscript,array:Dt(Ot(e),{trailing:t}),parenthesis:n})},{name:"function_call",symbols:[ve.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([e,t,n])=>({type:he.function_call,nameKw:Dt(Ot(e),{trailing:t}),parenthesis:n})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([e,t,n])=>({type:he.parenthesis,children:t,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([e,t,n])=>({type:he.parenthesis,children:t,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:e=>e[0].concat([e[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([e,t,n])=>({type:he.parenthesis,children:t,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access",symbols:["expression","_",ve.has("DOT")?{type:"DOT"}:DOT,"_","property_access$subexpression$1"],postprocess:([e,t,n,r,[a]])=>({type:he.property_access,object:Dt(e,{trailing:t}),property:Dt(a,{leading:r})})},{name:"between_predicate",symbols:[ve.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",ve.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([e,t,n,r,a,i,s])=>({type:he.between_predicate,betweenKw:Ot(e),expr1:NW(n,{leading:t,trailing:r}),andKw:Ot(a),expr2:[Dt(s,{leading:i})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:xE},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:e=>e[0].concat([e[1]])},{name:"case_expression",symbols:[ve.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",ve.has("END")?{type:"END"}:END],postprocess:([e,t,n,r,a])=>({type:he.case_expression,caseKw:Dt(Ot(e),{trailing:t}),endKw:Ot(a),expr:n||[],clauses:r})},{name:"case_clause",symbols:[ve.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",ve.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([e,t,n,r,a,i])=>({type:he.case_when,whenKw:Dt(Ot(e),{trailing:t}),thenKw:Dt(Ot(r),{trailing:a}),condition:n,result:i})},{name:"case_clause",symbols:[ve.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([e,t,n])=>({type:he.case_else,elseKw:Dt(Ot(e),{trailing:t}),result:n})},{name:"comma$subexpression$1",symbols:[ve.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[e]])=>({type:he.comma})},{name:"asterisk$subexpression$1",symbols:[ve.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[e]])=>({type:he.operator,text:e.text})},{name:"operator$subexpression$1",symbols:[ve.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[e]])=>({type:he.operator,text:e.text})},{name:"identifier$subexpression$1",symbols:[ve.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ve.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ve.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[e]])=>({type:he.identifier,text:e.text})},{name:"parameter$subexpression$1",symbols:[ve.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ve.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ve.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ve.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ve.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[e]])=>({type:he.parameter,key:e.key,text:e.text})},{name:"literal$subexpression$1",symbols:[ve.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[ve.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[e]])=>({type:he.literal,text:e.text})},{name:"keyword$subexpression$1",symbols:[ve.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[ve.has("RESERVED_PHRASE")?{type:"RESERVED_PHRASE"}:RESERVED_PHRASE]},{name:"keyword$subexpression$1",symbols:[ve.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[e]])=>Ot(e)},{name:"logic_operator$subexpression$1",symbols:[ve.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[ve.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[ve.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[e]])=>Ot(e)},{name:"other_keyword$subexpression$1",symbols:[ve.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[ve.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[ve.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[ve.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[e]])=>Ot(e)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:e=>e[0].concat([e[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([e])=>e},{name:"comment",symbols:[ve.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([e])=>({type:he.line_comment,text:e.text,precedingWhitespace:e.precedingWhitespace})},{name:"comment",symbols:[ve.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([e])=>({type:he.block_comment,text:e.text,precedingWhitespace:e.precedingWhitespace})}],ParserStart:"main"},gW=CW,{Parser:_W,Grammar:LW}=SW;function vW(e){let t={};const n=new ch(a=>[...RW(e.tokenize(a,t)),qm(a.length)]),r=new _W(LW.fromCompiled(gW),{lexer:n});return{parse:(a,i)=>{t=i;const{results:s}=r.feed(a);if(s.length===1)return s[0];throw s.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(s,void 0,2)}`)}}}const DW=/^\s+/u;function bW(e,t,n){return PW(e.split(`
`)).flatMap(r=>{if(r.length===1)return r;if(t==="tabular")return yW(r);if(t==="before")return xW(r,n);throw new Error(`Unexpected commaPosition: ${t}`)}).join(`
`)}function PW(e){const t=[];for(let n=0;n<e.length;n++){const r=[e[n]];for(;e[n].match(/.*,(\s*(--.*)?$)/);)n++,r.push(e[n]);t.push(r)}return t}function yW(e){const t=th(BW(e))-1;return e.map((n,r)=>r===e.length-1?n:MW(n,t))}function MW(e,t){const[,n,r]=e.match(/^(.*?),(\s*--.*)?$/)||[],a=" ".repeat(t-n.length);return`${n}${a},${r??""}`}function xW(e,t){return wW(e).map((n,r)=>{if(r===0)return n;const[a]=n.match(DW)||[""];return UW(a,t)+t.replace(/ {2}$/,", ")+n.trimStart()})}function UW(e,t){return e.replace(new RegExp(t+"$"),"")}function wW(e){return e.map(t=>t.replace(/,(\s*(--.*)?$)/,"$1"))}function BW(e){return e.map(t=>t.replace(/\s*--.*/,""))}function FW(e){const t=e.split(`
`);let n=[];for(let r=0;r<t.length;r++){if(t[r].match(/^\s*SELECT/i)){let a=[];if(t[r].match(/.*,$/))a=[t[r]];else{if(n.push(t[r]),t[r].match(/^\s*SELECT\s+.+(?!,$)/i))continue;a.push(t[++r])}for(;t[r++].match(/.*,$/);)a.push(t[r]);const i=a.map(l=>({line:l,matches:l.match(/(^.*?\S) (AS )?(\S+,?$)/i)})).map(({line:l,matches:d})=>d?{precedingText:d[1],as:d[2],alias:d[3]}:{precedingText:l}),s=th(i.map(({precedingText:l})=>l.replace(/\s*,\s*$/,"")));a=i.map(({precedingText:l,as:d,alias:u})=>l+(u?" ".repeat(s-l.length+1)+(d??"")+u:"")),n=[...n,...a]}n.push(t[r])}return n.join(`
`)}let Q;(function(e){e[e.SPACE=0]="SPACE",e[e.NO_SPACE=1]="NO_SPACE",e[e.NO_NEWLINE=2]="NO_NEWLINE",e[e.NEWLINE=3]="NEWLINE",e[e.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",e[e.INDENT=5]="INDENT",e[e.SINGLE_INDENT=6]="SINGLE_INDENT"})(Q||(Q={}));class dh{constructor(t){Kt(this,"items",[]);this.indentation=t}add(...t){for(const n of t)switch(n){case Q.SPACE:this.items.push(Q.SPACE);break;case Q.NO_SPACE:this.trimHorizontalWhitespace();break;case Q.NO_NEWLINE:this.trimWhitespace();break;case Q.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(Q.NEWLINE);break;case Q.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(Q.MANDATORY_NEWLINE);break;case Q.INDENT:this.addIndentation();break;case Q.SINGLE_INDENT:this.items.push(Q.SINGLE_INDENT);break;default:this.items.push(n)}}trimHorizontalWhitespace(){for(;GW(ji(this.items));)this.items.pop()}trimWhitespace(){for(;HW(ji(this.items));)this.items.pop()}addNewline(t){if(this.items.length>0)switch(ji(this.items)){case Q.NEWLINE:this.items.pop(),this.items.push(t);break;case Q.MANDATORY_NEWLINE:break;default:this.items.push(t);break}}addIndentation(){for(let t=0;t<this.indentation.getLevel();t++)this.items.push(Q.SINGLE_INDENT)}toString(){return this.items.map(t=>this.itemToString(t)).join("")}getLayoutItems(){return this.items}itemToString(t){switch(t){case Q.SPACE:return" ";case Q.NEWLINE:case Q.MANDATORY_NEWLINE:return`
`;case Q.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return t}}}const GW=e=>e===Q.SPACE||e===Q.SINGLE_INDENT,HW=e=>e===Q.SPACE||e===Q.SINGLE_INDENT||e===Q.NEWLINE;function jW(e,t){if(t==="standard")return e;let n=[];return e.length>=10&&e.includes(" ")&&([e,...n]=e.split(" ")),t==="tabularLeft"?e=e.padEnd(9," "):e=e.padStart(9," "),e+["",...n].join(" ")}function VW(e){return R6(e)||e===re.RESERVED_CLAUSE||e===re.RESERVED_SELECT||e===re.RESERVED_SET_OPERATION||e===re.RESERVED_JOIN||e===re.LIMIT}const UE="top-level",YW="block-level";class Eh{constructor(t){Kt(this,"indentTypes",[]);this.indent=t}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(UE)}increaseBlockLevel(){this.indentTypes.push(YW)}decreaseTopLevel(){this.indentTypes.length>0&&ji(this.indentTypes)===UE&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===UE;);}}class WW extends dh{constructor(n){super(new Eh(""));Kt(this,"length",0);Kt(this,"trailingSpace",!1);this.expressionWidth=n}add(...n){if(n.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new Cu;super.add(...n)}addToLength(n){if(typeof n=="string")this.length+=n.length,this.trailingSpace=!1;else{if(n===Q.MANDATORY_NEWLINE||n===Q.NEWLINE)throw new Cu;n===Q.INDENT||n===Q.SINGLE_INDENT||n===Q.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(n===Q.NO_NEWLINE||n===Q.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class Cu extends Error{}class cc{constructor({cfg:t,dialectCfg:n,params:r,layout:a,inline:i=!1}){Kt(this,"inline",!1);Kt(this,"nodes",[]);Kt(this,"index",-1);this.cfg=t,this.dialectCfg=n,this.inline=i,this.params=r,this.layout=a}format(t){for(this.nodes=t,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(t){this.formatComments(t.leadingComments),this.formatNodeWithoutComments(t),this.formatComments(t.trailingComments)}formatNodeWithoutComments(t){switch(t.type){case he.function_call:return this.formatFunctionCall(t);case he.array_subscript:return this.formatArraySubscript(t);case he.property_access:return this.formatPropertyAccess(t);case he.parenthesis:return this.formatParenthesis(t);case he.between_predicate:return this.formatBetweenPredicate(t);case he.case_expression:return this.formatCaseExpression(t);case he.case_when:return this.formatCaseWhen(t);case he.case_else:return this.formatCaseElse(t);case he.clause:return this.formatClause(t);case he.set_operation:return this.formatSetOperation(t);case he.limit_clause:return this.formatLimitClause(t);case he.all_columns_asterisk:return this.formatAllColumnsAsterisk(t);case he.literal:return this.formatLiteral(t);case he.identifier:return this.formatIdentifier(t);case he.parameter:return this.formatParameter(t);case he.operator:return this.formatOperator(t);case he.comma:return this.formatComma(t);case he.line_comment:return this.formatLineComment(t);case he.block_comment:return this.formatBlockComment(t);case he.keyword:return this.formatKeywordNode(t)}}formatFunctionCall(t){this.withComments(t.nameKw,()=>{this.layout.add(this.showKw(t.nameKw))}),this.formatNode(t.parenthesis)}formatArraySubscript(t){this.withComments(t.array,()=>{this.layout.add(t.array.type===he.keyword?this.showKw(t.array):t.array.text)}),this.formatNode(t.parenthesis)}formatPropertyAccess(t){this.formatNode(t.object),this.layout.add(Q.NO_SPACE,"."),this.formatNode(t.property)}formatParenthesis(t){const n=this.formatInlineExpression(t.children);n?(this.layout.add(t.openParen),this.layout.add(...n.getLayoutItems()),this.layout.add(Q.NO_SPACE,t.closeParen,Q.SPACE)):(this.layout.add(t.openParen,Q.NEWLINE),Ri(this.cfg)?(this.layout.add(Q.INDENT),this.layout=this.formatSubExpression(t.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(Q.INDENT),this.layout=this.formatSubExpression(t.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(Q.NEWLINE,Q.INDENT,t.closeParen,Q.SPACE))}formatBetweenPredicate(t){this.layout.add(this.showKw(t.betweenKw),Q.SPACE),this.layout=this.formatSubExpression(t.expr1),this.layout.add(Q.NO_SPACE,Q.SPACE,this.showNonTabularKw(t.andKw),Q.SPACE),this.layout=this.formatSubExpression(t.expr2),this.layout.add(Q.SPACE)}formatCaseExpression(t){this.formatNode(t.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(t.expr),this.layout=this.formatSubExpression(t.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(Q.NEWLINE,Q.INDENT),this.formatNode(t.endKw)}formatCaseWhen(t){this.layout.add(Q.NEWLINE,Q.INDENT),this.formatNode(t.whenKw),this.layout=this.formatSubExpression(t.condition),this.formatNode(t.thenKw),this.layout=this.formatSubExpression(t.result)}formatCaseElse(t){this.layout.add(Q.NEWLINE,Q.INDENT),this.formatNode(t.elseKw),this.layout=this.formatSubExpression(t.result)}formatClause(t){this.isOnelineClause(t)?this.formatClauseInOnelineStyle(t):Ri(this.cfg)?this.formatClauseInTabularStyle(t):this.formatClauseInIndentedStyle(t)}isOnelineClause(t){return this.dialectCfg.onelineClauses[t.nameKw.text]}formatClauseInIndentedStyle(t){this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t.nameKw),Q.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(Q.INDENT),this.layout=this.formatSubExpression(t.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(t){this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t.nameKw),Q.SPACE),this.layout=this.formatSubExpression(t.children)}formatClauseInTabularStyle(t){this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t.nameKw),Q.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(t.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(t){this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t.nameKw),Q.NEWLINE),this.layout.add(Q.INDENT),this.layout=this.formatSubExpression(t.children)}formatLimitClause(t){this.withComments(t.limitKw,()=>{this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t.limitKw))}),this.layout.indentation.increaseTopLevel(),Ri(this.cfg)?this.layout.add(Q.SPACE):this.layout.add(Q.NEWLINE,Q.INDENT),t.offset?(this.layout=this.formatSubExpression(t.offset),this.layout.add(Q.NO_SPACE,",",Q.SPACE),this.layout=this.formatSubExpression(t.count)):this.layout=this.formatSubExpression(t.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(t){this.layout.add("*",Q.SPACE)}formatLiteral(t){this.layout.add(t.text,Q.SPACE)}formatIdentifier(t){this.layout.add(t.text,Q.SPACE)}formatParameter(t){this.layout.add(this.params.get(t),Q.SPACE)}formatOperator({text:t}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(t)?this.layout.add(Q.NO_SPACE,t):t===":"?this.layout.add(Q.NO_SPACE,t,Q.SPACE):this.layout.add(t,Q.SPACE)}formatComma(t){this.inline?this.layout.add(Q.NO_SPACE,",",Q.SPACE):this.layout.add(Q.NO_SPACE,",",Q.NEWLINE,Q.INDENT)}withComments(t,n){this.formatComments(t.leadingComments),n(),this.formatComments(t.trailingComments)}formatComments(t){t&&t.forEach(n=>{n.type===he.line_comment?this.formatLineComment(n):this.formatBlockComment(n)})}formatLineComment(t){yE(t.precedingWhitespace||"")?this.layout.add(Q.NEWLINE,Q.INDENT,t.text,Q.MANDATORY_NEWLINE,Q.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(Q.NO_NEWLINE,Q.SPACE,t.text,Q.MANDATORY_NEWLINE,Q.INDENT):this.layout.add(t.text,Q.MANDATORY_NEWLINE,Q.INDENT)}formatBlockComment(t){this.isMultilineBlockComment(t)?(this.splitBlockComment(t.text).forEach(n=>{this.layout.add(Q.NEWLINE,Q.INDENT,n)}),this.layout.add(Q.NEWLINE,Q.INDENT)):this.layout.add(t.text,Q.SPACE)}isMultilineBlockComment(t){return yE(t.text)||yE(t.precedingWhitespace||"")}isDocComment(t){const n=t.split(/\n/);return/^\/\*\*?$/.test(n[0])&&n.slice(1,n.length-1).every(r=>/^\s*\*/.test(r))&&/^\s*\*\/$/.test(ji(n))}splitBlockComment(t){return this.isDocComment(t)?t.split(/\n/).map(n=>/^\s*\*/.test(n)?" "+n.replace(/^\s*/,""):n):t.split(/\n/).map(n=>n.replace(/^\s*/,""))}formatSubExpression(t){return new cc({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(t)}formatInlineExpression(t){const n=this.params.getPositionalParameterIndex();try{return new cc({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new WW(this.cfg.expressionWidth),inline:!0}).format(t)}catch(r){if(r instanceof Cu){this.params.setPositionalParameterIndex(n);return}else throw r}}formatKeywordNode(t){switch(t.tokenType){case re.RESERVED_JOIN:return this.formatJoin(t);case re.AND:case re.OR:case re.XOR:return this.formatLogicalOperator(t);default:return this.formatKeyword(t)}}formatJoin(t){Ri(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t),Q.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t),Q.SPACE)}formatKeyword(t){this.layout.add(this.showKw(t),Q.SPACE)}formatLogicalOperator(t){this.cfg.logicalOperatorNewline==="before"?Ri(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t),Q.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(Q.NEWLINE,Q.INDENT,this.showKw(t),Q.SPACE):this.layout.add(this.showKw(t),Q.NEWLINE,Q.INDENT)}showKw(t){return VW(t.tokenType)?jW(this.showNonTabularKw(t),this.cfg.indentStyle):this.showNonTabularKw(t)}showNonTabularKw(t){switch(this.cfg.keywordCase){case"preserve":return nh(t.raw);case"upper":return t.text;case"lower":return t.text.toLowerCase()}}}class kW{constructor(t,n){this.dialect=t,this.cfg=n,this.params=new uW(this.cfg.params)}format(t){const n=this.parse(t),r=this.formatAst(n);return this.postFormat(r).trimEnd()}parse(t){return vW(this.dialect.tokenizer).parse(t,this.cfg.paramTypes||{})}formatAst(t){return t.map(n=>this.formatStatement(n)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(t){const n=new cc({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new dh(new Eh(zA(this.cfg)))}).format(t.children);return t.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?n.add(Q.NEWLINE,";"):n.add(Q.NO_NEWLINE,";")),n.toString()}postFormat(t){return this.cfg.tabulateAlias&&(t=FW(t)),(this.cfg.commaPosition==="before"||this.cfg.commaPosition==="tabular")&&(t=bW(t,this.cfg.commaPosition,zA(this.cfg))),t}}class ha extends Error{}function $W(e){if("multilineLists"in e)throw new ha("multilineLists config is no more supported.");if("newlineBeforeOpenParen"in e)throw new ha("newlineBeforeOpenParen config is no more supported.");if("newlineBeforeCloseParen"in e)throw new ha("newlineBeforeCloseParen config is no more supported.");if("aliasAs"in e)throw new ha("aliasAs config is no more supported.");if(e.expressionWidth<=0)throw new ha(`expressionWidth config must be positive number. Received ${e.expressionWidth} instead.`);if(e.commaPosition==="before"&&e.useTabs)throw new ha("commaPosition: before does not work when tabs are used for indentation.");return e.params&&XW(e.params),e}function XW(e){return(e instanceof Array?e:Object.values(e)).every(n=>typeof n=="string")}const uh={bigquery:"bigquery",db2:"db2",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},zW=Object.keys(uh),KW={tabWidth:2,useTabs:!1,keywordCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",tabulateAlias:!1,commaPosition:"after",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},JW=(e,t={})=>{if(typeof t.language=="string"&&!zW.includes(t.language))throw new ha(`Unsupported SQL dialect: ${t.language}`);const n=uh[t.language||"sql"];return qW(e,{...t,dialect:zY[n]})},qW=(e,{dialect:t,...n})=>{if(typeof e!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof e);const r=$W({...KW,...n});return new kW(cW(t),r).format(e)};function Th(){const e=V("view.editor"),t=V("global"),{showSaveForm:n}=c.useContext(wr),r=de(),a=U($n),i=U(Wo),s=U(u=>ge(u,{name:"sourceId"})),l=c.useCallback(async u=>{try{const{data:T}=await Ne(`/views/${u}`);return T.config=bI(T.config),T}catch(T){return gn(T),{}}},[]);return c.useCallback(async u=>{let T=await l(u).then(S=>pI(S,i[s]));const{name:R,parentId:A,config:E}=T;n({type:ue.SaveAs,visible:!0,initialValues:{name:R+"_"+t("copy"),parentId:A,config:E},parentIdLabel:e("folder"),onSave:(S,p)=>{const f=ht(S,a);T=Object.assign({},T,{...S,parentId:S.parentId||null,index:f,previewResults:[]}),r(va({resolve:p,isSaveAs:!0,currentView:T}))}})},[r,l,n,e,t,a,i,s])}function Sh(){const e=Ve(),t=U(Be);return c.useCallback(r=>{e({pathname:`/organizations/${t}/vizs/chartEditor`,search:`dataChartId=&chartType=dataChart&container=dataChart&defaultViewId=${r}`})},[e,t])}const Rh=c.memo(({allowManage:e,allowEnableViz:t,type:n})=>{const{actions:r}=Mn(),a=de(),{onRun:i,onSave:s}=c.useContext(dr),{showSaveForm:l}=c.useContext(wr),d=U(Xo);Ve();const T=ja().state,R=U($n),A=V("view.editor"),E=Th(),S=Sh(),p=U(M=>ge(M,{name:"id"})),f=U(M=>ge(M,{name:"name"})),I=U(M=>ge(M,{name:"parentId"})),O=U(M=>ge(M,{name:"config"})),N=U(M=>ge(M,{name:"sourceId"})),h=U(M=>ge(M,{name:"stage"})),m=U(M=>ge(M,{name:"status"})),g=U(M=>ge(M,{name:"script"})),_=U(M=>ge(M,{name:"fragment"})),L=U(M=>ge(M,{name:"size"})),P=U(M=>ge(M,{name:"error"})),v=U(M=>ge(M,{name:"index"})),D=m===so.Archived,b=c.useCallback(()=>{a(r.changeCurrentEditingView({script:JW(g,{denseOperators:!0,logicalOperatorNewline:"before"})}))},[a,r,g]),C=c.useCallback(()=>{l({type:ue.Edit,visible:!0,initialValues:{name:f,parentId:I,config:O},parentIdLabel:A("folder"),onSave:(M,B)=>{let H=v;qu(I,M.parentId)&&(H=ht(M,R)),a(r.changeCurrentEditingView({...M,parentId:M.parentId||null,index:H})),a(va({resolve:B}))}})},[l,r,a,f,I,O,R,v,A]),y=c.useCallback(M=>{a(r.changeCurrentEditingView({sourceId:M}))},[a,r]),w=c.useCallback(({key:M})=>{a(r.changeCurrentEditingView({size:Number(M)}))},[a,r]);c.useEffect(()=>{T!=null&&T.sourcesId&&d&&y(T.sourcesId)},[T==null?void 0:T.sourcesId,y,d]);const x=c.useCallback((M,B)=>{var H;return(H=B==null?void 0:B.children)==null?void 0:H.toLowerCase().includes(M.toLowerCase())},[]);return U(Yo),o.jsxs(QW,{children:[o.jsx(ZW,{children:o.jsxs(Ge,{split:o.jsx(Hr,{type:"vertical",className:"divider"}),children:[n==="SQL"&&o.jsxs(o.Fragment,{children:[e&&o.jsx(Se,{placeholder:A("source"),value:N,bordered:!1,disabled:D,onChange:y,className:"source",showSearch:!0,filterOption:x,children:d.map(({id:M,name:B})=>o.jsx(Se.Option,{value:M,label:B,children:o.jsxs(Ge,{children:[o.jsx("span",{role:"img","aria-label":B,children:o.jsx($c,{})}),B]})},M))}),o.jsxs(Ge,{children:[o.jsx(Me,{title:o.jsx(KA,{title:[`${A(_?"runSelection":"run")}`,A("runWinTip"),A("runMacTip")]}),placement:"bottom",children:o.jsx(rt,{icon:h===We.Running?o.jsx(oO,{}):o.jsx(Eo,{}),color:_?hn:Zn,onClick:i})}),o.jsx(Me,{title:A("beautify"),placement:"bottom",children:o.jsx(rt,{icon:o.jsx(kD,{}),disabled:D,onClick:b})})]})]}),o.jsx(an,{trigger:["click"],menu:{items:Zg.map(M=>({key:M,label:M})),onClick:w},children:o.jsx(rt,{size:"small",children:`Limit: ${L}`})}),o.jsx(T6,{running:h===We.Running,status:P?"error":h>=We.Running?h===We.Running?"processing":"success":"default"})]})}),o.jsx(ek,{children:o.jsxs(Ge,{children:[e&&o.jsx(Me,{title:o.jsx(KA,{title:[A("save"),A("saveWinTip"),A("saveMacTip")]}),placement:"bottom",children:o.jsx(rt,{icon:o.jsx(Uy,{}),disabled:D||h!==We.Saveable,color:Zn,onClick:s})}),e&&o.jsx(Me,{title:A("info"),placement:"bottom",children:o.jsx(rt,{icon:o.jsx(sO,{}),disabled:D||La(p),color:Zn,onClick:C})}),e&&o.jsx(Me,{title:A("saveAs"),placement:"bottom",children:o.jsx(rt,{icon:o.jsx(cT,{}),onClick:()=>E(p),disabled:La(p),color:Zn})}),t&&o.jsx(Me,{title:A("startAnalysis"),placement:"bottom",children:o.jsx(rt,{disabled:La(p),icon:o.jsx(aO,{}),color:Zn,onClick:()=>{S(p)}})})]})})]})}),QW=F.div.withConfig({displayName:"Toolbar__Container",componentId:"sc-zzns9x-0"})(["z-index:",";display:flex;flex-shrink:0;align-items:center;width:100%;height:40px;padding:"," ",";background-color:",";border-bottom:1px solid ",";.source{width:",";}.size{width:",";}.divider{border-color:",";}"],ds,ot,Le,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit,me(40),me(40),e=>e.theme.borderColorBase),ZW=F.div.withConfig({displayName:"Toolbar__Operates",componentId:"sc-zzns9x-1"})(["display:flex;flex:1;"]),ek=F.div.withConfig({displayName:"Toolbar__Actions",componentId:"sc-zzns9x-2"})(["display:flex;flex-shrink:0;"]),KA=({title:e})=>o.jsx(tk,{children:e.map((t,n)=>o.jsx("p",{children:t},n))}),tk=F.div.withConfig({displayName:"Toolbar__TipTitleWrapper",componentId:"sc-zzns9x-3"})(["display:flex;flex-direction:column;"]),nk=c.memo(({allowManage:e,allowEnableViz:t})=>o.jsxs(rk,{children:[o.jsx(Rh,{type:"SQL",allowManage:e,allowEnableViz:t}),o.jsx(E6,{})]})),rk=F.div.withConfig({displayName:"Editor__Wrapper",componentId:"sc-1ysl4b9-0"})(["display:flex;flex:1;flex-direction:column;background-color:",";"],e=>e.theme.bodyBackground),ak=c.memo(()=>{const e=U(n=>ge(n,{name:"error"})),t=V("view");return o.jsxs(ok,{children:[o.jsxs("h3",{children:[o.jsx(Lc,{className:"icon"}),t("errorTitle")]}),o.jsx("p",{children:e})]})}),ok=F.div.withConfig({displayName:"Error__Wrapper",componentId:"sc-1gfbhg6-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;padding:",";overflow-y:auto;color:",";background-color:",";.icon{margin-right:",";}h3{line-height:",";}p{padding:0 ",";line-height:",";}"],ye,e=>e.theme.error,e=>e.theme.bodyBackground,Le,Uu,me(6),Hu),ik="DATART_ROW_KEY",sk=c.memo(({height:e=0,width:t=0})=>{const{actions:n}=Mn(),r=de(),a=U(I=>ge(I,{name:"id"})),i=U(I=>ge(I,{name:"model"})),s=U(I=>ge(I,{name:"columnPermissions"})),l=U(I=>ge(I,{name:"stage"})),d=U(I=>ge(I,{name:"previewResults"})),u=U(vo),T=V("view"),R=c.useMemo(()=>d.map(I=>({...I,[ik]:yt()})),[d]),A=c.useCallback((I,O)=>N=>{let h;if(N[0].includes("category")){const g=N[0].split("-")[1];h={...O,category:g}}else N.includes("DATE")?h={...O,type:N[1],dateFormat:N[0]}:h={...O,type:N[0]};const m=Fn(i.hierarchy||{});I in m?m[I]=h:Object.values(m).filter(g=>!Wt(g.children)).forEach(g=>{const _=g.children.findIndex(L=>L.name===I);_>-1&&(g.children[_]=h)}),r(n.changeCurrentEditingView({model:{...i,hierarchy:m,version:Ql}}))},[r,n,i]),E=c.useMemo(()=>u.map(({id:I,name:O})=>({key:I,title:O,value:I,isLeaf:!0})),[u]),S=c.useCallback(I=>O=>{const N=Object.keys((i==null?void 0:i.columns)||{});r(n.changeCurrentEditingView({columnPermissions:E.reduce((h,{key:m})=>{const g=s.find(({subjectId:L})=>L===m),_=O.includes(m);if(g)if(_){const L=Array.from(new Set(g.columnPermission.concat(I)));return N.sort().join(",")!==L.sort().join(",")?h.concat({...g,columnPermission:L}):h}else return h.concat({...g,columnPermission:g.columnPermission.filter(L=>L!==I)});else return _?h:h.concat({id:yt(),viewId:a,subjectId:m,subjectType:Rt.Role,columnPermission:N.filter(L=>L!==I)})},[])}))},[r,n,a,i,s,E]),p=c.useCallback((I,O)=>{const N=s.length>0?E.reduce((h,{key:m})=>{const g=s.find(({subjectId:_})=>_===m);return g?g.columnPermission.includes(I)?h.concat(m):h:h.concat(m)},[]):E.map(({key:h})=>h);return[o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsx(gt,{className:"check-list medium",treeData:E,checkedKeys:N,loading:!1,selectable:!1,showIcon:!1,onCheck:S(I),blockNode:!0,checkable:!0,id:"resultes"}),children:o.jsx(Me,{title:T("columnPermission.title"),children:o.jsx(rt,{size:"small",iconSize:Ha,icon:N.length>0?o.jsx(e_,{className:Ke({partial:N.length!==E.length})}):o.jsx(t_,{})})})},`${I}_columnpermission`)]},[s,E,S,T]),f=c.useMemo(()=>({defaultPageSize:100,pageSizeOptions:["100","200","500","1000"]}),[]);return l>We.Fresh?o.jsx(ck,{children:o.jsx(TS,{height:e?e-96:0,width:t,model:i.columns||{},hierarchy:i.hierarchy||{},dataSource:R,pagination:f,getExtraHeaderActions:p,onSchemaTypeChange:A,hasCategory:!0})}):o.jsx(lk,{children:o.jsxs("p",{children:[T("resultEmpty1"),o.jsx(Eo,{}),T("resultEmpty2")]})})}),lk=F.div.withConfig({displayName:"Results__InitialDesc",componentId:"sc-rf57z3-0"})(["display:flex;flex:1;align-items:center;justify-content:center;p{color:",";}"],e=>e.theme.textColorLight),ck=F.div.withConfig({displayName:"Results__TableWrapper",componentId:"sc-rf57z3-1"})(["flex:1;overflow:hidden;font-family:",";background-color:",";"],cC,e=>e.theme.componentBackground),dk=c.memo(()=>{const{actions:e}=Mn(),t=de(),n=U(gc),r=V("view"),a=U(A=>ge(A,{name:"error"})),i=U(A=>ge(A,{name:"stage"})),s=U(A=>ge(A,{name:"warnings"})),{width:l,height:d,ref:u}=yc({refreshMode:"debounce",refreshRate:200}),T=c.useCallback(()=>{t(e.changeCurrentEditingView({warnings:null}))},[t,e]),R=c.useCallback(A=>{const E={type:A,title:"Sql parse bug"};A==="github"?E.body=`version: ${n==null?void 0:n.version}
`+s.join(""):E.description=`version: ${n==null?void 0:n.version}
`+s.join("");const S=dC(E);window.open(S)},[s,n]);return o.jsxs(Ek,{ref:u,children:[s&&o.jsx(wD,{className:"warningBox",message:"",description:o.jsxs("p",{children:[r("sqlRunWraning"),o.jsx(ql,{trigger:["click"],placement:"top",overlayStyle:{width:me(96)},content:r("warningDescription"),children:o.jsx(oe,{className:"detail",type:"link",size:"small",children:r("detail")})})]}),type:"warning",closable:!1,action:o.jsxs(Ge,{children:[o.jsx(oe,{type:"primary",icon:o.jsx(fD,{}),onClick:()=>R("github"),children:"Github"}),o.jsx(oe,{type:"primary",onClick:()=>R("gitee"),children:"Gitee"}),o.jsx(oe,{onClick:T,children:r("close")})]})}),o.jsx(sk,{width:l,height:d}),a&&o.jsx(ak,{}),i===We.Running&&o.jsx(uk,{children:o.jsx(Co,{})})]})}),Ek=F.div.withConfig({displayName:"Outputs__Wrapper",componentId:"sc-nbxdqv-0"})(["position:relative;display:flex;flex-direction:column;background-color:",";border-top:1px solid ",";.warningBox{padding:"," ",";.detail{padding:0;}}"],e=>e.theme.componentBackground,e=>e.theme.borderColorSplit,Le,ye),uk=F.div.withConfig({displayName:"Outputs__LoadingMask",componentId:"sc-nbxdqv-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background-color:",";"],e=>EC(.5,e.theme.componentBackground)),Bd=c.memo(e=>{const t=V("view.properties"),{title:n,children:r,loading:a,...i}=e;return o.jsxs(Tk,{children:[o.jsx(en,{title:t(n),...i}),o.jsx(n_,{active:!0,loading:a,children:r})]})}),Tk=F.div.withConfig({displayName:"Container__StyledContainer",componentId:"sc-1tpctpb-0"})(["display:flex;flex:1;flex-direction:column;width:",";min-height:0;border-left:1px solid ",";"],me(100),e=>e.theme.borderColorSplit),Sk=c.memo(()=>{const{actions:e}=Mn(),t=de(),n=U(S=>ge(S,{name:"id"})),r=U(S=>ge(S,{name:"stage"})),a=U(S=>ge(S,{name:"status"})),i=U(S=>ge(S,{name:"model"})),s=U(S=>ge(S,{name:"columnPermissions"})),l=U(vo),d=V("view.columnPermission"),{filteredData:u,debouncedSearch:T}=Nt(l,(S,p)=>p.name.includes(S)),R=c.useCallback(S=>p=>{const f=s.findIndex(({subjectId:I})=>I===S);f>=0?Object.keys((i==null?void 0:i.columns)||{}).sort().join(",")!==p.sort().join(",")?t(e.changeCurrentEditingView({columnPermissions:[...s.slice(0,f),{...s[f],columnPermission:p},...s.slice(f+1)]})):t(e.changeCurrentEditingView({columnPermissions:s.filter((I,O)=>f!==O)})):t(e.changeCurrentEditingView({columnPermissions:s.concat({id:yt(),viewId:n,subjectId:S,subjectType:Rt.Role,columnPermission:p})}))},[t,e,n,i,s]),A=c.useMemo(()=>Object.keys((i==null?void 0:i.columns)||{}).map(S=>({key:S,title:S,value:S})),[i==null?void 0:i.columns]),E=c.useCallback(({id:S,name:p})=>{const f=s.find(({subjectId:O})=>O===S),I=f?f.columnPermission:A.map(({key:O})=>O);return o.jsx(Is,{actions:[o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsx(gt,{className:"check-list medium",treeData:A,checkedKeys:I,loading:!1,selectable:!1,showIcon:!1,onCheck:R(S),disabled:a===so.Archived,blockNode:!0,checkable:!0,id:"column_permissions"}),children:o.jsx(oe,{type:"link",size:"small",className:Ke({partial:!!f}),children:f?I.length>0?d("partial"):d("none"):d("all")})})],children:o.jsx(Rn.Item.Meta,{title:p})})},[A,s,R,a,d]);return o.jsxs(Bd,{title:"columnPermissions",children:[o.jsx(Rk,{children:o.jsx(pt,{span:24,children:o.jsx(Ae,{prefix:o.jsx(Dr,{className:"icon"}),placeholder:d("search"),className:"input",bordered:!1,onChange:T})})}),o.jsx(pk,{children:o.jsx(Rn,{dataSource:u,loading:r===We.Loading&&{indicator:o.jsx(Zt,{})},renderItem:E})})]})}),Rk=F(Mt).withConfig({displayName:"ColumnPermissions__SearchBar",componentId:"sc-w7vh5b-0"})([".input{padding-bottom:",";}.icon{color:",";}"],Le,e=>e.theme.textColorLight),pk=F.div.withConfig({displayName:"ColumnPermissions__ListWrapper",componentId:"sc-w7vh5b-1"})(["flex:1;padding-bottom:",";overflow-y:auto;.partial{color:",";}"],ye,hn);var ph=$e.createContext(null);function Ak(e){e()}var Ah=Ak,fk=function(t){return Ah=t},Ik=function(){return Ah};function Ok(){var e=Ik(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,s=n={callback:a,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var JA={notify:function(){},get:function(){return[]}};function fh(e,t){var n,r=JA;function a(R){return d(),r.subscribe(R)}function i(){r.notify()}function s(){T.onStateChange&&T.onStateChange()}function l(){return!!n}function d(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=Ok())}function u(){n&&(n(),n=void 0,r.clear(),r=JA)}var T={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:l,trySubscribe:d,tryUnsubscribe:u,getListeners:function(){return r}};return T}var Ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function mk(e){var t=e.store,n=e.context,r=e.children,a=c.useMemo(function(){var l=fh(t);return{store:t,subscription:l}},[t]),i=c.useMemo(function(){return t.getState()},[t]);Ih(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var s=n||ph;return $e.createElement(s.Provider,{value:a},r)}var Oh={exports:{}},Qe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=60103,Gd=60106,Hs=60107,js=60108,Vs=60114,Ys=60109,Ws=60110,ks=60112,$s=60113,SS=60120,Xs=60115,zs=60116,mh=60121,hh=60122,Nh=60117,Ch=60129,gh=60131;if(typeof Symbol=="function"&&Symbol.for){var Lt=Symbol.for;Fd=Lt("react.element"),Gd=Lt("react.portal"),Hs=Lt("react.fragment"),js=Lt("react.strict_mode"),Vs=Lt("react.profiler"),Ys=Lt("react.provider"),Ws=Lt("react.context"),ks=Lt("react.forward_ref"),$s=Lt("react.suspense"),SS=Lt("react.suspense_list"),Xs=Lt("react.memo"),zs=Lt("react.lazy"),mh=Lt("react.block"),hh=Lt("react.server.block"),Nh=Lt("react.fundamental"),Ch=Lt("react.debug_trace_mode"),gh=Lt("react.legacy_hidden")}function zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Fd:switch(e=e.type,e){case Hs:case Vs:case js:case $s:case SS:return e;default:switch(e=e&&e.$$typeof,e){case Ws:case ks:case zs:case Xs:case Ys:return e;default:return t}}case Gd:return t}}}var hk=Ys,Nk=Fd,Ck=ks,gk=Hs,_k=zs,Lk=Xs,vk=Gd,Dk=Vs,bk=js,Pk=$s;Qe.ContextConsumer=Ws;Qe.ContextProvider=hk;Qe.Element=Nk;Qe.ForwardRef=Ck;Qe.Fragment=gk;Qe.Lazy=_k;Qe.Memo=Lk;Qe.Portal=vk;Qe.Profiler=Dk;Qe.StrictMode=bk;Qe.Suspense=Pk;Qe.isAsyncMode=function(){return!1};Qe.isConcurrentMode=function(){return!1};Qe.isContextConsumer=function(e){return zn(e)===Ws};Qe.isContextProvider=function(e){return zn(e)===Ys};Qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fd};Qe.isForwardRef=function(e){return zn(e)===ks};Qe.isFragment=function(e){return zn(e)===Hs};Qe.isLazy=function(e){return zn(e)===zs};Qe.isMemo=function(e){return zn(e)===Xs};Qe.isPortal=function(e){return zn(e)===Gd};Qe.isProfiler=function(e){return zn(e)===Vs};Qe.isStrictMode=function(e){return zn(e)===js};Qe.isSuspense=function(e){return zn(e)===$s};Qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hs||e===Vs||e===Ch||e===js||e===$s||e===SS||e===gh||typeof e=="object"&&e!==null&&(e.$$typeof===zs||e.$$typeof===Xs||e.$$typeof===Ys||e.$$typeof===Ws||e.$$typeof===ks||e.$$typeof===Nh||e.$$typeof===mh||e[0]===hh)};Qe.typeOf=zn;Oh.exports=Qe;var yk=Oh.exports,Mk=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],xk=["reactReduxForwardedRef"],Uk=[],wk=[null,null];function Bk(e,t){var n=e[1];return[t.payload,n+1]}function qA(e,t,n){Ih(function(){return e.apply(void 0,t)},n)}function Fk(e,t,n,r,a,i,s){e.current=r,t.current=a,n.current=!1,i.current&&(i.current=null,s())}function Gk(e,t,n,r,a,i,s,l,d,u){if(e){var T=!1,R=null,A=function(){if(!T){var p=t.getState(),f,I;try{f=r(p,a.current)}catch(O){I=O,R=O}I||(R=null),f===i.current?s.current||d():(i.current=f,l.current=f,s.current=!0,u({type:"STORE_UPDATED",payload:{error:I}}))}};n.onStateChange=A,n.trySubscribe(),A();var E=function(){if(T=!0,n.tryUnsubscribe(),n.onStateChange=null,R)throw R};return E}}var Hk=function(){return[null,0]};function jk(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,a=r===void 0?function(N){return"ConnectAdvanced("+N+")"}:r,i=n.methodName,s=i===void 0?"connectAdvanced":i,l=n.renderCountProp,d=l===void 0?void 0:l,u=n.shouldHandleStateChanges,T=u===void 0?!0:u,R=n.storeKey,A=R===void 0?"store":R;n.withRef;var E=n.forwardRef,S=E===void 0?!1:E,p=n.context,f=p===void 0?ph:p,I=zl(n,Mk),O=f;return function(h){var m=h.displayName||h.name||"Component",g=a(m),_=te({},I,{getDisplayName:a,methodName:s,renderCountProp:d,shouldHandleStateChanges:T,storeKey:A,displayName:g,wrappedComponentName:m,WrappedComponent:h}),L=I.pure;function P(y){return e(y.dispatch,_)}var v=L?c.useMemo:function(y){return y()};function D(y){var w=c.useMemo(function(){var Ue=y.reactReduxForwardedRef,tt=zl(y,xk);return[y.context,Ue,tt]},[y]),x=w[0],M=w[1],B=w[2],H=c.useMemo(function(){return x&&x.Consumer&&yk.isContextConsumer($e.createElement(x.Consumer,null))?x:O},[x,O]),j=c.useContext(H),X=!!y.store&&!!y.store.getState&&!!y.store.dispatch;j&&j.store;var W=X?y.store:j.store,J=c.useMemo(function(){return P(W)},[W]),q=c.useMemo(function(){if(!T)return wk;var Ue=fh(W,X?null:j.subscription),tt=Ue.notifyNestedSubs.bind(Ue);return[Ue,tt]},[W,X,j]),Z=q[0],ce=q[1],Ce=c.useMemo(function(){return X?j:te({},j,{subscription:Z})},[X,j,Z]),k=c.useReducer(Bk,Uk,Hk),ne=k[0],K=ne[0],G=k[1];if(K&&K.error)throw K.error;var Y=c.useRef(),z=c.useRef(B),ee=c.useRef(),se=c.useRef(!1),Te=v(function(){return ee.current&&B===z.current?ee.current:J(W.getState(),B)},[W,K,B]);qA(Fk,[z,Y,se,B,Te,ee,ce]),qA(Gk,[T,W,Z,J,z,Y,se,ee,ce,G],[W,Z,J]);var xe=c.useMemo(function(){return $e.createElement(h,te({},Te,{ref:M}))},[M,h,Te]),pe=c.useMemo(function(){return T?$e.createElement(H.Provider,{value:Ce},xe):xe},[H,xe,Ce]);return pe}var b=L?$e.memo(D):D;if(b.WrappedComponent=h,b.displayName=D.displayName=g,S){var C=$e.forwardRef(function(w,x){return $e.createElement(b,te({},w,{reactReduxForwardedRef:x}))});return C.displayName=g,C.WrappedComponent=h,$l(C,h)}return $l(b,h)}}function QA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wE(e,t){if(QA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!QA(e[n[a]],t[n[a]]))return!1;return!0}function Vk(e,t){var n={},r=function(s){var l=e[s];typeof l=="function"&&(n[s]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)r(a);return n}function RS(e){return function(n,r){var a=e(n,r);function i(){return a}return i.dependsOnOwnProps=!1,i}}function ZA(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function _h(e,t){return function(r,a){a.displayName;var i=function(l,d){return i.dependsOnOwnProps?i.mapToProps(l,d):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,d){i.mapToProps=e,i.dependsOnOwnProps=ZA(e);var u=i(l,d);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=ZA(u),u=i(l,d)),u},i}}function Yk(e){return typeof e=="function"?_h(e):void 0}function Wk(e){return e?void 0:RS(function(t){return{dispatch:t}})}function kk(e){return e&&typeof e=="object"?RS(function(t){return Vk(e,t)}):void 0}const $k=[Yk,Wk,kk];function Xk(e){return typeof e=="function"?_h(e):void 0}function zk(e){return e?void 0:RS(function(){return{}})}const Kk=[Xk,zk];function Jk(e,t,n){return te({},n,e,t)}function qk(e){return function(n,r){r.displayName;var a=r.pure,i=r.areMergedPropsEqual,s=!1,l;return function(u,T,R){var A=e(u,T,R);return s?(!a||!i(A,l))&&(l=A):(s=!0,l=A),l}}}function Qk(e){return typeof e=="function"?qk(e):void 0}function Zk(e){return e?void 0:function(){return Jk}}const e$=[Qk,Zk];var t$=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function n$(e,t,n,r){return function(i,s){return n(e(i,s),t(r,s),s)}}function r$(e,t,n,r,a){var i=a.areStatesEqual,s=a.areOwnPropsEqual,l=a.areStatePropsEqual,d=!1,u,T,R,A,E;function S(N,h){return u=N,T=h,R=e(u,T),A=t(r,T),E=n(R,A,T),d=!0,E}function p(){return R=e(u,T),t.dependsOnOwnProps&&(A=t(r,T)),E=n(R,A,T),E}function f(){return e.dependsOnOwnProps&&(R=e(u,T)),t.dependsOnOwnProps&&(A=t(r,T)),E=n(R,A,T),E}function I(){var N=e(u,T),h=!l(N,R);return R=N,h&&(E=n(R,A,T)),E}function O(N,h){var m=!s(h,T),g=!i(N,u,h,T);return u=N,T=h,m&&g?p():m?f():g?I():E}return function(h,m){return d?O(h,m):S(h,m)}}function a$(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=zl(t,t$),s=n(e,i),l=r(e,i),d=a(e,i),u=i.pure?r$:n$;return u(s,l,d,e,i)}var o$=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function BE(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(i,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function i$(e,t){return e===t}function s$(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?jk:n,a=t.mapStateToPropsFactories,i=a===void 0?Kk:a,s=t.mapDispatchToPropsFactories,l=s===void 0?$k:s,d=t.mergePropsFactories,u=d===void 0?e$:d,T=t.selectorFactory,R=T===void 0?a$:T;return function(E,S,p,f){f===void 0&&(f={});var I=f,O=I.pure,N=O===void 0?!0:O,h=I.areStatesEqual,m=h===void 0?i$:h,g=I.areOwnPropsEqual,_=g===void 0?wE:g,L=I.areStatePropsEqual,P=L===void 0?wE:L,v=I.areMergedPropsEqual,D=v===void 0?wE:v,b=zl(I,o$),C=BE(E,i,"mapStateToProps"),y=BE(S,l,"mapDispatchToProps"),w=BE(p,u,"mergeProps");return r(R,te({methodName:"connect",getDisplayName:function(M){return"Connect("+M+")"},shouldHandleStateChanges:!!E,initMapStateToProps:C,initMapDispatchToProps:y,initMergeProps:w,pure:N,areStatesEqual:m,areOwnPropsEqual:_,areStatePropsEqual:P,areMergedPropsEqual:D},b))}}const Lh=s$();fk(Oc.unstable_batchedUpdates);function l$(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function vh(e,t){var n=c.useState(function(){return{inputs:t,result:e()}})[0],r=c.useRef(!0),a=c.useRef(n),i=r.current||!!(t&&a.current.inputs&&l$(t,a.current.inputs)),s=i?a.current:{inputs:t,result:e()};return c.useEffect(function(){r.current=!1,a.current=s},[s]),s.result}function c$(e,t){return vh(function(){return e},t)}var Ye=vh,Oe=c$,d$=!0,FE="Invariant failed";function E$(e,t){if(!e){if(d$)throw new Error(FE);var n=typeof t=="function"?t():t,r=n?"".concat(FE,": ").concat(n):FE;throw new Error(r)}}var jn=function(t){var n=t.top,r=t.right,a=t.bottom,i=t.left,s=r-i,l=a-n,d={top:n,right:r,bottom:a,left:i,width:s,height:l,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return d},pS=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ef=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},u$=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},GE={top:0,right:0,bottom:0,left:0},AS=function(t){var n=t.borderBox,r=t.margin,a=r===void 0?GE:r,i=t.border,s=i===void 0?GE:i,l=t.padding,d=l===void 0?GE:l,u=jn(pS(n,a)),T=jn(ef(n,s)),R=jn(ef(T,d));return{marginBox:u,borderBox:jn(n),paddingBox:T,contentBox:R,margin:a,border:s,padding:d}},fn=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&E$(!1),a},T$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},dc=function(t,n){var r=t.borderBox,a=t.border,i=t.margin,s=t.padding,l=u$(r,n);return AS({borderBox:l,border:a,margin:i,padding:s})},Ec=function(t,n){return n===void 0&&(n=T$()),dc(t,n)},Dh=function(t,n){var r={top:fn(n.marginTop),right:fn(n.marginRight),bottom:fn(n.marginBottom),left:fn(n.marginLeft)},a={top:fn(n.paddingTop),right:fn(n.paddingRight),bottom:fn(n.paddingBottom),left:fn(n.paddingLeft)},i={top:fn(n.borderTopWidth),right:fn(n.borderRightWidth),bottom:fn(n.borderBottomWidth),left:fn(n.borderLeftWidth)};return AS({borderBox:t,margin:r,padding:a,border:i})},bh=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Dh(n,r)},S$=function(t){var n=[],r=null,a=function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};const Qi=S$;function Ph(e,t){}Ph.bind(null,"warn");Ph.bind(null,"error");function zr(){}function R$(e,t){return te({},e,{},t)}function Cn(e,t,n){var r=t.map(function(a){var i=R$(n,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(function(i){i()})}}var p$="Invariant failed";function uc(e){this.message=e}uc.prototype.toString=function(){return this.message};function ie(e,t){if(!e)throw new uc(p$)}var A$=function(e){ju(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,r.callbacks=null,r.unbind=zr,r.onWindowError=function(l){var d=r.getCallbacks();d.isDragging()&&d.tryAbort();var u=l.error;u instanceof uc&&l.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(l){r.callbacks=l},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=Cn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(a){if(a instanceof uc){this.setState({});return}throw a},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}($e.Component),f$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tc=function(t){return t+1},I$=function(t){return`
  You have lifted an item in position `+Tc(t.source.index)+`
`},yh=function(t,n){var r=t.droppableId===n.droppableId,a=Tc(t.index),i=Tc(n.index);return r?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},Mh=function(t,n,r){var a=n.droppableId===r.droppableId;return a?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},O$=function(t){var n=t.destination;if(n)return yh(t.source,n);var r=t.combine;return r?Mh(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},tf=function(t){return`
  The item has returned to its starting position
  of `+Tc(t.index)+`
`},m$=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+tf(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+yh(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+Mh(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+tf(t.source)+`
  `},Wl={dragHandleUsageInstructions:f$,onDragStart:I$,onDragUpdate:O$,onDragEnd:m$},Ct={x:0,y:0},Pt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},un=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Kr=function(t,n){return t.x===n.x&&t.y===n.y},zo=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ga=function(t,n,r){var a;return r===void 0&&(r=0),a={},a[t]=n,a[t==="x"?"y":"x"]=r,a},Zi=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},nf=function(t,n){return Math.min.apply(Math,n.map(function(r){return Zi(t,r)}))},xh=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},h$=function(e,t){var n=jn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Ks=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},rf=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},N$={top:0,right:0,bottom:0,left:0},C$=function(t,n){return n?Ks(t,n.scroll.diff.displacement):t},g$=function(t,n,r){if(r&&r.increasedBy){var a;return te({},t,(a={},a[n.end]=t[n.end]+r.increasedBy[n.line],a))}return t},_$=function(t,n){return n&&n.shouldClipSubject?h$(n.pageMarginBox,t):jn(t)},Oo=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=C$(t.marginBox,a),s=g$(i,r,n),l=_$(s,a);return{page:t,withPlaceholder:n,active:l}},fS=function(e,t){e.frame||ie(!1);var n=e.frame,r=un(t,n.scroll.initial),a=zo(r),i=te({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),s=Oo({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=te({},e,{frame:i,subject:s});return l};function Sc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function IS(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Ta(e,t){if(e.find)return e.find(t);var n=IS(e,t);if(n!==-1)return e[n]}function Uh(e){return Array.prototype.slice.call(e)}var wh=Et(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Bh=Et(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),Hd=Et(function(e){return Sc(e)}),L$=Et(function(e){return Sc(e)}),Ko=Et(function(e,t){var n=L$(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,a){return r.descriptor.index-a.descriptor.index});return n});function OS(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function jd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Vd=Et(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),v$=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;var s=OS(i);if(!s)return null;function l(p){var f={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return te({},i,{at:f})}var d=i.displaced.all,u=d.length?d[0]:null;if(t)return u?l(u):null;var T=Vd(n,a);if(!u){if(!T.length)return null;var R=T[T.length-1];return l(R.descriptor.id)}var A=IS(T,function(p){return p.descriptor.id===u});A===-1&&ie(!1);var E=A-1;if(E<0)return null;var S=T[E];return l(S.descriptor.id)},Jo=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Fh={point:Ct,value:0},es={invisible:{},visible:{},all:[]},D$={displaced:es,displacedBy:Fh,at:null},_n=function(e,t){return function(n){return e<=n&&n<=t}},Gh=function(e){var t=_n(e.top,e.bottom),n=_n(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(a)return!0;var i=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),l=i&&s;if(l)return!0;var d=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right,T=d&&u;if(T)return!0;var R=d&&s||u&&i;return R}},b$=function(e){var t=_n(e.top,e.bottom),n=_n(e.left,e.right);return function(r){var a=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return a}},mS={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Hh={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},P$=function(e){return function(t){var n=_n(t.top,t.bottom),r=_n(t.left,t.right);return function(a){return e===mS?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)}}},y$=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:Ct;return Ks(t,r)},M$=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},x$=function(t,n,r){return r(n)(t)},hS=function(t){var n=t.target,r=t.destination,a=t.viewport,i=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,l=i?y$(n,r):n;return M$(l,r,s)&&x$(l,a,s)},U$=function(t){return hS(te({},t,{isVisibleThroughFrameFn:Gh}))},jh=function(t){return hS(te({},t,{isVisibleThroughFrameFn:b$}))},w$=function(t){return hS(te({},t,{isVisibleThroughFrameFn:P$(t.destination.axis)}))},B$=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var a=n.invisible,i=n.visible;if(a[t])return!1;var s=i[t];return s?s.shouldAnimate:!0};function F$(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return jn(pS(n,r))}function ts(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce(function(d,u){var T=F$(u,r),R=u.descriptor.id;d.all.push(R);var A=U$({target:T,destination:n,viewport:a,withDroppableDisplacement:!0});if(!A)return d.invisible[u.descriptor.id]=!0,d;var E=B$(R,s,i),S={draggableId:R,shouldAnimate:E};return d.visible[R]=S,d},{all:[],visible:{},invisible:{}})}function G$(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function af(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=G$(t,{inHomeList:n});return{displaced:es,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Rc(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,s=e.last,l=e.index,d=e.forceShouldAnimate,u=Jo(t,r);if(l==null)return af({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var T=Ta(n,function(p){return p.descriptor.index===l});if(!T)return af({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var R=Vd(t,n),A=n.indexOf(T),E=R.slice(A),S=ts({afterDragging:E,destination:r,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:d});return{displaced:S,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function ta(e,t){return!!t.effected[e]}var H$=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var s=a.draggableId,l=r[s],d=l.descriptor.index,u=ta(s,i);return u?t?d:d-1:t?d+1:d},j$=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,s=t?i+1:i-1,l=r[0].descriptor.index,d=r[r.length-1].descriptor.index,u=n?d:d+1;return s<l||s>u?null:s},V$=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,s=e.insideDestination,l=e.previousImpact,d=e.viewport,u=e.afterCritical,T=l.at;if(T||ie(!1),T.type==="REORDER"){var R=j$({isMovingForward:t,isInHomeList:n,location:T.destination,insideDestination:s});return R==null?null:Rc({draggable:r,insideDestination:s,destination:i,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:R})}var A=H$({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:T.combine,afterCritical:u});return A==null?null:Rc({draggable:r,insideDestination:s,destination:i,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:A})},Y$=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=!!(t.visible[r]||t.invisible[r]);return ta(r,n)?i?Ct:zo(a.point):i?a.point:Ct},W$=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=jd(n);a||ie(!1);var i=a.draggableId,s=r[i].page.borderBox.center,l=Y$({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Pt(s,l)},Vh=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},k$=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},NS=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},of=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return Ga(n.line,r.marginBox[n.end]+Vh(n,a),NS(n,r.marginBox,a))},sf=function(t){var n=t.axis,r=t.moveRelativeTo,a=t.isMoving;return Ga(n.line,r.marginBox[n.start]-k$(n,a),NS(n,r.marginBox,a))},$$=function(t){var n=t.axis,r=t.moveInto,a=t.isMoving;return Ga(n.line,r.contentBox[n.start]+Vh(n,a),NS(n,r.contentBox,a))},X$=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,s=Ko(a.descriptor.id,r),l=n.page,d=a.axis;if(!s.length)return $$({axis:d,moveInto:a.page,isMoving:l});var u=t.displaced,T=t.displacedBy,R=u.all[0];if(R){var A=r[R];if(ta(R,i))return sf({axis:d,moveRelativeTo:A.page,isMoving:l});var E=dc(A.page,T.point);return sf({axis:d,moveRelativeTo:E,isMoving:l})}var S=s[s.length-1];if(S.descriptor.id===n.descriptor.id)return l.borderBox.center;if(ta(S.descriptor.id,i)){var p=dc(S.page,zo(i.displacedBy.point));return of({axis:d,moveRelativeTo:p,isMoving:l})}return of({axis:d,moveRelativeTo:S.page,isMoving:l})},gu=function(e,t){var n=e.frame;return n?Pt(t,n.scroll.diff.displacement):t},z$=function(t){var n=t.impact,r=t.draggable,a=t.droppable,i=t.draggables,s=t.afterCritical,l=r.page.borderBox.center,d=n.at;return!a||!d?l:d.type==="REORDER"?X$({impact:n,draggable:r,draggables:i,droppable:a,afterCritical:s}):W$({impact:n,draggables:i,afterCritical:s})},Yd=function(e){var t=z$(e),n=e.droppable,r=n?gu(n,t):t;return r},Yh=function(e,t){var n=un(t,e.scroll.initial),r=zo(n),a=jn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return i};function lf(e,t){return e.map(function(n){return t[n]})}function K$(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var J$=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,s=Yh(n,Pt(n.scroll.current,i)),l=r.frame?fS(r,Pt(r.frame.scroll.current,i)):r,d=t.displaced,u=ts({afterDragging:lf(d.all,a),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:d,forceShouldAnimate:!1}),T=ts({afterDragging:lf(d.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),R={},A={},E=[d,u,T];d.all.forEach(function(p){var f=K$(p,E);if(f){A[p]=f;return}R[p]=!0});var S=te({},t,{displaced:{all:d.all,invisible:R,visible:A}});return S},q$=function(e,t){return Pt(e.scroll.diff.displacement,t)},CS=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,a=q$(r,t),i=un(a,n.page.borderBox.center);return Pt(n.client.borderBox.center,i)},Wh=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,l=s===void 0?!1:s,d=un(r,t.page.borderBox.center),u=Ks(t.page.borderBox,d),T={target:u,destination:n,withDroppableDisplacement:i,viewport:a};return l?w$(T):jh(T)},Q$=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,s=e.viewport,l=e.previousPageBorderBoxCenter,d=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var T=Ko(r.descriptor.id,a),R=Jo(n,r),A=v$({isMovingForward:t,draggable:n,destination:r,insideDestination:T,previousImpact:i})||V$({isMovingForward:t,isInHomeList:R,draggable:n,draggables:a,destination:r,insideDestination:T,previousImpact:i,viewport:s,afterCritical:u});if(!A)return null;var E=Yd({impact:A,draggable:n,droppable:r,draggables:a,afterCritical:u}),S=Wh({draggable:n,destination:r,newPageBorderBoxCenter:E,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(S){var p=CS({pageBorderBoxCenter:E,draggable:n,viewport:s});return{clientSelection:p,impact:A,scrollJumpRequest:null}}var f=un(E,l),I=J$({impact:A,viewport:s,destination:r,draggables:a,maxScrollChange:f});return{clientSelection:d,impact:I,scrollJumpRequest:f}},Yt=function(t){var n=t.subject.active;return n||ie(!1),n},Z$=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,s=r.subject.active;if(!s)return null;var l=r.axis,d=_n(s[l.start],s[l.end]),u=Hd(a).filter(function(R){return R!==r}).filter(function(R){return R.isEnabled}).filter(function(R){return!!R.subject.active}).filter(function(R){return Gh(i.frame)(Yt(R))}).filter(function(R){var A=Yt(R);return t?s[l.crossAxisEnd]<A[l.crossAxisEnd]:A[l.crossAxisStart]<s[l.crossAxisStart]}).filter(function(R){var A=Yt(R),E=_n(A[l.start],A[l.end]);return d(A[l.start])||d(A[l.end])||E(s[l.start])||E(s[l.end])}).sort(function(R,A){var E=Yt(R)[l.crossAxisStart],S=Yt(A)[l.crossAxisStart];return t?E-S:S-E}).filter(function(R,A,E){return Yt(R)[l.crossAxisStart]===Yt(E[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var T=u.filter(function(R){var A=_n(Yt(R)[l.start],Yt(R)[l.end]);return A(n[l.line])});return T.length===1?T[0]:T.length>1?T.sort(function(R,A){return Yt(R)[l.start]-Yt(A)[l.start]})[0]:u.sort(function(R,A){var E=nf(n,rf(Yt(R))),S=nf(n,rf(Yt(A)));return E!==S?E-S:Yt(R)[l.start]-Yt(A)[l.start]})[0]},cf=function(t,n){var r=t.page.borderBox.center;return ta(t.descriptor.id,n)?un(r,n.displacedBy.point):r},e5=function(t,n){var r=t.page.borderBox;return ta(t.descriptor.id,n)?Ks(r,zo(n.displacedBy.point)):r},t5=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical,s=a.filter(function(l){return jh({target:e5(l,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,d){var u=Zi(t,gu(r,cf(l,i))),T=Zi(t,gu(r,cf(d,i)));return u<T?-1:T<u?1:l.descriptor.index-d.descriptor.index});return s[0]||null},Js=Et(function(t,n){var r=n[t.line];return{value:r,point:Ga(t.line,r)}}),n5=function(t,n,r){var a=t.axis;if(t.descriptor.mode==="virtual")return Ga(a.line,n[a.line]);var i=t.subject.page.contentBox[a.size],s=Ko(t.descriptor.id,r),l=s.reduce(function(T,R){return T+R.client.marginBox[a.size]},0),d=l+n[a.line],u=d-i;return u<=0?null:Ga(a.line,u)},kh=function(t,n){return te({},t,{scroll:te({},t.scroll,{max:n})})},$h=function(t,n,r){var a=t.frame;Jo(n,t)&&ie(!1),t.subject.withPlaceholder&&ie(!1);var i=Js(t.axis,n.displaceBy).point,s=n5(t,i,r),l={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var d=Oo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return te({},t,{subject:d})}var u=s?Pt(a.scroll.max,s):a.scroll.max,T=kh(a,u),R=Oo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:T});return te({},t,{subject:R,frame:T})},r5=function(t){var n=t.subject.withPlaceholder;n||ie(!1);var r=t.frame;if(!r){var a=Oo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return te({},t,{subject:a})}var i=n.oldFrameMaxScroll;i||ie(!1);var s=kh(r,i),l=Oo({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return te({},t,{subject:l,frame:s})},a5=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,s=e.destination,l=e.viewport,d=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:es,displacedBy:Fh,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},T=Yd({impact:u,draggable:a,droppable:s,draggables:i,afterCritical:d}),R=Jo(a,s)?s:$h(s,a,i),A=Wh({draggable:a,destination:R,newPageBorderBoxCenter:T,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return A?u:null}var E=t[s.axis.line]<=n.page.borderBox.center[s.axis.line],S=function(){var f=n.descriptor.index;return n.descriptor.id===a.descriptor.id||E?f:f+1}(),p=Js(s.axis,a.displaceBy);return Rc({draggable:a,insideDestination:r,destination:s,viewport:l,displacedBy:p,last:es,index:S})},o5=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,s=e.droppables,l=e.viewport,d=e.afterCritical,u=Z$({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:s,viewport:l});if(!u)return null;var T=Ko(u.descriptor.id,i),R=t5({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:T,afterCritical:d}),A=a5({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:i,moveRelativeTo:R,insideDestination:T,viewport:l,afterCritical:d});if(!A)return null;var E=Yd({impact:A,draggable:r,droppable:u,draggables:i,afterCritical:d}),S=CS({pageBorderBoxCenter:E,draggable:r,viewport:l});return{clientSelection:S,impact:A,scrollJumpRequest:null}},Tn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},i5=function(t,n){var r=Tn(t);return r?n[r]:null},s5=function(e){var t=e.state,n=e.type,r=i5(t.impact,t.dimensions.droppables),a=!!r,i=t.dimensions.droppables[t.critical.droppable.id],s=r||i,l=s.axis.direction,d=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(d&&!a)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",T=t.dimensions.draggables[t.critical.draggable.id],R=t.current.page.borderBoxCenter,A=t.dimensions,E=A.draggables,S=A.droppables;return d?Q$({isMovingForward:u,previousPageBorderBoxCenter:R,draggable:T,destination:s,draggables:E,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):o5({isMovingForward:u,previousPageBorderBoxCenter:R,draggable:T,isOver:s,draggables:E,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Na(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Xh(e){var t=_n(e.top,e.bottom),n=_n(e.left,e.right);return function(a){return t(a.y)&&n(a.x)}}function l5(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function c5(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map(function(s){var l=s.axis,d=Ga(s.axis.line,t.center[l.line],s.page.borderBox.center[l.crossAxisLine]);return{id:s.descriptor.id,distance:Zi(a,d)}}).sort(function(s,l){return l.distance-s.distance});return i[0]?i[0].id:null}function d5(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=Hd(r).filter(function(i){if(!i.isEnabled)return!1;var s=i.subject.active;if(!s||!l5(t,s))return!1;if(Xh(s)(t.center))return!0;var l=i.axis,d=s.center[l.crossAxisLine],u=t[l.crossAxisStart],T=t[l.crossAxisEnd],R=_n(s[l.crossAxisStart],s[l.crossAxisEnd]),A=R(u),E=R(T);return!A&&!E?!0:A?u<d:T>d});return a.length?a.length===1?a[0].descriptor.id:c5({pageBorderBox:t,draggable:n,candidates:a}):null}var zh=function(t,n){return jn(Ks(t,n))},E5=function(e,t){var n=e.frame;return n?zh(t,n.scroll.diff.value):t};function Kh(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function u5(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var T5=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,s=e.viewport,l=e.afterCritical,d=r.axis,u=Js(r.axis,n.displaceBy),T=u.value,R=t[d.start],A=t[d.end],E=Vd(n,a),S=Ta(E,function(f){var I=f.descriptor.id,O=f.page.borderBox.center[d.line],N=ta(I,l),h=Kh({displaced:i,id:I});return N?h?A<=O:R<O-T:h?A<=O+T:R<O}),p=u5({draggable:n,closest:S,inHomeList:Jo(n,r)});return Rc({draggable:n,insideDestination:a,destination:r,viewport:s,last:i,displacedBy:u,index:p})},S5=4,R5=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,s=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,d=Js(a.axis,t.displaceBy),u=d.value,T=n[l.start],R=n[l.end],A=Vd(t,i),E=Ta(A,function(p){var f=p.descriptor.id,I=p.page.borderBox,O=I[l.size],N=O/S5,h=ta(f,s),m=Kh({displaced:r.displaced,id:f});return h?m?R>I[l.start]+N&&R<I[l.end]-N:T>I[l.start]-u+N&&T<I[l.end]-u-N:m?R>I[l.start]+u+N&&R<I[l.end]+u-N:T>I[l.start]+N&&T<I[l.end]-N});if(!E)return null;var S={displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:a.descriptor.id}}};return S},Jh=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,s=e.viewport,l=e.afterCritical,d=zh(n.page.borderBox,t),u=d5({pageBorderBox:d,draggable:n,droppables:a});if(!u)return D$;var T=a[u],R=Ko(T.descriptor.id,r),A=E5(T,d);return R5({pageBorderBoxWithDroppableScroll:A,draggable:n,previousImpact:i,destination:T,insideDestination:R,afterCritical:l})||T5({pageBorderBoxWithDroppableScroll:A,draggable:n,destination:T,insideDestination:R,last:i.displaced,viewport:s,afterCritical:l})},gS=function(e,t){var n;return te({},e,(n={},n[t.descriptor.id]=t,n))},p5=function(t){var n=t.previousImpact,r=t.impact,a=t.droppables,i=Tn(n),s=Tn(r);if(!i||i===s)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var d=r5(l);return gS(a,d)},A5=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,s=p5({previousImpact:a,impact:i,droppables:r}),l=Tn(i);if(!l)return s;var d=r[l];if(Jo(t,d)||d.subject.withPlaceholder)return s;var u=$h(d,t,n);return gS(s,u)},Vi=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,s=e.scrollJumpRequest,l=a||t.viewport,d=r||t.dimensions,u=n||t.current.client.selection,T=un(u,t.initial.client.selection),R={offset:T,selection:u,borderBoxCenter:Pt(t.initial.client.borderBoxCenter,T)},A={selection:Pt(R.selection,l.scroll.current),borderBoxCenter:Pt(R.borderBoxCenter,l.scroll.current),offset:Pt(R.offset,l.scroll.diff.value)},E={client:R,page:A};if(t.phase==="COLLECTING")return te({phase:"COLLECTING"},t,{dimensions:d,viewport:l,current:E});var S=d.draggables[t.critical.draggable.id],p=i||Jh({pageOffset:A.offset,draggable:S,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),f=A5({draggable:S,impact:p,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables}),I=te({},t,{current:E,dimensions:{draggables:d.draggables,droppables:f},impact:p,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return I};function f5(e,t){return e.map(function(n){return t[n]})}var qh=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,s=t.displaced,l=f5(s.all,r),d=ts({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:s});return te({},t,{displaced:d})},Qh=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,s=e.afterCritical,l=Yd({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:s});return CS({pageBorderBoxCenter:l,draggable:n,viewport:i})},Zh=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&ie(!1);var a=t.impact,i=r||t.viewport,s=n||t.dimensions,l=s.draggables,d=s.droppables,u=l[t.critical.draggable.id],T=Tn(a);T||ie(!1);var R=d[T],A=qh({impact:a,viewport:i,destination:R,draggables:l}),E=Qh({impact:A,draggable:u,droppable:R,draggables:l,viewport:i,afterCritical:t.afterCritical});return Vi({impact:A,clientSelection:E,state:t,dimensions:s,viewport:i})},I5=function(e){return{index:e.index,droppableId:e.droppableId}},eN=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=Js(n.axis,t.displaceBy),s=Ko(n.descriptor.id,r),l=s.indexOf(t);l===-1&&ie(!1);var d=s.slice(l+1),u=d.reduce(function(E,S){return E[S.descriptor.id]=!0,E},{}),T={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:u},R=ts({afterDragging:d,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),A={displaced:R,displacedBy:i,at:{type:"REORDER",destination:I5(t.descriptor)}};return{impact:A,afterCritical:T}},O5=function(e,t){return{draggables:e.draggables,droppables:gS(e.droppables,t)}},m5=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=dc(t.client,n),i=Ec(a,r),s=te({},t,{placeholder:te({},t.placeholder,{client:a}),client:a,page:i});return s},h5=function(e){var t=e.frame;return t||ie(!1),t},N5=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(i){var s=i.descriptor.droppableId,l=n[s],d=h5(l),u=d.scroll.diff.value,T=Pt(a,u),R=m5({draggable:i,offset:T,initialWindowScroll:r.scroll.initial});return R})},C5=function(e){var t=e.state,n=e.published,r=n.modified.map(function(N){var h=t.dimensions.droppables[N.droppableId],m=fS(h,N.scroll);return m}),a=te({},t.dimensions.droppables,{},wh(r)),i=Bh(N5({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),s=te({},t.dimensions.draggables,{},i);n.removals.forEach(function(N){delete s[N]});var l={droppables:a,draggables:s},d=Tn(t.impact),u=d?l.droppables[d]:null,T=l.draggables[t.critical.draggable.id],R=l.droppables[t.critical.droppable.id],A=eN({draggable:T,home:R,draggables:s,viewport:t.viewport}),E=A.impact,S=A.afterCritical,p=u&&u.isCombineEnabled?t.impact:E,f=Jh({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:p,viewport:t.viewport,afterCritical:S}),I=te({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:f,onLiftImpact:E,dimensions:l,afterCritical:S,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return I;var O=te({phase:"DROP_PENDING"},I,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return O},_u=function(t){return t.movementMode==="SNAP"},HE=function(t,n,r){var a=O5(t.dimensions,n);return!_u(t)||r?Vi({state:t,dimensions:a}):Zh({state:t,dimensions:a})};function jE(e){return e.isDragging&&e.movementMode==="SNAP"?te({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var df={phase:"IDLE",completed:null,shouldFlush:!1},g5=function(e,t){if(e===void 0&&(e=df),t.type==="FLUSH")return te({},df,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ie(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,s=n.dimensions,l=n.movementMode,d=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],T={selection:a,borderBoxCenter:d.client.borderBox.center,offset:Ct},R={client:T,page:{selection:Pt(T.selection,i.scroll.initial),borderBoxCenter:Pt(T.selection,i.scroll.initial),offset:Pt(T.selection,i.scroll.diff.value)}},A=Hd(s.droppables).every(function(G){return!G.isFixedOnPage}),E=eN({draggable:d,home:u,draggables:s.draggables,viewport:i}),S=E.impact,p=E.afterCritical,f={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:s,initial:R,current:R,isWindowScrollAllowed:A,impact:S,afterCritical:p,onLiftImpact:S,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return f}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ie(!1);var I=te({phase:"COLLECTING"},e,{phase:"COLLECTING"});return I}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ie(!1),C5({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Na(e)||ie(!1);var O=t.payload.client;return Kr(O,e.current.client.selection)?e:Vi({state:e,clientSelection:O,impact:_u(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return jE(e);Na(e)||ie(!1);var N=t.payload,h=N.id,m=N.newScroll,g=e.dimensions.droppables[h];if(!g)return e;var _=fS(g,m);return HE(e,_,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Na(e)||ie(!1);var L=t.payload,P=L.id,v=L.isEnabled,D=e.dimensions.droppables[P];D||ie(!1),D.isEnabled===v&&ie(!1);var b=te({},D,{isEnabled:v});return HE(e,b,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Na(e)||ie(!1);var C=t.payload,y=C.id,w=C.isCombineEnabled,x=e.dimensions.droppables[y];x||ie(!1),x.isCombineEnabled===w&&ie(!1);var M=te({},x,{isCombineEnabled:w});return HE(e,M,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Na(e)||ie(!1),e.isWindowScrollAllowed||ie(!1);var B=t.payload.newScroll;if(Kr(e.viewport.scroll.current,B))return jE(e);var H=Yh(e.viewport,B);return _u(e)?Zh({state:e,viewport:H}):Vi({state:e,viewport:H})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Na(e))return e;var j=t.payload.maxScroll;if(Kr(j,e.viewport.scroll.max))return e;var X=te({},e.viewport,{scroll:te({},e.viewport.scroll,{max:j})});return te({phase:"DRAGGING"},e,{viewport:X})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ie(!1);var W=s5({state:e,type:t.type});return W?Vi({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var J=t.payload.reason;e.phase!=="COLLECTING"&&ie(!1);var q=te({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:J});return q}if(t.type==="DROP_ANIMATE"){var Z=t.payload,ce=Z.completed,Ce=Z.dropDuration,k=Z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ie(!1);var ne={phase:"DROP_ANIMATING",completed:ce,dropDuration:Ce,newHomeClientOffset:k,dimensions:e.dimensions};return ne}if(t.type==="DROP_COMPLETE"){var K=t.payload.completed;return{phase:"IDLE",completed:K,shouldFlush:!1}}return e},_5=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},L5=function(t){return{type:"LIFT",payload:t}},v5=function(t){return{type:"INITIAL_PUBLISH",payload:t}},D5=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},b5=function(){return{type:"COLLECTION_STARTING",payload:null}},P5=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},y5=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},M5=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},tN=function(t){return{type:"MOVE",payload:t}},x5=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},U5=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},w5=function(){return{type:"MOVE_UP",payload:null}},B5=function(){return{type:"MOVE_DOWN",payload:null}},F5=function(){return{type:"MOVE_RIGHT",payload:null}},G5=function(){return{type:"MOVE_LEFT",payload:null}},_S=function(){return{type:"FLUSH",payload:null}},H5=function(t){return{type:"DROP_ANIMATE",payload:t}},LS=function(t){return{type:"DROP_COMPLETE",payload:t}},nN=function(t){return{type:"DROP",payload:t}},j5=function(t){return{type:"DROP_PENDING",payload:t}},rN=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},V5=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var s=i.payload,l=s.id,d=s.clientSelection,u=s.movementMode,T=n();T.phase==="DROP_ANIMATING"&&r(LS({completed:T.completed})),n().phase!=="IDLE"&&ie(!1),r(_S()),r(_5({draggableId:l,movementMode:u}));var R={shouldPublishImmediately:u==="SNAP"},A={draggableId:l,scrollOptions:R},E=e.startPublishing(A),S=E.critical,p=E.dimensions,f=E.viewport;r(v5({critical:S,dimensions:p,clientSelection:d,movementMode:u,viewport:f}))}}}},Y5=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},vS={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ns={opacity:{drop:0,combining:.7},scale:{drop:.75}},DS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ia=DS.outOfTheWay+"s "+vS.outOfTheWay,Yi={fluid:"opacity "+Ia,snap:"transform "+Ia+", opacity "+Ia,drop:function(t){var n=t+"s "+vS.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Ia,placeholder:"height "+Ia+", width "+Ia+", margin "+Ia},Ef=function(t){return Kr(t,Ct)?null:"translate("+t.x+"px, "+t.y+"px)"},Lu={moveTo:Ef,drop:function(t,n){var r=Ef(t);return r?n?r+" scale("+ns.scale.drop+")":r:null}},vu=DS.minDropTime,aN=DS.maxDropTime,W5=aN-vu,uf=1500,k5=.6,$5=function(e){var t=e.current,n=e.destination,r=e.reason,a=Zi(t,n);if(a<=0)return vu;if(a>=uf)return aN;var i=a/uf,s=vu+W5*i,l=r==="CANCEL"?s*k5:s;return Number(l.toFixed(2))},X5=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,s=r.draggables,l=r.droppables,d=Tn(t),u=d?l[d]:null,T=l[n.descriptor.droppableId],R=Qh({impact:t,draggable:n,draggables:s,afterCritical:i,droppable:u||T,viewport:a}),A=un(R,n.client.borderBox.center);return A},z5=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var l=qh({draggables:t,impact:s,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var d=te({},r,{displaced:es});return{impact:d,didDropInsideDroppable:!0}},K5=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(a){if(a.type!=="DROP"){r(a);return}var i=t(),s=a.payload.reason;if(i.phase==="COLLECTING"){n(j5({reason:s}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&ie(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ie(!1);var d=i.critical,u=i.dimensions,T=u.draggables[i.critical.draggable.id],R=z5({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),A=R.impact,E=R.didDropInsideDroppable,S=E?OS(A):null,p=E?jd(A):null,f={index:d.draggable.index,droppableId:d.droppable.id},I={draggableId:T.descriptor.id,type:T.descriptor.type,source:f,reason:s,mode:i.movementMode,destination:S,combine:p},O=X5({impact:A,draggable:T,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),N={critical:i.critical,afterCritical:i.afterCritical,result:I,impact:A},h=!Kr(i.current.client.offset,O)||!!I.combine;if(!h){n(LS({completed:N}));return}var m=$5({current:i.current.client.offset,destination:O,reason:s}),g={newHomeClientOffset:O,dropDuration:m,completed:N};n(H5(g))}}}},oN=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function J5(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function q5(e){var t=e.onWindowScroll;function n(){t(oN())}var r=Qi(n),a=J5(r),i=zr;function s(){return i!==zr}function l(){s()&&ie(!1),i=Cn(window,[a])}function d(){s()||ie(!1),r.cancel(),i(),i=zr}return{start:l,stop:d,isActive:s}}var Q5=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Z5=function(e){var t=q5({onWindowScroll:function(r){e.dispatch(x5({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Q5(r)&&t.stop(),n(r)}}},e7=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return a.wasCalled=function(){return t},a},t7=function(){var e=[],t=function(i){var s=IS(e,function(u){return u.timerId===i});s===-1&&ie(!1);var l=e.splice(s,1),d=l[0];d.callback()},n=function(i){var s=setTimeout(function(){return t(s)}),l={timerId:s,callback:i};e.push(l)},r=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},n7=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},r7=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},a7=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,a=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&a},pi=function(t,n){n()},Al=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},VE=function(t,n,r,a){if(!t){r(a(n));return}var i=e7(r),s={announce:i};t(n,s),i.wasCalled()||r(a(n))},o7=function(e,t){var n=t7(),r=null,a=function(A,E){r&&ie(!1),pi("onBeforeCapture",function(){var S=e().onBeforeCapture;if(S){var p={draggableId:A,mode:E};S(p)}})},i=function(A,E){r&&ie(!1),pi("onBeforeDragStart",function(){var S=e().onBeforeDragStart;S&&S(Al(A,E))})},s=function(A,E){r&&ie(!1);var S=Al(A,E);r={mode:E,lastCritical:A,lastLocation:S.source,lastCombine:null},n.add(function(){pi("onDragStart",function(){return VE(e().onDragStart,S,t,Wl.onDragStart)})})},l=function(A,E){var S=OS(E),p=jd(E);r||ie(!1);var f=!a7(A,r.lastCritical);f&&(r.lastCritical=A);var I=!n7(r.lastLocation,S);I&&(r.lastLocation=S);var O=!r7(r.lastCombine,p);if(O&&(r.lastCombine=p),!(!f&&!I&&!O)){var N=te({},Al(A,r.mode),{combine:p,destination:S});n.add(function(){pi("onDragUpdate",function(){return VE(e().onDragUpdate,N,t,Wl.onDragUpdate)})})}},d=function(){r||ie(!1),n.flush()},u=function(A){r||ie(!1),r=null,pi("onDragEnd",function(){return VE(e().onDragEnd,A,t,Wl.onDragEnd)})},T=function(){if(r){var A=te({},Al(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(A)}};return{beforeCapture:a,beforeStart:i,start:s,update:l,flush:d,drop:u,abort:T}},i7=function(e,t){var n=o7(e,t);return function(r){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var s=i.payload.critical;n.beforeStart(s,i.payload.movementMode),a(i),n.start(s,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;n.flush(),a(i),n.drop(l);return}if(a(i),i.type==="FLUSH"){n.abort();return}var d=r.getState();d.phase==="DRAGGING"&&n.update(d.critical,d.impact)}}}},s7=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&ie(!1),e.dispatch(LS({completed:r.completed}))}}},l7=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&r(),a(i),i.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var d=e.getState();d.phase==="DROP_ANIMATING"&&e.dispatch(rN())}};n=requestAnimationFrame(function(){n=null,t=Cn(window,[s])})}}}},c7=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},d7=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},E7=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},u7=function(e){return function(t){return function(n){return function(r){if(E7(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var a=t.getState();a.phase!=="DRAGGING"&&ie(!1),e.start(a);return}n(r),e.scroll(t.getState())}}}},T7=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(nN({reason:r.reason})))}}}},S7=RC,R7=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,a=e.getResponders,i=e.announce,s=e.autoScroller;return TC(g5,S7(SC(Y5(r),c7(t),V5(t),K5,s7,l7,T7,u7(s),Z5,d7(n),i7(a,i))))},YE=function(){return{additions:{},removals:{},modified:{}}};function p7(e){var t=e.registry,n=e.callbacks,r=YE(),a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var T=r,R=T.additions,A=T.removals,E=T.modified,S=Object.keys(R).map(function(I){return t.draggable.getById(I).getDimension(Ct)}).sort(function(I,O){return I.descriptor.index-O.descriptor.index}),p=Object.keys(E).map(function(I){var O=t.droppable.getById(I),N=O.callbacks.getScrollWhileDragging();return{droppableId:I,scroll:N}}),f={additions:S,removals:Object.keys(A),modified:p};r=YE(),n.publish(f)}))},s=function(T){var R=T.descriptor.id;r.additions[R]=T,r.modified[T.descriptor.droppableId]=!0,r.removals[R]&&delete r.removals[R],i()},l=function(T){var R=T.descriptor;r.removals[R.id]=!0,r.modified[R.droppableId]=!0,r.additions[R.id]&&delete r.additions[R.id],i()},d=function(){a&&(cancelAnimationFrame(a),a=null,r=YE())};return{add:s,remove:l,stop:d}}var iN=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=un({x:n,y:t},{x:a,y:r}),s={x:Math.max(0,i.x),y:Math.max(0,i.y)};return s},sN=function(){var e=document.documentElement;return e||ie(!1),e},lN=function(){var e=sN(),t=iN({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},A7=function(){var e=oN(),t=lN(),n=e.y,r=e.x,a=sN(),i=a.clientWidth,s=a.clientHeight,l=r+i,d=n+s,u=jn({top:n,left:r,right:l,bottom:d}),T={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Ct,displacement:Ct}}};return T},f7=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,a=A7(),i=a.scroll.current,s=t.droppable,l=r.droppable.getAllByType(s.type).map(function(R){return R.callbacks.getDimensionAndWatchScroll(i,n)}),d=r.draggable.getAllByType(t.draggable.type).map(function(R){return R.getDimension(i)}),u={draggables:Bh(d),droppables:wh(l)},T={dimensions:u,critical:t,viewport:a};return T};function Tf(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var I7=function(e,t){var n=null,r=p7({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(E,S){e.droppable.exists(E)||ie(!1),n&&t.updateDroppableIsEnabled({id:E,isEnabled:S})},i=function(E,S){n&&(e.droppable.exists(E)||ie(!1),t.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:S}))},s=function(E,S){n&&(e.droppable.exists(E)||ie(!1),t.updateDroppableScroll({id:E,newScroll:S}))},l=function(E,S){n&&e.droppable.getById(E).callbacks.scroll(S)},d=function(){if(n){r.stop();var E=n.critical.droppable;e.droppable.getAllByType(E.type).forEach(function(S){return S.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(E){n||ie(!1);var S=n.critical.draggable;E.type==="ADDITION"&&Tf(e,S,E.value)&&r.add(E.value),E.type==="REMOVAL"&&Tf(e,S,E.value)&&r.remove(E.value)},T=function(E){n&&ie(!1);var S=e.draggable.getById(E.draggableId),p=e.droppable.getById(S.descriptor.droppableId),f={draggable:S.descriptor,droppable:p.descriptor},I=e.subscribe(u);return n={critical:f,unsubscribe:I},f7({critical:f,registry:e,scrollOptions:E.scrollOptions})},R={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:s,startPublishing:T,stopPublishing:d};return R},cN=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},O7=function(e){window.scrollBy(e.x,e.y)},m7=Et(function(e){return Hd(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),h7=function(t,n){var r=Ta(m7(n),function(a){return a.frame||ie(!1),Xh(a.frame.pageMarginBox)(t)});return r},N7=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=h7(t,r);return i},Jr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},C7=function(e,t){var n=e[t.size]*Jr.startFromPercentage,r=e[t.size]*Jr.maxScrollAtPercentage,a={startScrollingFrom:n,maxScrollValueAt:r};return a},dN=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;if(a===0)return 0;var i=r-t,s=i/a;return s},bS=1,g7=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Jr.maxPixelScroll;if(e===t.startScrollingFrom)return bS;var n=dN({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,a=Jr.maxPixelScroll*Jr.ease(r);return Math.ceil(a)},Sf=Jr.durationDampening.accelerateAt,Rf=Jr.durationDampening.stopDampeningAt,_7=function(e,t){var n=t,r=Rf,a=Date.now(),i=a-n;if(i>=Rf)return e;if(i<Sf)return bS;var s=dN({startOfRange:Sf,endOfRange:r,current:i}),l=e*Jr.ease(s);return Math.ceil(l)},pf=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=g7(t,n);return i===0?0:a?Math.max(_7(i,r),bS):i},Af=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,s=C7(t,a),l=n[a.end]<n[a.start];return l?pf({distanceToEdge:n[a.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i}):-1*pf({distanceToEdge:n[a.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i})},L7=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return!i&&!a?r:i&&a?null:{x:i?0:r.x,y:a?0:r.y}},v7=xh(function(e){return e===0?0:e}),EN=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,s={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=Af({container:n,distanceToEdges:s,dragStartTime:t,axis:mS,shouldUseTimeDampening:i}),d=Af({container:n,distanceToEdges:s,dragStartTime:t,axis:Hh,shouldUseTimeDampening:i}),u=v7({x:d,y:l});if(Kr(u,Ct))return null;var T=L7({container:n,subject:r,proposedScroll:u});return T?Kr(T,Ct)?null:T:null},D7=xh(function(e){return e===0?0:e>0?1:-1}),PS=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,a=t.change,i=Pt(n,a),s={x:e(i.x,r.x),y:e(i.y,r.y)};return Kr(s,Ct)?null:s}}(),uN=function(t){var n=t.max,r=t.current,a=t.change,i={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=D7(a),l=PS({max:i,current:r,change:s});return!l||s.x!==0&&l.x===0||s.y!==0&&l.y===0},yS=function(t,n){return uN({current:t.scroll.current,max:t.scroll.max,change:n})},b7=function(t,n){if(!yS(t,n))return null;var r=t.scroll.max,a=t.scroll.current;return PS({current:a,max:r,change:n})},MS=function(t,n){var r=t.frame;return r?uN({current:r.scroll.current,max:r.scroll.max,change:n}):!1},P7=function(t,n){var r=t.frame;return!r||!MS(t,n)?null:PS({current:r.scroll.current,max:r.scroll.max,change:n})},y7=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=EN({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return s&&yS(t,s)?s:null},M7=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var l=EN({dragStartTime:a,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&MS(t,l)?l:null},ff=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],d=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,T=y7({dragStartTime:n,viewport:u,subject:d,center:s,shouldUseTimeDampening:r});if(T){a(T);return}}var R=N7({center:s,destination:Tn(t.impact),droppables:t.dimensions.droppables});if(R){var A=M7({dragStartTime:n,droppable:R,subject:d,center:s,shouldUseTimeDampening:r});A&&i(R.descriptor.id,A)}},x7=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Qi(t),a=Qi(n),i=null,s=function(T){i||ie(!1);var R=i,A=R.shouldUseTimeDampening,E=R.dragStartTime;ff({state:T,scrollWindow:r,scrollDroppable:a,dragStartTime:E,shouldUseTimeDampening:A})},l=function(T){i&&ie(!1);var R=Date.now(),A=!1,E=function(){A=!0};ff({state:T,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E}),i={dragStartTime:R,shouldUseTimeDampening:A},A&&s(T)},d=function(){i&&(r.cancel(),a.cancel(),i=null)};return{start:l,stop:d,scroll:s}},U7=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(u,T){var R=Pt(u.current.client.selection,T);t({client:R})},i=function(u,T){if(!MS(u,T))return T;var R=P7(u,T);if(!R)return n(u.descriptor.id,T),null;var A=un(T,R);n(u.descriptor.id,A);var E=un(T,A);return E},s=function(u,T,R){if(!u||!yS(T,R))return R;var A=b7(T,R);if(!A)return r(R),null;var E=un(R,A);r(E);var S=un(R,E);return S},l=function(u){var T=u.scrollJumpRequest;if(T){var R=Tn(u.impact);R||ie(!1);var A=i(u.dimensions.droppables[R],T);if(A){var E=u.viewport,S=s(u.isWindowScrollAllowed,E,A);S&&a(u,S)}}};return l},w7=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=x7({scrollWindow:n,scrollDroppable:t}),i=U7({move:r,scrollWindow:n,scrollDroppable:t}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:s,start:a.start,stop:a.stop};return l},mo="data-rbd",ho=function(){var e=mo+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Du=function(){var e=mo+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),B7=function(){var e=mo+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),If={contextId:mo+"-scroll-container-context-id"},F7=function(t){return function(n){return"["+n+'="'+t+'"]'}},Ai=function(t,n){return t.map(function(r){var a=r.styles[n];return a?r.selector+" { "+a+" }":""}).join(" ")},G7="pointer-events: none;",H7=function(e){var t=F7(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ho.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:G7,dropAnimating:l}}}(),r=function(){var l=`
      transition: `+Yi.outOfTheWay+`;
    `;return{selector:t(Du.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(B7.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,a,i];return{always:Ai(s,"always"),resting:Ai(s,"resting"),dragging:Ai(s,"dragging"),dropAnimating:Ai(s,"dropAnimating"),userCancel:Ai(s,"userCancel")}},Sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect,WE=function(){var t=document.querySelector("head");return t||ie(!1),t},Of=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function j7(e,t){var n=Ye(function(){return H7(e)},[e]),r=c.useRef(null),a=c.useRef(null),i=Oe(Et(function(R){var A=a.current;A||ie(!1),A.textContent=R}),[]),s=Oe(function(R){var A=r.current;A||ie(!1),A.textContent=R},[]);Sn(function(){!r.current&&!a.current||ie(!1);var R=Of(t),A=Of(t);return r.current=R,a.current=A,R.setAttribute(mo+"-always",e),A.setAttribute(mo+"-dynamic",e),WE().appendChild(R),WE().appendChild(A),s(n.always),i(n.resting),function(){var E=function(p){var f=p.current;f||ie(!1),WE().removeChild(f),p.current=null};E(r),E(a)}},[t,s,i,n.always,n.resting,e]);var l=Oe(function(){return i(n.dragging)},[i,n.dragging]),d=Oe(function(R){if(R==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=Oe(function(){a.current&&i(n.resting)},[i,n.resting]),T=Ye(function(){return{dragging:l,dropping:d,resting:u}},[l,d,u]);return T}var TN=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Wd(e){return e instanceof TN(e).HTMLElement}function V7(e,t){var n="["+ho.contextId+'="'+e+'"]',r=Uh(document.querySelectorAll(n));if(!r.length)return null;var a=Ta(r,function(i){return i.getAttribute(ho.draggableId)===t});return!a||!Wd(a)?null:a}function Y7(e){var t=c.useRef({}),n=c.useRef(null),r=c.useRef(null),a=c.useRef(!1),i=Oe(function(A,E){var S={id:A,focus:E};return t.current[A]=S,function(){var f=t.current,I=f[A];I!==S&&delete f[A]}},[]),s=Oe(function(A){var E=V7(e,A);E&&E!==document.activeElement&&E.focus()},[e]),l=Oe(function(A,E){n.current===A&&(n.current=E)},[]),d=Oe(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var A=n.current;A&&s(A)}))},[s]),u=Oe(function(A){n.current=null;var E=document.activeElement;E&&E.getAttribute(ho.draggableId)===A&&(n.current=A)},[]);Sn(function(){return a.current=!0,function(){a.current=!1;var A=r.current;A&&cancelAnimationFrame(A)}},[]);var T=Ye(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:d,tryShiftRecord:l}},[i,u,d,l]);return T}function W7(){var e={draggables:{},droppables:{}},t=[];function n(R){return t.push(R),function(){var E=t.indexOf(R);E!==-1&&t.splice(E,1)}}function r(R){t.length&&t.forEach(function(A){return A(R)})}function a(R){return e.draggables[R]||null}function i(R){var A=a(R);return A||ie(!1),A}var s={register:function(A){e.draggables[A.descriptor.id]=A,r({type:"ADDITION",value:A})},update:function(A,E){var S=e.draggables[E.descriptor.id];S&&S.uniqueId===A.uniqueId&&(delete e.draggables[E.descriptor.id],e.draggables[A.descriptor.id]=A)},unregister:function(A){var E=A.descriptor.id,S=a(E);S&&A.uniqueId===S.uniqueId&&(delete e.draggables[E],r({type:"REMOVAL",value:A}))},getById:i,findById:a,exists:function(A){return!!a(A)},getAllByType:function(A){return Sc(e.draggables).filter(function(E){return E.descriptor.type===A})}};function l(R){return e.droppables[R]||null}function d(R){var A=l(R);return A||ie(!1),A}var u={register:function(A){e.droppables[A.descriptor.id]=A},unregister:function(A){var E=l(A.descriptor.id);E&&A.uniqueId===E.uniqueId&&delete e.droppables[A.descriptor.id]},getById:d,findById:l,exists:function(A){return!!l(A)},getAllByType:function(A){return Sc(e.droppables).filter(function(E){return E.descriptor.type===A})}};function T(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:n,clean:T}}function k7(){var e=Ye(W7,[]);return c.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var xS=$e.createContext(null),pc=function(){var e=document.body;return e||ie(!1),e},$7={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},X7=function(t){return"rbd-announcement-"+t};function z7(e){var t=Ye(function(){return X7(e)},[e]),n=c.useRef(null);c.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),te(i.style,$7),pc().appendChild(i),function(){setTimeout(function(){var d=pc();d.contains(i)&&d.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var r=Oe(function(a){var i=n.current;if(i){i.textContent=a;return}},[]);return r}var K7=0,J7={separator:"::"};function US(e,t){return t===void 0&&(t=J7),Ye(function(){return""+e+t.separator+K7++},[t.separator,e])}function q7(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function Q7(e){var t=e.contextId,n=e.text,r=US("hidden-text",{separator:"-"}),a=Ye(function(){return q7({contextId:t,uniqueId:r})},[r,t]);return c.useEffect(function(){var s=document.createElement("div");return s.id=a,s.textContent=n,s.style.display="none",pc().appendChild(s),function(){var d=pc();d.contains(s)&&d.removeChild(s)}},[a,n]),a}var kd=$e.createContext(null);function SN(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e}),t}function Z7(){var e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&ie(!1);var l={abandon:s};return e=l,l}function a(){e||ie(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:n,claim:r,release:a,tryAbandon:i}}var eX=9,tX=13,wS=27,RN=32,nX=33,rX=34,aX=35,oX=36,iX=37,sX=38,lX=39,cX=40,fl,dX=(fl={},fl[tX]=!0,fl[eX]=!0,fl),pN=function(e){dX[e.keyCode]&&e.preventDefault()},$d=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Ta(t,function(r){return"on"+r in document});return n||e}(),AN=0,mf=5;function EX(e,t){return Math.abs(t.x-e.x)>=mf||Math.abs(t.y-e.y)>=mf}var hf={type:"IDLE"};function uX(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(s){var l=s.button,d=s.clientX,u=s.clientY;if(l===AN){var T={x:d,y:u},R=r();if(R.type==="DRAGGING"){s.preventDefault(),R.actions.move(T);return}R.type!=="PENDING"&&ie(!1);var A=R.point;if(EX(A,T)){s.preventDefault();var E=R.actions.fluidLift(T);a({type:"DRAGGING",actions:E})}}}},{eventName:"mouseup",fn:function(s){var l=r();if(l.type!=="DRAGGING"){t();return}s.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var l=r();if(l.type==="PENDING"){t();return}if(s.keyCode===wS){s.preventDefault(),t();return}pN(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var l=r();if(l.type==="IDLE"&&ie(!1),l.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:$d,fn:t}]}function TX(e){var t=c.useRef(hf),n=c.useRef(zr),r=Ye(function(){return{eventName:"mousedown",fn:function(R){if(!R.defaultPrevented&&R.button===AN&&!(R.ctrlKey||R.metaKey||R.shiftKey||R.altKey)){var A=e.findClosestDraggableId(R);if(A){var E=e.tryGetLock(A,s,{sourceEvent:R});if(E){R.preventDefault();var S={x:R.clientX,y:R.clientY};n.current(),u(E,S)}}}}}},[e]),a=Ye(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(R){if(!R.defaultPrevented){var A=e.findClosestDraggableId(R);if(A){var E=e.findOptionsForDraggable(A);E&&(E.shouldRespectForcePress||e.canGetLock(A)&&R.preventDefault())}}}}},[e]),i=Oe(function(){var R={passive:!1,capture:!0};n.current=Cn(window,[a,r],R)},[a,r]),s=Oe(function(){var T=t.current;T.type!=="IDLE"&&(t.current=hf,n.current(),i())},[i]),l=Oe(function(){var T=t.current;s(),T.type==="DRAGGING"&&T.actions.cancel({shouldBlockNextClick:!0}),T.type==="PENDING"&&T.actions.abort()},[s]),d=Oe(function(){var R={capture:!0,passive:!1},A=uX({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(S){t.current=S}});n.current=Cn(window,A,R)},[l,s]),u=Oe(function(R,A){t.current.type!=="IDLE"&&ie(!1),t.current={type:"PENDING",point:A,actions:R},d()},[d]);Sn(function(){return i(),function(){n.current()}},[i])}var ro;function SX(){}var RX=(ro={},ro[rX]=!0,ro[nX]=!0,ro[oX]=!0,ro[aX]=!0,ro);function pX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===wS){i.preventDefault(),n();return}if(i.keyCode===RN){i.preventDefault(),r();return}if(i.keyCode===cX){i.preventDefault(),e.moveDown();return}if(i.keyCode===sX){i.preventDefault(),e.moveUp();return}if(i.keyCode===lX){i.preventDefault(),e.moveRight();return}if(i.keyCode===iX){i.preventDefault(),e.moveLeft();return}if(RX[i.keyCode]){i.preventDefault();return}pN(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:$d,fn:n}]}function AX(e){var t=c.useRef(SX),n=Ye(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==RN)return;var s=e.findClosestDraggableId(i);if(!s)return;var l=e.tryGetLock(s,T,{sourceEvent:i});if(!l)return;i.preventDefault();var d=!0,u=l.snapLift();t.current();function T(){d||ie(!1),d=!1,t.current(),r()}t.current=Cn(window,pX(u,T),{capture:!0,passive:!1})}}},[e]),r=Oe(function(){var i={passive:!1,capture:!0};t.current=Cn(window,[n],i)},[n]);Sn(function(){return r(),function(){t.current()}},[r])}var kE={type:"IDLE"},fX=120,IX=.15;function OX(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.keyCode===wS&&a.preventDefault(),t()}},{eventName:$d,fn:t}]}function mX(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var l=i.touches[0],d=l.clientX,u=l.clientY,T={x:d,y:u};i.preventDefault(),s.actions.move(T)}},{eventName:"touchend",fn:function(i){var s=r();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var s=r();s.type==="IDLE"&&ie(!1);var l=i.touches[0];if(l){var d=l.force>=IX;if(d){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&t();return}if(u){if(s.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:$d,fn:t}]}function hX(e){var t=c.useRef(kE),n=c.useRef(zr),r=Oe(function(){return t.current},[]),a=Oe(function(E){t.current=E},[]),i=Ye(function(){return{eventName:"touchstart",fn:function(E){if(!E.defaultPrevented){var S=e.findClosestDraggableId(E);if(S){var p=e.tryGetLock(S,l,{sourceEvent:E});if(p){var f=E.touches[0],I=f.clientX,O=f.clientY,N={x:I,y:O};n.current(),R(p,N)}}}}}},[e]),s=Oe(function(){var E={capture:!0,passive:!1};n.current=Cn(window,[i],E)},[i]),l=Oe(function(){var A=t.current;A.type!=="IDLE"&&(A.type==="PENDING"&&clearTimeout(A.longPressTimerId),a(kE),n.current(),s())},[s,a]),d=Oe(function(){var A=t.current;l(),A.type==="DRAGGING"&&A.actions.cancel({shouldBlockNextClick:!0}),A.type==="PENDING"&&A.actions.abort()},[l]),u=Oe(function(){var E={capture:!0,passive:!1},S={cancel:d,completed:l,getPhase:r},p=Cn(window,mX(S),E),f=Cn(window,OX(S),E);n.current=function(){p(),f()}},[d,r,l]),T=Oe(function(){var E=r();E.type!=="PENDING"&&ie(!1);var S=E.actions.fluidLift(E.point);a({type:"DRAGGING",actions:S,hasMoved:!1})},[r,a]),R=Oe(function(E,S){r().type!=="IDLE"&&ie(!1);var p=setTimeout(T,fX);a({type:"PENDING",point:S,actions:E,longPressTimerId:p}),u()},[u,r,a,T]);Sn(function(){return s(),function(){n.current();var S=r();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),a(kE))}},[r,s,a]),Sn(function(){var E=Cn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return E},[])}var NX={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function fN(e,t){if(t==null)return!1;var n=!!NX[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:fN(e,t.parentElement)}function CX(e,t){var n=t.target;return Wd(n)?fN(e,n):!1}var gX=function(e){return jn(e.getBoundingClientRect()).center};function _X(e){return e instanceof TN(e).Element}var LX=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Ta(t,function(r){return r in Element.prototype});return n||e}();function IN(e,t){return e==null?null:e[LX](t)?e:IN(e.parentElement,t)}function vX(e,t){return e.closest?e.closest(t):IN(e,t)}function DX(e){return"["+ho.contextId+'="'+e+'"]'}function bX(e,t){var n=t.target;if(!_X(n))return null;var r=DX(e),a=vX(n,r);return!a||!Wd(a)?null:a}function PX(e,t){var n=bX(e,t);return n?n.getAttribute(ho.draggableId):null}function yX(e,t){var n="["+Du.contextId+'="'+e+'"]',r=Uh(document.querySelectorAll(n)),a=Ta(r,function(i){return i.getAttribute(Du.id)===t});return!a||!Wd(a)?null:a}function MX(e){e.preventDefault()}function Il(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function ON(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!(!i||!i.options.isEnabled||!cN(n.getState(),a))}function xX(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,s=e.forceSensorStop,l=e.sourceEvent,d=ON({lockAPI:t,store:r,registry:a,draggableId:i});if(!d)return null;var u=a.draggable.getById(i),T=yX(n,u.descriptor.id);if(!T||l&&!u.options.canDragInteractiveElements&&CX(T,l))return null;var R=t.claim(s||zr),A="PRE_DRAG";function E(){return u.options.shouldRespectForcePress}function S(){return t.isActive(R)}function p(g,_){Il({expected:g,phase:A,isLockActive:S,shouldWarn:!0})&&r.dispatch(_())}var f=p.bind(null,"DRAGGING");function I(g){function _(){t.release(),A="COMPLETED"}A!=="PRE_DRAG"&&(_(),A!=="PRE_DRAG"&&ie(!1)),r.dispatch(L5(g.liftActionArgs)),A="DRAGGING";function L(P,v){if(v===void 0&&(v={shouldBlockNextClick:!1}),g.cleanup(),v.shouldBlockNextClick){var D=Cn(window,[{eventName:"click",fn:MX,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}_(),r.dispatch(nN({reason:P}))}return te({isActive:function(){return Il({expected:"DRAGGING",phase:A,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:E,drop:function(v){return L("DROP",v)},cancel:function(v){return L("CANCEL",v)}},g.actions)}function O(g){var _=Qi(function(P){f(function(){return tN({client:P})})}),L=I({liftActionArgs:{id:i,clientSelection:g,movementMode:"FLUID"},cleanup:function(){return _.cancel()},actions:{move:_}});return te({},L,{move:_})}function N(){var g={moveUp:function(){return f(w5)},moveRight:function(){return f(F5)},moveDown:function(){return f(B5)},moveLeft:function(){return f(G5)}};return I({liftActionArgs:{id:i,clientSelection:gX(T),movementMode:"SNAP"},cleanup:zr,actions:g})}function h(){var g=Il({expected:"PRE_DRAG",phase:A,isLockActive:S,shouldWarn:!0});g&&t.release()}var m={isActive:function(){return Il({expected:"PRE_DRAG",phase:A,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:E,fluidLift:O,snapLift:N,abort:h};return m}var UX=[TX,AX,hX];function wX(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?UX:[],a||[]),l=c.useState(function(){return Z7()})[0],d=Oe(function(O,N){O.isDragging&&!N.isDragging&&l.tryAbandon()},[l]);Sn(function(){var O=n.getState(),N=n.subscribe(function(){var h=n.getState();d(O,h),O=h});return N},[l,n,d]),Sn(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=Oe(function(I){return ON({lockAPI:l,registry:r,store:n,draggableId:I})},[l,r,n]),T=Oe(function(I,O,N){return xX({lockAPI:l,registry:r,contextId:t,store:n,draggableId:I,forceSensorStop:O,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null})},[t,l,r,n]),R=Oe(function(I){return PX(t,I)},[t]),A=Oe(function(I){var O=r.draggable.findById(I);return O?O.options:null},[r.draggable]),E=Oe(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(_S()))},[l,n]),S=Oe(l.isClaimed,[l]),p=Ye(function(){return{canGetLock:u,tryGetLock:T,findClosestDraggableId:R,findOptionsForDraggable:A,tryReleaseLock:E,isLockClaimed:S}},[u,T,R,A,E,S]),f=0;f<s.length;f++)s[f](p)}var BX=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function fi(e){return e.current||ie(!1),e.current}function FX(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,s=c.useRef(null),l=SN(e),d=Oe(function(){return BX(l.current)},[l]),u=z7(t),T=Q7({contextId:t,text:i}),R=j7(t,a),A=Oe(function(P){fi(s).dispatch(P)},[]),E=Ye(function(){return zS({publishWhileDragging:D5,updateDroppableScroll:P5,updateDroppableIsEnabled:y5,updateDroppableIsCombineEnabled:M5,collectionStarting:b5},A)},[A]),S=k7(),p=Ye(function(){return I7(S,E)},[S,E]),f=Ye(function(){return w7(te({scrollWindow:O7,scrollDroppable:p.scrollDroppable},zS({move:tN},A)))},[p.scrollDroppable,A]),I=Y7(t),O=Ye(function(){return R7({announce:u,autoScroller:f,dimensionMarshal:p,focusMarshal:I,getResponders:d,styleMarshal:R})},[u,f,p,I,d,R]);s.current=O;var N=Oe(function(){var P=fi(s),v=P.getState();v.phase!=="IDLE"&&P.dispatch(_S())},[]),h=Oe(function(){var P=fi(s).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),m=Ye(function(){return{isDragging:h,tryAbort:N}},[h,N]);n(m);var g=Oe(function(P){return cN(fi(s).getState(),P)},[]),_=Oe(function(){return Na(fi(s).getState())},[]),L=Ye(function(){return{marshal:p,focus:I,contextId:t,canLift:g,isMovementAllowed:_,dragHandleUsageInstructionsId:T,registry:S}},[t,p,T,I,g,_,S]);return wX({contextId:t,store:O,registry:S,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),c.useEffect(function(){return N},[N]),$e.createElement(kd.Provider,{value:L},$e.createElement(mk,{context:xS,store:O},e.children))}var GX=0;function HX(){return Ye(function(){return""+GX++},[])}function jX(e){var t=HX(),n=e.dragHandleUsageInstructions||Wl.dragHandleUsageInstructions;return $e.createElement(A$,null,function(r){return $e.createElement(FX,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var mN=function(t){return function(n){return t===n}},VX=mN("scroll"),YX=mN("auto"),Nf=function(t,n){return n(t.overflowX)||n(t.overflowY)},WX=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return Nf(r,VX)||Nf(r,YX)},kX=function(){return!1},$X=function e(t){return t==null?null:t===document.body?kX()?t:null:t===document.documentElement?null:WX(t)?t:e(t.parentElement)},bu=function(e){return{x:e.scrollLeft,y:e.scrollTop}},XX=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},zX=function(e){var t=$X(e),n=XX(e);return{closestScrollable:t,isFixedOnPage:n}},KX=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,s=e.client,l=e.page,d=e.closest,u=function(){if(!d)return null;var E=d.scrollSize,S=d.client,p=iN({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:S,scrollSize:E,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:p,diff:{value:Ct,displacement:Ct}}}}(),T=i==="vertical"?mS:Hh,R=Oo({page:l,withPlaceholder:null,axis:T,frame:u}),A={descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:T,isEnabled:n,client:s,page:l,frame:u,subject:R};return A},JX=function(t,n){var r=bh(t);if(!n||t!==n)return r;var a=r.paddingBox.top-n.scrollTop,i=r.paddingBox.left-n.scrollLeft,s=a+n.scrollHeight,l=i+n.scrollWidth,d={top:a,right:l,bottom:s,left:i},u=pS(d,r.border),T=AS({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return T},qX=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,s=e.isDropDisabled,l=e.isCombineEnabled,d=e.shouldClipSubject,u=r.closestScrollable,T=JX(t,u),R=Ec(T,a),A=function(){if(!u)return null;var S=bh(u),p={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:S,page:Ec(S,a),scroll:bu(u),scrollSize:p,shouldClipSubject:d}}(),E=KX({descriptor:n,isEnabled:!s,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:T,page:R,closest:A});return E},QX={passive:!1},ZX={passive:!0},Cf=function(e){return e.shouldPublishImmediately?QX:ZX};function Ac(e){var t=c.useContext(e);return t||ie(!1),t}var Ol=function(t){return t&&t.env.closestScrollable||null};function e9(e){var t=c.useRef(null),n=Ac(kd),r=US("droppable"),a=n.registry,i=n.marshal,s=SN(e),l=Ye(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),d=c.useRef(l),u=Ye(function(){return Et(function(h,m){t.current||ie(!1);var g={x:h,y:m};i.updateDroppableScroll(l.id,g)})},[l.id,i]),T=Oe(function(){var h=t.current;return!h||!h.env.closestScrollable?Ct:bu(h.env.closestScrollable)},[]),R=Oe(function(){var h=T();u(h.x,h.y)},[T,u]),A=Ye(function(){return Qi(R)},[R]),E=Oe(function(){var h=t.current,m=Ol(h);h&&m||ie(!1);var g=h.scrollOptions;if(g.shouldPublishImmediately){R();return}A()},[A,R]),S=Oe(function(h,m){t.current&&ie(!1);var g=s.current,_=g.getDroppableRef();_||ie(!1);var L=zX(_),P={ref:_,descriptor:l,env:L,scrollOptions:m};t.current=P;var v=qX({ref:_,descriptor:l,env:L,windowScroll:h,direction:g.direction,isDropDisabled:g.isDropDisabled,isCombineEnabled:g.isCombineEnabled,shouldClipSubject:!g.ignoreContainerClipping}),D=L.closestScrollable;return D&&(D.setAttribute(If.contextId,n.contextId),D.addEventListener("scroll",E,Cf(P.scrollOptions))),v},[n.contextId,l,E,s]),p=Oe(function(){var h=t.current,m=Ol(h);return h&&m||ie(!1),bu(m)},[]),f=Oe(function(){var h=t.current;h||ie(!1);var m=Ol(h);t.current=null,m&&(A.cancel(),m.removeAttribute(If.contextId),m.removeEventListener("scroll",E,Cf(h.scrollOptions)))},[E,A]),I=Oe(function(h){var m=t.current;m||ie(!1);var g=Ol(m);g||ie(!1),g.scrollTop+=h.y,g.scrollLeft+=h.x},[]),O=Ye(function(){return{getDimensionAndWatchScroll:S,getScrollWhileDragging:p,dragStopped:f,scroll:I}},[f,S,p,I]),N=Ye(function(){return{uniqueId:r,descriptor:l,callbacks:O}},[O,l,r]);Sn(function(){return d.current=N.descriptor,a.droppable.register(N),function(){t.current&&f(),a.droppable.unregister(N)}},[O,l,f,N,i,a.droppable]),Sn(function(){t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Sn(function(){t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function $E(){}var gf={width:0,height:0,margin:N$},t9=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate;return n||a==="close"?gf:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},n9=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,a=t.animate,i=t9({isAnimatingOpenOnMount:n,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Yi.placeholder:null}};function r9(e){var t=c.useRef(null),n=Oe(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,s=e.contextId,l=c.useState(e.animate==="open"),d=l[0],u=l[1];c.useEffect(function(){return d?r!=="open"?(n(),u(!1),$E):t.current?$E:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):$E},[r,d,n]);var T=Oe(function(A){A.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),R=n9({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return $e.createElement(e.placeholder.tagName,{style:R,"data-rbd-placeholder-context-id":s,onTransitionEnd:T,ref:e.innerRef})}var a9=$e.memo(r9),BS=$e.createContext(null),o9=function(e){ju(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}($e.PureComponent),_f={dragging:5e3,dropAnimating:4500},i9=function(t,n){return n?Yi.drop(n.duration):t?Yi.snap:Yi.fluid},s9=function(t,n){return t?n?ns.opacity.drop:ns.opacity.combining:null},l9=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function c9(e){var t=e.dimension,n=t.client,r=e.offset,a=e.combineWith,i=e.dropping,s=!!a,l=l9(e),d=!!i,u=d?Lu.drop(r,s):Lu.moveTo(r),T={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:i9(l,i),transform:u,opacity:s9(s,d),zIndex:d?_f.dropAnimating:_f.dragging,pointerEvents:"none"};return T}function d9(e){return{transform:Lu.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function E9(e){return e.type==="DRAGGING"?c9(e):d9(e)}function u9(e,t,n){n===void 0&&(n=Ct);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Dh(a,r),s=Ec(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},d={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:d,client:i,page:s};return u}function T9(e){var t=US("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,d=Ye(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}},[i,l,s]),u=Oe(function(E){var S=a();return S||ie(!1),u9(n,S,E)},[n,a]),T=Ye(function(){return{uniqueId:t,descriptor:n,options:d,getDimension:u}},[n,u,d,t]),R=c.useRef(T),A=c.useRef(!0);Sn(function(){return r.draggable.register(R.current),function(){return r.draggable.unregister(R.current)}},[r.draggable]),Sn(function(){if(A.current){A.current=!1;return}var E=R.current;R.current=T,r.draggable.update(T,E)},[T,r.draggable])}function S9(e){e.preventDefault()}function R9(e){var t=c.useRef(null),n=Oe(function(P){t.current=P},[]),r=Oe(function(){return t.current},[]),a=Ac(kd),i=a.contextId,s=a.dragHandleUsageInstructionsId,l=a.registry,d=Ac(BS),u=d.type,T=d.droppableId,R=Ye(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:T}},[e.draggableId,e.index,u,T]),A=e.children,E=e.draggableId,S=e.isEnabled,p=e.shouldRespectForcePress,f=e.canDragInteractiveElements,I=e.isClone,O=e.mapped,N=e.dropAnimationFinished;if(!I){var h=Ye(function(){return{descriptor:R,registry:l,getDraggableRef:r,canDragInteractiveElements:f,shouldRespectForcePress:p,isEnabled:S}},[R,l,r,f,p,S]);T9(h)}var m=Ye(function(){return S?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":E,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:S9}:null},[i,s,E,S]),g=Oe(function(P){O.type==="DRAGGING"&&O.dropping&&P.propertyName==="transform"&&N()},[N,O]),_=Ye(function(){var P=E9(O),v=O.type==="DRAGGING"&&O.dropping?g:null,D={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":E,style:P,onTransitionEnd:v},dragHandleProps:m};return D},[i,m,E,O,g,n]),L=Ye(function(){return{draggableId:R.id,type:R.type,source:{index:R.index,droppableId:R.droppableId}}},[R.droppableId,R.id,R.index,R.type]);return A(_,O.snapshot,L)}var hN=function(e,t){return e===t},NN=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},p9=function(t){return t.combine?t.combine.draggableId:null},A9=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function f9(){var e=Et(function(a,i){return{x:a,y:i}}),t=Et(function(a,i,s,l,d){return{isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:s,combineWith:l,combineTargetFor:null}}),n=Et(function(a,i,s,l,d,u,T){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:u,mode:i,offset:a,dimension:s,forceShouldAnimate:T,snapshot:t(i,l,d,u,null)}}}),r=function(i,s){if(i.isDragging){if(i.critical.draggable.id!==s.draggableId)return null;var l=i.current.client.offset,d=i.dimensions.draggables[s.draggableId],u=Tn(i.impact),T=A9(i.impact),R=i.forceShouldAnimate;return n(e(l.x,l.y),i.movementMode,d,s.isClone,u,T,R)}if(i.phase==="DROP_ANIMATING"){var A=i.completed;if(A.result.draggableId!==s.draggableId)return null;var E=s.isClone,S=i.dimensions.draggables[s.draggableId],p=A.result,f=p.mode,I=NN(p),O=p9(p),N=i.dropDuration,h={duration:N,curve:vS.drop,moveTo:i.newHomeClientOffset,opacity:O?ns.opacity.drop:null,scale:O?ns.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:S,dropping:h,draggingOver:I,combineWith:O,mode:f,forceShouldAnimate:null,snapshot:t(f,E,I,O,h)}}}return null};return r}function CN(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var I9={mapped:{type:"SECONDARY",offset:Ct,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:CN(null)}};function O9(){var e=Et(function(s,l){return{x:s,y:l}}),t=Et(CN),n=Et(function(s,l,d){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:d,snapshot:t(l)}}}),r=function(l){return l?n(Ct,l,!0):null},a=function(l,d,u,T){var R=u.displaced.visible[l],A=!!(T.inVirtualList&&T.effected[l]),E=jd(u),S=E&&E.draggableId===l?d:null;if(!R){if(!A)return r(S);if(u.displaced.invisible[l])return null;var p=zo(T.displacedBy.point),f=e(p.x,p.y);return n(f,S,!0)}if(A)return r(S);var I=u.displacedBy.point,O=e(I.x,I.y);return n(O,S,R.shouldAnimate)},i=function(l,d){if(l.isDragging)return l.critical.draggable.id===d.draggableId?null:a(d.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===d.draggableId?null:a(d.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var m9=function(){var t=f9(),n=O9(),r=function(i,s){return t(i,s)||n(i,s)||I9};return r},h9={dropAnimationFinished:rN},N9=Lh(m9,h9,null,{context:xS,pure:!0,areStatePropsEqual:hN})(R9);function gN(e){var t=Ac(BS),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:$e.createElement(N9,e)}function _N(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return $e.createElement(gN,te({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function C9(e){var t=c.useContext(kd);t||ie(!1);var n=t.contextId,r=t.isMovementAllowed,a=c.useRef(null),i=c.useRef(null),s=e.children,l=e.droppableId,d=e.type,u=e.mode,T=e.direction,R=e.ignoreContainerClipping,A=e.isDropDisabled,E=e.isCombineEnabled,S=e.snapshot,p=e.useClone,f=e.updateViewportMaxScroll,I=e.getContainerForClone,O=Oe(function(){return a.current},[]),N=Oe(function(D){a.current=D},[]);Oe(function(){return i.current},[]);var h=Oe(function(D){i.current=D},[]),m=Oe(function(){r()&&f({maxScroll:lN()})},[r,f]);e9({droppableId:l,type:d,mode:u,direction:T,isDropDisabled:A,isCombineEnabled:E,ignoreContainerClipping:R,getDroppableRef:O});var g=$e.createElement(o9,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(D){var b=D.onClose,C=D.data,y=D.animate;return $e.createElement(a9,{placeholder:C,onClose:b,innerRef:h,animate:y,contextId:n,onTransitionEnd:m})}),_=Ye(function(){return{innerRef:N,placeholder:g,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,g,N]),L=p?p.dragging.draggableId:null,P=Ye(function(){return{droppableId:l,type:d,isUsingCloneFor:L}},[l,L,d]);function v(){if(!p)return null;var D=p.dragging,b=p.render,C=$e.createElement(gN,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(y,w){return b(y,w,D)});return uC.createPortal(C,I())}return $e.createElement(BS.Provider,{value:P},s(_,S),v())}var XE=function(t,n){return t===n.droppable.type},Lf=function(t,n){return n.draggables[t.draggable.id]},g9=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=te({},t,{shouldAnimatePlaceholder:!1}),r=Et(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),a=Et(function(s,l,d,u,T,R){var A=T.descriptor.id,E=T.descriptor.droppableId===s;if(E){var S=R?{render:R,dragging:r(T.descriptor)}:null,p={isDraggingOver:d,draggingOverWith:d?A:null,draggingFromThisWith:A,isUsingPlaceholder:!0};return{placeholder:T.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:S}}if(!l)return n;if(!u)return t;var f={isDraggingOver:d,draggingOverWith:A,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:T.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}),i=function(l,d){var u=d.droppableId,T=d.type,R=!d.isDropDisabled,A=d.renderClone;if(l.isDragging){var E=l.critical;if(!XE(T,E))return n;var S=Lf(E,l.dimensions),p=Tn(l.impact)===u;return a(u,R,p,p,S,A)}if(l.phase==="DROP_ANIMATING"){var f=l.completed;if(!XE(T,f.critical))return n;var I=Lf(f.critical,l.dimensions);return a(u,R,NN(f.result)===u,Tn(f.impact)===u,I,A)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var O=l.completed;if(!XE(T,O.critical))return n;var N=Tn(O.impact)===u,h=!!(O.impact.at&&O.impact.at.type==="COMBINE"),m=O.critical.droppable.id===u;return N?h?t:n:m?t:n}return n};return i},_9={updateViewportMaxScroll:U5};function L9(){return document.body||ie(!1),document.body}var v9={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:L9},FS=Lh(g9,_9,null,{context:xS,pure:!0,areStatePropsEqual:hN})(C9);FS.defaultProps=v9;const Pu=`${pC}data-model-root-id`,kl=[be.STRING,be.DATE];var GS=(e=>(e.Root="root",e.Branch="branch",e))(GS||{});const LN=c.memo(({node:e,className:t,branchRole:n,onCreateHierarchy:r,onMoveToHierarchy:a,onNodeTypeChange:i,onDeleteFromHierarchy:s})=>{const l=V("view.model"),[d,u]=c.useState(!1),T=!0,R=(A,E)=>{let S;switch(A.type){case be.NUMERIC:S=o.jsx(hs,{style:{alignSelf:"center",color:Vf}});break;case be.STRING:S=o.jsx(ms,{style:{alignSelf:"center",color:Zn}});break;case be.DATE:S=o.jsx(Po,{style:{alignSelf:"center",color:Zn}});break;default:S=o.jsx(tc,{style:{alignSelf:"center",color:hn}});break}const p=f=>kl.includes(f.type);return o.jsxs("div",{className:"content",onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:[o.jsx(km,{field:A,onChange:i,hasCategory:T,icon:o.jsx(b9,{fontSize:En,children:S})}),o.jsx("span",{children:n===qe.Hierarchy?A.name:A.displayName}),o.jsxs("div",{className:"action",children:[d&&!E&&p(A)&&r&&o.jsx(Me,{title:l("newHierarchy"),children:o.jsx(oe,{type:"link",onClick:()=>r(A),icon:o.jsx(TD,{})})}),d&&!E&&p(A)&&o.jsx(Me,{title:l("addToHierarchy"),children:o.jsx(oe,{type:"link",onClick:()=>a(A),icon:o.jsx($y,{})})}),d&&!E&&s&&o.jsx(Me,{title:l("delete"),children:o.jsx(oe,{type:"link",onClick:()=>s(A),icon:o.jsx(it,{})})})]})]})};return o.jsx(_N,{draggableId:e==null?void 0:e.name,index:e==null?void 0:e.index,children:(A,E)=>o.jsx(D9,{isDragging:E.isDragging,className:t,style:A.draggableProps.style,ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,children:R(e,E.isDragging)})},e==null?void 0:e.name)}),D9=F.div.withConfig({displayName:"DataModelNode__StyledDataModelNode",componentId:"sc-52exvh-0"})(["margin:"," ",";font-size:",";line-height:32px;user-select:'none';background:",";&.in-hierarchy{margin-right:0;}& .content{display:flex;align-items:center;}& .action{display:flex;flex:1;justify-content:flex-end;padding-right:",";}"],ot,ye,Ha,e=>e.isDragging?e.theme.highlightBackground:"transparent",Le),b9=F(Qr).withConfig({displayName:"DataModelNode__StyledIW",componentId:"sc-52exvh-1"})(["width:",";height:",";margin-right:",";cursor:pointer;border:1px solid ",";border-radius:4px;"],me(7),me(7),Le,e=>e.theme.borderColorSplit),P9=c.memo(({node:e,onNodeTypeChange:t,onMoveToHierarchy:n,onEditBranch:r,onDelete:a,onDeleteFromHierarchy:i,onCreateHierarchy:s})=>{const l=V("view.model"),[d,u]=c.useState(!1),T=(R,A)=>{var S;const E=R.role===qe.Hierarchy?o.jsx(sI,{style:{alignSelf:"center",color:AC}}):o.jsx(Ao,{style:{alignSelf:"center",color:fC}});return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"content",onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:[o.jsx(Qr,{fontSize:ao,children:E}),o.jsx("span",{children:R.name}),R.role===qe.Hierarchy&&o.jsxs("div",{className:"action",children:[d&&!A&&o.jsx(Me,{title:l("rename"),children:o.jsx(oe,{type:"link",onClick:()=>r(R),icon:o.jsx(rr,{})})}),d&&!A&&o.jsx(Me,{title:l("delete"),children:o.jsx(oe,{type:"link",onClick:()=>a(R),icon:o.jsx(it,{})})})]})]}),o.jsx("div",{className:"children",children:(S=R==null?void 0:R.children)==null?void 0:S.map(p=>o.jsx(LN,{className:"in-hierarchy",branchRole:R.role,node:p,onCreateHierarchy:R.role===qe.Table?s:void 0,onMoveToHierarchy:n,onNodeTypeChange:t,onDeleteFromHierarchy:R.role===qe.Hierarchy?i(R):void 0},p.name))})]})};return o.jsx(_N,{draggableId:e==null?void 0:e.name,index:e==null?void 0:e.index,isDragDisabled:!0,children:(R,A)=>o.jsx(y9,{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,children:o.jsx(FS,{droppableId:e.role===qe.Table?Pu:e==null?void 0:e.name,type:GS.Branch,isCombineEnabled:!1,children:(E,S)=>o.jsxs("div",{ref:E.innerRef,children:[T(e,A.isDragging),E.placeholder]})})})},e==null?void 0:e.name)}),y9=F.div.withConfig({displayName:"DataModelBranch__StyledDataModelBranch",componentId:"sc-1nlshw8-0"})(["margin:"," ",";font-size:",";line-height:32px;user-select:'none';& .content{display:flex;}& .children{margin-left:",";}& .action{display:flex;flex:1;justify-content:flex-end;padding-right:",";}"],ot,ye,Ha,ye,Le),M9=c.memo(({node:e,menuClick:t})=>{const n=V("view.model"),r=a=>{let i;switch(a.type){case be.NUMERIC:i=o.jsx(hs,{style:{alignSelf:"center",color:hn}});break;case be.STRING:i=o.jsx(ms,{style:{alignSelf:"center",color:hn}});break;case be.DATE:i=o.jsx(Po,{style:{alignSelf:"center",color:hn}});break;default:i=o.jsx(tc,{style:{alignSelf:"center",color:hn}});break}return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"content",children:[o.jsx(Me,{title:n("createComputedFields"),placement:"left",children:o.jsx(U9,{fontSize:En,children:i})}),o.jsx("span",{children:a.name})]}),o.jsx("div",{className:"action",children:o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:({key:s})=>t(a,s),children:[o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:n("edit")},"exit"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:n("deleteSure"),onConfirm:()=>t(a,"delete"),children:n("delete")})},"del")]}),children:o.jsx(Xt,{})})})]})};return o.jsx(x9,{children:r(e)})}),x9=F.div.withConfig({displayName:"DataModelComputerFieldNode__StyledDataModelComputerFieldNode",componentId:"sc-1878d83-0"})(["display:flex;align-items:center;justify-content:space-between;margin:"," ",";font-size:",";line-height:32px;user-select:'none';background:'transparent';&.in-hierarchy{margin-right:0;}& .content{display:flex;align-items:center;}& .action{display:none;padding-right:",";}&:hover{.action{display:inline-block;}}"],ot,ye,Ha,Le),U9=F(Qr).withConfig({displayName:"DataModelComputerFieldNode__StyledIW",componentId:"sc-1878d83-1"})(["width:",";height:",";margin-right:",";cursor:pointer;border:1px solid ",";border-radius:4px;"],me(7),me(7),Le,e=>e.theme.borderColorSplit),Ar=(e,...t)=>e.concat(...t).filter(n=>(n==null?void 0:n.role)!==qe.Hierarchy||!Wt(n==null?void 0:n.children)).reduce((n,r,a)=>{var i;if((r==null?void 0:r.role)===qe.Hierarchy&&!Wt(r==null?void 0:r.children)){const s=(i=r.children)==null?void 0:i.map((l,d)=>({...l,index:d}));n[r.name]=Object.assign({},r,{index:a,children:s})}else n[r.name]=Object.assign({},r,{index:a,children:void 0});return n},{}),w9=c.memo(()=>{var Z,ce,Ce;const e=V("view"),{actions:t}=Mn(),n=de(),[r,a]=ki({}),[i,s]=ki({}),l=U(Yo),d=U(k=>ge(k,{name:"stage"})),u=U(k=>ge(k,{name:"sourceId"})),T=U(k=>ge(k,{name:"type"})),R=U(k=>ge(k,{name:"script"})),[A,E]=c.useState(),[S,p]=c.useState(),[f,I]=c.useState(),[O,N]=c.useState("SQL");c.useEffect(()=>{N(T)},[T]),c.useEffect(()=>{var k;E((k=l==null?void 0:l.model)==null?void 0:k.hierarchy)},[(Z=l==null?void 0:l.model)==null?void 0:Z.hierarchy]),c.useEffect(()=>{var k;p((k=l==null?void 0:l.model)==null?void 0:k.computedFields)},[(ce=l==null?void 0:l.model)==null?void 0:ce.computedFields]),c.useEffect(()=>{var k,ne,K;if(O==="STRUCT"&&R.table){const G=R.table,Y=(k=R.columns)==null?void 0:k.map((se,Te)=>({title:se,key:[...G,se]})),z=[];for(let se=0;se<R.joins.length;se++){const Te=R.joins[se].table,xe=(ne=R.joins[se].columns)==null?void 0:ne.map((pe,Ue)=>({title:pe,key:[...Te,pe]}));z.push({title:Te==null?void 0:Te.join("."),key:Te,selectable:!1,children:xe})}const ee=[{title:G==null?void 0:G.join("."),key:G,selectable:!1,children:Y},...z];I(ee)}else(K=l==null?void 0:l.model)!=null&&K.columns&&I(Object.values(l.model.columns).map(G=>{const Y=Array.isArray(G.name)?G.name.join("."):G.name;return{id:G.name,name:Y,displayName:Y}}))},[R,O,(Ce=l==null?void 0:l.model)==null?void 0:Ce.columns]);const h=c.useMemo(()=>Object.entries(A||{}).map(([k,ne],K)=>Object.assign({index:K},ne,{name:ne.name||k,displayName:ne.name||k})).sort(r_),[A]),m=k=>{const ne=M(h,k);L(ne)},g=k=>ne=>{const K=B(h,k,ne);L(K)},_=(k,ne)=>{var Y;const K=h==null?void 0:h.find(z=>z.name===ne);if(K){let z;if(k[0].includes("category")){const se=k[0].split("-")[1];z={...K,category:se}}else k.includes("DATE")?z={...K,type:k[1],dateFormat:k[0]}:z={...K,type:k[0]};const ee=x(h,z,h==null?void 0:h.findIndex(se=>se.name===ne));L(ee);return}const G=h==null?void 0:h.find(z=>{var ee;return(ee=z==null?void 0:z.children)==null?void 0:ee.find(se=>se.name===ne)});if(G){const z=(Y=G.children)==null?void 0:Y.findIndex(ee=>ee.name===ne);if(z!==void 0&&z>-1){const ee=Fn(G);if(ee.children){let se=ee.children[z];if(k[0].includes("category")){const xe=k[0].split("-")[1];se={...se,category:xe}}else k.includes("DATE")?se={...se,type:k[1],dateFormat:k[0]}:se={...se,type:k[0]};ee.children[z]=se;const Te=x(h,ee,h.findIndex(xe=>xe.name===ee.name));L(Te)}}}},L=k=>{E(k),n(t.changeCurrentEditingView({model:{...l==null?void 0:l.model,hierarchy:k,version:Ql}}))},P=c.useCallback(k=>{p(k),n(t.changeCurrentEditingView({model:{...l==null?void 0:l.model,computedFields:k,version:Ql}}))},[t,l==null?void 0:l.model,n]),v=k=>{if(k.destination&&ZE(k==null?void 0:k.combine)){const ne=y(Fn(h),{name:k.draggableId},{name:k.destination.droppableId,index:k.destination.index});return L(ne)}if(!k.destination&&!ZE(k==null?void 0:k.combine)){const ne=Fn(h),K=ne==null?void 0:ne.find(Y=>Y.name===k.draggableId),G=ne==null?void 0:ne.find(Y=>Y.name===k.combine.draggableId);if(K&&K.role!==qe.Hierarchy&&G&&G.role!==qe.Hierarchy&&kl.includes(K.type)&&kl.includes(G.type))return D(K,G);if(K&&K.role!==qe.Hierarchy&&G&&G.role===qe.Hierarchy&&kl.includes(K.type)){const Y=y(ne,{name:k.draggableId},{name:k.combine.draggableId,index:-1});return L(Y)}}},D=(...k)=>r({title:e("model.newHierarchy"),modalSize:Hn.XSMALL,onOk:ne=>{if(!ne)return;const K={name:ne,type:be.STRING,role:qe.Hierarchy,children:k,comment:ne},G=w(h,K,k);L(G)},content:ne=>{const K=h==null?void 0:h.flatMap(G=>{var Y;return Wt(G.children)?G.name:[G.name].concat(((Y=G.children)==null?void 0:Y.map(z=>z.name))||[])});return o.jsx(zE,{label:e("model.hierarchyName"),name:"hierarchyName",rules:[{required:!0},({getFieldValue:G})=>({validator(Y,z){return K.includes(G("hierarchyName"))?Promise.reject(new Error(e("model.duplicateName"))):Promise.resolve(z)}})],children:o.jsx(Ae,{onChange:G=>{var Y;return ne((Y=G.target)==null?void 0:Y.value)}})})}}),b=k=>{const ne=h==null?void 0:h.filter(K=>{var G;return K.role===qe.Hierarchy&&!((G=K==null?void 0:K.children)!=null&&G.find(Y=>Y.name===k.name))});return r({title:e("model.addToHierarchy"),modalSize:Hn.XSMALL,onOk:K=>{if(ne!=null&&ne.find(G=>G.name===K)){const G=H(h,k,ne,K);L(G)}},content:K=>o.jsx(zE,{label:e("model.hierarchyName"),name:"hierarchyName",rules:[{required:!0}],children:o.jsx(Se,{defaultActiveFirstOption:!0,onChange:K,children:ne==null?void 0:ne.map(G=>o.jsx(Se.Option,{value:G.name,children:G.name}))})})})},C=k=>{const ne=h==null?void 0:h.flatMap(K=>{var G;return Wt(K.children)?K.name:(G=K.children)==null?void 0:G.map(Y=>Y.name)}).filter(K=>K!==k.name);return r({title:e("model.rename"),modalSize:Hn.XSMALL,onOk:K=>{if(!K)return;const G=x(h,{...k,name:K},h.findIndex(Y=>Y.name===k.name));L(G)},content:K=>o.jsx(zE,{label:e("model.rename"),initialValue:k==null?void 0:k.name,name:"rename",rules:[{required:!0},({getFieldValue:G})=>({validator(Y,z){return ne.includes(G("rename"))?Promise.reject(new Error(e("model.duplicateName"))):Promise.resolve(z)}})],children:o.jsx(Ae,{onChange:G=>{var Y;K((Y=G.target)==null?void 0:Y.value)}})})})},y=(k,ne,K)=>{var z,ee,se,Te,xe;let G;const Y=k.findIndex(pe=>pe.name===ne.name);if(Y>-1)G=(z=k.splice(Y,1))==null?void 0:z[0];else{const pe=(ee=k.filter(tt=>{var xt;return tt.role===qe.Hierarchy&&((xt=tt.children)==null?void 0:xt.find(qo=>qo.name===ne.name))}))==null?void 0:ee[0];if(!pe)return Ar(k);const Ue=pe.children.findIndex(tt=>tt.name===ne.name);if(Ue===-1)return Ar(k);G=(Te=(se=pe.children)==null?void 0:se.splice(Ue,1))==null?void 0:Te[0]}if(!G)return Ar(k);if(K.name===Pu)k.splice(K.index,0,G);else{const pe=(xe=k.filter(Ue=>Ue.role===qe.Hierarchy&&Ue.name===K.name))==null?void 0:xe[0];if(!pe)return Ar(k);K.index===-1?pe.children.push(G):pe.children.splice(K.index,0,G)}return Ar(k)},w=(k,ne,K)=>{const G=k.filter(Y=>!K.map(z=>z.name).includes(Y.name));return G.unshift(ne),Ar(G)},x=(k,ne,K)=>(k[K]=ne,Ar(k)),M=(k,ne)=>{const K=k.findIndex(G=>G.name===ne.name);if(K>-1){const G=k[K],Y=(G==null?void 0:G.children)||[];return k.splice(K,1),Ar(k,...Y)}},B=(k,ne,K)=>{var Y;const G=k.find(z=>z.name===ne.name);if(G)return G.children=(Y=G.children)==null?void 0:Y.filter(z=>z.name!==K.name),Ar(k,K)},H=(k,ne,K,G)=>{var se;const Y=k==null?void 0:k.findIndex(Te=>Te.name===ne.name);if(Y!==void 0&&Y>-1)k.splice(Y,1);else{const Te=k==null?void 0:k.find(xe=>{var pe;return(pe=xe.children)==null?void 0:pe.find(Ue=>Ue.name===ne.name)});Te&&(Te.children=((se=Te.children)==null?void 0:se.filter(xe=>xe.name!==ne.name))||[])}const z=K==null?void 0:K.find(Te=>Te.name===G),ee=Fn(z);return ee.children=(ee.children||[]).concat([ne]),x(k,ee,k.findIndex(Te=>Te.name===ee.name))},j=c.useCallback(async(k,ne)=>{if(!k)return Promise.reject("field is empty");try{await dI(u,k.expression)}catch(ee){Ie.error(ee);return}const K=S==null?void 0:S.filter(ee=>ee.name!==ne);if(!!(K!=null&&K.find(ee=>ee.name===(k==null?void 0:k.name)))){const ee=Ie.error(e("computedFieldNameExistWarning"));return Ie.error(ee),Promise.reject(ee)}const Y=(S||[]).findIndex(ee=>ee.name===ne);if(Y>=0){const ee=Wu(S,Y,{...k,isViewComputedFields:!0});P(ee);return}const z=(S||[]).concat([{...k,isViewComputedFields:!0}]);P(z)},[S,P,u,e]),X=c.useCallback(k=>{i({title:e("model.createComputedFields"),modalSize:Hn.MIDDLE,content:ne=>o.jsx(nm,{viewType:O,computedField:k,sourceId:u,fields:f,variables:[],allComputedFields:S,onChange:ne}),onOk:ne=>j(ne,k==null?void 0:k.name)})},[S,i,u,e,f,O,j]),W=c.useMemo(()=>({items:[{key:"computerField",text:e("model.createComputedFields")}],callback:()=>X()}),[X,e]),J=c.useCallback((k,ne)=>{if(ne==="exit")X(k);else if(ne==="delete"){const K=Gn(S,G=>{const Y=G.findIndex(z=>z.name===k.name);G.splice(Y,1)});P(K)}},[X,S,P]),q=c.useCallback((k,ne)=>{if(ne==="SQL")return k;const K=Fn(k).filter(z=>z.role===qe.Hierarchy),G=Fn(k).filter(z=>z.role!==qe.Hierarchy),Y=zf(G,"viewPage");return[...K,...Y]},[]);return o.jsxs(Bd,{title:"model",add:W,loading:d===We.Running,children:[o.jsx(jX,{onDragEnd:v,children:o.jsx(FS,{droppableId:Pu,type:GS.Root,isCombineEnabled:!0,children:(k,ne)=>o.jsxs(B9,{ref:k.innerRef,isDraggingOver:ne.isDraggingOver,children:[q(h,O).map(K=>K.role===qe.Hierarchy||K.role===qe.Table?o.jsx(P9,{node:K,onNodeTypeChange:_,onMoveToHierarchy:b,onEditBranch:C,onDelete:m,onDeleteFromHierarchy:g,onCreateHierarchy:D},K.name):o.jsx(LN,{node:K,onCreateHierarchy:D,onNodeTypeChange:_,onMoveToHierarchy:b},K.name)),k.placeholder]})})}),S==null?void 0:S.map((k,ne)=>o.jsx(M9,{node:k,menuClick:J},ne)),o.jsx("div",{children:a},"contextHolder"),o.jsx("div",{children:s},"modalContextHolder")]})}),B9=F.div.withConfig({displayName:"DataModelTree__StyledDroppableContainer",componentId:"sc-o6gqmx-0"})(["overflow:auto;user-select:'none';"]),zE=F($.Item).withConfig({displayName:"DataModelTree__StyledFormItem",componentId:"sc-o6gqmx-1"})(["margin:"," 0 0 0;"],je),F9=c.memo(()=>{const e=V("view.resource"),t=de(),{editorCompletionItemProviderRef:n}=c.useContext(dr),r=U(z4),a=U(m=>ge(m,{name:"sourceId"})),i=U(m=>zT(m,{id:a})),[s,l]=c.useState([]),{height:d,ref:u}=yc({refreshMode:"debounce",refreshRate:200}),T=c.useCallback(m=>{var _;const g=((_=m==null?void 0:m.tables)==null?void 0:_.map(L=>R([m.dbName],L)))||[];return Ci([],m.dbName,g,!1,m)},[]),R=(m=[],g)=>{var L;const _=((L=g==null?void 0:g.columns)==null?void 0:L.map(P=>Object.assign(Ci(m.concat(g.tableName),P==null?void 0:P.name[0],[],!0),{type:P==null?void 0:P.type})))||[];return Ci(m,g.name,_,!1,g)};c.useEffect(()=>{l((i||[]).map(T))},[T,i]);const{filteredData:A,onExpand:E,debouncedSearch:S,expandedRowKeys:p}=yd(s,(m,g)=>g.title.includes(m),$t,!0);c.useEffect(()=>{var m;s&&n&&((m=n.current)==null||m.dispose(),t(KT({sourceId:a,resolve:g=>{n.current=OT.registerCompletionItemProvider("sql",{provideCompletionItems:g})}})))},[t,a,s,n]);const f=c.useCallback(({value:m,type:g})=>{if(Array.isArray(m))switch(m.length){case 1:return o.jsx(Xi,{});case 2:return o.jsx(Ao,{});case 3:switch(g){case be.STRING:return o.jsx(ms,{});case be.NUMERIC:return o.jsx(hs,{});case be.DATE:return o.jsx(Po,{})}}},[]),I=c.useCallback((m,g,_)=>Gn(m,L=>{L.sort((P,v)=>{const D=P[_],b=v[_];return String(D).localeCompare(String(b))}),L.forEach(P=>{P.children&&(P.children=I(P.children,g,_))})}),[]),O=c.useCallback(({key:m})=>{l(m==="byNameSort"?I(s,m,"title"):(i||[]).map(T))},[s,I,i,T]),N=c.useCallback(()=>({items:[{key:"sort",label:e("sortType"),children:[{key:"byNameSort",label:e("byName")},{key:"byOriginalFieldSort",label:e("byField")}]}],onClick:O}),[O,e]),h=m=>m!=null&&m.comment?o.jsx(Me,{title:m==null?void 0:m.comment,placement:"right",arrow:!0,children:m.title}):m.title;return o.jsxs(Bd,{title:"reference",children:[o.jsx(G9,{children:o.jsx(pt,{span:24,children:o.jsxs(j9,{children:[o.jsx(Ae,{prefix:o.jsx(Dr,{className:"icon"}),placeholder:e("search"),className:"input",bordered:!1,onChange:S}),o.jsx(an,{trigger:["click"],menu:N(),children:o.jsx(oe,{type:"text",icon:o.jsx(Xt,{})})},"more")]})})}),o.jsx(H9,{ref:u,children:o.jsx(gt,{className:"medium",treeData:A,loading:r,icon:f,selectable:!1,defaultExpandedKeys:p,height:d,onExpand:E,titleRender:h})})]})}),G9=F(Mt).withConfig({displayName:"Resource__SearchBar",componentId:"sc-ewibkj-0"})([".input{padding-bottom:",";}.icon{color:",";}"],Le,e=>e.theme.textColorLight),H9=F.div.withConfig({displayName:"Resource__TreeWrapper",componentId:"sc-ewibkj-1"})(["flex:1;padding-bottom:",";overflow-y:auto;"],ye),j9=F(Ge).withConfig({displayName:"Resource__StyleSpace",componentId:"sc-ewibkj-2"})(["width:100%;> div:nth-child(1){flex:1;}"]),V9=c.memo(()=>{const{actions:e}=Mn(),t=de(),[n,r]=c.useState(ue.Add),[a,i]=c.useState(!1),[s,l]=c.useState(void 0),[d,u]=c.useState(!1),{editorCompletionItemProviderRef:T}=c.useContext(dr),R=U(M=>ge(M,{name:"variables"})),A=U(M=>ge(M,{name:"stage"})),E=U(M=>ge(M,{name:"sourceId"})),S=U(Be),p=U(XT),f=V("view.variable"),I=V("global");c.useEffect(()=>{var M;T&&((M=T.current)==null||M.dispose(),t(KT({sourceId:E,resolve:B=>{T.current=OT.registerCompletionItemProvider("sql",{provideCompletionItems:B})}})))},[t,E,R,p,T]);const O=c.useMemo(()=>[].concat(R).concat(p),[R,p]),N=c.useMemo(()=>{try{return s==null?void 0:s.relVariableSubjects.map(M=>({...M,value:M.value&&JSON.parse(M.value)}))}catch(M){throw gn(M),M}},[s]);c.useEffect(()=>{t(hr(S)),t(wi(S))},[t,S]);const h=c.useCallback(()=>{r(ue.Add),i(!0)},[]),m=c.useCallback(()=>{i(!1)},[]),g=c.useCallback(M=>()=>{r(ue.Edit),l(R.find(B=>B.id===M)),i(!0)},[R]),_=c.useCallback(M=>()=>{const B=R.find(H=>H.id===M);l(B),u(!0)},[R]),L=c.useCallback(()=>{u(!1)},[]),P=c.useCallback(()=>{l(void 0)},[]),v=c.useCallback(M=>{let B=M.defaultValue;M.valueType===Tt.Date&&!M.expression&&(B=M.defaultValue.map(H=>H.format(M.dateFormat)));try{B!=null&&(B=JSON.stringify(B))}catch(H){throw gn(H),H}n===ue.Add?t(e.changeCurrentEditingView({variables:R.concat({...M,id:yt(),defaultValue:B,relVariableSubjects:[]})})):t(e.changeCurrentEditingView({variables:R.map(H=>H.id===s.id?{...s,...M,defaultValue:B}:H)})),i(!1)},[t,e,n,s,R]),D=c.useCallback(M=>()=>{t(e.changeCurrentEditingView({variables:R.filter(B=>B.id!==M)}))},[t,e,R]),b=c.useCallback(M=>{try{const B=M.map(H=>{var X;const j=((X=R.find(W=>W.id===H.variableId))==null?void 0:X.dateFormat)||ya;return{...H,value:JSON.stringify(H.value&&((s==null?void 0:s.valueType)===Tt.Date?H.value.map(W=>W.format(j)):H.value))}});a_((s==null?void 0:s.relVariableSubjects)||[],B,(H,j)=>H.useDefaultValue===j.useDefaultValue&&H.value===j.value)||t(e.changeCurrentEditingView({variables:R.map(H=>H.id===(s==null?void 0:s.id)?{...s,relVariableSubjects:B}:H)})),u(!1)}catch(B){throw gn(B),B}},[t,e,s,R]),C=c.useCallback(M=>{const B=!!M.relVariableSubjects,H=B?p.some(j=>j.name===M.name):R.some(j=>j.name===M.name);return o.jsxs(W9,{className:Ke({duplicate:H}),children:[!B&&o.jsx("span",{className:"prefix",children:f("prefix")}),M.name,H&&o.jsx("span",{className:"suffix",children:f("suffix")})]})},[R,p,f]),{filteredData:y,debouncedSearch:w}=Nt(O,(M,B)=>B.name.includes(M)),x=c.useMemo(()=>({title:"variable",search:!0,add:{items:[{key:"variable",text:f("add")}],callback:h},onSearch:w}),[h,f,w]);return o.jsxs(Bd,{...x,children:[o.jsx(Y9,{children:o.jsx(Rn,{dataSource:y,loading:A===We.Loading&&{indicator:o.jsx(Zt,{})},renderItem:M=>{let B=[];return M.relVariableSubjects&&(B=[o.jsx(oe,{type:"link",className:"btn-hover",icon:o.jsx(rr,{}),onClick:g(M.id)},"edit"),o.jsx(dt,{title:I("operation.deleteConfirm"),placement:"bottom",onConfirm:D(M.id),children:o.jsx(oe,{type:"link",className:"btn-hover",icon:o.jsx(it,{})})},"del")],M.type===Qn.Permission&&B.unshift(o.jsx(oe,{type:"link",icon:o.jsx(Xc,{}),className:"btn-hover",onClick:_(M.id)},"rel"))),o.jsx(Is,{actions:B,children:o.jsx(Rn.Item.Meta,{avatar:M.type===Qn.Query?o.jsx(Dr,{className:"query"}):o.jsx(iO,{className:"permission"}),title:C(M)})})}})}),o.jsx(Km,{scope:er.Private,orgId:S,editingVariable:s,variables:R,open:a,title:f("formTitle"),type:n,onSave:v,onCancel:m,afterClose:P,keyboard:!1,maskClosable:!1}),o.jsx(zm,{scope:er.Private,editingVariable:s,open:d,rowPermissions:N,onSave:b,onCancel:L,afterClose:P,keyboard:!1,maskClosable:!1})]})}),Y9=F.div.withConfig({displayName:"Variables__ListWrapper",componentId:"sc-jdps3f-0"})(["flex:1;padding-bottom:",";overflow-y:auto;.query{color:",";}.permission{color:",";}"],ye,e=>e.theme.info,e=>e.theme.warning),W9=F.div.withConfig({displayName:"Variables__ListItemTitle",componentId:"sc-jdps3f-1"})(["&.duplicate{color:",";}.prefix{margin-right:",";color:",";}.suffix{margin-left:",";color:",";}"],e=>e.theme.highlight,Le,e=>e.theme.textColorDisabled,Le,e=>e.theme.highlight),k9=c.memo(({tabs:e,onSelect:t})=>{const[n,r]=c.useState(""),{i18n:a}=tI(),i=c.useCallback(s=>()=>{const l=s===n?"":s;r(l),t&&t(l)},[n,t]);return o.jsx($9,{children:e.map(({name:s,title:l,icon:d})=>{const u=["en"].includes(a.language)?"90deg":"0";return o.jsxs(X9,{className:Ke({selected:n===s}),onClick:i(s),children:[d&&o.jsx(vf,{rotate:u,className:"icon",children:c.cloneElement(d)}),l.split("").map((T,R)=>{const A=IC(T,String(OC),En);return o.jsx(vf,{rotate:u,height:A,children:T},R)})]},s)})})}),$9=F.ul.withConfig({displayName:"VerticalTabs__Wrapper",componentId:"sc-f0ky5c-0"})(["flex-shrink:0;width:32px;background-color:",";border-left:1px solid ",";"],e=>e.theme.componentBackground,e=>e.theme.borderColorSplit),X9=F.li.withConfig({displayName:"VerticalTabs__Tab",componentId:"sc-f0ky5c-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;padding:",";color:",";cursor:pointer;user-select:none;border-bottom:1px solid ",";&:hover{color:",";background-color:",";}&.selected{font-weight:",";color:",";background-color:",";}"],Le,e=>e.theme.textColorSnd,e=>e.theme.borderColorSplit,e=>e.theme.textColor,e=>e.theme.bodyBackground,nn,e=>e.theme.textColor,e=>e.theme.emphasisBackground),vf=F.span.withConfig({displayName:"VerticalTabs__Word",componentId:"sc-f0ky5c-2"})(["display:block;width:",";height:",";font-size:",";line-height:",";text-align:center;transform:",";&.icon{margin-bottom:",";}"],En,e=>e.height?`${e.height}px`:En,En,e=>e.height?`${e.height}px`:En,e=>`rotate(${e.rotate})`,ot),z9=c.memo(({allowManage:e,viewType:t})=>{const[n,r]=c.useState(""),{editorInstance:a}=c.useContext(dr),i=V("view.properties");U(d=>ge(d,{name:"config"})),c.useEffect(()=>{a==null||a.layout()},[a,n]);const s=c.useMemo(()=>{const d=[{name:"reference",title:i("reference"),icon:o.jsx(Xi,{})},{name:"variable",title:i("variable"),icon:o.jsx(nO,{})},{name:"model",title:i("model"),icon:o.jsx(KD,{})},{name:"columnPermissions",title:i("columnPermissions"),icon:o.jsx(iO,{})}];return t==="STRUCT"?d.slice(2,d.length):d},[i,t]),l=c.useCallback(d=>{r(d)},[]);return e?o.jsxs(K9,{children:[o.jsx(el,{selected:n==="variable",children:o.jsx(V9,{},"variable")}),o.jsx(el,{selected:n==="reference",children:o.jsx(F9,{},"reference")}),o.jsx(el,{selected:n==="model",children:o.jsx(w9,{},"model")}),o.jsx(el,{selected:n==="columnPermissions",children:o.jsx(Sk,{},"columnPermissions")}),o.jsx(k9,{tabs:s,onSelect:l})]}):null}),K9=F.div.withConfig({displayName:"Properties__Container",componentId:"sc-a2zvft-0"})(["z-index:",";display:flex;flex-shrink:0;background-color:",";"],ds,e=>e.theme.componentBackground),J9=bn.Group,KE=c.memo(({type:e,renderType:t="MANAGE",structure:n,sourceId:r,joinTable:a,allowManage:i,onChange:s})=>{const l=de(),d=U(Xo),u=U(Wo),T=V("view.structView"),[R,A]=c.useState(null),[E,S]=c.useState(n&&t==="READONLY"?{table:n.table,columns:n.columns}:null),[p,f]=c.useState(d),[I,O]=c.useState(!1),N=c.useMemo(()=>e==="JOINS"?gi((a==null?void 0:a.table)||[],u[r]):gi((n==null?void 0:n.table)||[],u[r]),[u,r,n==null?void 0:n.table,a==null?void 0:a.table,e]),h=c.useCallback(({key:M})=>{const B=p==null?void 0:p[M];A(B),l(Fi(B.id))},[p,l]),m=c.useCallback(M=>{const B=M.target.value;f(B?p.filter(H=>H.name.includes(B)):d)},[p,d]),g=c.useCallback(M=>{var H;const B=((H=M==null?void 0:M.tables)==null?void 0:H.map(j=>_([M.dbName],j)))||[];return Ci([],M.dbName,B,!1)},[]),_=(M=[],B)=>({columns:B.columns,comment:B.comment,...Ci(M,B.tableName)}),L=c.useCallback(({value:M})=>{if(Array.isArray(M))switch(M.length){case 1:return o.jsx(Xi,{className:"list-icon"});case 2:return o.jsx(Ao,{className:"list-icon"})}},[]),P=c.useMemo(()=>{if(R!=null&&R.id){const M=u[R.id];return(M==null?void 0:M.length)===1?M[0].tables.map(B=>_([M[0].dbName],B)):(M||[]).map(B=>g(B))}return[]},[g,R,u]),{filteredData:v,debouncedSearch:D}=yd(P,(M,B)=>B.title.includes(M),$t,!0),b=c.useCallback(M=>{S({...E,columns:M}),s==null||s({columns:M},e)},[s,E,e]),C=c.useCallback((M,B)=>{const H=M?B:[];s==null||s({columns:H},e),S({...E,columns:H})},[s,e,E]),y=c.useCallback((M,{node:B})=>{if(B.children)return;const H=u[R.id],j=B.value,X=B.value[B.value.length-1],W=B.columns.map(q=>q.name[0]),J={table:H.length===1?[X]:j,columns:W,sourceId:R.id};e==="JOINS"&&delete J.sourceId,S(J),s==null||s(J,e),O(!1)},[e,s,u,R]),w=c.useCallback(M=>{O(M)},[]);c.useEffect(()=>{f(d)},[d]),c.useEffect(()=>{var M,B;if(t==="READONLY"){const H=(M=a==null?void 0:a.conditions)==null?void 0:M[0].left;H&&((B=n==null?void 0:n.table)!=null&&B.every(j=>H==null?void 0:H.includes(j))?S({table:n==null?void 0:n.table}):n==null||n.joins.forEach(j=>{var X;(X=j.table)!=null&&X.every(W=>H==null?void 0:H.includes(W))&&S({table:j==null?void 0:j.table})}))}},[n,t,a==null?void 0:a.conditions]),c.useEffect(()=>{e==="JOINS"&&A(p.find(M=>M.id===r)||null)},[r,p,e]),c.useEffect(()=>{e==="MAIN"&&(n!=null&&n.table.length)&&(A(p.find(M=>M.id===r)||null),S({table:n.table,columns:n.columns})),e==="JOINS"&&(a!=null&&a.table)&&S({table:a.table,columns:a.columns})},[n,e,a,p,r]);const x=c.useCallback(M=>M!=null&&M.comment?o.jsx(Me,{title:M==null?void 0:M.comment,placement:"right",arrow:!0,children:M==null?void 0:M.title}):M==null?void 0:M.title,[v]);return o.jsxs(o.Fragment,{children:[o.jsx(ql,{trigger:["click"],placement:"bottomLeft",overlayClassName:"datart-popup",open:i&&I,onOpenChange:t==="MANAGE"?w:void 0,content:R?o.jsxs(JE,{children:[o.jsxs(q9,{children:[o.jsx(ib,{onClick:()=>e==="JOINS"?null:A(null)}),o.jsx("h4",{children:R.name})]}),o.jsx(Df,{children:o.jsx(Ae,{placeholder:T("searchTable"),onChange:D})}),o.jsx(Z9,{children:o.jsx(gt,{autoExpandParent:!0,defaultExpandParent:!0,className:"medium without-indent",loading:!v,icon:L,treeData:v,onSelect:y,titleRender:x})})]}):o.jsxs(JE,{children:[o.jsx(Df,{children:o.jsx(Ae,{placeholder:T("searchSource"),onChange:m})}),o.jsx(Q9,{children:o.jsx(lt,{onClick:h,children:p&&p.length>0?p.map((M,B)=>o.jsx(De,{prefix:o.jsx(Xi,{className:"list-icon"}),children:M.name},B)):o.jsx(qr,{image:qr.PRESENTED_IMAGE_SIMPLE})})})]}),children:o.jsx(nz,{type:"primary",className:Ke({"with-columns":E&&t==="MANAGE"}),children:E?E.table[E.table.length-1]:T("selectTable")})}),E&&t==="MANAGE"&&o.jsx(ql,{trigger:["click"],placement:"bottomLeft",content:o.jsxs(JE,{children:[o.jsx(bn,{indeterminate:!!(E!=null&&E.columns.length)&&(E==null?void 0:E.columns.length)<N.length,onChange:M=>{i&&C(M.target.checked,N)},checked:(E==null?void 0:E.columns.length)===N.length,children:T("all")}),o.jsx(ez,{}),o.jsx(tz,{value:E==null?void 0:E.columns,onChange:i?b:void 0,options:N})]}),children:o.jsx(rz,{type:"primary",icon:o.jsx(Ao,{})})})]})}),JE=F.div.withConfig({displayName:"SelectDataSource__PopoverBody",componentId:"sc-57mb7-0"})(["display:flex;flex-direction:column;max-height:400px;overflow-y:auto;::-webkit-scrollbar{display:none;}.list-icon{color:",";}"],e=>e.theme.textColorDisabled),q9=F.div.withConfig({displayName:"SelectDataSource__ListHeader",componentId:"sc-57mb7-1"})(["display:flex;flex-shrink:0;align-items:center;padding:"," ",";border-bottom:1px solid ",";h4{padding:0 ",";font-weight:",";color:",";}"],Le,It,e=>e.theme.borderColorSplit,It,nn,e=>e.theme.textColorSnd),Df=F.div.withConfig({displayName:"SelectDataSource__SearchBox",componentId:"sc-57mb7-2"})(["flex-shrink:0;"]),Q9=F.div.withConfig({displayName:"SelectDataSource__SourceList",componentId:"sc-57mb7-3"})(["flex:1;overflow-y:auto;"]),Z9=F.div.withConfig({displayName:"SelectDataSource__DatabaseTableList",componentId:"sc-57mb7-4"})(["flex:1;padding:0 0 ",";overflow-y:auto;.ant-tree{background-color:transparent !important;}"],Le),ez=F(Hr).withConfig({displayName:"SelectDataSource__SmallDivider",componentId:"sc-57mb7-5"})(["margin:"," 0;"],Le),tz=F(J9).withConfig({displayName:"SelectDataSource__ColumnList",componentId:"sc-57mb7-6"})(["display:flex;flex-direction:column;.ant-checkbox-group-item{padding:"," 0;}"],me(.5)),nz=F(oe).withConfig({displayName:"SelectDataSource__TableButton",componentId:"sc-57mb7-7"})(["&.with-columns{border-right:1px solid "," !important;border-radius:2px 0 0 2px !important;}"],e=>mC(e.theme.primary)>.5?hC(.1,e.theme.primary):NC(.1,e.theme.primary)),rz=F(oe).withConfig({displayName:"SelectDataSource__ColumnButton",componentId:"sc-57mb7-8"})(["border-left:0 !important;border-radius:0 2px 2px 0 !important;"]),az=c.memo(({structure:e,joinTable:t,conditionsIndex:n,joinIndex:r,sourceId:a,allowManage:i,onChange:s})=>{var A,E,S,p;const l=V("view.structView"),d=U(Wo),u=c.useMemo(()=>d[a],[d,a]),T=c.useCallback(()=>{const f=e.table,I=gi(f,u),O=I==null?void 0:I.map((m,g)=>({title:m,key:[...f,m]})),N=[];for(let m=0;m<r;m++){const g=e.joins[m].table,_=gi(g,u),L=_==null?void 0:_.map((P,v)=>({title:P,key:[...g,P]}));N.push({title:g.join("."),key:g.join("."),selectable:!1,children:L})}return[{title:f.join("."),key:f.join("."),selectable:!1,children:O},...N]},[r,e,u]),R=c.useCallback(()=>{const f=t.table,I=gi(f,u),O=I==null?void 0:I.map((h,m)=>({title:h,key:[...f,h]}));return[{title:f.join("."),key:f,selectable:!1,children:O}]},[t.table,u]);return c.useEffect(()=>{T()},[T]),o.jsxs(oz,{children:[o.jsx(bf,{name:"left"+r+n,rules:[{required:!0,message:l("selectField")}],getValueFromEvent:f=>f?f.slice(-1):"",children:o.jsx(Pf,{popupMatchSelectWidth:!1,allowClear:!0,placeholder:l("selectField"),treeDefaultExpandAll:!0,value:(E=(A=t.conditions)==null?void 0:A[n])==null?void 0:E.left.slice(-1),onChange:f=>{i&&s(f||[],"left",n)},treeIcon:!0,treeData:T()})}),o.jsx(iz,{children:"="}),o.jsx(bf,{name:"right"+r+n,rules:[{required:!0,message:l("selectField")}],getValueFromEvent:f=>f?f.slice(-1):"",children:o.jsx(Pf,{popupMatchSelectWidth:!1,allowClear:!0,placeholder:l("selectField"),treeDefaultExpandAll:!0,value:(p=(S=t.conditions)==null?void 0:S[n])==null?void 0:p.right.slice(-1),onChange:f=>{i&&s(f||[],"right",n)},treeIcon:!0,treeData:R()})})]},n)}),oz=F.div.withConfig({displayName:"SelectJoinColumns__Line",componentId:"sc-vbkbeb-0"})([""]),bf=F($.Item).withConfig({displayName:"SelectJoinColumns__FormItem",componentId:"sc-vbkbeb-1"})(["display:inline-block;"]),Pf=F(vr).withConfig({displayName:"SelectJoinColumns__ColumnSelect",componentId:"sc-vbkbeb-2"})(["min-width:120px;"]),iz=F.span.withConfig({displayName:"SelectJoinColumns__Equal",componentId:"sc-vbkbeb-3"})(["margin:0 ",";"],It),sz=c.memo(({type:e,onChange:t})=>{const n=V("view.structView"),r={items:[{key:Jn.LeftJoin,label:n(Jn.LeftJoin)},{key:Jn.RightJoin,label:n(Jn.RightJoin)},{key:Jn.InnerJoin,label:n(Jn.InnerJoin)}],onClick:a=>t(a.key),selectedKeys:[e]};return o.jsx(an,{trigger:["click"],placement:"bottomLeft",menu:r,children:o.jsx(lz,{className:Ke("iconfont",{"icon-join_inner":e===Jn.InnerJoin,"icon-join_right":e===Jn.RightJoin,"icon-join_left":e===Jn.LeftJoin})})})}),lz=F.i.withConfig({displayName:"SelectJoinType__Icon",componentId:"sc-17fm681-0"})(["margin:0 ",";color:",";cursor:pointer;"],It,e=>e.theme.blue),cz=c.memo(({allowManage:e,allowEnableViz:t})=>{var v;const{actions:n}=Mn(),r=de(),{initActions:a}=c.useContext(dr),{showSaveForm:i}=c.useContext(wr),s=V("view.structView"),l=U(D=>ge(D,{name:"script"})),d=U(D=>ge(D,{name:"id"})),u=U(D=>ge(D,{name:"sourceId"})),T=U(D=>ge(D,{name:"stage"})),R=U(D=>ge(D,{name:"status"})),A=U($n),E=U(Wo),[S]=$.useForm(),p=c.useCallback((D,b,C)=>{r(n.changeCurrentEditingView({script:b==="MAIN"?{...l,...D,joins:!D.table||lI(l.table,D.table)?l.joins:[]}:kt(l,y=>{y.joins[C]=D})})),b==="MAIN"&&D.sourceId&&r(n.changeCurrentEditingView({sourceId:D.sourceId}))},[l,r,n]),f=c.useCallback(()=>{r(n.changeCurrentEditingView({script:kt(l,D=>{D.joins.push({joinType:Jn.LeftJoin})})}))},[l,r,n]),I=c.useCallback((D,b)=>{r(n.changeCurrentEditingView({script:kt(l,C=>{C.joins[b].joinType=D})}))},[l,r,n]),O=c.useCallback((D,b,C)=>{p({...l.joins[C],...D,conditions:l.joins[C].conditions||[{left:[],right:[]}]},b,C)},[l,p]),N=c.useCallback((D,b,C,y)=>{p(kt(l.joins[C],w=>{w.conditions[y][b]=D}),"JOINS",C)},[l,p]),h=c.useCallback(D=>{p(kt(l.joins[D],b=>{b.conditions.push({left:[],right:[]})}),"JOINS",D)},[p,l.joins]),m=c.useCallback(D=>{var b,C;(C=(b=l.joins[D])==null?void 0:b.conditions)==null||C.forEach((y,w)=>{S.setFieldsValue({["left"+D+w]:"",["right"+D+w]:""})}),r(n.changeCurrentEditingView({script:kt(l,y=>{y.joins.splice(D,1)})}))},[l,r,n,S]),g=c.useCallback(async(D,b)=>{try{let C=[];b!==void 0?C=l.joins.slice(0,b+1):C=l.joins;for(let w=0;w<C.length;w++){const x=C[w];if(!x.table||!x.table.length)throw new Error("");if(D==="JOINS"&&x.conditions)for(let M=0;M<x.conditions.length;M++){const B=x.conditions[M];(!B.left||!B.left.length||!B.right||!B.right.length)&&await S.validateFields()}}D||await S.validateFields();let y={table:[],columns:[],joins:[]};D==="MAIN"?(y.table=l.table,y.columns=l.columns):D==="JOINS"&&b!==void 0?(y.table=l.table,y.columns=l.columns,y.joins=[l.joins[b]]):y=l,r(Ji({id:d,isFragment:!!D,script:y}))}catch(C){C.message&&Ie.error(C.message)}},[r,d,l,S]),_=c.useCallback((D,b)=>{r(n.changeCurrentEditingView({script:kt(l,C=>{var y;(y=C.joins[D].conditions)==null||y.splice(b,1)})})),S.setFieldsValue({["left"+D+b]:"",["right"+D+b]:""})},[n,r,l,S]),L=c.useCallback(D=>{r(va({resolve:D}))},[r]),P=c.useCallback(()=>{R!==so.Archived&&T===We.Saveable&&(La(d)?i({type:ue.Edit,visible:!0,parentIdLabel:s("file"),initialValues:{name:"",parentId:"",config:{}},onSave:(D,b)=>{const C=ht(D,A);r(n.changeCurrentEditingView({...D,parentId:D.parentId||null,index:C})),L(b)}}):L())},[r,n,T,R,d,L,i,A,s]);return c.useEffect(()=>{a({onRun:g,onSave:P})},[a,P,g]),c.useEffect(()=>{typeof l=="string"&&r(n.initCurrentEditingStructViewScript({script:o_(l,E[u])}))},[u,E,n,r,l]),c.useEffect(()=>{var D;(D=l.joins)==null||D.forEach((b,C)=>{var y;(y=b==null?void 0:b.conditions)==null||y.forEach((w,x)=>{S.setFieldsValue({["left"+C+x]:w.left.slice(-1),["right"+C+x]:w.right.slice(-1)})})})},[l.joins,S]),o.jsx(dz,{children:typeof l=="string"?o.jsx(pz,{children:o.jsx(Co,{})}):o.jsxs(o.Fragment,{children:[o.jsx(Rh,{type:"STRUCT",allowManage:e,allowEnableViz:t}),o.jsx(Ez,{children:o.jsxs($,{form:S,name:"StructViewForm",children:[o.jsxs(Az,{children:[o.jsxs(yf,{children:[o.jsxs(Mf,{children:[o.jsx(Me,{title:s("runStep"),placement:"left",children:o.jsx(oe,{className:"run-fragment",icon:o.jsx(Eo,{}),onClick:()=>e&&g("MAIN")})}),s("main")]}),o.jsx(xf,{children:o.jsx(Ge,{children:o.jsx(KE,{type:"MAIN",sourceId:u,structure:l,allowManage:e,onChange:p})})})]}),l.joins.map((D,b)=>{var C;return o.jsxs(yf,{children:[o.jsxs(Mf,{children:[o.jsx(Me,{title:s("runStep"),placement:"left",children:o.jsx(oe,{className:"run-fragment",icon:o.jsx(Eo,{}),onClick:()=>e&&g("JOINS",b)})}),s("join")]}),o.jsxs(xf,{children:[o.jsxs(uz,{children:[o.jsx(KE,{joinTable:D,structure:l,allowManage:e,renderType:"READONLY"}),o.jsx(sz,{type:D.joinType,onChange:y=>{e&&I(y,b)}}),o.jsx(KE,{type:"JOINS",joinTable:D,sourceId:u,structure:l,allowManage:e,onChange:(y,w)=>O(y,w,b)})]}),D.table&&o.jsxs(o.Fragment,{children:[o.jsx(Rz,{children:s("selectJoinColumn")}),o.jsx(Tz,{children:(C=D.conditions)==null?void 0:C.map(({left:y,right:w},x)=>o.jsxs(Sz,{children:[o.jsx(az,{structure:l,joinTable:D,onChange:(M,B,H)=>N(M,B,b,H),conditionsIndex:x,joinIndex:b,sourceId:u,allowManage:e}),o.jsxs(Ge,{className:"action",children:[!!y.length&&!!w.length&&x===D.conditions.length-1&&o.jsx(oe,{type:"link",size:"small",icon:o.jsx(nr,{}),onClick:()=>e&&h(b)}),x===D.conditions.length-1&&x>0&&o.jsx(oe,{danger:!0,type:"link",size:"small",icon:o.jsx(Da,{}),onClick:()=>e&&_(b,x)})]})]}))})]})]}),o.jsx(fz,{children:o.jsx(oe,{danger:!0,size:"small",className:"delete-item",icon:o.jsx(it,{}),onClick:()=>e&&m(b)})})]})})]}),!!l.table.length&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{disabled:!!l.joins.length&&!((v=l.joins[l.joins.length-1])!=null&&v.table),type:"link",className:"join",icon:o.jsx(nr,{}),onClick:e?f:void 0,children:s("addJoin")}),o.jsx(oe,{type:"primary",className:"run",icon:o.jsx(Eo,{}),onClick:()=>g(),children:s("run")})]})]})})]})})}),dz=F.div.withConfig({displayName:"StructView__StructContainer",componentId:"sc-16g8rgw-0"})(["display:flex;flex:1;flex-direction:column;background:",";"],e=>e.theme.componentBackground),Ez=F.div.withConfig({displayName:"StructView__ConfigPanel",componentId:"sc-16g8rgw-1"})(["flex:1;padding:",";overflow:auto;.join{display:block;margin:0 0 "," 92px;}.run{display:block;margin:0 0 "," 108px;}"],ye,ye,ye),uz=F.div.withConfig({displayName:"StructView__TableRelation",componentId:"sc-16g8rgw-2"})(["display:flex;flex-shrink:0;align-items:center;align-self:flex-start;padding:"," 0;"],It),Tz=F.div.withConfig({displayName:"StructView__JoinConditionWrapper",componentId:"sc-16g8rgw-3"})(["padding:"," 0;margin-right:",";"],It,Cc),Sz=F.div.withConfig({displayName:"StructView__JoinConditionLine",componentId:"sc-16g8rgw-4"})(["display:flex;align-items:center;margin-top:",";&:first-of-type{margin-top:0;}.action{margin-left:",";visibility:hidden;}&:hover{.action{visibility:visible;}}"],Le,Le),Rz=F.span.withConfig({displayName:"StructView__SelectJoinColumnLabel",componentId:"sc-16g8rgw-5"})(["display:flex;align-self:flex-start;justify-content:center;width:",";padding:"," 0;line-height:32px;color:",";"],me(30),It,e=>e.theme.textColorLight),pz=F.div.withConfig({displayName:"StructView__LoadingWrap",componentId:"sc-16g8rgw-6"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100px;"]),Az=F.div.withConfig({displayName:"StructView__ProcessLine",componentId:"sc-16g8rgw-7"})(["position:relative;&:before{position:absolute;top:28px;left:",";z-index:",";width:4px;height:calc(100% - 56px);content:'';background-color:",";}"],me(18),ds,e=>e.theme.borderColorSplit),yf=F.div.withConfig({displayName:"StructView__ProcessItem",componentId:"sc-16g8rgw-8"})(["position:relative;display:flex;.run-fragment{position:absolute;top:",";left:",";display:none;}.delete-item{display:none;font-size:",";}&:hover{background-color:",";.run-fragment{display:inline-block;}.delete-item{display:inline-block;> .ant-btn-icon{display:inherit;}}}&:before{position:absolute;top:22px;left:",";z-index:",";width:",";height:",";content:'';background-color:",";border-radius:50%;}&:after{position:absolute;top:","px;left:",";z-index:",";width:",";height:",";content:'';background-color:",";border-radius:50%;}"],It,ye,ba,e=>e.theme.bodyBackground,me(17),Ro,me(3),me(3),e=>e.theme.primary,22+_c/2,me(17.5),Ro,me(2),me(2),e=>e.theme.componentBackground),Mf=F.p.withConfig({displayName:"StructView__ProcessItemLabel",componentId:"sc-16g8rgw-9"})(["position:relative;flex-shrink:0;width:",";padding:"," 0 "," ",";font-weight:",";line-height:32px;color:",";"],me(40),It,It,me(26),nn,e=>e.theme.textColorSnd),xf=F.div.withConfig({displayName:"StructView__ProcessItemContent",componentId:"sc-16g8rgw-10"})(["display:flex;flex-wrap:wrap;align-items:center;padding-left:",";"],Cc),fz=F.div.withConfig({displayName:"StructView__ProcessItemAction",componentId:"sc-16g8rgw-11"})(["display:flex;flex-shrink:0;align-items:center;margin:0 ",";"],Cc),Iz=c.memo(()=>{const e=de(),{editorInstance:t}=c.useContext(dr),{actions:n}=Mn(),r=U($n),a=U(f=>ge(f,{name:"id"})),i=U(f=>ge(f,{name:"parentId"})),s=U(f=>ge(f,{name:"sourceId"})),l=U(f=>ge(f,{name:"type"})),d=c.useMemo(()=>r?wu(r,{id:a,parentId:i},le.View):[],[r,a,i]),u=rT({module:le.View,path:d,level:_e.Manage}),T=a==null?void 0:a.includes(Dc),R=u(!0)||T,A=Pc({type:"module",module:le.Viz,id:"",level:_e.Enable})(!0);c.useEffect(()=>{t==null||t.layout()},[t,R]);const E=c.useCallback(Yn(()=>{t==null||t.layout()},300),[t]),S=c.useCallback(f=>{t==null||t.layout()},[t]),p=c.useCallback(f=>{e(n.changeCurrentEditingView({type:f,script:f==="STRUCT"?{table:[],columns:[],joins:[]}:""}))},[e,n]);return c.useEffect(()=>(window.addEventListener("resize",E,!1),()=>{window.removeEventListener("resize",E)}),[E]),c.useEffect(()=>{s&&e(Fi(s))},[e,s]),o.jsxs(Oz,{children:[o.jsxs(hz,{direction:"vertical",gutterSize:5,className:"datart-split",onDrag:S,children:[o.jsx(mz,{children:l?l!=="STRUCT"?o.jsx(nk,{allowManage:R,allowEnableViz:A}):o.jsx(cz,{allowManage:R,allowEnableViz:A}):T?o.jsx(a6,{selectViewType:p}):o.jsx(Nz,{children:o.jsx(Co,{})})}),o.jsx(dk,{})]}),o.jsx(z9,{viewType:l,allowManage:R})]})}),Oz=F.div.withConfig({displayName:"Workbench__Wrapper",componentId:"sc-11njcr1-0"})(["display:flex;flex:1;min-height:0;"]),mz=F.div.withConfig({displayName:"Workbench__EditorWrap",componentId:"sc-11njcr1-1"})(["display:flex;flex:1;flex-direction:column;"]),hz=F(oa).withConfig({displayName:"Workbench__Development",componentId:"sc-11njcr1-2"})(["display:flex;flex:1;flex-direction:column;"]),Nz=F.div.withConfig({displayName:"Workbench__LoadingWrap",componentId:"sc-11njcr1-3"})(["display:flex;flex:1;align-items:center;justify-content:center;background-color:",";"],e=>e.theme.componentBackground),Cz=c.memo(({sliderVisible:e})=>{Fs(),Do(),mm();const t=de(),{viewId:n}=mt(),r=U(Be),a=U(Dd),i=V("view");return c.useEffect(()=>{t(Cr(r))},[t,r]),c.useEffect(()=>{n&&t(mu({viewId:n}))},[t,n,r]),o.jsx(gz,{className:e?"close":"",children:a.length>0?o.jsxs(o.Fragment,{children:[o.jsx(q8,{}),o.jsx(Iz,{})]}):o.jsx(fs,{title:i("empty")})})}),gz=F.div.withConfig({displayName:"Main__Container",componentId:"sc-fbsmv8-0"})(["display:flex;flex:1;flex-direction:column;&.close{width:calc(100% - 30px) !important;min-width:calc(100% - 30px) !important;padding-left:30px;}"]);function _z({formProps:e,...t}){const[n,r]=c.useState(!1),[a,i]=c.useState(!0),[s,l]=c.useState(!1),d=c.useMemo(W4,[]),[u,T]=c.useState(!1),{type:R,visible:A,simple:E,parentIdLabel:S,initialValues:p,onSave:f,onCancel:I,onAfterClose:O}=c.useContext(wr),N=U(pn),h=U(Va),m=c.useCallback((w,x)=>!Ya(N,h,le.View,x,_e.Create),[N,h]),g=U(w=>d(w,{id:p==null?void 0:p.id,getDisabled:m})),_=U(Yo),L=U(Be),P=c.useRef(),v=V("view.saveForm"),D=V("global");c.useEffect(()=>{var w;p&&((w=P.current)==null||w.setFieldsValue({...p,parentId:p.parentId||void 0}))},[p]);const b=c.useCallback(()=>{r(!n)},[n]),C=c.useCallback(w=>{f({...w,config:{version:Ql,...w.config}},I)},[f,I]),y=c.useCallback(()=>{var w;(w=P.current)==null||w.resetFields(),r(!1),i(!0),l(!1),O&&O(),T(!1)},[O]);return o.jsxs(aa,{formProps:e,...t,title:v(E?"folder":"title"),type:R,open:A,confirmLoading:(_==null?void 0:_.stage)===We.Saving,onSave:C,onCancel:I,afterClose:y,ref:P,children:[o.jsx($.Item,{name:"name",label:v("name"),getValueFromEvent:w=>{var x;return(x=w.target.value)==null?void 0:x.trim()},rules:[{required:!0,message:`${v("name")}${D("validation.required")}`},{validator:Ur((w,x)=>{var H;if(!x||(p==null?void 0:p.name)===x)return Promise.resolve();if(!x.trim())return Promise.reject(`${v("name")}${D("validation.required")}`);const M=(H=P.current)==null?void 0:H.getFieldValue("parentId");return sr("views",{name:x,orgId:L,parentId:M||null})},$t)}],children:o.jsx(Ae,{})}),o.jsx($.Item,{name:"parentId",label:S,children:o.jsx(vr,{placeholder:v("root"),treeData:g||[],allowClear:!0,onChange:()=>{var w;(w=P.current)==null||w.validateFields()}})}),!E&&(p==null?void 0:p.config)&&o.jsxs(o.Fragment,{children:[o.jsx(Lz,{type:"link",icon:o.jsx(i_,{rotate:n?-90:90}),onClick:b,children:v("advanced")}),o.jsxs(vz,{show:n,children:[o.jsx($.Item,{name:["config","concurrencyControl"],label:v("concurrencyControl"),valuePropName:"checked",initialValue:a,children:o.jsx(Zl,{onChange:i})}),o.jsx($.Item,{name:["config","concurrencyControlMode"],label:v("concurrencyControlMode"),initialValue:ER.DirtyRead,children:o.jsx(Pe.Group,{disabled:!a,children:Object.values(ER).map(w=>o.jsx(Pe,{value:w,children:v(w.toLowerCase())},w))})}),o.jsx($.Item,{name:["config","cache"],label:v("cache"),valuePropName:"checked",initialValue:s,children:o.jsx(Zl,{onChange:l})}),o.jsx($.Item,{name:["config","cacheExpires"],label:v("cacheExpires"),initialValue:0,children:o.jsx(bt,{disabled:!s,min:0})}),o.jsx($.Item,{wrapperCol:{span:13,offset:9},name:["config","expensiveQuery"],initialValue:u,valuePropName:"checked",children:o.jsx(bn,{children:v("expensiveQuery")})})]})]})]})}const Lz=F(oe).withConfig({displayName:"SaveForm__AdvancedToggle",componentId:"sc-11w8i8j-0"})(["margin-bottom:",";"],ye),vz=F.div.withConfig({displayName:"SaveForm__AdvancedWrapper",componentId:"sc-11w8i8j-1"})(["display:",";"],e=>e.show?"block":"none"),Dz=c.memo(({treeData:e,searchable:t})=>{const n=de(),[r,a]=c.useState([]),i=Ve(),{showSaveForm:s}=c.useContext(wr),l=U($4),d=U(Gs),u=U(Be),T=U($n),R=U(pn),A=U(Va),E=V("view"),S=V("global"),p=Th(),f=Sh(),I=Pc({type:"module",module:le.Viz,id:"",level:_e.Enable})(!0);c.useEffect(()=>{t&&(e!=null&&e.length)&&a(r.concat(ua(e).map(({key:P})=>P)))},[t,e]),c.useEffect(()=>{n(Xr(u))},[n,u]);const O=c.useCallback(P=>{i(P?`/organizations/${u}/views/${P}`:`/organizations/${u}/views`)},[i,u]),N=c.useCallback((P,v)=>D=>{D.stopPropagation(),n(Hi({id:P,archive:!v,resolve:()=>{n(qi({id:P,resolve:O})),Ie.success(S(v?"operation.deleteSuccess":"operation.archiveSuccess"))}}))},[n,O,S]),h=c.useCallback(({id:P,name:v,parentId:D,index:b,isFolder:C})=>({key:y,domEvent:w})=>{switch(w.stopPropagation(),y){case"info":s({type:ue.Edit,visible:!0,simple:C,initialValues:{id:P,name:v,parentId:D},parentIdLabel:E("saveForm.folder"),onSave:(x,M)=>{qu(D,x.parentId)&&(b=ht(x,T)),n(Gi({view:{id:P,...x,parentId:x.parentId||null,index:b},resolve:M}))}});break;case"delete":break;case"saveAs":p(P);break;case"startAnalysis":f(P);break}},[n,s,T,E,p,f]),m=c.useCallback(P=>{const{title:v,path:D,isFolder:b,id:C}=P,y=Ya(R,A,le.View,D,_e.Manage);return o.jsxs(kn,{children:[o.jsx("h4",{children:`${v}`}),y||I?o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:h(P),children:[y&&o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:S("button.info")},"info"),y&&!b&&o.jsx(De,{prefix:o.jsx(cT,{className:"icon"}),children:S("button.saveAs")},"saveAs"),I&&!b&&o.jsx(De,{prefix:o.jsx(aO,{className:"icon"}),children:E("editor.startAnalysis")},"startAnalysis"),y&&o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:S(b?"operation.deleteConfirm":"operation.archiveConfirm"),onConfirm:N(C,b),children:S(b?"button.delete":"button.archive")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})}):""]})},[N,h,S,I,E,R,A]),g=c.useCallback((P,{node:v})=>{v.isFolder&&(r!=null&&r.includes(v.key)?a(r.filter(D=>D!==v.key)):a([v.key].concat(r))),!v.isFolder&&v.id!==d&&i(`/organizations/${u}/views/${v.id}`)},[i,u,d,r]),_=P=>{cs({info:P,treeData:e,callback:(v,D,b)=>{n(Gi({view:{id:v,parentId:D,index:b,name:P.dragNode.name},resolve:()=>{}}))}})},L=P=>{a(P)};return o.jsx(gt,{loading:l,treeData:e,titleRender:m,selectedKeys:[d],onSelect:g,onDrop:_,expandedKeys:r,onExpand:L,draggable:!0,id:"folder_tree"})}),bz=c.memo(({list:e})=>{const t=de(),n=Ve(),{showSaveForm:r}=c.useContext(wr),a=U(X4),i=U(Be),s=U(Gs),l=U($n),d=U(pn),u=V("view.saveForm"),T=V("global");c.useEffect(()=>{t(Bl(i))},[t,i]);const R=c.useCallback(f=>{n(f?`/organizations/${i}/views/${f}`:`/organizations/${i}/views`)},[n,i]),A=c.useCallback(f=>I=>{I.stopPropagation(),t(Hi({id:f,archive:!1,resolve:()=>{t(qi({id:f,resolve:R})),Ie.success(T("operation.deleteSuccess"))}}))},[t,R,T]),E=c.useCallback((f,I)=>({key:O,domEvent:N})=>{switch(N.stopPropagation(),O){case"reset":r({type:ue.Edit,visible:!0,simple:!0,initialValues:{name:I,parentId:null},parentIdLabel:u("folder"),onSave:(h,m)=>{const g=ht(h,l);t(Gl({view:{...h,id:f,index:g},resolve:()=>{t(qi({id:f,resolve:R})),Ie.success(T("operation.restoreSuccess")),m()}}))}});break}},[t,r,R,l,u,T]),S=c.useCallback(({key:f,title:I})=>o.jsxs(kn,{children:[o.jsx("h4",{children:`${I}`}),d&&o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsxs(lt,{selectable:!1,onClick:E(f,I),children:[o.jsx(De,{prefix:o.jsx(go,{className:"icon"}),children:T("button.restore")},"reset"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:T("operation.deleteConfirm"),onConfirm:A(f),children:T("button.delete")})},"delelte")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})]}),[E,A,d,T]),p=c.useCallback((f,{node:I})=>{!I.isFolder&&I.key!==s&&n(`/organizations/${i}/views/${I.key}`)},[n,i,s]);return o.jsx(gt,{loading:a,treeData:e,titleRender:S,onSelect:p,id:"recycle"})}),Pz=c.memo(({isDragging:e,width:t,sliderVisible:n,handleSliderVisible:r})=>{const a=Ve(),i=de(),{showSaveForm:s}=c.useContext(wr),l=U(Be),d=c.useMemo(Y4,[]),u=U($n),T=V("view.sidebar"),R=c.useCallback(({isFolder:_})=>_?L=>L.expanded?o.jsx(Ts,{}):o.jsx(Ss,{}):o.jsx(gb,{}),[]),A=c.useCallback(({deleteLoading:_})=>_,[]),E=U(_=>d(_,{getIcon:R,getDisabled:A})),{keywords:S,filteredData:p,debouncedSearch:f}=Nt(E,(_,L)=>L.title.toLowerCase().includes(_.toLowerCase())),I=U(V4),O=c.useMemo(()=>I==null?void 0:I.map(({id:_,name:L,parentId:P,isFolder:v,deleteLoading:D})=>({key:_,title:L,parentId:P,isFolder:v,disabled:D})),[I]),{filteredData:N,debouncedSearch:h}=Nt(O,(_,L)=>L.title.toLowerCase().includes(_.toLowerCase())),m=c.useCallback(({key:_})=>{switch(_){case"view":a(`/organizations/${l}/views/${`${Dc}${yt()}`}`);break;case"folder":s({type:ue.Add,visible:!0,simple:!0,parentIdLabel:T("parent"),onSave:(L,P)=>{const v=ht(L,u);i(Fl({folder:{...L,parentId:L.parentId||null,index:v},resolve:P}))}});break}},[i,a,l,s,u,T]),g=c.useMemo(()=>[{key:"list",title:T("title"),search:!0,add:{items:[{key:"view",text:T("addView")},{key:"folder",text:T("addFolder")}],callback:m},more:{items:[{key:"recycle",text:T("recycle"),prefix:o.jsx(it,{className:"icon"})},{key:"collapse",text:T(n?"open":"close"),prefix:n?o.jsx(Lr,{className:"icon"}):o.jsx(ps,{className:"icon"})}],callback:(_,L,P)=>{switch(_){case"recycle":P();break;case"collapse":r(!n);break}}},onSearch:f},{key:"recycle",title:T("recycle"),back:!0,search:!0,onSearch:h}],[m,f,h,T,r,n]);return o.jsxs(yz,{sliderVisible:n,className:n?"close":"",isDragging:e,width:t,children:[n?o.jsx(Lr,{className:"menuUnfoldOutlined"}):o.jsx(o.Fragment,{}),o.jsxs(Mz,{defaultActiveKey:"list",children:[o.jsxs(ar,{children:[o.jsx(en,{...g[0]}),o.jsx(Dz,{treeData:p,searchable:!!S.length})]},"list"),o.jsxs(ar,{children:[o.jsx(en,{...g[1]}),o.jsx(bz,{list:N})]},"recycle")]})]})}),yz=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-f7rw1q-0"})(["color:",";background-color:",";height:100%;transition:",";&.close{position:absolute;width:"," !important;height:100%;background:",";.menuUnfoldOutlined{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}> div{display:",";}&:hover{width:"," !important;.menuUnfoldOutlined{display:none;}> div{display:flex;&.hidden{display:none;}}}}"],e=>e.theme.textColorSnd,e=>e.theme.componentBackground,e=>e.isDragging?"none":"width 0.3s ease",me(7.5),e=>e.theme.componentBackground,e=>e.sliderVisible?"none":"flex",e=>e.width+"%"),Mz=F(Os).withConfig({displayName:"Sidebar__ListNavWrapper",componentId:"sc-f7rw1q-1"})(["position:relative;z-index:",";display:flex;flex-direction:column;flex-shrink:0;height:100%;background-color:",";border-right:1px solid ",";"],Nc,e=>e.theme.componentBackground,e=>e.theme.borderColorSplit);function xz(){const{editorInstance:e}=c.useContext(dr),t=V("global"),[n,r]=c.useState(!1),[a,i]=c.useState(!1),s=c.useCallback(()=>{e==null||e.layout()},[e]),{sizes:l,setSizes:d}=bo({limitedSide:0,range:[256,768]}),u=c.useCallback(A=>{d(A),s(),r(!1)},[r,d,s]),T=c.useCallback(()=>{n||r(!0)},[r,n]),R=c.useCallback(A=>{i(A)},[i]);return c.useEffect(()=>{s()},[a,s]),o.jsxs(Uz,{sizes:l,minSize:[256,0],maxSize:[768,1/0],gutterSize:5,onDragStart:T,onDragEnd:u,className:"datart-split",sliderVisible:a,children:[o.jsx(Pz,{width:l[0],isDragging:n,sliderVisible:a,handleSliderVisible:R}),o.jsx(Cz,{sliderVisible:a}),o.jsx(_z,{formProps:{labelAlign:"left",labelCol:{offset:1,span:8},wrapperCol:{span:13}},okText:t("button.save")})]})}const Uz=F(({sliderVisible:e,...t})=>o.jsx(oa,{...t})).withConfig({displayName:"Container__StyledContainer",componentId:"sc-1a00im8-0"})(["display:flex;flex:1;min-width:0;min-height:0;.gutter-horizontal{display:",";}"],e=>e.sliderVisible?"none":"block");function wz(){Mn(),Fs();const e=d6(),t=J8();return o.jsx(dr.Provider,{value:t,children:o.jsx(wr.Provider,{value:e,children:o.jsx(xz,{})})})}function Bz({sliderVisible:e}){const{actions:t}=Rs(),n=de(),r=Ve(),{vizId:a}=mt(),i=ja(),s=U(na),l=U(dT),d=U(zL),u=U(KL),T=U(JL),R=U(qL),A=U(QL),E=U(Be),S=V("viz.main");c.useEffect(()=>{if(a){const h=s.find(m=>m.relId===a)||l.find(({id:m})=>m===a)||d.find(({id:m})=>m===a)||u.find(({id:m})=>m===a)||T.find(({id:m})=>m===a);if(h){if(h.vizType){const{id:m,name:g,vizType:_}=h;n(t.addTab({id:m,type:_,name:g,search:i.search,parentId:null}))}if(h.relType){const{id:m,name:g,relId:_,relType:L,parentId:P}=h;n(t.addTab({id:_,type:L,name:g,search:i.search,parentId:P,permissionId:m}))}else{const{id:m,name:g}=h;n(t.addTab({id:m,type:"STORYBOARD",name:g,search:i.search,parentId:null}))}}}},[n,i,t,s,l,d,u,T,a]),c.useEffect(()=>{A&&!a&&r(`/organizations/${E}/vizs/${A.id}`)},[r,A,E,a]);const p=c.useCallback(h=>{const m=R.find(g=>g.id===h);m&&r(`/organizations/${E}/vizs/${h}${m.search||""}`),setTimeout(()=>{Gt()},500)},[r,E,R]),f=c.useCallback((h,m)=>{switch(m){case"remove":n(Wi({id:h,resolve:g=>{const _=R.find(L=>L.id===g);r(_?`/organizations/${E}/vizs/${g}${_.search||""}`:`/organizations/${E}/vizs`)}}));break}},[n,r,E,R]),I=(h,m)=>{if(h.domEvent.stopPropagation(),h.key==="CLOSE_ALL"){n(ev({resolve(){r(`/organizations/${E}/vizs`)}}));return}n(tv({id:m,resolve:g=>{const _=R.find(L=>L.id===g);r(_?`/organizations/${E}/vizs/${g}${_.search||""}`:`/organizations/${E}/vizs`)}}))},O=h=>({items:[{key:"CLOSE_OTHER",label:o.jsx("span",{children:S("closeOther")})},{key:"CLOSE_ALL",label:o.jsx("span",{children:S("closeAll")})}],onClick:m=>I(m,h)}),N=(h,m)=>o.jsx("span",{children:o.jsx(an,{menu:O(h),trigger:["contextMenu"],children:o.jsx("span",{className:"ant-dropdown-link",children:m})})});return o.jsxs(Fz,{className:e?"close datart-viz":"datart-viz",children:[o.jsx(Gz,{children:o.jsx(TO,{hideAdd:!0,mode:"dashboard",type:"editable-card",activeKey:A==null?void 0:A.id,onChange:p,onEdit:f,items:R.map(({id:h,name:m})=>({key:h,label:N(h,m),closeIcon:o.jsx(Hz,{children:o.jsx(Da,{})})}))})}),R.map(h=>o.jsx(ZL,{tab:h,orgId:E,vizs:s,selectedId:A==null?void 0:A.id},h.id)),!R.length&&o.jsx(fs,{title:S("empty")}),o.jsx(is,{})]})}const Fz=F.div.withConfig({displayName:"Main__Wrapper",componentId:"sc-1eec1f-0"})(["display:flex;flex:1;flex-direction:column;min-width:0;min-height:0;&.close{width:calc(100% - 30px) !important;min-width:calc(100% - 30px) !important;padding-left:30px;}"]),Gz=F.div.withConfig({displayName:"Main__TabsWrapper",componentId:"sc-1eec1f-1"})(["z-index:",";flex-shrink:0;"],ds),Hz=F.span.withConfig({displayName:"Main__CloseIconWrapper",componentId:"sc-1eec1f-2"})(["display:flex;align-items:center;justify-content:center;width:12px;height:12px;"]),vN=c.memo(({type:e,orgId:t,selectedId:n,list:r,listLoading:a,onInit:i})=>{const s=de(),l=Ve(),{showSaveForm:d}=c.useContext(ra),u=U(na),T=U(pn),R=V("global");c.useEffect(()=>{i()},[i]);const A=c.useCallback(I=>{l(I?`/organizations/${t}/vizs/${I}`:`/organizations/${t}/vizs`)},[l,t]),E=c.useCallback((I,O)=>N=>{N.stopPropagation(),s(ET({params:{id:I,archive:!1},type:O,resolve:()=>{Ie.success(R("operation.deleteSuccess")),s(Wi({id:I,resolve:A}))}}))},[s,A,R]),S=c.useCallback((I,O,N)=>({key:h,domEvent:m})=>{switch(m.stopPropagation(),h){case"reset":d({vizType:N,type:ue.Edit,visible:!0,initialValues:{id:I,name:O,parentId:void 0},onSave:(g,_)=>{const L=ht(g,u);s(nv({params:{id:I,vizType:N,...g,parentId:g.parentId||null,index:L},resolve:()=>{Ie.success(R("operation.restoreSuccess")),s(Wi({id:I,resolve:A})),_()}}))}});break}},[s,d,A,u,R]),p=c.useCallback((I,{node:O})=>{O.id!==n&&l(`/organizations/${t}/vizs/${O.id}`)},[l,t,n]),f=c.useCallback(({key:I,title:O,vizType:N})=>o.jsxs(kn,{children:[o.jsx("h4",{children:`${O}`}),T&&o.jsx(tn,{trigger:["click"],placement:"bottomRight",content:o.jsxs(lt,{selectable:!1,onClick:S(I,O,N),children:[o.jsx(De,{prefix:o.jsx(go,{className:"icon"}),children:R("button.restore")},"reset"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:R("operation.deleteConfirm"),onConfirm:E(I,N),children:R("button.delete")})},"delelte")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})]}),[T,S,R,E]);return o.jsx(gt,{loading:a,treeData:r,titleRender:f,onSelect:p})});function jz({selectedId:e,treeData:t,i18nPrefix:n,searchable:r}){const a=V("global"),i=de(),s=Ve(),[l,d]=c.useState([]),u=U(Be),T=U(yI),R=U(na),{showSaveForm:A}=c.useContext(ra),E=rv();c.useEffect(()=>{r&&(t!=null&&t.length)&&d(l.concat(ua(t).map(({key:m})=>m)))},[r,t]),c.useEffect(()=>{i(kr(u))},[i,u]);const S=c.useCallback(m=>{s(m?`/organizations/${u}/vizs/${m}`:`/organizations/${u}/vizs`)},[s,u]),p=c.useCallback((m,{node:g})=>{g.relType==="FOLDER"?l!=null&&l.includes(g.key)?d(l.filter(_=>_!==g.key)):d([g.key].concat(l)):s(`/organizations/${u}/vizs/${g.relId}`)},[l,s,u]),f=c.useCallback(({id:m,relId:g,relType:_})=>()=>{let L=m,P=!1,v=a("operation.deleteSuccess");["DASHBOARD","DATACHART"].includes(_)&&(L=g,P=!0,v=a("operation.archiveSuccess")),i(ET({params:{id:L,archive:P},type:_,resolve:()=>{Ie.success(v),i(Wi({id:L,resolve:S}))}}))},[i,S,a]),I=c.useCallback(m=>({key:g,domEvent:_})=>{switch(_.stopPropagation(),g){case"info":A({vizType:m.relType,type:ue.Edit,visible:!0,initialValues:{...m,parentId:m.parentId||void 0},onSave:(L,P)=>{let v=m.index;qu(m.parentId,L.parentId)&&(v=ht(L,R)),i(pR({folder:{...L,parentId:L.parentId||null,index:v},resolve:P}))}});break;case"delete":break;case"saveAs":E(m.relId,m.relType);break}},[i,A,R,E]),O=c.useCallback(m=>{const{isFolder:g,title:_,path:L,relType:P}=m;return o.jsxs(kn,{children:[o.jsx("h4",{children:`${_}`}),o.jsx(wc,{module:le.Viz,path:L,level:_e.Manage,children:o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:I(m),children:[o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:a("button.info")},"info"),!g&&o.jsx(De,{prefix:o.jsx(cT,{className:"icon"}),children:a("button.saveAs")},"saveAs"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:`${a(P==="FOLDER"?"operation.deleteConfirm":"operation.archiveConfirm")}`,onConfirm:f(m),children:a(P==="FOLDER"?"button.delete":"button.archive")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})},L)]})},[I,f,a]),N=m=>{cs({info:m,treeData:t,callback:(g,_,L)=>{i(pR({folder:{id:g,parentId:_,index:L},resolve:()=>{}}))}})},h=m=>{d(m)};return o.jsx(gt,{loading:T,treeData:t,expandedKeys:l,titleRender:O,onExpand:h,onSelect:p,onDrop:N,...e&&{selectedKeys:[e]},draggable:!0,id:"folder_tree"})}const Vz=c.memo(({selectedId:e,className:t,i18nPrefix:n,sliderVisible:r,handleSliderVisible:a})=>{const i=de(),s=U(Be),l=c.useMemo(PI,[]),d=V(n),u=Ve(),{showSaveForm:T}=c.useContext(ra),R=LI({showSaveForm:T}),A=oT(),E=c.useCallback(({deleteLoading:y})=>y,[]),S=U(y=>l(y,{getIcon:A,getDisabled:E})),{keywords:p,filteredData:f,debouncedSearch:I}=Nt(S,(y,w)=>w.title.toLowerCase().includes(y.toLowerCase())),O=c.useMemo(av,[]),N=c.useMemo(ov,[]),h=c.useCallback(({deleteLoading:y})=>y,[]),m=U(y=>O(y,{getDisabled:h})),g=U(y=>N(y,{getDisabled:h})),_=U(iv),L=U(sv),{filteredData:P,debouncedSearch:v}=Nt((m||[]).concat(g),(y,w)=>w.title.toLowerCase().includes(y.toLowerCase())),D=c.useCallback(()=>{i(lv(s)),i(cv(s))},[i,s]),b=c.useCallback(({key:y})=>{if(y==="DATACHART")return u({pathname:`/organizations/${s}/vizs/chartEditor`,search:"dataChartId=&chartType=dataChart&container=dataChart"}),!1;R({vizType:y,type:ue.Add,visible:!0,initialValues:void 0})},[s,u,R]),C=c.useMemo(()=>[{subTitle:d("folders.folderTitle"),add:{items:[{key:"DATACHART",text:d("folders.startAnalysis")},{key:"DASHBOARD",text:d("folders.dashboard")},{key:"FOLDER",text:d("folders.folder")},{key:"TEMPLATE",text:d("folders.template")}],callback:b},more:{items:[{key:"recycle",text:d("folders.recycle"),prefix:o.jsx(it,{className:"icon"})},{key:"collapse",text:d(r?"folders.open":"folders.close"),prefix:r?o.jsx(Lr,{className:"icon"}):o.jsx(ps,{className:"icon"})}],callback:(y,w,x)=>{switch(y){case"recycle":x();break;case"collapse":a(!r),Gt();break}}},search:!0,onSearch:I},{key:"recycle",subTitle:d("folders.recycle"),back:!0,search:!0,onSearch:v}],[b,I,v,d,r,a]);return o.jsxs(Yz,{className:t,defaultActiveKey:"list",children:[o.jsxs(ar,{children:[o.jsx(en,{...C[0]}),o.jsx(jz,{treeData:f,selectedId:e,i18nPrefix:n,searchable:!!p.length})]},"list"),o.jsxs(ar,{children:[o.jsx(en,{...C[1]}),o.jsx(vN,{type:"viz",orgId:s,list:P,listLoading:L||_,selectedId:e,onInit:D})]},"recycle")]})}),Yz=F(Os).withConfig({displayName:"Folders__Wrapper",componentId:"sc-wssi5h-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;padding:"," 0;background-color:",";"],Le,e=>e.theme.componentBackground),Wz=c.memo(({list:e,selectedId:t,searchable:n})=>{const r=de(),a=Ve(),i=U(dv),s=U(Be),{showSaveForm:l}=c.useContext(ra),d=V("global"),[u,T]=c.useState([]);c.useEffect(()=>{n&&e.length&&T(u.concat(ua(e).map(({key:O})=>O)))},[n,e]),c.useEffect(()=>{r(_i(s))},[r,s]);const R=c.useCallback(O=>{a(O?`/organizations/${s}/vizs/${O}`:`/organizations/${s}/vizs`)},[a,s]),A=c.useCallback((O,N)=>()=>{r(ET({params:{id:N,archive:!O},type:"STORYBOARD",resolve:()=>{Ie.success(d("operation.deleteSuccess")),r(Wi({id:N,resolve:R}))}}))},[r,R,d]),E=c.useCallback(O=>({key:N,domEvent:h})=>{switch(h.stopPropagation(),N){case"info":l({vizType:"STORYBOARD",type:ue.Edit,visible:!0,initialValues:{...O,parentId:O.parentId||void 0},onSave:(m,g)=>{r(AR({storyboard:{...O,...m},resolve:g}))}});break}},[r,l]),S=c.useCallback(O=>{const{isFolder:N,title:h,path:m,id:g}=O;return o.jsxs(kn,{children:[o.jsx("h4",{children:`${h}`}),o.jsx(wc,{module:le.Viz,path:m,level:_e.Manage,children:o.jsx(tn,{trigger:["click"],placement:"bottom",content:o.jsxs(lt,{selectable:!1,onClick:E(O),children:[o.jsx(De,{prefix:o.jsx(rr,{className:"icon"}),children:d("button.info")},"info"),o.jsx(De,{prefix:o.jsx(it,{className:"icon"}),children:o.jsx(dt,{title:`${d(N?"operation.deleteConfirm":"operation.archiveConfirm")}`,onConfirm:A(N,g),children:d(N?"button.delete":"button.archive")})},"delete")]}),children:o.jsx("span",{className:"action",onClick:rn,children:o.jsx(Xt,{})})})},m)]})},[E,A,d]),p=c.useCallback((O,{node:N})=>{N.isFolder?u!=null&&u.includes(N.key)?T(u.filter(h=>h!==N.key)):T([N.key].concat(u)):a(`/organizations/${s}/vizs/${N.id}`)},[u,a,s]),f=O=>{cs({info:O,treeData:e,callback:(N,h,m)=>{r(AR({storyboard:{id:N,parentId:h,index:m,name:O.dragNode.name},resolve:()=>{}}))}})},I=O=>{T(O)};return o.jsx(gt,{loading:i,treeData:e,expandedKeys:u,titleRender:S,onExpand:I,onSelect:p,onDrop:f,...t&&{selectedKeys:[t]},draggable:!0})}),kz=c.memo(({selectedId:e,className:t,i18nPrefix:n,sliderVisible:r,handleSliderVisible:a})=>{const i=de(),s=U(Be),{showSaveForm:l}=c.useContext(ra),d=U(dT),u=c.useMemo(Ev,[]),T=V(n),R=c.useCallback(({isFolder:v})=>v?D=>D.expanded?o.jsx(Ts,{}):o.jsx(Ss,{}):o.jsx(rO,{}),[]),A=c.useCallback(({deleteLoading:v})=>v,[]),E=U(v=>u(v,{getIcon:R,getDisabled:A})),{keywords:S,filteredData:p,debouncedSearch:f}=Nt(E,(v,D)=>D.title.toLowerCase().includes(v.toLowerCase())),I=c.useMemo(uv,[]),O=U(Tv),N=c.useCallback(({deleteLoading:v})=>v,[]),h=U(v=>I(v,{getDisabled:N})),{filteredData:m,debouncedSearch:g}=Nt(h,(v,D)=>D.title.toLowerCase().includes(v.toLowerCase())),_=c.useCallback(()=>{i(Sv(s))},[i,s]),L=c.useCallback(({key:v})=>{switch(v){case"add":l({vizType:dn.Storyboard,type:ue.Add,visible:!0,onSave:(D,b)=>{const C=ht(D,d);i(fR({storyboard:{...D,parentId:D.parentId||null,orgId:s,isFolder:!1,index:C},resolve:b}))}});break;case"folder":l({vizType:dn.Storyboard,type:ue.Add,visible:!0,onSave:(D,b)=>{const C=ht(D,d);i(fR({storyboard:{...D,parentId:D.parentId||null,orgId:s,isFolder:!0,index:C},resolve:b}))}});break}},[l,d,i,s]),P=c.useMemo(()=>[{subTitle:T("storyboards.title"),search:!0,add:{items:[{key:"add",text:T("storyboards.add")},{key:"folder",text:T("storyboards.addFolder")}],icon:o.jsx(nr,{}),callback:L},more:{items:[{key:"recycle",text:T("storyboards.recycle"),prefix:o.jsx(it,{className:"icon"})},{key:"collapse",text:T(r?"folders.open":"folders.close"),prefix:r?o.jsx(Lr,{className:"icon"}):o.jsx(ps,{className:"icon"})}],callback:(v,D,b)=>{switch(v){case"recycle":b();break;case"collapse":a(!r);break}}},onSearch:f},{key:"recycle",subTitle:T("storyboards.recycle"),back:!0,search:!0,onSearch:g}],[L,f,g,T,a,r]);return o.jsxs($z,{className:t,defaultActiveKey:"list",children:[o.jsxs(ar,{children:[o.jsx(en,{...P[0]}),o.jsx(Wz,{list:p,selectedId:e,searchable:!!S.length})]},"list"),o.jsxs(ar,{children:[o.jsx(en,{...P[1]}),o.jsx(vN,{type:"storyboard",orgId:s,list:m,listLoading:O,selectedId:e,onInit:_})]},"recycle")]})}),$z=F(Os).withConfig({displayName:"Storyboards__Wrapper",componentId:"sc-gf8sea-0"})(["display:flex;flex:1;flex-direction:column;min-height:0;padding:"," 0;background-color:",";"],Le,e=>e.theme.componentBackground),Xz=c.memo(({width:e,isDragging:t,i18nPrefix:n,sliderVisible:r,handleSliderVisible:a})=>{const[i,s]=c.useState("folder"),l=U(na),d=U(dT),{vizId:u}=mt(),T=V(n),R=c.useMemo(()=>{if(u&&l){const S=l.find(({relId:p})=>p===u);return S&&S.id}},[u,l]);c.useEffect(()=>{if(u){const S=l.find(({relId:p})=>p===u)||d.find(({id:p})=>p===u);S&&s(S.relType?"folder":"presentation")}},[u,d,l]);const A=c.useMemo(()=>[{key:"folder",icon:o.jsx(gP,{}),text:T("folder")},{key:"presentation",icon:o.jsx(rO,{}),text:T("presentation")}],[T]),E=c.useCallback(S=>{s(S)},[]);return o.jsxs(zz,{sliderVisible:r,className:r?"close":"",isDragging:t,width:e,children:[r?o.jsx(Lr,{className:"menuUnfoldOutlined"}):"",o.jsx(fT,{titles:A,selectedKey:i,onSelect:E}),o.jsx(Vz,{sliderVisible:r,handleSliderVisible:a,selectedId:R,i18nPrefix:n,className:Ke({hidden:i!=="folder"})}),o.jsx(kz,{sliderVisible:r,handleSliderVisible:a,selectedId:u,className:Ke({hidden:i!=="presentation"}),i18nPrefix:n})]})}),zz=F.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-1en3sfq-0"})(["z-index:",";display:flex;flex-direction:column;flex-shrink:0;min-height:0;color:",";background-color:",";box-shadow:",";transition:",";.hidden{display:none;}> ul{display:",";}> div{display:",";}&.close{position:absolute;width:"," !important;height:100%;.menuUnfoldOutlined{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}&:hover{width:"," !important;.menuUnfoldOutlined{display:none;}> ul{display:block;}> div{display:flex;&.hidden{display:none;}}}}"],Ro,e=>e.theme.textColorSnd,e=>e.theme.componentBackground,e=>e.theme.shadowSider,e=>e.isDragging?"none":"width 0.3s ease",e=>e.sliderVisible?"none":"block",e=>e.sliderVisible?"none":"flex",me(7.5),e=>e.width+"%");function Kz(){Rs(),Qu(),Yc(),Zu();const e=_I(),[t,n]=c.useState(!1),{sizes:r,setSizes:a}=bo({limitedSide:0,range:[256,768]}),i=V("global"),[s,l]=c.useState(!1),d=c.useCallback(R=>{a(R),Gt(),l(!1)},[a,l,Gt]),u=c.useCallback(()=>{s||l(!0)},[l,s]),T=c.useCallback(R=>{n(R),setTimeout(()=>{Gt()},300)},[n]);return o.jsx(ra.Provider,{value:e,children:o.jsxs(Jz,{sizes:r,minSize:[256,0],maxSize:[768,1/0],gutterSize:0,onDragStart:u,onDragEnd:d,className:"datart-split",sliderVisible:t,children:[o.jsx(Xz,{width:r[0],isDragging:s,i18nPrefix:"viz.sidebar",sliderVisible:t,handleSliderVisible:T}),o.jsx(Bz,{sliderVisible:t}),o.jsx(am,{width:400,formProps:{labelAlign:"left",labelCol:{offset:1,span:7},wrapperCol:{span:14}},okText:i("button.save")})]})})}const Jz=F(({sliderVisible:e,...t})=>o.jsx(oa,{...t})).withConfig({displayName:"VizPage__Container",componentId:"sc-397r2t-0"})(["display:flex;flex:1;min-width:0;min-height:0;.gutter{background-color:#eee;background-repeat:no-repeat;background-position:50%;}.gutter-horizontal{display:",";background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');cursor:col-resize;z-index:9;}"],e=>e.sliderVisible?"none":"block");function qz(){const e=V("notfound");return o.jsxs(Qz,{children:[o.jsxs(CC,{children:[o.jsx("title",{children:`404 ${e("title")}`}),o.jsx("meta",{name:"description",content:e("title")})]}),o.jsxs("h1",{children:[o.jsx(Dr,{className:"icon"}),"404"]}),o.jsx("h2",{children:e("title")})]})}const Qz=F.div.withConfig({displayName:"NotFoundPage__Wrapper",componentId:"sc-1dzcl3y-0"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;color:",";h1{position:relative;font-size:128px;line-height:1.2;.icon{position:absolute;top:",";left:",";font-size:64px;}}h2{font-size:48px;}"],e=>e.theme.textColorLight,me(4),me(-20)),Zz=e=>{const{visible:t,onSelectedPages:n,onCancel:r,pageContents:a}=e,[i,s]=c.useState([]),l=()=>{n(i)};c.useEffect(()=>{t||s([])},[t]);const d=[{title:Pa.t("viz.board.setting.storyName"),dataIndex:"name",render:T=>T},{title:Pa.t("viz.board.setting.storyDescription"),dataIndex:"description",render:T=>T}],u={type:"checkbox",selectedRowKeys:i,onChange:T=>{s(T)}};return o.jsx(Dn,{title:"Add Story Page",open:t,onOk:l,centered:!0,onCancel:r,okButtonProps:{disabled:!i.length},cancelButtonProps:{disabled:!1},children:o.jsx(ir,{rowKey:T=>T.relId,rowSelection:u,columns:d,pagination:{pageSize:6},dataSource:a})})},eK=["none","fade-in","slide-in","convex-in","concave-in","zoom-in"],tK=["none","fade-out","slide-out","convex-out","concave-out","zoom-out"],nK=["default","slow","fast"],rK=c.memo(()=>{const e=V("viz.board.setting"),{storyId:t}=c.useContext(Bc),n=de(),r=U(d=>Rv(d,t)),a=U(d=>uT(d,t)),i=c.useMemo(()=>{let d={in:"fade-in",out:"fade-out",speed:"fast"};if(r.length&&a[r[0]]){const u=a[r[0]].config.transitionEffect;d={...d,...u}}return d},[a,r]),[s]=$.useForm();c.useEffect(()=>{s.setFieldsValue({...i})},[i,s,r]);const l=c.useCallback((d,u)=>{r.forEach(T=>{const R=a[T],A=kt(R,E=>{E.config.transitionEffect=u});n(pv({storyId:t,storyPage:A}))})},[r,a,n,t]);return o.jsx($,{size:"small",form:s,layout:"inline",onValuesChange:l,children:o.jsxs(o.Fragment,{children:[o.jsx($.Item,{name:"in",label:e("cutIn"),children:o.jsx(Se,{style:{width:"120px"},placeholder:"Select a option",children:eK.map(d=>o.jsx(Se.Option,{value:d,children:d},d))})}),o.jsx($.Item,{name:"out",label:e("cutOut"),children:o.jsx(Se,{style:{width:"120px"},placeholder:"Select a option ",children:tK.map(d=>o.jsx(Se.Option,{value:d,children:d},d))})}),o.jsx($.Item,{name:"speed",label:e("speed"),children:o.jsx(Se,{style:{width:"120px"},placeholder:"Select a option ",children:nK.map(d=>o.jsx(Se.Option,{value:d,children:d},d))})})]})})}),aK=c.memo(()=>{var d;const e=V("viz.board.setting"),t=de(),{storyId:n}=c.useContext(Bc),r=U(u=>TT(u,n)),a=(d=r==null?void 0:r.config)==null?void 0:d.autoPlay,[i]=$.useForm();c.useEffect(()=>{i.setFieldsValue({...a})},[a,i]);const s=c.useCallback((u,T)=>{const A=kt(r,E=>{E.config.autoPlay=T});t(Av({story:A}))},[t,r]),l=c.useCallback(()=>{t(lo.clearPageSelected(n))},[t,n]);return o.jsx(oK,{onClick:l,children:o.jsxs($,{onValuesChange:s,size:"small",form:i,layout:"inline",children:[o.jsx($.Item,{name:"auto",label:e("autoPlay"),valuePropName:"checked",children:o.jsx(bn,{})}),o.jsx($.Item,{name:"delay",label:e("duration"),children:o.jsx(bt,{})})]})})}),oK=F.div.withConfig({displayName:"StorySetting__Wrapper",componentId:"sc-a9ggna-0"})(["display:block;"]),iK=c.memo(({onCloseEditor:e})=>{const t=de(),n=c.useCallback(()=>{e==null||e()},[e]),{storyId:r,name:a}=c.useContext(Bc),[i,s]=c.useState(!1),d=U(na).filter(T=>T.relType==="DASHBOARD"),u=c.useCallback(T=>{t(MI({storyId:r,relIds:T})),s(!1)},[r,t]);return o.jsxs(sK,{children:[o.jsx(EI,{onClick:n,style:{marginRight:"10px",fontSize:"1.2rem"}}),o.jsx(lK,{children:a}),o.jsx(cK,{type:"primary",icon:o.jsx(nr,{}),onClick:()=>s(!0)}),o.jsxs(dK,{children:[o.jsx(rK,{}),o.jsx(aK,{})]}),o.jsx(Zz,{pageContents:d,visible:i,onSelectedPages:u,onCancel:()=>s(!1)})]})}),sK=F.div.withConfig({displayName:"StoryToolBar__Wrapper",componentId:"sc-137e55x-0"})(["display:flex;align-items:center;padding:"," ",";background-color:",";box-shadow:",";"],It,je,e=>e.theme.componentBackground,e=>e.theme.shadowSider),lK=F.h3.withConfig({displayName:"StoryToolBar__Title",componentId:"sc-137e55x-1"})(["width:170px;font-size:",";font-weight:",";line-height:",";"],rs,nn,yu),cK=F(oe).withConfig({displayName:"StoryToolBar__AddButton",componentId:"sc-137e55x-2"})(["margin-left:",";"],ye),dK=F.div.withConfig({displayName:"StoryToolBar__Settings",componentId:"sc-137e55x-3"})(["display:flex;flex:1;justify-content:center;padding:0 ",";"],ye),{Content:EK}=Xu,uK=c.memo(()=>{Qu(),Yc(),Zu();const e=de(),{orgId:t,storyId:n}=mt();c.useEffect(()=>{e(xI(n))},[e,n]);const r=V("viz.board.setting"),a=Ve(),i=ja(),s=i.state,l=c.useMemo(()=>yt(),[]),d=c.useRef(),[u,T]=c.useState(0),R=U(_=>TT(_,n)),A=U(_=>uT(_,n)),E=c.useMemo(()=>Object.values(A).sort((L,P)=>L.config.index-P.config.index),[A]),S=c.useCallback(_=>{const{indexh:L}=_;T(L);const P=E[L].id;e(lo.changePageSelected({storyId:n,pageId:P,multiple:!1}))},[e,E,n]),p=c.useCallback((_,L,P)=>{P?e(lo.changePageSelected({storyId:n,pageId:L,multiple:!0})):d.current.slide(_)},[e,n]),{sizes:f,setSizes:I}=bo({limitedSide:0,range:[150,768]}),O=c.useCallback(_=>{I(_),Gt()},[I]),N=c.useCallback(_=>{Dn.confirm({title:_.length>1?r("delPagesTip"):r("delPageTip"),onOk:()=>{_.forEach(L=>{e(fv({storyId:n,pageId:L}))})}})},[e,n,r]);c.useEffect(()=>{if(E.length===0||!E[u])return;const _=E[u].id;e(lo.changePageSelected({storyId:n,pageId:_,multiple:!1}))},[e,u,E,n]);const h=c.useCallback(()=>{a(`/organizations/${t}/vizs/${n}`)},[a,t,n]);c.useEffect(()=>{var _;if(E.length>0)return d.current=new KI(document.getElementById(l),{hash:!1,history:!1,controls:!1,controlsLayout:"none",slideNumber:"c/t",controlsTutorial:!1,progress:!1,loop:!0,width:"100%",height:"100%",margin:0,minScale:1,maxScale:1,autoSlide:null,transition:"convex",transitionSpeed:"slow",viewDistance:100,plugins:[JI],keyboard:{70:()=>{}}}),(_=d.current)==null||_.initialize(),d.current&&d.current.addEventListener("slidechanged",S),()=>{d.current.removeEventListener("slidechanged",S)}},[l,S,E.length]),c.useEffect(()=>{const _=E[u];if(!_||!_.relId||!_.relType)return;const{relId:L,relType:P}=_;e(UI({relId:L,relType:P}))},[u,e,E]);const m=c.useCallback(async()=>{if(s&&s.addDashboardId&&(await e(MI({storyId:n,relIds:[s.addDashboardId]})),i.state&&s.transaction)){const _={...s};delete _.transaction,a(i.pathname,{state:_})}},[e,s,n,a,i]),g=c.useCallback(async(_,L)=>{e(Iv({storyId:n,sortedPages:E,event:{dragId:_,dropId:L}}))},[e,E,n]);return c.useEffect(()=>{m()},[m]),o.jsx(Gc,{backend:Fc,children:o.jsx(Bc.Provider,{value:{name:R==null?void 0:R.name,storyId:n,editing:!1,orgId:t,status:1,allowShare:!1},children:o.jsxs(TK,{children:[o.jsx(iK,{onCloseEditor:h}),o.jsxs(SK,{sizes:f,minSize:[256,0],maxSize:[768,1/0],gutterSize:0,onDragEnd:O,className:"datart-split",children:[o.jsx(RK,{children:o.jsx(Ov,{canDrag:!0,sortedPages:E,onPageClick:p,onDeletePages:N,onMoveCard:g})}),o.jsx(EK,{children:o.jsx("div",{id:l,className:"reveal",children:o.jsx("div",{className:"slides",children:E.map((_,L)=>o.jsx(wI,{page:_,renderMode:"read"},_.id))})})})]})]})})})}),TK=F.div.withConfig({displayName:"Editor__Wrapper",componentId:"sc-1vge1ep-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:",";display:flex;flex-direction:column;background-color:",";"],nI,e=>e.theme.bodyBackground),SK=F(oa).withConfig({displayName:"Editor__Container",componentId:"sc-1vge1ep-1"})(["display:flex;flex:1;.reveal-box{width:100%;height:100%;}& .reveal .slides{text-align:left;}"]),RK=F.div.withConfig({displayName:"Editor__PageListWrapper",componentId:"sc-1vge1ep-2"})(["padding:"," "," 0;overflow-y:auto;"],ye,ye),{Content:pK}=Xu,AK=c.memo(()=>{var A,E,S,p;Qu(),Yc(),Zu();const e=de(),{storyId:t}=mt();c.useEffect(()=>{e(xI(t))},[e,t]);const n=c.useMemo(()=>yt(),[]),r=c.useRef(),[a,i]=c.useState(0),s=c.useRef(null),l=U(f=>TT(f,t)),d=U(f=>uT(f,t)),u=c.useMemo(()=>Object.values(d).sort((I,O)=>I.config.index-O.config.index),[d]),T=c.useCallback(f=>{const{indexh:I}=f;i(I);const O=u[I].id;e(lo.changePageSelected({storyId:t,pageId:O,multiple:!1}))},[e,u,t]);c.useEffect(()=>{if(u.length===0)return;const f=u[0].id;e(lo.changePageSelected({storyId:t,pageId:f,multiple:!1}))},[e,u,t]);const R=c.useMemo(()=>{var f,I,O,N;return(I=(f=l==null?void 0:l.config)==null?void 0:f.autoPlay)!=null&&I.auto?((N=(O=l==null?void 0:l.config)==null?void 0:O.autoPlay)==null?void 0:N.delay)*1e3:null},[(E=(A=l==null?void 0:l.config)==null?void 0:A.autoPlay)==null?void 0:E.auto,(p=(S=l==null?void 0:l.config)==null?void 0:S.autoPlay)==null?void 0:p.delay]);return c.useEffect(()=>{var f;if(u.length>0)return r.current=new KI(document.getElementById(n),{hash:!1,history:!1,controls:!0,controlsLayout:"none",slideNumber:"c/t",controlsTutorial:!1,progress:!1,loop:!0,width:"100%",height:"100%",margin:0,minScale:1,maxScale:1,autoSlide:R,transition:"convex",transitionSpeed:"slow",viewDistance:100,plugins:[JI],keyboard:{27:()=>{}}}),(f=r.current)==null||f.initialize(),r.current&&r.current.addEventListener("slidechanged",T),()=>{r.current.removeEventListener("slidechanged",T)}},[n,T,u.length,R,e]),c.useEffect(()=>{const f=u[a];if(!f||!f.relId||!f.relType)return;const{relId:I,relType:O}=f;e(UI({relId:I,relType:O}))},[a,e,u,d]),o.jsx(Gc,{backend:Fc,children:o.jsx(fK,{ref:s,children:o.jsx(pK,{children:o.jsx("div",{id:n,className:"reveal",children:o.jsx("div",{className:"slides",children:u.map((f,I)=>o.jsx(wI,{page:f,autoFit:!1,renderMode:"read"},f.id))})})})})})}),fK=F.div.withConfig({displayName:"Player__Wrapper",componentId:"sc-1aop3r8-0"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:",";display:flex;flex-direction:column;background-color:",";.tool-bar{height:100px;}& .reveal .slides{text-align:left;}"],nI,mc);function wn(e){return o.jsx(BI,{...e,type:"module",level:_e.Enable,denied:o.jsx(ml,{to:"/404"})})}const Uf=$.Item;function DN({open:e,onCancel:t}){const n=de(),r=Ve(),a=U(RI),[i]=$.useForm(),s=V("main.nav.organization"),l=V("global"),d=c.useCallback(R=>{n(s_({organization:R,resolve:()=>{t(),r("/")}}))},[n,r,t]),u=c.useCallback(()=>{i.resetFields()},[i]),T=c.useCallback(()=>{i.submit()},[i]);return o.jsx(Dn,{title:s("create"),open:e,okText:s("save"),confirmLoading:a,onOk:T,onCancel:t,afterClose:u,children:o.jsxs($,{form:i,labelCol:{span:6},labelAlign:"left",wrapperCol:{span:16},onFinish:d,children:[o.jsx(Uf,{name:"name",label:s("name"),getValueFromEvent:R=>{var A;return(A=R.target.value)==null?void 0:A.trim()},rules:[{required:!0,message:`${s("name")}${l("validation.required")}`},{validator:Ur((R,A)=>A?A.trim()?sr("orgs",{name:A}):Promise.reject(`${s("name")}${l("validation.required")}`):Promise.resolve(),$t)}],children:o.jsx(Ae,{})}),o.jsx(Uf,{name:"description",label:s("desc"),children:o.jsx(Ae.TextArea,{autoSize:{minRows:4,maxRows:8}})})]})})}function IK(){const[e,t]=c.useState(!1),n=U(l_),r=U(II),a=U(c_),i=U(d_),s=V("main.background"),l=c.useCallback(()=>{t(!0)},[]),d=c.useCallback(()=>{t(!1)},[]);let u=!0,T;return a?T=o.jsxs(qE,{children:[o.jsx(RT,{className:"img loading"}),o.jsx("p",{children:s("loading")})]}):i?T=o.jsxs(qE,{children:[o.jsx("a",{href:"/",children:o.jsx(go,{className:"img"})}),o.jsx("p",{children:s("initError")})]}):!a&&!(n&&n.length)&&!r.length?T=o.jsxs(o.Fragment,{children:[o.jsxs(qE,{className:"add",onClick:l,children:[o.jsx(eO,{className:"img"}),o.jsx("p",{children:s("createOrg")})]}),o.jsx(DN,{open:e,onCancel:d})]}):u=!1,o.jsx(mK,{visible:u,children:T})}const OK=$f(["0%{transform:rotate(0deg);}50%{transform:rotate(180deg);}100%{transform:rotate(360deg);}"]),mK=F.div.withConfig({displayName:"Background__Container",componentId:"sc-13xjknw-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;z-index:",";display:",";flex:1;align-items:center;justify-content:center;background-color:",";"],gC,e=>e.visible?"flex":"none",e=>e.theme.bodyBackground),qE=F.div.withConfig({displayName:"Background__Hint",componentId:"sc-13xjknw-1"})(["display:flex;flex-direction:column;&.add{cursor:pointer;}.img{display:block;font-size:",";color:",";&.loading{animation:"," 2s linear;}}p{font-size:",";font-weight:",";line-height:",";color:",";user-select:none;}"],me(16),e=>e.theme.textColorLight,OK,ba,nn,me(16),e=>e.theme.textColorLight),QE=$.Item,hK=({visible:e,onCancel:t})=>{const n=de(),r=U(Vu),a=U(_C),[i]=$.useForm(),s=V("main.nav.account.changePassword"),l=V("global"),d=c.useCallback(()=>{i.resetFields()},[i]);c.useEffect(()=>{e&&d()},[e,d]);const u=c.useCallback(({confirmPassword:T,...R})=>{n(LC({params:R,resolve:()=>{Ie.success(l("operation.updateSuccess")),t()}}))},[n,t,l]);return o.jsx(Dn,{title:s("title"),footer:!1,open:e,onCancel:t,afterClose:d,children:o.jsxs($,{form:i,initialValues:r||void 0,labelCol:{span:7},wrapperCol:{span:12},onFinish:u,children:[o.jsx(QE,{label:s("oldPassword"),name:"oldPassword",rules:[{required:!0,message:`${s("oldPassword")}${l("validation.required")}`},{validator:nu(l("validation.invalidPassword"))}],children:o.jsx(Ae.Password,{type:"password"})}),o.jsx(QE,{label:s("newPassword"),name:"newPassword",rules:[{required:!0,message:`${s("newPassword")}${l("validation.required")}`},{validator:nu(l("validation.invalidPassword"))}],children:o.jsx(Ae.Password,{type:"password"})}),o.jsx(QE,{label:s("confirmPassword"),name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:`${s("confirmPassword")}${l("validation.required")}`},pD("newPassword",l("validation.invalidPassword"),l("validation.passwordNotMatch"))],children:o.jsx(Ae.Password,{type:"password",placeholder:""})}),o.jsx($.Item,{wrapperCol:{offset:7,span:12},children:o.jsx(oe,{type:"primary",htmlType:"submit",loading:a,block:!0,children:l("button.save")})})]})})};function NK(){const[e,t]=c.useState(!1),n=de(),r=Ve(),a=U(II),i=U(Be),s=U(OI),l=V("main.nav.organization"),d=c.useCallback(()=>{t(!0)},[]),u=c.useCallback(()=>{t(!1)},[]),T=c.useCallback(({key:A})=>{A!==i&&(n(E_(A)),r(`/organizations/${A}`))},[n,r,i]);let R;return s?R=o.jsx(LK,{children:o.jsx(Zt,{})}):R=o.jsx(_K,{selectable:!1,onClick:T,children:a.map(A=>{const E=Ke({selected:i===A.id});return o.jsx(De,{className:E,prefix:o.jsx(Ma,{size:"small",src:`${Bu}${A.avatar}`,children:A.name.substr(0,1).toUpperCase()}),...i===A.id&&{suffix:o.jsx(Kl,{className:"icon"})},children:o.jsx("p",{children:A.name})},A.id)})}),o.jsxs(CK,{children:[o.jsxs(gK,{children:[o.jsx("h2",{children:l("title")}),o.jsx(rt,{size:"small",icon:o.jsx(nr,{}),onClick:d})]}),R,o.jsx(DN,{open:e,onCancel:u})]})}const CK=F.div.withConfig({displayName:"OrganizationList__Wrapper",componentId:"sc-1cg5a8h-0"})(["display:flex;flex-direction:column;min-width:200px;max-width:320px;max-height:400px;background-color:",";"],e=>e.theme.componentBackground),gK=F.header.withConfig({displayName:"OrganizationList__Title",componentId:"sc-1cg5a8h-1"})(["display:flex;flex-shrink:0;align-items:center;padding:"," "," ",";h2{flex:1;font-size:",";line-height:",";}"],It,It,Le,En,Zf),_K=F(lt).withConfig({displayName:"OrganizationList__StyledMenu",componentId:"sc-1cg5a8h-2"})(["overflow-y:auto;"]),LK=F.div.withConfig({displayName:"OrganizationList__LoadingWrapper",componentId:"sc-1cg5a8h-3"})(["padding:"," 0;text-align:center;"],ye),Ii=$.Item;function vK({visible:e,onCancel:t}){const[n,r]=c.useState(!1),a=de(),i=U(Vu),s=U(vC),[l,d]=c.useState(!0),[u]=$.useForm(),T=V("main.nav.account.profile"),R=V("global"),A=c.useCallback(()=>{u.resetFields(),d(!0)},[u]);c.useEffect(()=>{e&&A()},[e,A,i]);const E=c.useCallback(({file:f})=>{if(f.status==="done"){const I=f.response;I.success&&a(DC({...i,avatar:I.data})),r(!1)}else r(!0)},[a,i]),S=c.useCallback((f,I)=>{d(Object.entries(I).every(([O,N])=>i[O]===N))},[i]),p=c.useCallback(f=>{a(bC({user:{...f,id:i.id,email:i.email},resolve:()=>{Ie.success(R("operation.updateSuccess")),t&&t(null)}}))},[a,i,t,R]);return o.jsxs(Dn,{title:T("title"),footer:!1,open:e,onCancel:t,afterClose:A,children:[o.jsxs(DK,{children:[o.jsx(Ma,{size:_c*24,src:`${Bu}${i==null?void 0:i.avatar}`,children:i==null?void 0:i.username.substr(0,1).toUpperCase()}),o.jsx(Hc,{accept:".jpg,.jpeg,.png,.gif",method:"post",action:`${Fu}/files/user/avatar?userId=${i==null?void 0:i.id}`,headers:{authorization:Gu()},className:"uploader",showUploadList:!1,onChange:E,children:o.jsx(oe,{type:"link",loading:n,children:T("clickUpload")})})]}),o.jsxs($,{form:u,initialValues:i||void 0,labelCol:{span:7},wrapperCol:{span:12},onValuesChange:S,onFinish:p,children:[o.jsx(Ii,{label:T("username"),children:i==null?void 0:i.username}),o.jsx(Ii,{label:T("email"),children:i==null?void 0:i.email}),o.jsx(Ii,{label:T("name"),name:"name",children:o.jsx(Ae,{})}),o.jsx(Ii,{label:T("phone"),name:"phone",children:o.jsx(Ae,{})}),o.jsx(Ii,{label:T("description"),name:"description",children:o.jsx(Ae,{})}),o.jsx($.Item,{wrapperCol:{offset:7,span:12},children:o.jsx(oe,{type:"primary",htmlType:"submit",loading:s,disabled:l,block:!0,children:R("button.save")})})]})]})}const DK=F.div.withConfig({displayName:"Profile__AvatarUpload",componentId:"sc-tkhq3d-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:"," auto;.uploader{margin-top:",";}"],je,ye);function bK(){const{actions:e}=vc(),[t,n]=c.useState(!1),[r,a]=c.useState(!1),i=PC(),s=de(),l=Ve(),{i18n:d}=tI(),u=U(gc),T=U(Be),R=U(Ku),A=U(Vu),E=U(OI),S=U(u_),p=U(eI),f=yC("/organizations/:orgId/:moduleName"),I=V("main"),O=c.useCallback(()=>{l("/")},[l]),N=c.useCallback(()=>{n(!1)},[]),h=c.useCallback(()=>{a(!1)},[]),m=c.useCallback(C=>{C&&!E&&s(T_())},[s,E]),g=c.useMemo(()=>[{name:"variables",title:I("subNavs.variables.title"),icon:o.jsx(nO,{}),module:le.Manager},{name:"orgSettings",title:I("subNavs.orgSettings.title"),icon:o.jsx(RT,{}),module:le.Manager},{name:"resourceMigration",title:I("subNavs.resourceMigration.title"),icon:o.jsx(PR,{}),module:le.Manager}],[I]),_=ja(),L=c.useMemo(()=>[{name:"vizs",title:I("nav.vizs"),icon:o.jsx("i",{className:"iconfont icon-xietongzhihuidaping"}),module:le.Viz},{name:"views",title:I("nav.views"),icon:o.jsx("i",{className:"iconfont icon-24gf-table"}),module:le.View},{name:"sources",title:I("nav.sources"),icon:o.jsx("i",{className:"iconfont icon-shujukupeizhi"}),module:le.Source},{name:"schedules",title:I("nav.schedules"),icon:o.jsx("i",{className:"iconfont icon-fasongyoujian"}),module:le.Schedule},{name:"members",title:I("nav.members"),icon:o.jsx("i",{className:"iconfont icon-users1"}),module:le.User,className:_.pathname.match(/\/organizations\/[\w]{32}\/(members|roles)/)?"active":""},{name:"permissions",title:I("nav.permissions"),icon:o.jsx(vy,{}),module:le.Manager},{name:"toSub",title:I("nav.settings"),icon:o.jsx(sO,{}),module:le.Manager,className:_.pathname.match(new RegExp(`\\/organizations\\/[\\w]{32}\\/(${g.map(({name:C})=>C).join("|")})`))?"active":""}],[g,I,_]),P=c.useMemo(()=>g.some(({name:C})=>C===(f==null?void 0:f.moduleName)),[f==null?void 0:f.moduleName,g]),v=c.useCallback(C=>{p!==C&&(s(MC.actions.changeTheme(C)),xC(C))},[s,p]),D=c.useCallback(({key:C})=>{switch(C){case"profile":n(!0);break;case"logout":s(wC(()=>{l("/login")}));break;case"password":a(!0);break;case"zh":case"en":d.language!==C&&UC(C);break;case"dark":case"light":v(C);break}},[s,l,d,v]),b=c.useCallback(C=>{s(e.setDownloadPolling(C))},[s,e]);return o.jsxs(o.Fragment,{children:[o.jsxs(PK,{children:[o.jsx(yK,{onClick:O,children:o.jsx("img",{src:SD,alt:"logo"})}),o.jsx(MK,{children:L.map(({name:C,title:y,icon:w,className:x,module:M},B)=>C!=="toSub"||g.length>0?o.jsx(BI,{type:"module",module:M,level:_e.Enable,children:o.jsx(Me,{title:y,placement:"right",children:o.jsx(xK,{to:`/organizations/${T}/${C==="toSub"?g[0].name:C}`,...x&&{className:x},children:w})})},`${C}-${B}`):null)}),o.jsxs(UK,{children:[o.jsx(XI,{polling:S,setPolling:b,onLoadTasks:SO,onDownloadFile:C=>{C.id&&oI(C.id).then(()=>{s(e.setDownloadPolling(!0))})}}),(u==null?void 0:u.tenantManagementMode)===zu.Platform&&o.jsx(tn,{content:o.jsx(NK,{}),trigger:["click"],placement:"rightBottom",onOpenChange:m,children:o.jsx("li",{children:o.jsx(Me,{title:I("nav.organization.title"),placement:"right",children:o.jsx(Ma,{src:R==null?void 0:R.avatar,children:o.jsx(db,{})})})})}),o.jsx(tn,{arrow:{pointAtCenter:!0},content:o.jsxs(lt,{selectable:!1,selectedKeys:[i,p],onClick:D,children:[o.jsxs(De,{prefix:o.jsx(JP,{className:"icon"}),title:o.jsx("p",{children:I("nav.account.switchLanguage.title")}),sub:!0,children:[o.jsx(De,{children:""},"zh"),o.jsx(De,{children:"English"},"en")]},"language"),o.jsxs(De,{prefix:o.jsx(Jy,{className:"icon"}),title:o.jsx("p",{children:I("nav.account.switchTheme.title")}),sub:!0,children:[o.jsx(De,{prefix:o.jsx(wf,{}),children:I("nav.account.switchTheme.light")},"light"),o.jsx(De,{prefix:o.jsx(wf,{background:BC}),children:I("nav.account.switchTheme.dark")},"dark")]},"theme"),o.jsx(lt.Divider,{}),o.jsx(De,{prefix:o.jsx(Cy,{className:"icon"}),children:o.jsx("p",{children:I("nav.account.profile.title")})},"profile"),o.jsx(De,{prefix:o.jsx(tO,{className:"icon"}),children:o.jsx("p",{children:I("nav.account.changePassword.title")})},"password"),o.jsx(De,{prefix:o.jsx(PR,{className:"icon"}),children:o.jsx("p",{children:I("nav.account.logout.title")})},"logout")]}),trigger:["click"],placement:"rightBottom",children:o.jsx("li",{children:o.jsx(Ma,{src:A==null?void 0:A.avatar,children:o.jsx(nc,{})})})})]}),o.jsx(vK,{visible:t,onCancel:N}),o.jsx(hK,{visible:r,onCancel:h})]}),P&&o.jsx(wK,{children:o.jsx(Rn,{dataSource:g,renderItem:({name:C,title:y,icon:w})=>o.jsxs(BK,{to:`/organizations/${T}/${C}`,children:[c.cloneElement(w,{className:"prefix"}),o.jsx("h4",{children:y})]},C)})})]})}const PK=F.div.withConfig({displayName:"Navbar__MainNav",componentId:"sc-gqcqjy-0"})(["z-index:",";display:flex;flex-direction:column;flex-shrink:0;width:",";background-color:",";border-right:1px solid ",";"],Nc,me(20),e=>e.theme.componentBackground,e=>e.theme.borderColorSplit),yK=F.div.withConfig({displayName:"Navbar__Brand",componentId:"sc-gqcqjy-1"})(["display:flex;flex-shrink:0;align-items:center;justify-content:center;height:",";padding-top:",";cursor:pointer;img{width:",";height:",";}"],me(18),Le,me(9),me(9)),MK=F.nav.withConfig({displayName:"Navbar__Nav",componentId:"sc-gqcqjy-2"})(["display:flex;flex:1;flex-direction:column;padding:0 ",";overflow:auto;"],je),xK=F(rI).withConfig({displayName:"Navbar__NavItem",componentId:"sc-gqcqjy-3"})(["display:flex;flex-direction:column;align-items:center;padding:"," 0;margin:"," 0;color:",";border-radius:",";transition:none;&:hover,&.active{color:",";background-color:",";h2{font-weight:",";color:",";}}.anticon{font-size:",";}"],Le,Le,e=>e.theme.textColorDisabled,st,e=>e.theme.primary,e=>e.theme.emphasisBackground,nn,e=>e.theme.textColor,rs),UK=F.ul.withConfig({displayName:"Navbar__Toolbar",componentId:"sc-gqcqjy-4"})(["flex-shrink:0;padding:0 ",";margin-bottom:",";> li{display:flex;align-items:center;justify-content:center;padding:"," 0;margin:"," 0;font-size:",";color:",";cursor:pointer;border-radius:",";&:hover{color:",";background-color:",";}}"],je,je,Le,ye,rs,e=>e.theme.textColorDisabled,st,e=>e.theme.primary,e=>e.theme.bodyBackground),wK=F.div.withConfig({displayName:"Navbar__SubNav",componentId:"sc-gqcqjy-5"})(["display:flex;flex-direction:column;flex-shrink:0;width:",";padding:"," 0;background-color:",";border-right:1px solid ",";"],me(64),ye,e=>e.theme.emphasisBackground,e=>e.theme.borderColorSplit),BK=F(rI).withConfig({displayName:"Navbar__SubNavTitle",componentId:"sc-gqcqjy-6"})(["display:flex;align-items:center;padding:"," "," "," ",";color:",";.prefix{flex-shrink:0;margin-right:",";color:",";}h4{flex:1;font-weight:",";}&.active{color:",";background-color:",";.prefix{color:",";}}"],Le,je,Le,je,e=>e.theme.textColorSnd,Le,e=>e.theme.textColorLight,nn,e=>e.theme.primary,e=>e.theme.emphasisBackground,e=>e.theme.primary),wf=F.span.withConfig({displayName:"Navbar__ThemeBadge",componentId:"sc-gqcqjy-7"})(["width:",";height:",";background-color:",";border-radius:50%;box-shadow:0 0 2px 1px rgba(0,0,0,0.2);"],me(4),me(4),e=>e.background||mc);function eJ(){FC();const{actions:e}=vc(),{actions:t}=Rs(),{actions:n}=Mn(),r=de(),a=mt(),i=U(Be),s=Ve();As(()=>{_a.instance().load().catch(T=>{}),r(R_(a==null?void 0:a.orgId)),r(p_())},()=>{r(e.clear())}),c.useEffect(()=>{i&&(r(t.clear()),r(n.clear()),r(S_(i)))},[r,t,n,i]);const l=c.useCallback((T,R)=>{r(mv({backendChartId:R,orgId:T})),s(`/organizations/${T}/vizs/${R}`)},[r,s]),d=T=>{const R=ja(),A=new URLSearchParams(R.search),E={dataChartId:A.get("dataChartId")||"",chartType:A.get("chartType")||"dataChart",container:A.get("container")||"dataChart",defaultViewId:A.get("defaultViewId")||""};return o.jsx(wn,{module:le.Viz,children:o.jsx(YT,{dataChartId:E.dataChartId,orgId:i,chartType:E.chartType,container:E.container,defaultViewId:E.defaultViewId,onClose:()=>s(-1),onSaveInDataChart:l})},"chart-editor")},u=()=>{const{vizId:T}=mt();return o.jsx(s4,{boardId:T})};return o.jsxs(FK,{children:[o.jsx(IK,{}),o.jsx(bK,{}),i&&o.jsxs(GC,{children:[o.jsx(nt,{path:"/",element:o.jsx(ml,{to:`/organizations/${i}`})}),o.jsx(nt,{path:"/confirminvite",element:o.jsx(d4,{})}),o.jsx(nt,{path:"/organizations/:orgId",element:o.jsx(ml,{to:`/organizations/${i}/vizs`})}),o.jsxs(nt,{path:"/organizations/:orgId/vizs",children:[o.jsx(nt,{path:"chartEditor",element:o.jsx(d,{})}),o.jsx(nt,{path:"storyPlayer/:storyId",element:o.jsx(AK,{})}),o.jsx(nt,{path:"storyEditor/:storyId",element:o.jsx(uK,{})}),o.jsx(nt,{path:":vizId?",element:o.jsx(wn,{module:le.Viz,children:o.jsx(Kz,{})},"viz-show"),children:o.jsx(nt,{path:"boardEditor",element:o.jsx(u,{})})})]}),o.jsx(nt,{path:"/organizations/:orgId/views/:viewId?",element:o.jsx(wn,{module:le.View,children:o.jsx(wz,{})},"view-show")}),o.jsx(nt,{path:"/organizations/:orgId/sources",element:o.jsx(wn,{module:le.Source,children:o.jsx(a8,{})},"sources"),children:o.jsx(nt,{path:":sourceId",element:o.jsx(U8,{})})}),o.jsx(nt,{path:"/organizations/:orgId/schedules",element:o.jsx(wn,{module:le.Schedule,children:o.jsx(sj,{})},"schedules"),children:o.jsx(nt,{path:":scheduleId",element:o.jsx(Uj,{})})}),o.jsx(nt,{path:"/organizations/:orgId/members",element:o.jsx(wn,{module:le.User,children:o.jsx(sA,{})},"members"),children:o.jsx(nt,{path:":memberId",element:o.jsx(N4,{})})}),o.jsx(nt,{path:"/organizations/:orgId/roles",element:o.jsx(wn,{module:le.User,children:o.jsx(sA,{})},"roles"),children:o.jsx(nt,{path:":roleId",element:o.jsx(y4,{})})}),o.jsx(nt,{path:"/organizations/:orgId/permissions",element:o.jsx(ml,{to:`/organizations/${i}/permissions/subject`})}),o.jsx(nt,{path:"/organizations/:orgId/permissions/:viewpoint",element:o.jsx(wn,{module:le.Manager,children:o.jsx(d3,{})},"permissions"),children:o.jsx(nt,{path:":type/:id",element:o.jsx(h3,{})})}),o.jsx(nt,{path:"/organizations/:orgId/variables",element:o.jsx(wn,{module:le.Manager,children:o.jsx(W8,{})},"variables")}),o.jsx(nt,{path:"/organizations/:orgId/orgSettings",element:o.jsx(wn,{module:le.Manager,children:o.jsx(w4,{})},"orgSettings")}),o.jsx(nt,{path:"/organizations/:orgId/resourceMigration",element:o.jsx(wn,{module:le.Manager,children:o.jsx(y3,{})},"resourceMigration")}),o.jsx(nt,{path:"*",element:o.jsx(qz,{})})]})]})}const FK=F.main.withConfig({displayName:"MainPage__AppContainer",componentId:"sc-1k5kd9g-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;background-color:",";"],e=>e.theme.bodyBackground);export{eJ as MainPage};
